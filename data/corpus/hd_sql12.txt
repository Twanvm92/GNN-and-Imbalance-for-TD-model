fixme formatters not thread safe
xxx jon skeet comment if it has n't been done already may not be strictly true wrapper maybeconfigure wo n't configure same attributestext more than once but it may well add children again unless 've missed something
hate to admit it but we do n't know what happened here throw exception
just note starteam has status new which implies that there item on your local machine that not in repository these items that show up as not in view in starteam gui one would think that we would want to perhaps checkin new items not in all cases steve cohen dec unfortunately sdk does n't really work and we ca n't actually see anything with status of new that why we can just check out everything here without worrying about losing anything
generated classes must not be added in generic jar that buggy on old jonas \? \?
todo this comment still relevant \? \? fixme need to use saxsource as source transform so we can plug in our own entity resolver
this turned off temporarily there appears to be bug in selectorutils matchpattern where it recursive on windows even if no in pattern assertequals ffftffffffff results unix vs assertequals ffftfffftfff results windows
pattern now holds while string not exhausted this will generate false positives but we can live with that
fixme no namespace empty namespace really ok \?
fixme this actually not very cpu cycles friendly as we converting from dos to java while underlying sun implementation will convert from java to dos time internal storage
check first that it not already loaded otherwise consecutive runs seems to end into outofmemoryerror or it fails when there native library to load several times this far from being perfect but should work in most cases
todo warning line that shows code which contains variable error will cause some trouble parser should definitely be much better
xxx really do n't like this xml processor still too 'involved' in processing better solution imo would be to create ue project and target too and then process tree and have projecttarget deal with its attributes similar with description if we eventually switch to or add support dom things will work smoothly ue can be avoided almost completely it could still be created on demand backward compatibility
junit wraps solo tests this way we can extract original test name with little hack
xxx ignore attributes in different ns maybe store them \?
borrowed from tokenfiltertest
xxx move to project so it shared by all helpers
what property supposed to be \?
pr hack ant type value ant type component name which can be namespaced need to extract name and convert from qualified name to uriname
there 's convenient xsltc class version but data private so use package information
stolen from org apache xerces impl xmlentitymanager getuserdir of xerces team which ascii characters need to be escaped
bingo append it this should normally not be done here
this faintly ridiculous
cannot remove underscores due to protected visibility
todo not read yet in public setter
pr do not know what to do if object class has multiple defines but this logging only
not sure what could be need of this
xxx jon skeet any reason writing message and then using bare runtimeexception rather than just using buildexception here \? it in case message could end up being written to no loggers as loggers could have failed to be created due to this failure \?
experimentaltesting will be removed
xxx should instead make new protectiondomain with codesource corresponding to container touri tourl and same permissioncollection as project class protectiondomain had
this really irritating we need way to set stuff
xxx all this to convert source to destination directory according to weblogic standards can be written better this too hacky
silly hack to avoid stack overflow
access to property tables this used to support ant call and similar tasks it should be deprecated it possible to use better more efficient mechanism to preserve context
xxx should throw exception instead \?
temporary until we figure better api
there better way to save context this should n't delegate to next it 's backward compatibility only
quick fix ant java use of property before initializing project
xxx we should use jcvs www ice comjcvs instead of command line execution so that we do n't rely on having native cvs stuff around sm
two reasons mentioned in api docs file list dir not directory this impossible as we would n't get here in this case io error occurred why does n't it throw exception then \? \? \?
jakarta commons logging listener note do not use simplelog as your logger implementation as it causes infinite loop since it writes to system err which ant traps and reroutes to loggerlistener layer following names used log org apache tools ant project project name project events org apache tools ant target target name target events task class name target name events in individual targets in all target and project names we replace and with todo we should use advanced context logging features and expose them in first todo this very inefficient switching out and tracking logs can be optimized lot but may require few more changes to core since ant
todo using taskname here brittle as user could override it this should probably be modified to use classname instead
these pathological cases but retained in case somebody subclassed us
this rather hairy case one of our subclasses knows that we need to update archive but at same time there no resources known to us that would need to be added only subclass seems to know what 's going on this happens if detects that manifest has changed example manifest not part of any resources because of our support inline if we invoke createemptyzip like ant did we 'll loose all stuff that has been in original archive bugzilla report
this deprecated use classespath in future
xxx this array stuff remnant of prev trials gotta remove
set number of milliseconds leeway to give before deciding target out of date todo this not yet used param granularity granularity used to decide if target out of date
this may change if we add advanced parsing capabilities
we assume that every output jikes does stands errorwarning xxx this correct \?
line below hack system id must uri but it not cleat to get uri of resource so just set name of resource as system id
xxx what following doing \? should it run if javadoc executable null \?
mac os and previous todo have no idea how to get it someone must fix it
todo nothing appears to read this but set using public setter
xxx we committing combiningchar and extender here
xxx failed to load class properly should we print warning here \?
xxx could perhaps also call thread stop not sure if anyone cares
xxx perhaps we should n't use properties these three options emacs mode warnings and pedantic but include it in javac directive \?
xxx maybe use reflection to addpathelement other patterns \?
todo there problem with constructor rbc you have to provide rules in constructors no setters available
probably not best choice but it solves problem of relative paths in classpath
fix invalid characters if you think of more add to list
fallback in case we have trouble loading class or do n't know how to handle it there no easy way to know what idl mode would generate this supposed to make ant always recompile class as file of that name should not exist
check it out also ugly
ca n't get my head around this encoding treatment needed here \?
quick dirty to make nested mapped sets work
xxx this code still necessary \? there any port \? pull in zip from packages directory
only developer knows what he doing
xxx unfortunately jdk adds entryset keyset values implementing this requires small hack we can add it later
first developer could use little help
xxx should we silently catch possible exceptions and try to load different implementation \?
since java return normalizedpath split workaround java
hammer end inline maingtu
this array really should n't be here again historical purposes it fixme this array should be in private or package private location since it could be modified by malicious code
should move to separate public class and have api to add listeners etc
should become single empty argument same '' pr
not very nice but will do job
provide public visibility
not used but public so theoretically must remain bc \?
super validateattributes do n't want to call this method
xxx what this \?
we keep this so we have something to delete in later tests
copied from concattest
not sure whether this clean but this method declared not to throw exceptions
we just set prefix this fileset and pass it up do we need to do this \? lh
why do we do nothing \?
we have to deal with assembly programmer can be writing little byte chunks all we know and we must assemble complete records writing review maybe this should be in tarbuffer \? could that help to eliminate some of buffer copying
this new better way use classespath instead of sourcespath code currently same you need class files in directory to use this or jar files
xxx why not simply new file dir filename \?
this ugly checking root folder
todo parameterise \? \? call compiler as class dont want to fork again use classic compiler can be parameterised \?
xxx all this to get package according to weblogic standards can be written better this too hacky careful similar code in scandir but slightly different
stolen from writemanifest
if jarfile already exists then whack it and recreate it should probably think of more elegant way to handle this so that in case of errors we do n't leave people worse off than when we started
xxx following really necessary \? it in same thread group
we have to find cleaner way to put this output
this old way and deprecated classespath right way to do this and above
script example that modifies id'ed tasks in other targets to work very ugly reference replaced by runtimeconfigurable
do n't call super close because that reader used on other places
report error if something weird happens this diagnostic
sorry otherwise we will get classcastexception because mockcache loaded by two different classloader
hack we ask vm to create instance by voluntarily providing illegal arguments to force vm to run class' static initializer while at same time not running valid constructor
singleton now it may change perclassloader
xxx should n't this always return false in isolated mode \?
to do delete file if it not valid file
todo comment field does n't include all options yet
this method checks timestamp on each file listed in ejbfiles and compares them to timestamp on jarfile if jarfile 's timestamp more recent than each ejb file true returned otherwise false returned todo find way to check manifest file that found by naming convention param ejbfiles hashtable of ejb classes and other files that will be added to completed jar file param jarfile jar file which will contain all of ejb classes and other files return boolean indicating whether or not jarfile up to date
have to think about lazy initialization here jhm comparator new java text rulebasedcollator
todo no methods yet getclassname todo no method newinstance using reverse classloader
displayname variable stores value of display name element from standard ejb descriptor as future enhancement to this task we may determine name of ejb jar file using this display name but this has not be implemented yet
output stream that compresses into bzip format without file header chars into another stream compression requires large amounts of memory thus you should call link close close method as soon as possible to force cbzip outputstream to release allocated memory you can shrink amount of allocated memory and maybe raise compression speed by choosing lower blocksize which in turn may cause lower compression ratio you can avoid unnecessary memory allocation by avoiding using blocksize which bigger than size of input you can compute memory usage compressing by following formula blocksize to get memory required decompression by link cbzip inputstream cbzip inputstream use blocksize memory usage by blocksize blocksize compressionmemory usage decompressionmemory usage decompression cbzip inputstream allocates less memory if bzipped input smaller than one block instances of this class not threadsafe todo update to bzip
xxx log error \? throw exception \?
todo allow user to request system or no parent
if there any text before this add it as fragment todo this check could be modified to go if pos prev seems like this current version could stick empty strings into list
xxx add exceptions
todo this duplicating testresult information only time not part of result so we 'd better derive new class from testresult and deal with it sb
not sure whether this test needed but cost nothing to put hope it will be reviewed by anybody competent
testcases link xsltprocess task xxx merge with link xslttest \? version
does n't work depending on compression engine used compressed bytes may differ false errors would be reported asserttrue file content mismatch file utils contentequals project resolvefile expectedasf logo huge tar bz project resolvefile asf logo huge tar bz
this wrong test if remote os openvms but there does n't seem to be way to detect it
process does n't die properly under this combination thus test fails no workaround \?
junit test assertequals error junittestrunner failures runner getretcode fixme as of now does not report original stacktrace asserttrue error error indexof thrown on purpose
property id 's thing either property or path we need to make sure that object created with given id we do n't have adequate way of testing actual value of path object though
where oh where has my test case gone \?
attribute names and values while xml spec does n't require preserving order afaik some ant tests do rely on exact order following code copied from attributeimpl we could also just use sax attributes and convert to sax dom attribute nodes can also be stored in sax attributes xxx under jdk you can just use linkedhashmap this purpose jglick only exception to this order treatment of refid number of datatypes check if refid set when other attributes set this check will not work if build script has other attribute before refid attribute so now ant refid attribute will be processed first
test process that runs and failed
ignore
process should abort
user password host path notation
param event build event that being logged
only track progress files larger than kb in verbose mode
element does n't handle text content
send filesize filename where filename should not include ''
clearcase items
assign actual codes tables
reserved
size of central directory
gcj does n't support extension dir extdir so we 'll emulate it compatibility and convenience
at this point we probably in failure mode but try to use bare uri as last gasp
unreserved
datatype can have no arg constructor or take single project argument
out
may be success error fatal error
not whitespace fail
fall tru
ndata
filesize filename header regular file time time present if perserve time directory this header directory
version
wince n't really but crippled enough to be muchness ant doesnt run on ce anyway
nwarn
if label has been supplied and it revision label use raw view as snapshot
class does n't have string constructor but decent factory method
total number of entries in
check and regard not followed by as two lines
success xml commons resolver library available so use it
it new file set revision but not prevrevision
catch scriptant mismatch with meaningful message we could ignore it but there likely to be other version problems so we stamp down on configuration now
do n't know type should throw exception instead \?
char and character get special treatment take first character
do nothing
scan base dirs to build up compile lists only if specific classname not given
write properties file in each directory
simple name specified parent dir name
requires version as we going to store length info in data descriptor
test runner that wrap dummy formatter that interests us
checkstyle visibilitymodifier off bc
first try with project
resourcelocation may specify relative path its location attribute this resolved using appropriate base
can return null to represent bootstrap class loader see api docs of class getclassloader
start of central directory
private static final int get entry
file comment
there no revisions in this changelog entry so lets move onto next file
same date if dest timestamp within granularity of srcfile
must be add
somewhat arbitrary choices that quite common shared installations
enumeratedattributes have their own helper class
selectors implicitly anded in directoryscanner to revert their logic we wrap them into selector instead
first off make sure that we 've got srcdir and destdir
zips store time with granularity of seconds round up
viewpath
helper methods should be in buildfiletest
build command line from what we got format cleartool lsco options viewpath as specified in cleartool exe help
check if list of files to check has been specified
testnocrash test invoked by capturetosummary 's junit task
if two substrings longer than original then name contains address so reset name to null
default
log options used
dummy formatter just to catch error
we do n't expect to find this
resolve relative paths through project
patch file into fileset
type value
bit set to signal we use data descriptor
underscores go in front of invalid start chars
use to scan own archive
tests link xsltprocess task xxx merge with link styletest \? since ant
pr
it modified file set revision and prevrevision
throw in drive letters
set our parent dir
promised to eliminate consecutive slashes after drive letter
cfile
avoid multiple configurations
version to use addxxx and addconfiguredxxx
compare destination with temp file
smtp auth only allowed with mime mail
all three specified and all three exist true
address to send from required
file not found in specified filepath
set character set if not done already and required
and even so it considered failure on any platform currently supported by execute isfailure
checkstyle membernamecheck on
eof has been reached
decide whether to copy existing arg set or build new one from list of all args excluding special operations that only we handle
type
wait time out there should be about time out ms remaining before timeout
fragments addelement value substring pos pos prev pos
well no matching constructor
check that dir and src incompatible
ok try without
checkstyle visibilitymodifier on
set up vsshistory task
ptime
throws ejbcexception if unsuccessful
tests one file object
make limited attempt to extract sanitized name and email address algorithm based on one found in ant 's mailmessage java
if file being added meta infapplication xml we warn if it 's not one specified in appxml attribute or if it 's being added twice meaning same file specified by appxml attribute and in element
if at eolcount and trailing characters of string ctrl zs set eofstr
we have extra elements
keep
keep searching first
identical
conversion to url via fileutils like in xmlresultaggregator not as suggested in bug report
trailing characters zs construct new line and eofstr
check required attributes
do nothing
permissible values compression attribute
build command line from what we got format cleartool mkattr options viewpath as specified in cleartool help
testcases cache implementations
does selection
replace
should be full moon
add or add configured
further
directories
recurse
renamed version of original file if it exists
order of headers cannot be guaranteed
now stop watchdog
method called to set attribute
add files found in groupfileset to fileset
can also handle empty archives
maintain sorted list of targets
quick exit if target up to date
choosing character set of mail message first looking it from mimetype
next looking if charset having explicit definition
scanner to find our inputs list of files to process
if src and dest dirs same require extension to be set so we do n't stomp every file one could still include file with same extension but
ignore
checkstyle visibilitymodifier off bc checkstyle membernamecheck off bc
couldnt use xerces or jaxp calls
enable schema setfeature xmlconstants feature validation false
first cr in this line
if this our context we assume there must be something here
wait thread to die should be end of process
we recreating archive need all resources
windows quoting of value
mac style linebreak or eof or both
build command line from what we got format cleartool mkelem options viewpath as specified in cleartool exe help
variables to hold arguments
impossible as getmethods should only return public methods
copy source and support files
boolean and boolean get special treatment because we have nice method in project
create array of strings input to compiler one array comes from compile options other from compilelist
should choose either ci or nco
nco
'sync' needed otherwise threads can load same class twice resulting in linkageerror duplicated class definition findloadedclass avoids that but without sync it wo n't work
make sure we n't going to get path separator next
error level logging compiler errors
execute top level target
need to reset java class path property since netrexx compiler has no option classpath
current character always emitted
check command line options
if at eof with no characters in buffer return eof
ant task properties defaults checkstyle visibilitymodifier off bc
set inexcludes to reasonable defaults if needed
delete bogus zip file but only if it 's not original one
if parent null then we at root of fs complain that we ca n't find build file
ci
object selector
ignore path elements which invalid relative to project
in this case using java util zip will not work because it does not permit zero entry archive must create it manually
record data about last scanned resource
build command line from what we got format cleartool uncheckout options viewpath as specified in cleartool exe help
not significant class loader
cf pkzip specification
ignore
master
initialize globalfileset 's project
rm
i'm not fond of this pattern sub method expected to throw task cancelling exceptions it feels too much like programming side effects to me
do n't have to check public since getmethod finds public method only do n't have to check abstract since then taskclass would be abstract too
overriding target from imported buildfile allowed
end of try catch
sorted by newest kaffe version first
remainder zeros
first build exception
eltype
not been visited
create stream pumpers to forward listcab 's stdout and stderr to log note listcab interactive program and issues prompts every new line therefore make it show only with verbose logging turned on
create
attributes
buildfile to use
not included do nothing
process should be dead and well finished
mac
already present
empty
initialresources not empty
avoid double scanning of directories can only happen in fast mode
default to string type which means do nothing
higher derived
predefined filters
if only value specified property set to it regardless of its previous value
common properties following properties required by import and other tasks that read build files using projecthelper
if value and default both specified and property did not exist in property file property set to default
collect filesets to pass them to getresourcestoadd
check to what in classname
bad luck there resources in filesets that make archive out of date but not in non fileset resources we need to rescan non filesets to grab all of them now
no emptybehavior handling since fileset version will take care of it
may be altered in validate
calculate our destination directory it either destdir attribute or base dir of fileset in situ updates
we will return initialresources anyway no reason to scan further
error messages
not known type
no point in setting message
if filename does not match to attribute of mapper then filter it out of files we considering
warn do n't use streamsource file ctor it wo n't work with xalan prior to because of systemid bugs
disk number start
rmall force
byte byte compare
specify output in utf otherwise accented characters will blow up everything
had to make two separate commands here because if space inserted between flag and value it treated as windows filename with space and it enclosed in double quotes this breaks clearcase
print stacktrace in build file it always useful better have too much info than not enough
may be on case insensitive file system we want results to show what 's really on disk so we need to double check
build command line from what we got format cleartool checkin options viewpath as specified in cleartool exe help
put back original security manager following will never eval to true pd
all names same check if class path of loader same
debugging purposes uncomment org dom comment doc createcomment stack threadstack buildelement element appendchild
find line breaks and pass other chars through in blocks
do n't add directories we 've already added no warning if we try it harmless in and of itself
buildlogger interface
swallows basedir it seems asserttrue getproject resolvefile exists
use stream so that you can close it yourself quickly and avoid keeping handle until object garbaged always keep control otherwise you wo n't be able to delete file quickly on windows
returns list of ejbs processing
refid attribute node within path object
ignore exception
type kind type name
ignore
junit does not distinguish between errors and failures even in junit adapter so we need to help it bit to retain compatibility junit tests
get fileset and its basedir
should n't happen
return type selector
now another magic bit number to indicate end of last block sqrt pi if you want to know did want to use but it contains too much repetition me to feel statistically comfortable call me paranoid
lf always end of line crlf or single lf
full
sort list makes scm and manual diffs easier
create xml document
incremental
cr without lf send buffer then add char
nlabel
implementation of org apache tools ant taskdefs executestreamhandler interface
baseline root name
add into buffer
if configured to not care about whether element already checked out to current view then check to see if it checked out
info text list of files expected result result
call target
just append begintoken and search further
java home bogus
set up sosget task
try silly case
either end of buffer or line separator char
now ftab contains first loc of every small bucket calculate running order from smallest to largest big bucket
helper methods and classes
scenario tests
testcases algorithm implementations
non nls
nearly all times zero in most other cases
check adapter
finally create huffman tables
pattern and string do not have same size
'' situation so skip one
build command line from what we got format ss label vss items llabel \? as specified in ss exe help
build command line from what we got format cleartool lock options as specified in cleartool exe help
getset methods setters of course where ant user passes in values
now we instantiate
getset methods setters of course where ant user passes in values
either use default path or root local mapping which now embedded in root folder
write contents to our master list of links this method assumes that all links defined in terms of absolute paths or paths relative to working directory
mac does but that 's tough to distinguish from windows do n't tackle that problem right now
ss exe exits with when files have been skipped so we have to ignore failure
ordinary
debugging
set up project references
log logname
once we find folder that n't in repository we know we can add it
if file does n't pass includeexclude tests skip it
graphical
overwrite
crc
set up soscheckin task
readers return if they end so simply read prepend after that content and at end append file
our current message output status follows project msg xxx
duplicate equal to add so we continue
if permission not explicitly granted or revoked original security manager will do its work
global
rename
initializes extra data to empty byte array
obsolete
fall through
noverwrite
we look through source path elements if element dir we look file if it zip we look zip entry this n't normal source paths but we get it free
null
local file header signature
set user defined properties
set java built in properties separately bc we wo n't inherit them
ctime
if verbosity msg verbose that mean we doing regular logging backwards as that sounds in that case we want to print one message about deleting top of directory tree otherwise removedir method will handle messages all directories
methods below all add specific selectors
expect worst
set all properties from calling project
now any inner assertions
pbranch
append suffix if not there already
file filesindir directory listfiles
convert to lower case in english locale
has been set explicitly
strip off drive letters review would better check be file separator \?
shared
class found but restricted name this actually case we 're looking in jdk so catch exception and return
this list of lu
change this to get objects from other reference
help gc
may be null if system property has been added after project instance has been initialized
we have file create stream it
remove duplicate properties last property wins needed backward compatibility
set up soscheckout task
ignored
set up soscheckout task
no op
cycle through given args
basedir of subantsubant test subant xml therefore we expect here subant subdirectory
now add all references that not defined in subproject if inheritrefs true
not clonable
wait second extra to allow java to start this time ok on win nt machine and on nagoya
set flag to display targets and quit
keep track of what operating systems supported here
basedir and ant file get special treatment in execute
when test started by build xml of ant if property tests and ant share classloader not set in build xml sysproperty with name tests and ant share classloader and value tests and ant share classloader will be set we trying to catch this here
do n't re set user properties avoid warning message
null jdbc driver just simple test since there no db driver available as default in ant
default directory to project 's base directory
eat up next arg if present default to build xml
private static final int bg black private static final int bg red private static final int bg green private static final int bg yellow private static final int bg blue private static final int bg magenta private static final int bg cyan private static final int bg white
no user property
assume worst
file does n't exist property 'test' null
get sub project instance currently in use return project since ant
expectbuildexceptioncontaining testnotld jasper found error in file java returned
create data input stream from jar input stream
this iterator exhausted can we pop one off stack
if buildfile not specified on command line
check to make sure that given dir n't symlink comparison of absolute path and canonical path catches this
does n't have special meaning anymore this different from what unix sh does but causes lot of problems on dos based platforms otherwise
now recover all dependencies collected and add to list
pick up last round of dependencies that determined
validation logic
right we have good looking class file
int minorversion
but find then search it
if argument not string or location and if there overloaded form of this method already defined we just override that with new one this mechanism does not guarantee any specific order in which methods will be selected so any code that depends on order in which set methods have been defined not guaranteed to be selected in any particular order
this isnt strictly needed but by being fussy now we can change implementation details later
int majorversion
int accessflags
interestingly enough we get to here when user uses dnamevalue however in some cases os goes ahead and parses this out to args dname value so instead of parsing on we just make characters go away and skip one argument forward do n't know how to predict when jdk going to help or not so we simply look equals sign
special case single jar handling with signedjar attribute set
read dependency cache from disk
not cached so need to read directly from class file
convert replyto string into vector of emailaddresses
make sure buildfile exists
should always be case
single jar processing
optional methods you can override those methods if you want to optimize or do advanced things like support special syntax methods do not chain you should use them when embedding ant by replacing main helper
this class depends on each class in dependency list each one of those add this class into their affected classes list
capturetosummary test writes to stdout and stderr good verifying that testlistener support does n't break anything
now determine which jars each class depends upon
usually initialized set to true but here it must not because prepend and append readers have to be instantiated on runtime newfilter setinitialized true
return here
also check properly formed uris ant formerly recommended using nonsense uris such as file foo xml in xml includes you should n't do that just foo xml correct but compatibility we special case things when path not absolute and fall back to old parsing behavior
write dependency cache to disk
filter classes
need to delete main class
we just set prefix this fileset and pass it up
set up vssget task
instance
set up our mapping policy
default viewpath to basedir if it not specified
now check classpath file dependencies
constructors initializers
no mapper \? use identity policy
parse attribute and text of this node adding properties each if path attribute specified then return created path which will be passed to children of this node
break classlocations into its components
return path we added or id of this node children to reference if needed path objects definitely used by child path elements and id may be used child text node
search various source path entries
arbitrary attribute
create data input stream from jar input stream
if we 're on windows then do comparison ignoring case and treat two directory characters same
end execute
in verbose mode we always log stuff
netware and os piggy back on windows since in validatesetup code same assumptions can be made as with windows that path separator
simple action to send command line in as
exec os check different from os isos which probes specific os instead it searches os field current os name
this path should contain class files these testcases
value and property mutually exclusive attributes
set up vsslabel task
int loglevel filesetmanifestconfig null \? project msg warn project msg verbose log file file includes meta infmanifest mf which will be ignored to include this file set filesetmanifest to value other than 'skip' loglevel
determine destination filename via mapper
check if we can contact url
throws ejbcexception
if archive built first time and it matched by resource collection then it has n't been found in check it has n't been there but will be included now some strange reason old code would simply skip entry and not fail do same now backwards compatibility reasons without this which build fails in gump
we only like simple mappers
precedence manifestfile wins over inline manifest over manifests read from filesets over original manifest merge with null argument no op
add tsa operations if declared
filesets separate from rest performance reasons if we use code union below we 'll always scan all filesets even if we know target out of date after first test
vss items
on vms platform we need to create special java options file containing arguments and classpath java command special file supported by switch on vms jvm
jar source required
preserveintarget would find all files we want to keep but we need to find all that we want to delete so meaning of all patterns and selectors must be inverted
zero index never present in constant pool itself so we add null entry it
if destination directory did n't already exist or empty then no previous file removal necessary
start at because element executable name
alias required signing
similar to fileset but does n't allow dir attribute to be set
add to list
fill in args
windows has limit on total arg size so create temporary file to store all arguments
at this point there one trailing space to remove if list not empty
restore lastmodified attribute
do nothing if no resources including nested text
we normally compare destination with source
filesets has been protected so we need to keep that even after switching to resource collections in fact they will still get different treatment form other resource collections even in execute since we have some subtle special features like switching type to dir when we encounter dirset that would be more difficult to achieve otherwise
if we get here in and out have not been specified we in batch processing mode
set source and rebuild options
need to reset stream handler to restart reading of pipes go ahead and do it always nested redirectors
rebuild unless dest file newer than source file
since we look ahead before adding there 's one last env var
mark rebuild if dest file newer
chunk part of previous env var unix env vars can contain embedded new lines
but if no dest specified compare source to source
on openvms runtime exec does n't support environment array so we only return new values which then will be set in generated dcl script inheriting parent process environment
mono 's wsdl does n't deal with absolute paths
if this transformoperation has drawoperation children then rotate first child and return
add in any extra files this error in mono but we do not warn on it as they may fix that outside ant build cycle
noop default encoding used
if by any means destfile and source match
writes command into temporary dcl script and returns corresponding file object script will be deleted on exit param cmd command line to execute as array of strings param env environment to set as array of strings return command file throws ioexception if errors encountered creating file
mark rebuild if we newer
add single group arguments javadoc rules multiple group args allowed each arg includes strings group name packagelist elements in packagelist colon delimited element in packagelist may end with wildcard
conditionally compile
ensure that parent dir of dest file exists
set up timestamp
each sourcepath entry add directoryset with includes taken from packagenames attribute and nested package elements and excludes taken from excludepackages attribute and nested excludepackage elements
we check presence of signatures on lazy signing
if it 's non source file copy it if later date than dest if it 's source file see if destination class file needs to be recreated via compilation
errors
helper methods
bail on no references
in ant means change permissions of directory foo not anything inside of it this case second branch of if statement below catches backwards compatibility
if they different timestamps used
sourcepath use sourcepath value if present otherwise default to srcdir value
demand create pathlist
sql defines as comment to eol and in oracle it may contain hint so we cannot just remove it instead we must end it
bail on no references listed
create intermediary directories sometimes zip do n't add them
load property files specified by propertyfile
hand down
just log this
historical and performance reasons we have to do things in rather complex way move optimized to move directories if fileset has been included completely therefore filesets need special treatment this also required to support failonerror semantice skip filesets with broken basedir but handle remaining collections we carry around few protected methods that work on basedirs and arrays of names to optimize stuff all resources with same basedir get collected in separate lists and then each list handled in one go
loop through all definitions
we have started to over write dest but failed try to delete garbage we 'd otherwise leave behind
set up response file options
not modified so no file download just return instead and trace out something so user does n't think that download happened when it did n't
fileutils
ignore exception
if refs out of date force build
we have already started reading this section this line first attribute set it and then let normal read handle rest
classpath attributes go into vector
get today 's date
scan source and dest dirs to build up both copy lists and compile lists scandir srcdir destdir
ensure that properties take precedence
fields
many system have been reported to get into trouble with long command lines no not only windows posix seems to define lower limit of so use temporary file if total length of command line exceeds this limit
add source file
setup apt executable
now run
create instance of compiler redirecting output to project log
error generated during parsing
start would throw illegalthreadstateexception from threadgroup add if it destroyed
forcibly delete output file in case of trouble
kjc does n't support encoding option now but it will be supported near feature
then rethrow exception
add dest dir to classpath so that previously compiled and untouched classes on classpath
check if target file exists in current directory
on vms platform we need to create special java options file containing arguments and classpath javac command special file supported by switch on vms jvm
parser with specified options ca n't be built
must keep subclass bc though unused checkstyle constantnamecheck off bc
io error
set up vsscheckin task
checkstyle constantnamecheck on checkstyle visibilitymodifier on
set prefix this node to include its tag name
there bootclasspath stated by default includejavaruntime false if user has stated bootclasspath and said to include java runtime it 's on their head
pass container to processing of this node
change to parent directory
date format using format since so we have 'date yyyymmdd hh mm ss author name 'date yyyy mm dd hh mm ss author name'
now iterate through children
hascr still true second one
checkstyle constantnamecheck off bc
convert from ascii back to native encoding to convert tofrom where to find input files where to put output files extension of output files if different
branch
specified class can not exist
refresh our file handle
checkstyle methodnamecheck off bc
we need character encoding aware printing here so using printwriter over outputstreamwriter instead of printstream
value of id attribute of this node
entries of form cvs file modulefilename new current revision cvs file modulefilename new cvstag revision or file modulefilename changed from revision to or file modulefilename removed not included in release tag skinlf cvs file testantoineantoine bat removed testantoine revision get rid of 'file module
checkstyle membernamecheck off bc
set up vsscheckout task
error if both empty or both set
set thread priorities
we forced to fork antlr since there call to system exit and there nothing we can do right now to avoid this sba i'm not removing this method to keep backward compatibility
there id attribute \?
following data used while processing stdout of cvs command
now iterate through attributes adding them
swallow
instance variables
we cannot set priority here
main conditional logic if attribute somehow special it has known semantic meaning then deal with it appropriately
determine directory resourcedir if set dir of destfile if not
scan implicit fileset if there srcdir set or there no srcdir set but there no contained classes
id has already been found above
build command line from what we got format as specified in ccm exe help
if there no src dir here set it
depending on implementation xmlreader can yield hips of warning only output then if user explicitly asked it
get dependencies list
if only default specified and property previously existed in property file it unchanged
set up vssadd task
make sure to close all handles otherwise garbage collector will close them whenever possible and windows may complain about not being able to delete files
set user define properties
path attribute node within path object
get any included source directories
add files to command
checkstyle methodnamecheck on
pre ant this method used to call getclass getresource while ant will call classloader getresource difference that class getresource expects leading slash absolute resources and will strip it before delegating to classloader getresource so we now have to emulate class 's behavior
space more argumentativeness command addargument command addargument
proxy setup if enabled
ends with or null
constants used beantype attribute
classpath used when ias ejbc called
options passed to ias ejbc
this guaranteed by fileutils createtempfile
set up vsscp task
count number of empty strings
or or
make sure that we have target to execute
core class that exists in system classpath ignored but found in specified classpath
ias installation directory used if ejbc n't on user 's path
parser and handler used to process both ejb descriptor files
if classpath flag n't specified use system classpath
first off make sure that we 've got command and vssdir and label
construct saxparser used to process descriptors
add default listener
saxexception or parserconfigurationexception may be thrown
build and populate instance of ejbc utility
node identifying new path
execute ejbc utility stubsskeletons rebuilt if needed
resourcelocation may specify relative url its location attribute this resolved using appropriate base
find target with longest name
text node add property
add one
if containing object string then use it as id
concatenate all of command line arguments into single string
if ias home directory specified prepend it to commmand
build command line from what we got format cleartool rmtype options type selector as specified in cleartool help
split targets in top level and sub targets depending on presence of description
never include refid attribute as part of attribute name
optional command line parameters
no beantype flag needed entity bean
otherwise return it appended unless property to hide it set
required command line parameters
convert list into array and return it
ran ant tests with ea and this would fail spuriously
should n't need to check but
use directory containing target as output directory
expose members extensibility
inner classes follow
end of ejbcexception inner class
delegate this way around to support subclasses that overwrite getfile
tracks current element tracks current text data session or entity
search resource map and if not found file map
now start printing targets and their descriptions
we arent fully defined yet this error unless we in antlib in which case resource name determined automatically nb uris in ant core package will be at this point
new element has started so reset text being captured
worst case look public string constructor and use it also supports new whatever project string as path or reference this used deliberately all primitiveswrappers other than char and boolean
build command line from what we got format cleartool update options viewpath as specified in cleartool exe help
build command line from what we got format cleartool mklbtype options type selector as specified in cleartool help
type name vob
we get root classes and build up set of classes upon which they depend
skip version info and general purpose byte
int superclassindex
try to read dependency info from map if it not out of date
depfile exists and newer than class file need to get dependency list from map
convert uri to resource
end of ejbchandler inner class
we need to add this jar to list this class
check that specified instance variables valid
use runtime object to execute external command use redirectoutput inner class to direct standard and error output from command to jre 's standard output
now to expected failures
got bit annoyed that could n't find pad function
handle new style full paths to antlib in which all but forward slashes allowed
check that ejb source classes all exist
downgrade warnings on rmi stublike classes as they generated by rmic so there no need to tell user that their source missing
if we have no info about class it may have been deleted already and we using cached info
there no class file add this class to list
if we have n't already named xml file it gets antlib xml
convert from package to path
here if there error
add null entries any additional slots required
iterator through all files and process them
let 's be nice with next generation of developers
make spawned process run seconds
two maps used to track local dtds that will be used in case remote copies of these dtds cannot be accessed key map dtds public id and value local location dtd
catalog catalog catalog catalog
always trigger file mode if commands big enough
zip file in cache
without closure we may delete inner class but not top level class which would not trigger recompile
iterate through ref list generate entry each or just rely on fact that tostring operator does this but noting that separator on windows on unix
log at lower level
read constant pool in and resolve it
but big operations we save all params to temp file and set tmpfile as command then we remember to delete tempfile afterwards
now run command of exe settings files
add those that set and delimiter
store token just read next time
this hashtable maintains list of ejb class files processed by ejbc utility both source class files as well as stubs and skeletons key hashtable string representing path to class file relative to destination directory value hashtable file object which reference actual class file
ignore problem
directory where source ejb files stored and where stubs and skeletons will also be written
trick to evoke basedir not set if null
catalog catalog catalog
ejb 's display name ejb 's home interface name ejb 's remote interface name ejb 's implementation class ejb 's primary key class or stateful or stateless does this ejb support cmp \? does this ejb support iiop \? does this ejb require failover \? cmp descriptor list
no sources nothing to compare no targets nothing to delete
validates url
check timestamp on remote interface
since descriptor read properly everything should be
check timestamp on home interface
client jar file
members
if explicit securitypolicy file specified it maybe absolute path use project to resolve it
check timestamp of primary key class
descriptorname examples orgobjectwebfooapplifoofoo ejb jar xml examples orgobjectwebfooapplifoofoo xml jonas convention
bail out early if there no files
now scan hashtable and add files
have to catch this because of semantics of calling main
list of all stubs skels earliest mod time has each been found \?
additionalargs
ejb jar file
public private family assembly family and assembly family or assembly private scope
class name search in classpath provided ejbjar element
loop through each stubskeleton class that must be generated and determine if all exist which file has most recent timestamp
new value this needs to be here because it required to calculate next position to search from at end of loop
add each stubskeleton class to list of ejb files note that each class added even if it does n't exist now
empty
if we reference create path from reference
lastly create file object jar files if we using flat destination dir then we need to redefine basename
keep track of oldest modification timestamp
rfc header fields not required to occur in any particular order except that message body must occur after headers same section specifies reccommended order which we ignore
end of ejbinfo inner class
need to close files and perhaps rename output
checkstyle visibilitymodifier off bc checkstyle constantnamecheck off bc
stub derived from implementation tie from interface name
filenames of standard ejb descriptor and ias specific descriptor
update with changed bean class
this loop runs parallel to build
get filename of vendor specific descriptor
now that we have weblogic descriptor we parse file to find other descriptors needed to deploy bean this could be weblogic cmp rdbms xml or any other or mapping tool descriptors
end of classname inner class
available specification version must be required
stream to read and redirect to standard output
any of above out of date we find implementation classes and see if they older than any of above or ser file itself
end of redirectoutput inner class
value of display name element read from standard ejb descriptor
parse classpath into it 's individual elements and store results in classpathelements instance variable
filenames of standard ejb descriptor which passed to this class from parent ejbjar task and ias specific ejb descriptor whose name determined by this class both filenames relative to directory specified by srcdir attribute in ejbjar task
can throw same exception if there no this project ctor
warning we trim values of all attributes because some extension declarations badly defined ie have spaces after version or vendorid
if flag n't specified use working directory as destination directory
implementation version must be required
check that reference zipfilesets cannot have specific attributes
ejb information gathered from standard xml ejb descriptor and ias specific xml ejb descriptor using sax parser
simplest constructor uses default encryption algorithm and compression level
if this standard ejb descriptor we looking one set of data while if this ias specific descriptor we 're looking different set of data hand processing off to appropriate method
trick to integrating test output to formatter to create special test class that asserts error and tell formatter that it raised
we do n't have any more args to recognize
this comment extract from junit task may also apply here in vm not very nice since it could probably hang whole build imho this method should be avoided and it would be best to remove it in future versions tbd sba
if it 's no other arg it may be target
remove class
keys to optional attributes
special parent loader which not system class loader
check that reference zipfileset gets same attributes as original
null watchdog means no timeout you 'd better not check with null
class bft
do nothing
below getter 's and setter 's each of instance variables note that in addition to supporting setters with same type as instance variable setter provided with takes string argument this provided so xml document handler can set ejb values using strings it parses
xsltprocess
add file xxxxx to commandline
create instance of rmic
clientname ejbjarfile client jar
not necessary as jdepend would fail but why loose some time \?
end of else
self describing as of junit but trim classname
timestamp of newest class timestamp given class file remote interface class file home interface class file ejb implementation class file ejb primary key class
fully qualified name of java class name of package this class name of class without package
ignored
if there suite method available then try to extract suite from it if there error here it will be caught below and reported
numberformatexception or arrayoutofbondsexception could happen here
ignore it
make sure it 's not directory this falls into ultra paranoid lets check everything category
to remove directories start by end of list trunk does not let itself be removed before leaves
use system manager that prevents from system exit
throw exception on errors except up to date when server down code expects perforce client error connect to server failed check port tcp connect to localhost failed connect localhost connection refused some forms producing commands change do tag output others do n't others mark errors as info example edit file which already open edit just look error catches most things
we mark file to be deleted on exit alternative would be to cache filename and delete after execution finished which much better long lived runtimes though spawning complicates things
if element starts with configured prefix then convert prefix to configured 'to' value
we try to update status once to give starteam another chance
currently we deal with only two path formats unix and windows and unix everything that not windows
classpath
if we find file attribute then act on file otherwise act on project
if we displayed project view item type or folder then show list of relevant item properties
create variable dir that contains name of starteam folder that root folder in this view get default path to current view
genic options
path containing one or more elements
we want to display folder same way you would enter it on command line so we remove view name which also name of root folder and therefore shows up at start of path
may be altered in validatesetup may be altered in validatesetup
catch everything some of above return nulls throw exceptions or generally misbehave in event of problem etc
path to sourceoffsite home directory homeuser sos
other options
special setters sub classes
login info required
validate our setup
genic options setter
there bug in javasound jdk beta it prevents correct termination of vm so we have to exit ourselves
check if source directory
get list of path components in canonical form
ignore all errors vd
jonas specific descriptor deployment
apply path prefix map
note it 's important to scan items before we make unmatchedfilemap because that creates bunch of new folders and files unattached to repository and we do n't want to include those in our traversal
now convert path and file separator characters from current os to target os
securitymanager can not be installed here backwards compatibility reasons pd needs to be loaded prior to ant class if we going to implement it system setsecuritymanager new noexitsecuritymanager
since filesize keeps on decreasing we have to store initial filesize
security
jdk usage command line says that jar must be first option as there bug in jdk that forces jvm type to be specified as first option it appended here as specified in docs even though there in fact no order
nothing specified fail
default behavior to fail on error default behavior to not overwrite default behavior make single link
note it 's important to scan items before we make unmatched file map because that creates bunch of new folders and files unattached to repository and we do n't want to include those in our traversal
note i'm using to see if we got new object back from apply method
default values attributes
jonas specific dd true if jonas convention used dd directory path of ejb descriptor ejb descriptor file name filename appearing before name terminator filename appearing after name terminator
once we find folder that n't in repository anything below it can be deleted
input file to process by genic
rfc from header must be sent we rely on error checking by mta
place result into specified property unless setonempty false
build command line from what we got format ss checkout vss items \? as specified in ss exe help
we applied one so we 're done
not class file or one we 'd generate
basenameterminator not found descriptor use jonas naming convention ie foo xml jonas foo xml and not foo ejb jar xml foo jonas ejb jar xml
we have loader which being used to load catalogresolver can it see apacheresolver \? base resolver will only be able to create apacheresolver if it can see it does n't use context loader
following block contains unrolled code which could be shortened by coding it in additional loops
determine separator strings dirsep and pathsep attributes override targetos settings
override with pathsep
override with dirsep
when using this as custom selector this method will be called it translates each parameter into appropriate setxxx call param parameters complete set of parameters this selector
at least one constructor guaranteed to be there but check anyway
get value of tag only first occurrence
quick return directories cannot be signed
weblogic ejb utils ddcreator main args
now check each resource in case child only lets through files from any children it may have
other options setter
write namespace declarations
other methods
check if used by attributes
find out of date targets
method deleteonexit do not work because directory not empty
create generic jar first
no need to synchronize as vector always synchronized
\? there xml api this \?
notreached
genic call on generic jar
fall through
create real jar
extrapolating from netware may have java in that directory but of time you do n't want to execute it jeff tulley
only property specified fail
treat non matching groups as empty matches
attributes
record destdir later use in getresource
extract path info
if it does not then file not up to date
check that something which not testcase generates no errors at first even though this incorrect
descriptorname just file without path
eliminate consecutive slashes after drive spec
attributes set by ant build file
check to see if it 's inner class 'com company class inner'
create zip entry and add it to jar file
byte block header value chosen arbitrarily as bit value does not really give strong enough guarantee that value will not appear by chance in compressed datastream worst case probability of this event block about bits bits and bits compressed file of size gb about blocks only bit marker will do nb normal compression decompression do not rely on these statistical properties they only important when trying to recover blocks from damaged files
how to handle non file resources \? copy temporarily resource to file and use file implementation
check odd case where terminator andor filename extension n't found these will ensure jonas appears at end of name and before if present
bsbuffshadow bsliveshadow
no found
accessor methods
clean way would be to throw exception throw new ioexception crc error
try to find jonas specific convention name
byte byte byte byte
else get standard basename
make sure cache cleared
validate mandatory attributes
step now scan this big bucket so as to synthesise sorted order small buckets ss all ss
jonasroot
complete big bucket ss by quicksorting any unsorted small buckets ss hopefully previous pointer scanning phases have already completed many of small buckets ss so we do n't have to sort them at all
translate periods into path separators add class to name create file object and add it to hashtable
setting up unzftab entries here not strictly necessary but it does save having to do it later in separate pass and so saves block 's worth of cache misses
retrive files to be added to jar from ejb descriptor
java policy file
check that fullpath and prefix incompatible
add types of parent project
property attribute must have access to property file
outputdir
if either of them missing they different
work around bug of genic
make sure property exists in property file
all characters in string used check if only 's left in pattern if so we succeeded otherwise failure
classpath
if we followed symlink we just made we should bypass excludes
check to see if we need build and start doing work
after loading cache up to date with file
parse ejb deployment descriptor while it may not look like much we use saxparser and inner class to get hold of all classfile names descriptor
invoked by introspectionhelper setxxx path attribute setters param project this path param path string path definition
try to create classpath correct orb
now any assertions added
avoid runtime problem on pre when compiling post
creation done here rather than in isselected because some containers may do validation pass before running isselected but we need to check existence of created class
keepgenerated
process pattern between stars padidxstart and patidxend point always to ''
nocompil
enumeratedattributes three interface implementations name classname mapping done in configure method
end of finally
buildlistener interface methods
novalidation
set special attributes pattern
javac
use cache defined via name
tell build it finished
get values and do comparison
antclassloader which supposed to delegate to parent and then to disk path
should following two be switched \? if and refer to same file n't their content equal regardless of whether that file directory \?
only file specified fail
additional
resource does n't exist property 'test' null
because content only read file will not be damaged tested with jpg zip and pdf as binary files
try netware volume length path see how it handled
log uptodateness of all targets
expecting exception to be thrown by this call illegalargumentexception wrong number of arguments
cannot return null source because we have to call setentityresolver see setentityresolver javadoc comment
javacopts
determine java version by looking at available classes java net proxy introduced in jdk java lang charsequence introduced in jdk java lang strictmath introduced in jdk java lang threadlocal introduced in jdk java lang void introduced in jdk count up version until noclassdeffounderror ends try
rmicopts
last character n't digit
look and print warnings
fall back to jre bin directory also catches jdk and where java home points to root of jdk and mac os where whole directory layout different from sun 's
check that exception in constructor noticed
now wait until spawned process finished
use classloader that loaded this class otherwise it will not be able to run inner classes if this test ran in non forked mode
ignore expected
secpropag
at this point paths set up with lists of files and mapper ready to map from source dirs to dest files now we iterate through every jar giving source and dest names deal with paths
verbose
zipoutputstream putnextentry expects zipentry to know its size and crc sum before you start writing data when using stored mode unless it seekable this forces us to process data twice
depending on implementation actual re wo n't get instantiated in constructor
we need to search components of path to see if we can find class we want
reflection problems \? should not happen debug
calling genic task
make sure we dealing with absolute path
weblogic cmp deployment descriptor
magic property
try to use compiler specified by build compiler right now we just going to allow jikes
extra field
check that reference tarfilesets cannot have specific attributes
and add any files if also defined
object class changed update it
add extra slash filesystems with drive specifiers
use fle from original weblogic jar
weblogic ejbc main args
build command line from what we got format ss create vss items \? as specified in ss exe help
first off make sure that we 've got command and vssdir
we need to search components of path to see if we can find class we want
version needed to extract general purpose bit flag
use getshortlabel so labels longer then char truncated and user warned
label existing file or project version
make sure localdir exists create it if it does n't
try multi part netware volume length path wforward slash see how it handled
do nothing by default
try and load from this loader if parent either did n't find it or n't consulted
this classname to run as well as its arguments in case of 'executejar' executable jar file
genic task genic class supported various versions
bootclasspath xbootclasspath arg
if you do n't do this you get all sorts of annoying warnings about missing properties file however it seems to work just fine with default values ultimately we should probably include catalogmanager properties file in ant jarfile with some default property settings see catalogmanager java more details
this loop hammered during decompression hence avoid native method call overhead of system arraycopy very small ranges to copy
do nothing
ser file or any of source files newer then class files firstly find oldest of two class files
regardless of name of ias specific ejb descriptor file it will written in completed jar file as ias ejb jar xml this naming convention implemented by ias
build list of sources which out of date with respect to target
this loader first but it did n't find it try parent
push current iterator onto stack and then iterate through this directory
add generated files to ejbfiles
not before filesystem root and not after it since root already contains one
orb
can safely use '' because windows understands '' as separator
get index of parts which equal
utilitary methods
different size different files
check odd case where terminator andor filename extension n't found these will ensure ias appears at end of name and before if present
add class in dotted notation 'com company class'
dummy dummy dummy dummy
all files in this folder we need to check if there have been modifications
when using this as custom selector this method will be called it translates each parameter into appropriate setxxx call param parameters complete set of parameters this selector
line separators in values and tokens in order to compare with file contents replace them as needed
this method has severe consequences on performance we cannot rely on super hashcode method since super getname always return empty string in current implemention there 's no setter so it basically draining performance of hashmap lookup
create parser using whatever parser system dictates
byte byte
loop through files each file represents one deployment descriptor and hence one bean in our model
compressed size
process deployment descriptor in each tool
methods
end of execute
read in descriptor under weblogic descriptor weblogic specific subclass which has references to implementation classes these classes must therefore be in classpath when deployment descriptor loaded from ser file
last mod file time
external file attributes
resolve relative to project basedir
number of disk with
get filename into string object
empty path return empty string
no errors so far
swallow throw original exception instead
then toplink deployment descriptor
setup naming standard here \?
do not use fileresource bc it pulls file info from filesystem
resource does exist property 'test' 'true'
try netware volume length path wforward slash see how it handled
we did n't match resourcelocation but since we only support public and uri entry types internally it still possible that there another entry in external catalog that will match we call apache resolver 's resolveentity method to cover this possibility
preserve order encountered using list enforce set logic manually
plain impossible
get all files in descriptor directory
log security exceptions and continue it aint that important and may be quite common running ant embedded
if we still ca n't find it complain
tt length should always be length but theoretically it can happen if compressor mixed small and large blocks normally only last block will be smaller than others
deprecated but email byte oriented
we must check if process not stopped before being here
note we have fit eof and block not full this broken archive it does not follow standard blocking algorithm however because we generous and it requires little effort we will simply ignore error and continue as if entire block read this does not appear to break anything upstream we used to return false in this case thanks to 'yohann roussel alcatel fr' this fix
ok properties file may be absolute
do we need to regenerate file
write bit
make next blocks readable without error repair feature not yet documented not tested
delegate to parent
inlined bsw len selctr sfmap xff code selctr sfmap
process not terminated if this really timeout and not manual stop then kill it
set default values
there exception run with no exit to get proper error
nothing specified use default
weblogic ejb utils ddcreator main newargs
core main body
end class manifestclasspathtest
check bsf first then javax this version does not check if scriptmanager supports language
classloader this parent already delegated to from classloader getresources no need
get recorder entry
assume that starting this takes less than time out ms
file other then class changed rebuild
create generic jar if required
create command to run java including user specified options
cycle through generic and make sure its in websphere
get method instances each of methods we need to call on resolverimpl using reflection we ca n't call them directly because they require on xml commons resolver library which may not be available in classpath
use passed in base in preference to base from matchingentry which either null or directory in which external catalog file from which it obtained located we make copy so matchingentry 's original base untouched this standard behavior as per my reading of jaxp and xml catalog specs cks
this available optional package satisfies requirements
build command line from what we got format ss add vss items \? as specified in ss exe help
add it to list of files in jar
because of way create full target path there must be no slash at end of targetfolder and foldername however if slash or backslash only character leave it alone
set values on recorder
connect to starteam server and log on
ignore path elements which not valid relative to project
okay we have copy of child now child becomes parent and we iterating recursively over its children
getproject log listing files in directory directory project msg debug
load default locale bundle files using default file encoding scheme
see wraplistener reason
normal case
quick return no output do nothing
inner classes
if we get here it could be because we trying to put directory entry that already exists example we 're trying to write com but previous entry from another mergefile called com in that case just ignore error and go on to next entry
if it 's primitive wrapper then we should n't try and put it into jar so ignore it
first some notes on mrj getting size compressed size and crc from zipinputstream does not work compressed deflated files those calls return uncompressed stored files those calls do work however using zipfile getentries works both compressed and uncompressed files now from some simple testing did it seems that value of crc independent of compression setting so it should be easy to pass this information on to output entry
create recorder entry
weblogic will throw error if deployment descriptor does not match class files
create output jar if required
if all resource files associated with this bundle have been scanned and still not able to find single resrouce file throw exception
genericdeploymenttool do nothing vendor specific subclasses should throw buildexception if configuration invalid their server
we found starttoken there endtoken following \? start at token tokenlength because start and end token may be indentical
classpath add at end of classpath system classpath in order to find tools jar file
create file input stream and buffer everything over to jar output stream
check timestamp on ejb implementation class note that if only implementation class has changed it 's not necessary to rebuild ejb stubs and skeletons this reason we ensure file exists using lastmodified above but we don't compare it 's timestamp with timestamps of home and remote interfaces because it 's irrelevant in determining if ejbc must be run
class does n't exist property 'test' null
inverted
read checksum from disk
close up file input stream class file
register any dtds supplied by user
separate directory explicitly declared
none to register generic
give it some time to display
constructs url debug portion of commmand line
setget methods
we create fileset with source file this lets us combine our logic handling output directories mapping etc
add any support classes specified in build file
if input files specified inputstring and inputstream ignored classes that work with redirector attributes can enforce whatever warnings needed
already defined
empty statement
override logging of output in order to filter out generating messages generating messages set to priority of verbose unless they appear after what could be informational message
determine jar filename without filename extension
locate auxiliary script
default to global setting and then see if this class belongs to package which has been designated to use specific loader first this one or parent one
protected and private methods
load command line with optional attributes
build command
first regular deployment descriptor
preserve permissions
ignore and keep trying
can either be property name string or file
override permissions if set explicitly
now vendor specific files if any
create directory as it might not exist
add any dependent files
calculate total checksum convert keys source files into sorted array
must not use getentry as well behaving applications must accept manifest in any capitalization
define package now
end static class templateelement
file on wrong format swallow
log that we going to build
if we 're in this finally clause because of exception we do n't really care if there 's exception when closing stream if it throws zip file must have at least one entry because exception happened before we added any files then we must swallow this exception otherwise error that 's reported will be close error which not real cause of problem
private commandlinejava commandline new commandlinejava
works like clone but does n't show up in javadocs
if there errorfailure and that it should halt stop everything otherwise just log statement
do n't have to check public since getconstructor finds public constructors only
use helper method to write jarfile
'reasonable' default if component used without project example as standalone bean most ant components can be used this way
try to be smart not to be fooled by weird directory name
create new vector to avoid concurrentmodificationexc when listeners get addedremoved while we in fire
log that file up to date
ignore we interested only in side effect that of getting static initializers invoked as we do not want to call valid constructor to get this side effect attempt made to call hopefully invalid constructor come on nobody would have constructor that takes in string arguments in fact they ca n't according to jvm spec section number of method parameters limited to by definition of method descriptor constructors count as methods here
add in support classes if any
ioe printstacktrace
work out what base name
nothing to add generic tool
note could cause overlaps in case classloader this parent has matches
ignore method as there overloaded form of this method that takes in non string argument which gains higher priority
clean addedfiles set
if you felt daring you could cache basedir absolute path
create streams necessary to write jarfile
following could be done in loop but unrolled it performance
class does exist property 'test' 'true'
dummy dummy dummy with path
get and clean up innerclass name
in various block sized structures live data runs from to last num overshoot bytes inclusive first set up overshoot area block
see if there any inner classes this class and add them in if there
loop through all class files found and add them to jar
assertions take up space too
calculate cost of this group as coded by each of coding tables
link file
jl comment extracted from junittask and slightly modified
recompute tables based on accumulated frequencies
dummy dummy dummy which has project 's basedir as root
ignored
tasks types
having space between file and its path causes commandline to add quotes around argument thus making jdepend not taking it into account thus we split it in two
actually performs merging of into output should be zip or jar file
add parsed namespaces of parent project
weblogic jspc does not seem to work unless explicitly set this does not take classpath from env am missing something about java task \? \?
should be default as it integrates better in ant
trim meta inf off of file name
build command line from what we got format cleartool checkout options viewpath as specified in cleartool exe help
specified property name true
used when sorting if too many long comparisons happen we stop sorting randomise block slightly and try again
close output stream
end of writejar
only generate new classloader if we have classpath
simple test to ensure that caching does work
register all known dtds
file comparable so sorting trivial
try to determine it from publicid
ignore manifest entries they 're bound to cause conflicts between files that being merged user should supply their own manifest file when doing merge
bsf uses hashtable to store values so cannot declarebean with null value so need to remove any bean of this name as that bean should not be visible
see if file in fact class file and determine its actual name
need to create generic jar first
loop over checksums and generate total hash
relative offset of lfh
only go forward if generic and weblogic file both exist
open jar files
set up vsscreate task
dummy dummy dummy which holds patterns include and exclude
write `magic' bytes indicating file format huffmanised followed by digit indicating blocksize
add digest file content
get list of generic jar entries
catalog catalog
get list of weblogic jar entries
add file path
cycle through generic and make sure its in weblogic
file namepath match
check files see if same
convenience method that several other methods might call
file different see if its object or interface
interface changed rebuild jar
it manifest if so ignore it
override allowed on
check that reference tarfileset gets same attributes as original
if we have n't got manifest yet attempt to get it now and have manifest be final merge
time to write manifest
file doesnt exist rebuild
copy files from old weblogic jar
use entry from generic jar
encoding must be utf as specified in specs
version info blankline
if implementation classes don exist regenerate
method that does work on given entry in mergefile big deal to set right parameters in zipentry on output stream
any problems just regenerate
expected
header newline
create java task to do rebuild
must have same validity then if they valid they must also be same
we add this to our group of fileset manifests
hide warning also as it makes no sense since filesetmanifest attribute itself has been hidden
need to handle manifest as special check
specified file invalid files do not exist
specified file actually directory so it should pass
expected test passes
if it does n't exist it will get created anyway do n't bother with any up to date checks
running under ide that does n't set ant home
success proceed with more steps
no existing archive
run with no exit better reporting
ignore close exception
weblogic ejbc main newargs
we want to save this info if we going to make another pass
add cmp descriptors to list of ejb files
only calculate descriptor name once
could n't find it must be on path
directory path of ejb descriptor filename appearing before name terminator filename appearing after name terminator
find end of standard descriptor 's relative path
only first build exception reported
no more signs found if there any tail to file append it
check to see if standard name used there 's no basename
choose right vendor dd
ejb jar file to verify
debug \?
set classpath
end class
ignore event
pr
list file
no tie classes
root dir
compiling order
add home class
build home classes list
remove class extension
add gen files to collection
assertequals with classpath java
get extensions document
weblogic jspc calls system exit have to fork therefore takes loads of time can pass directories at time jsp but easily runs out of memory on hefty dirs even on sun
we attempt to put in map and schema files of cmp beans
add map file
we first run dfs based sort using each root as starting node this creates minimum sequence of targets to root node we then do sort on any remaining unvisited targets this unnecessary doing our build but it catches circular dependencies or missing targets on entire dependency tree not just on targets that depend on build target
set default value can be changed by user
theres nothing else to see here keep moving sonny
set options
set jvmargs
set environment variable
returns non null ibm jdk linux
only second iteration would pass because of pr
too bad
compile source files
add path urls
default implementation methods used to support default behavior and provide backward compatibility some will be deprecated you should avoid calling them
namespace that does not contain antlib
we have to compare decompressed content instead
if we webapp hand off to compiler which had better handle it
specified dir this current directory and should always exist
already processed
scan source directories and dest directory to build up both copy lists and compile lists
if first char not start of java identifier or prepend
name newline
all other possibilities
mix element types
there to stop error messages being null
longest match comes first
register all dtds both ones that known and any supplied by user
meta inf would be skipped anyway avoid index manifest only jars
set working directory
set java class name
nd run
specified dir this dir should never exist null
implicit composite
if this left out bad things happen like all build files break on first element encountered
file not in root since jar may be one without directory entries add parent dir of this file as well
create undeployed output jar if required
only go forward if generic and websphere file both exist
protected
get list of websphere jar entries
file namepath match check files see if same
fishing expedition ignore errors if antlib not present
if target file not there then it ca n't be up to date
file does n't exist rebuild
copy files from old websphere jar
append err and output streams to log
property parsing moved from projecthelper you can override static method this used backward compatibility code that calls parse method in projecthelper
if source file n't there throw exception
use fle from original websphere jar
specification name must match
class of problem
by default messages always displayed
implementation vendor id must match
we must keep two lists since other classes may modify filesets vector it package private without us noticing
look up name
add main fileset to list of filesets to process
reset list of sections
must be plain ensured by typeattribute
extension name must match
check if tar out of date with respect to each fileset
add all dependency data to manifest dependencies
children added to after this cloning
invalid type specified
we defined so it instantiation problem
warn or gnu
project helper may process multiple files we 'll keep track of them to avoid loops and to allow caching caching will probably accelerate things like key absolute file value processed tree since tree composed of ue and rc it can be reused protected hashtable processedfilesnew hashtable
can be null if error occurred in setup
output properties
'' appended compatibility with zip task
start with instantiating class
we would end up adding to archive
add all dependency data to manifest optional dependencies
add in something like extension list javahelp java
here we successfully loaded class or failed
all methods static
gets destination file
so long as line n't empty and n't comment
hey there nothing wrong with us
legal key value separators and white space
only if we do have key there going to be value
handle line continuations if any
has key already been loaded into resourcemap \?
these shenanigans necessary bc norm walsh 's resolver has different idea of how file urls created on windoze ie file foo instead of file foo
driver must still be cached
core class that exists in system classpath ignored
def ghi
make sure parent dirs exist else create them
check to see if dest file has to be recreated
reflect these into target
there starttoken and there still stuff following starttoken
grab token
if there white space or or then it n't to be treated as valid key
find replace string
generate new line
forceloadclass not convenient here since it would not properly deal with inner classes of these classes
execute test and get return code
set start position next search
if listeners already has this listener do nothing
only override permissions if set explicitly
find next starttoken
deal with specified srcdir
deal with filesets
remove any files that should n't be overwritten
we need to build hashtable dynamically
non file resources
check that password has been set
check missing application on deploy update
check missing source on deploy update
check missing application on delete undeploy
core class that exists in system classpath not ignored with ignoresystemclass false
ensure that external entity resolves as expected using xmlcatalog transform xml file that refers to entity into text file entity listed in xmlcatalog pointing to different file stuff result into property val
sanity check
extend comparison retain bc only
actually tests constructor as well as setpath
when writing to log we 'll see what 's happening
try current classloader
close output file if required
place vendor specific tool creations here
only set if successful to this point
execute method
throw further
deal with resource collections
convert backslashes to slashes otherwise jjtree will put this as comments and this seems to confuse javacc
deal with filesets in special way since task originally also used directories and union wo n't return them
required attributes
make sure we exist
use this to create file and deal with non writable files
start any daemon threads
look driver path
class found in specified classpath
ensure that external entity resolves as expected with no xmlcatalog involvement transform xml file that refers to entity into text file stuff result into property val
currently visiting this node so have cycle
now run main threads in limited numbers start initial batch of threads
used by jpackage javacc
check target file
start timeout thread
determine if generated java file up to date
extract file 's base name
in vm not very nice since it could probably hang whole build imho this method should be avoided and it would be best to remove it in future versions tbd sba
will cause trouble in jdk if omitted
now find available running slots remaining threads
replace file 's extension with java'
change directory
continue on outer while loop to get another available slot
this default has been good enough until ant so stick with it
first search old javah class in tools jar
this actually relies on first manifest being found on classpath probably rt jar 's being valid
if we got here all slots in use so sleep until something happens
assume older than tools jar
required attributes deprecated use this going forward
all threads finished
optional attributes
who would interrupt me at time like this \?
now did any of threads throw exception
ensure that external entity resolves as expected using xmlcatalog transform xml file that contains reference to second xml file via document function second xml file refers to entity entity listed in xmlcatalog pointing to different file stuff result into property val
return bogus number
should be safe to parse
sanity check ourselves if we 've been asked to build nothing then we should complain
check name antlib
include locally screening purposes
following will be used as types and tasks
sort and run dependency tree sorting checks if all targets and dependencies exist and if there any cycle in dependency graph
try to find executable
now try to resolve against dir if given
what 's difference between id and name \?
no warning this not changing anything
this bit turns child tags into patters to ignore
if not set auto create classpath from project
this new way use classespath code same now
intended result urls
jdk return collections list
file time checks java
test when file begins with basedir twice
check old id behaviour
read in all constant pool entries
verify this valid class file
int version
read constant pool
this one here because changes to support resourcecollections have broken magic 's junittesttask task adds fileset to batchtest instance using java api and without telling fileset about its project instance original code would pass in project on call to getdirectoryscanner which now hidden deep into resources iterator and not reachable
inform ih to clear cache
read access flags and class index
try multi part netware volume length path see how it handled
be sure everything has been set
do merge
check static suite method first even when using junit
check jdk first will not help on jdk if only junit jar in cp because in that case linkage of whole task will already have failed but will help if cp has junit jar junit jar
add this file to addfiles vector and add it later at top level of output file
addoverlay system properties on properties from ant project
share setup testing depend task
register this as current task on current thread
jlink output input inputn
to maintain compatibility with command line version we will only add files to be merged
check to see that file with name name exists
test path relative to project base directory
meta inf not found in name of entry go ahead and process it
make sure that
test searching parents
class mockcache
ignore this if object does not have set project method or method privateprotected
mustsearchpath false or no path or not found keep our fingers crossed
quick fail if this not valid os command
necessary in case where you add entry that not compressed
override facility subclasses to put custom hashtables in
hand osfamily off to os class if set
it duplicate entry
this command will be executed only on specified os
adds contents of directory to output
gets name of entry in file this real name which class name of package with class name appended
attributes
hook management
time of build in milli seconds
adds file to output stream
test and handle forced process death
make sure file exists
this entry already exists so go with first one
methods to override
show command
note do n't need to specify size or crc compressed files
not strictly necessary but probably desirable junit specific test guis will show just failures but ant 's output shows failures vs errors we would prefer to show failure things that logically
use systemclasspath as well to include ant jar
finally set property
todo test on other versions of weblogic todo add more attributes to task to take care of all jspc options todo test on unix
only test on java
test not searching parents
if next has handled property
override task init
private string compilerpath fully qualified name compiler executable
get all files in sourcedirectory
instantiate it
try to get it from project or keys backward compatibility
override task execute
apply transformation
we going to scan everything anyway
destination of files to copy
evaluate correctness
user cli properties take precedence
complete list of files to copy
copy all necessary out of date files
getting properties
nope
get rid of all files not listed in source filesets
output default excludes
search next instance of from 'prev' position
get rid of empty directories on destination side
test here again to avoid method call non directories
put in newroots vector include patterns without wildcard tokens
we already in right path so second parameter false
if we at end of string we tack on then move past it
must match default value of ant inheritall
checkstyle constantnamecheck on
must match default value of ant inheritrefs
now we need to populate compiler adapter
finally lets execute compiler
check if dir exists by trying to change into it
peek ahead to see if next char property or not not property insert char as literal
demand create vector of filesets
try multi part netware volume length path with unix separator this testcase if from actual bug that found in availabletest which uses pathtokenizer
check if one of builds failed in keep going mode
make sure that we 've got destdir
bind to compiler
revisit defaults to target name that contains this task if not specified
make sure that we 've got srcdir
if compiler does its own dependency stuff we just call it right now
end class subant
remainder of this method only compilers that need their dependency work done
string srcfiledirsrcfile getparent
antliketasksattopleveltest
adding something to excludes'
constructors factories
child elements
end inner class
since we do n't mangle extensions like servlet does we need to check keywords as class names
if we sending files then assume out of date if we getting files then throw error
first char more restrictive than rest
this rest
we forking here to be sure that if jspc calls system exit it does n't halt build
tomcat gets old mangler
tomcat gets new one
project reference set in super setup
acrobatic cast
set destination directory relative from project if needed
if initial command configured then send it some ftp servers offer different modes of operation switching between unix file system mode and legacy file system
this class acts as custom ant task also and uses these variablesmethods in that mode
cvs missing
init testclasses path object
if style dir not specified we have to retrieve stylesheet from classloader
if we here then style dir here and we should read stylesheet from filesystem
xalan
testcases attributes and nested elements of selector
xalan xsltc
jdk xsltc
pre junit
file does exist property 'test' 'true'
plainjunitresultformatter
empty
snapshot of system properties
add timestamp
grant extra permissions to read and write user properties and read to java home property
no op not real business error
do actions
backwards compatibility two map to one mode
and hostname
revoke permission to write user home granted above via user still able to read though and default granted permission to read os name
testsuite can contain tests from multiple classes even tests with same name disambiguate them
xmljunitresultformatter
do we send output to formatters \?
new behaviour maps to all values of
attributes basetest
forkmode getvalue equals forkmode per batch
property found extract its name or bail on typo
various copy attributessubelements of passed thru to
getconstants static method no need to pass in object
try parsing line into integer
cf nb
make sure dependency not empty string
should work whether or not redirector inputstream null
test if os match
set default values if not specified todo should be moved to test class instead
after changing commandlinejava to search java executable do n't know how to tests value returned here without using same logic as applied in class itself asserttrue no classpath java
exec command on system runtime
create temporary file to pass test cases to run to runner one test case per line
checkstyle visibilitymodifier off bc todo if dealing with default cl need to parse out
copy input and error to output stream
make sure test will be accepted as testcase
make sure that depends attribute does not end in
starts pumping away generated outputerror
make sure test annotation accepted
note kirk radik com april if you put in you have to start running through regular expressions here much easier to just not include scripting information than to try to add it and strip it later
local copy since logoutputstream task private
wait everything to finish
dummy output framed report it 's all done by extension
configure attributes of object and it 's children if it task container defer configuration till task container attempts to use task
public hashtable getprocessedfiles return processedfiles
check its exit value
conforming to nodelist interface
do some writing to it
this should never happen
size of buffers to be used
write document
ensure 's new prefix attribute working
check it 's read only map
dont look much text here as it vendor and version dependent
parse method
identify class loader we will be using ant may be in webapp or embedded in different app
attributes
attribute setters
nested element creators
treat empty nested text as no text
first try system property
if binary check if incompatible attributes used
sanity check our inputs
from now methods all related to dom tree manipulation
jdk 'service' like in jaxp that will plug helper automatically if in classpath with right meta infservices
no need to do anything
writers do not throw exceptions so check them
create dom tree
log using warn so it displays in 'quiet' mode
get all files and add them to document
make sure that this really testsuite
this code needed by ebcdic and other strange systems it 's fix bugs reported in xerces
try next method
non existing files not allowed
wrong root element name issue warning
testcase might have failed and write zero length document it has already failed but hey mm just put warning
missing might imply no package at all do n't get fooled
modify name attribute and set package
do n't filter assertionfailure
junit support
most likely unknownelement
check if there suite method
no appropriate suite method found we do n't report any error here since it might be perfectly normal
static utils used by most helpers
in that case first fn will fail with cnfe and we will avoid unsupportedclassversionerror
ok fall back to junit
let 's use it
when running labelsync if view elements in sync perforce produces line of output looking like this one error depotfile label in sync
use junit
id attribute must be set externally
try to extract test suite automatically this will generate warnings if class no suitable test
had exception constructing suite
task container anything could happen just add child to container
on windows and unix we can ignore delimiters and still have enough information to tokenize correctly
return stack unfiltered
constant pcli listversionedfiles recursive format get understands
extract name of directory from filename
to compile on pre jdk even though this should always succeed
check to see if target directory exists
needed since project properties not accessible
create zipfileset this file and pass it up
pre
junittestrunner
rethrow
wrap
implicit else ignore since we have either unix or relative path
skip abs paths not under basedir if set
pre kaffe
logon using specified user name and password
initialize to size of first text fragment with hopes that it 's only one
if using resources disallow inline text this similar to using gnu 'cat' with file arguments stdin simply ignored
package
by default we add file
only scan directories that can include matched files or directories
file length checks rely on touch generating zero byte file
rats should not happen
second web xml file so skip it
otherwise executejava has thrown exception
no includes supplied so set it to 'matches all'
check to see if we warn or not
no added file yet
always start from current ftp working dir
construct it
cool case we do not need to scan all subdirs in relative path
this should not happen except if parent has been deleted by another process
and remember that we did
hit hidden file assume not symlink
will be caught and redirected to ant 's logging system
getrelativepath also finds about symlinks
add explicit resource collections to archive
validation
warn that selectors not supported
if we doing listing we need output stream created now
father and child pattern test
discard most of really big resources
open up resource
get files from filesets
find first non cached dir
could not change to it try to create it
create local temporary file
impossible since our processline does n't throw ioexception
see if we should issue chmod command
do n't have to check interface since then taskclass would be abstract too
if we have redirectorelement return decoy
ignore this if class being used as task does not have set location method
srcindex
srcindex targetindex
targets already absolute file names
put in newroots map include patterns without wildcard tokens
targetindex end
do checks buildfile stores fileset as property
delegate deletion of local temp file to delete task because of race conditions occuring on windows
microsoft 's ftp service array with length returned if configured to return listings in ms dos format
targetindex
codes and can be produced by ftp servers to indicate that attempt to create directory has failed because directory already exists
unix ftp server you can set default mask all files created
if action mk dir then specified remote directory directory to create
in this case we want to find how much time span there between local and remote
socks
this may be java thingy only
simple one shot execution
need nested readwrite elements
mask block from being edited all characters in constants
target must be specified
must be empty according to mock implementations
contains abstractfileset both dirset and fileset
we have to create unlocked label first
all three specified but class missing null
specified resource can such thing exist \?
specified dir taskdefs should exist since it 's location of buildfile used
core class that exists in system classpath not ignored with default ignoresystemclasses value
removing something from defaults
do n't catch junit exceptions
targetindex srcindex
srcindex end
readable form of parameter kind
no targetfilepos
fill in source file names
if source at eof and lookahead ctrl return eof not ctrl
here we 'd parse output from change into submit in order to support default change
this skipempty false
remove any non numerical chars should leave change number
if there new priority and it different change it
this type of output might happen change renamed change and submitted
match begining of depot filespec
setup ant project
catch permissions denial and keep going
we need to escape description in case there
eof
xsltliaison
checkstyle visibilitymodifier off bc input output error checkstyle visibilitymodifier on
here we can either revert any unchanged files in changelist or any files regardless of whether they have been changed or not whole process also accepts filespec
write properties file back out
should n't throw out deprecation warnings before we know wrong version has been used
addconfigured hashtable should come before addconfigured map
pr
setup selector
if we have in file and out then process them
make sure destination directory exists
process all directories marked styling
only resource collections there better be some
checkstyle membernamecheck on checkstyle visibilitymodifier on
get cache so we can check our things
anything else classname
massage pcli lvf output transforming to '' so get command works appropriately
read back label spec from perforce replace options submit back to perforce
processxml
sync says error when file up to date
sometimes there 's info
param
runtime directives
perforce task directives
opts and cmd opts rtfm
setters called by ant
check that both arrays have same size
test
get default settings from environment mark would have done something cool with introspection here
reset error flags before executing command
check api these it 's how cvs does it
private static final string pcli lvf args lvf aw
check workspace exists launch pcli listversionedfiles aw capture output build command line from what we got format
default pvcs project
create folders in workspace
add test classes to its classpath
plain impossible to get here maybeconfigure should have thrown exception
launch get on output captured from pcli lvf
change these through their get and set methods
these fields deal with includes and excludes
check all of properties that required
finished executing task null it to allow gc do its job if this ue used again new realthing will be made
search items on this server
disconnect from server
tell how many files checked out
optional logon connects if necessary
instance variable to allow cleanup
let selector do its checks
do runtime
we always display itemid object id and primary descriptor
if working directory specified then add it to command line
unknownelement always has associated target
if failed to process document must delete target document or it will not attempt to process it second time
checking or or
if processor n't specified see if trax available if not default it to xalan depending on which in classpath
performance reasons it important to pre fetch all properties we 'll need all items we 'll be searching
extract algorithm name and config from selectors output
return elementname
if we here we can set stylesheet as resource
we 'll need this item type 's primary descriptor
does this item type have secondary descriptor \? if so we 'll need it
if we here we cannot set stylesheet as resource but we can set it as file so we make attempt to get it as file
now build array of property names
pre fetch item properties and cache them
names same \?
only 'name' and 'value' exist
now search items in selected folder
convert whatever separator char in starteam to that of target system
value must be of given type say boolean integer string that mostly used
if it ends with separator then strip it off
return copy so that caller must call settab to change state of fixcrlf
change all eol characters to match calculated eol string if configured to do so append trailing eol so that file ends on eol
only want to do this first time
return clean value
attributes same \?
class attribute
process all items in this folder
process all subfolders recursively if recursion on
class factory
get descriptors this item type
ensure that external entity resolves as expected with no xmlcatalog involvement transform xml file that contains reference to second xml file via document function second xml file refers to entity stuff result into property val
verbose mode only
sub elements same \?
error message strings
show folder only if changed
show if file locked
end verbose only
initialize test environment called bed
hidden constructor
now exit here if property already set
add command checkoutfile to commandline
create file
use vm launcher instead of shell launcher on vms
builds command launcher os and jvm we running under
show primary descriptor there should always be one
ensure follows immutability rule
invalid extension point
set property on project to make sure that loading property with same name from xml file will not change it
calendar stuff
try using jdk launcher
show secondary descriptor if there one some item types have one some do n't
change item to be checked out to starteam file
begin set and get methods
begin filter getters and setters
this field will hold unnnn right after reading non latin character afterwards it will be truncated of one char every call to read
predefined tokenizers
os
check if need to set loader
now create scriptrunner
windows xp nt
find script repository it stored in project
try context classloader classloader loader thread currentthread getcontextclassloader
configure selector
not included to nothing
windows need to use auxiliary script
add command checkinfile to commandline
openvms
tokenizer classes impls moved to oata util
set location of implicit target associated with project tag
check if this target in current build file
generic
add command checkinproject to commandline
look recursive option
make sure we do not recurse forever
look comment
pr
printproperties getproperties
just try to use what we got
soscmd command options
soscmd option flags
add command getfile to commandline
look version attribute
configure object
add command getproject to commandline
look label option
make sure localdir exists create it if it does n't
this exit status
children this shadow of unknownelement children
get path to soscmd exe
sos server address required
vss info required
vss project required
task included in target including default one
poly type
verbose
disable compression
every key identified by properties must have been loaded
text
attributes settable from ant
just try to see how much we got
determine if we 're running under xp nt or
windows
same logic as on algorithm no testcases created
windows xp nt
add command checkoutproject to commandline
add command addlabel to commandline
on most systems one could use binsh env
label required
get list of files in dir
rely on path
set source to file at that location
empty block
system exit
build successfull
substitute xml with properties
cache must return stored value
abstractsshmessage
dir does not exist
get io streams remote scp
this indicates error
add process to list of those to destroy if vm exits
appears that next token not used and it 's zero
read content of lfile
forcibly kill it before continuing
ignored
do nothing
test iterator
remove process to list of those to destroy if vm exits
did n't receive any response
execute command
get key including
wait it to finish
ran out of time
nb using default locale as key env name
completed successfully
no password will require passphrase
find key in current enviroment copy and remove it
skip
send content of lfile
pr
basedir of subantsubant test subant xml therefore we expect here subantsubant test subdirectory
clear cache
further equivalence name of previous logical
new logical \?
already got this logical from higher order table
if label has been supplied and it view label use it to configure view
arguments
swallow if there error before so that original error will be passed up
must not be directory
illegalaccess illegalargument classcast
like like like
add environment as logicals to dcl script
log message project msg debug
we want this to have false default unlike checkin
output empty string
get hashvalues
if label has been supplied use it to configure view otherwise use current view
if date has been supplied use view configured to date
otherwise use this view configured as tip
now we recursively call this method on all sub folders in this folder unless recursive attribute off
handle files so they appear first
now do it again directories so they appear last
assert null and equality
text same \? need to use equals on string and not on stringbuffer as equals on string buffer does not compare contents
create new label and update repository
create instance of rmic redirecting output to project log
assume that this not supported attribute type thrown example by dymanic attribute task do nothing
junit stuff
use cmd exe to change to specified drive and directory before running command
pr
output 'output of echo'
if isfile
we on dos style system so this path could be drive spec we look at next token
use cmd exe to change to specified directory before running command
need to set project on unknown element
we know we on dos style platform and next path starts with slash or backslash so we know this drive spec
attempt complete directory renames if any first
we try to delete directory created in copydirtest
files to move
prune away any files not belonging to revision label this one ugly api from starteam sdk
not yet supported see note in selector
this file still available to be moved \?
pr says that it can return null
no root local mapping has been specified
implicit target must be first on dependency list
if this last time through loop then move will not occur but that 's what we want
inspect everything in root folder and then recursively
tell user what he doing
ignore and get next token
maybe io error \?
set local folder
found file
attributes
create hashtable to group them by parent directory
param message
new file srcetctestcasestypesresourcesselectorscache properties delete
this path could be drive spec so look at next token
on io error list can return null
else lnk exists do nothing
get iterator of file objects representing links canonical
task can contain other tasks no other nested elements possible
first hex character if character needs to be escaped
whether this vm but also check executable null
iterate through names get matching values
it indeed drive spec get next bit
javadoc arguments default doclet
add links arguments
really
miscellaneous typical temporary files
should be impossible
href valid url
cvs
ok just skip
return
buildlistener stuff
ensure follows immutability rule
configure selector only defaults used
sccs
include exclude processing
find starteam folder specified to be root of operation throw if it ca n't be found
visual sourcesafe
valid extension point
pr
make sure that parsing does not break
fill up properties object with link and resource names
subversion
find resource of existing link
rename resource thus breaking link
delete now broken link
return resource to its original name
loop through supplied file sets
load included files as properties files
where name contains
if no basedir and no includes nothing to do
gl
ignore malformed exception
we saw some non ascii character
skip non abs paths if basedir null
firstly check if tools jar already in classpath
now update class path property
private static final int attr normal private static final int attr bright
gws or gwr
set to empty str if no local path return
use os launcher so we get environment variables
where only address supplied
removing base from path yields no change path not child of base
createargument true necessary to make sure locale first argument required in
specify new label on command line instead of being prompted
first off make sure that we 've got command and vssdir
ant javadoc task rules group attribute args comma delimited each arg space delimited strings group xslt packages org apache xalan xslt xpath packages org apache xalan xpath
package private
add group arguments
private static final int attr underline private static final int attr blink private static final int attr reverse private static final int attr hidden
javadoc parameters
do singleton initialization
tag element not used as fileset but specifies tag directly
not
build command line from what we got format ss get vss items \? as specified in ss exe help
whether or not actual update required we do n't need to update if original file does n't exist
should get no output at all
tests property element using xml schema properties as example
if using external file write command line options to it
javadoc parameters
there any java files in this directory \?
if location of ss ini specified we need to set environment variable ssdir to this value
we do n't need to care duplicates here path list does it us
build command line from what we got format ss checkin vss items \? as specified in ss exe help
convert class name into resource
vl
ensure follows immutability rule
valid extension point more derived than map above but after it
set property
line feed
first off make sure that we 've got command and localpath
pre kaffe
by default remove matching empty dirs
only supported since kaffe
do n't know how to handle that idl file does n't have corresponding java source example
handle many different stub options
delete single file
default compatibility
anything else
delete directory
do nothing with value \? or go stubversion \? \?
set non null stuboption
add files from default fileset
we know that name endswith class
full pathname specified parent dir of path in list
patch redirector to save output to file
combine build classpath with system classpath in order determined by value of build sysclasspath
verify special operations
jar required
build command line from what we got format ss cp vss items \? as specified in ss exe help
java we generate compatible stubs that unless caller asked idl or iiop support
deal with jdk bug
jrmp with simple naming convention
know this not necessary but prefer it explicit sb
no package
eol
only stub no tie
rely on rmic being on path
set up args
handle default specially by choosing sun or kaffe compiler
no match \? ask non lower cased type
do system assertions
second run second call should get no files because no content has changed
catch invalidness
see if it package or class
packages get prefix
classes just get classname
fields
do n't reposition when we 've reached end of stream
add all nested elements to our catalog
make some files dirty
nonexistent resources could only occur if we already deleted something from fileset
ignore this if class being used as task does not have set project method
cache
test only ignore tests where we arent work at moment public static junit framework test suite junit framework testsuite suite new junit framework testsuite suite addtest new modifiedselectortest testvalidatewrongcache return suite
no check kind only internal use therefore check it while development
do not process this file
shadow of above if value altered in execute
these files made dirty with different content
make sure facade knows about magic properties and fork setting
deal with resources
new behavior delayed task creation description will be evaluated in project getdescription
append classpath of nested catalog
adapt currentelement to case we 've actually found
make transaction each resource
append catalog path of nested catalog
apache resolver present need to check if it can be seen by catalog resolver class start by getting actual loader
make transaction group outer command
load base class through this loader
and find its actual loader
accessobject to test ant environment
am only one so have to close reader
process all transactions
xml commons resolver library not available so we ca n't use it
following line seems to be necessary on windows under jdk
catch any statements not followed by
classpath lookup we ignore base directory
check and ignore empty statements
mockcache doesnt create file therefore no cleanup needed
'' only used if algorithm has properties
dreaded backwards compatibility
introspectionhelpertest
call target making files dirty
get parameters
throw exception if cvs exited with error iulian
re implement legacy behaviour
check if not real cvsroot set it to null
check if not real cvsrsh set it to null
check result
calculate eol string per current config
check if not real tag set it to null
use passed in base in preference to base from matchingentry which either null or directory in which external catalog file from which it obtained located we make copy so matchingentry 's original base untouched of course if there no base no need to make copy this standard behavior as per my reading of jaxp and xml catalog specs cks
parse each catalog listed in nested elements
assume eol crlf lf eol crlf unix
xmlcatalog
execute
mark all files which should be selected as rue and all others as alse directories always selected so they always rue
addremove tabs
add missing eof character
name should n't be selected only timestamp has changed
given cache must be empty
this call should succeed as unless overrides if
override some of code so we can test handling of return code only
req req
scan source directories and dest directory to build up compile lists
cleanup environment
there no need to expand properties here as that happens when transaction addtext called to do so here would be error
we ca n't do it ourselves as jcvs gpled third party task outside of jakarta repositories would be possible though sb
package private now
we chmodding given directory
special case in zips we do not want this thing included
ask ant to update properties
eol
may be altered in validateattributes
first check if archive needs to be scanned again
spare scanning again and again
will be removed in validateattributes
cached directoryscanner instance our own project only
selectorcontainer methods
eol
make sure we do n't have illegal set of options
win uses bat file executing commands
no command \? no string
deal with single file
parse with simple finite state machine
inherit doc
rulebasedcollator not yet supported see selector note
eol
deal with resourcecollections
ca n't have zero length token
we have another token let 's parse it
step beware of zipfileset
eol
not fileset or contains non file resources
not directory file resource needs special treatment
add conditions and more commands as soon as need arises
make sure we do not get npe
test that watchdog ends process
to override
make dirty
if source eof but last character not ctrl return ctrl
do all copy operations now
testcases comparator implementations
resourcefactory interface
restrict to out of date resources
return current look ahead
clean up again so this instance can be used second time
reuse array created by mapper
third run
now patch in all system properties
keystore file
must be url just pass as
ignore do n't trust anyone
gump friendly do n't mess with core loader if only classpath
last do n't trust developer
newer versions of kaffe wo n't have this but this will be sorted by fileset anyway
just to be sure
directories to check
eol handle as two consecutive and
construct new class loader
in this case all files from origin map to fullpath attribute of zipfileset at destination
jdk seems to set java home to jre directory
param parentfirst
just keep old version as well and let addexisting sort it out
sun 's and apple 's have jce and jsse in separate jars
instance initializer executes just after super call in this class 's constructor
public
ibm 's has rt jar split into smaller jars and combined jcejsse in security jar
added macos
shield it from being closed by filtering streampumper
remove any null elements
create list
do checks
return copy so that call must call seteof to change state of fixcrlf
fill it
convert to array
backwards compatibility forces us to repeat logic of getresourcestoadd fileset here once again
properties part of vm options
boot classpath
return copy so that call must call seteol to change state of fixcrlf
main classpath
cloned system properties
classpath classpath args
class modifiedselectortest
if i'm removing eof character do so first so that other filters do n't see that character
jar execution requires additional jar option
store data into byte
end nested class
add this propertyset 's nested propertysets' property names
if filtering java source prevent changes to whitespace in character and string literals
set read only properties checkstyle visibilitymodifier on
make copy
first run first call should get all files because nothing in cache
give some values via property file to that environment
third run third call should get only those files which content changed no timestamp changes required
core loader must be reverse reversetrue
first read in zero bytes
this allows core loader to load optional tasks without delegating
we trying to call target in which we defined or build file if this top level task \?
ignore this if class being referenced does not have set project method
note it string and not file to handle relativeabsolute otherwise relative file will be resolved based on current basedir
wait streampumpers to finish
normalize reference directory containing jar
gotta atleast put in proper spelling
read in file
now read in string
normalize current file
no match so bail out
try to find max line length byte section
continuation line
do not set signedjar option if sourcedest unless you like fielding hotspot crash reports
checkstyle visibilitymodifier off
unsigned or non lazy self signings always false
keep hashtable of attributes added by this task this task allow to override its own properties but not other properties so we need to keep track of which properties we 've added
make sure that counts same
merge file always wins
add this propertyset 's property names
map names
merge file always wins even class path
create one nameentry in appropriate pattern list each line in file
get filereader
replace last by chars contained in
add in warnings
ignore exception
resourcelocation
each child pass object added by processnode to its children in other word each object can pass information along to its children
this should be manifest version
add base set of permissions
use algorithm specified by classname
ensure follows immutability rule
and little shorter
else
lineorientedoutputstreamtest
line started with comment
add it back
none of actions revoked so all allowed
default true
should n't happen ignore
default false
write everything up to from
create vector and add in warnings all sections
regular expression factory
temporary variable
off by default
this included
addparam createparam algorithm provider do n't know any valid
first and second run
class mockproject
make sure that elapsed time in set via date works
make sure that elapsed time in ms works
write replacement to
set up logging
dont do any progress unless asked
search again
set up url connection
if this attribute added by this task then we append this value to existing value we use setproperty method which will forcibly override property if it already exists we need to put these properties into project when we read them though instead of keeping them outside of project and batch adding them at end to allow other properties to reference them
should be new moon
write remaining characters
apachecatalog
make sure catalogresolver instantiates apachecatalog rather than plain catalog
debug catalogmanager getstaticmanager setverbosity
pass in reference to ourselves so we can be called back
apachecatalogresolver
use original casiness of key
sorted bag impl borrowed from commons collections treebag
\?
not using accessor in this case to avoid side effects
package private
new oata util readerinputstream new inputstreamreader
encoding encoding
first easy way if all children filesystem only return true
netware and os piggy back on windows since here and in apply code same assumptions can be made as with windows that ok separator and do comparisons case insensitive
cached directoryscanner instance
if no nested natural order
use anonymous subclass since projectcomponent abstract
replaceregexptest
and little longer
dummy
implement resourceselector inherit doc
first check that all elements correctly configured
different dates different files
here do bulk comparison
at this point we know we have tie
currently we deal with only two path formats unix and windows and unix everything that not windows with exception netware and os below
iterate over map entries and apply each one stop when one of entries actually changes element
throw buildexception on error
filenamemapper interface
default empty string
test consecutives transform
create as many directory prefixes as parent levels to traverse in addition to reference directory itself
sanity check ditch it if you want faster performance
determine file whose out of dateness to be checked
sanity check
find longest prefix shared by current file and reference directory
we have match add as many as parent directory traversed to get relative path
determine file whose existence to be checked
directory size never selected
you wish
check millis and only set it once
continuation on first line continuation of name concatenate this line and name
when str starts with file separator pattern has to start with file separator when pattern starts with file separator str has to start with file separator
up to first ''
required required
string exhausted
java keywords not special
modify headers nb things like user authentication could go in here too
prepare java style credentials
string not exhausted but pattern failure
connect to remote site may take some time
up to last ''
next test result http only
no 's so we make shortcut
character mismatch
test result http only
this three attempt trick to get round quirks in different java implementations some of them take few goes to bind property we ignore first couple of such failures
string matches against pattern
successful download
this happens if projecthelper not registered with project
find pattern between padidxstart padidxtmp in str between stridxstart stridxend
wrote testcases in one java file because want also to test combined behaviour see end of class
methods to register and unregister shutdown hooks
check to see if shutdown hook methods exists support pre jdk vms
wait to add shutdown hook as needed
pattern contains only '' which matches anything
process characters before first star
it just wo n't be added as shutdown hook
sleep some time to make sure touched file would get more recent timestamp according to file system 's granularity should be to account windows fat
process characters after last star
would love to compare this with but depending on filesystems granularity it can take arbitrary value just assert time has changed
expected exception caught
underscores at front get underscore too
shutdown already in progress
two stars next to each other skip first one
all characters in string used check if only 's left in pattern if so we succeeded otherwise failure
we know that dynselector must be non null if no error message
static utility methods could be placed somewhere else
deal with if and unless properties first
attributes
internal member variables
constructors
non java char at start underscore then hex value
remove start and end quotes if field string
configuration
normal use inside ant
set self as buildlistener to delay cachefile saves
no reference to project during normal junit tests
default buffer size
this parameter later use
specify algorithm classname
preserve case on cygwin when using touri
use algorithm defined via name
asserttrue same timestamp up to date fu isuptodate firsttime firsttime
state engine falseenvelope truemessage
stateless
else nothing to do
singletons since all state in context
set main attributes pattern ''
and paths stripped
we in imported file
specify cache classname
use cache specified by classname
after you all of properties ok do your thing with starteam if there any kind of exceptions then send message to project log
top level file
specify comparator classname
load specified class
selection work
we have 'resourced' file so reconvert it and use 'old' implementation
if we do n't know type of line and we in emacs mode it will be error because in this mode jikes wo n't always print error but sometimes other keywords like syntax we should look all those keywords
use '' to calculate digest based on file name this required in order to get same result on different platforms
\? \? ok \? \?
you can not compute value directory
maybe update cache
this happens if ant used with project helper that does n't set import
attribute and nested element support
usual classloader
use default if not file or file not found
paths relative to build file they 're imported from not current directory same as entity includes
additional use provided classpath
whether or not this processdestroyer currently running as shutdown hook
'beautiful' output
member variables
redo test but include patterns inverted
check defaults
now lock if required
start with simple absolute file names
ignore attributes from unknown uris
this should return quickly since it basically no op
algorithm configuration
thread did n't die in time it should not kill any processes unexpectedly
logic
if this list empty register shutdown hook
implementation adapted from taskdefs checksum thanks to magesh hint
generate classpath because kjc does n't support sourcepath
read file
member variables configuration
two characters form hex value
generate clsspath
member variables internal use
constructors
kjc do n't have bootclasspath option
cache configuration
data access
process factory class
swallow as this simply does n't seem to be kaffe
no further processing
process factory path
avoid endless loop
now test some relative file name magic
set explicitly before starting \?
set up javac options
check if service configured correctly
then add apt options
default basedir location of build file
finally invoke apt use reflection to be able to build on all jdks
rethrow build exceptions
check whether user has specified absolute path
cast everything else to build exception
do n't need opposite check as dictionaries have same size so we 've also covered all keys of already
checkstyle parameternumbercheck off bc
call compile method
this should not happen because lines returned with end of line delimiter
checkstyle parameternumbercheck on
if name has not already been defined define it
jvc does n't support extension dir extdir so we 'll emulate it compatibility and convenience
two not existing files equal
do n't want to compare directory contents now
jvc has no option source path so we will add it to classpath
as far as we know
ignore release of already closed funnel
those would fail because of way buildfiletest captures output
implies lastmodified
add classpath before internal one
enable ms extensions and
write child elements and text
write indent characters
write element
free up memory used by cached items
replace projectname in file 's absolute path to viewname this makes root target of checkout operation equal to targetfolder dirname
steal default namespace
do not display message about this
write attributes
write element close
do not display logo
relative path
add files
run
does modern compiler exist \?
what 's working directory \? if local then its folder of input file otherwise its current dir
to change body of implemented methods use file settings file templates
windows adds drive letter in uppercase unless you run cygwin
if this same name specified in 'manifest' this manifest to use
assuming 'skip' otherwise do n't warn if skip has been requested explicitly warn if user did n't set attribute
parse output of command
swallow as we 've hit max class version that we have
number of milliseconds in day
on ibm 's jdk directory layout different follows sun 's layout
unfortunately on windows java home does n't always refer to correct location so we need to fall back to assuming java somewhere on path
ca n't access booleans in myprinter here even if they static since myprinter instance that used in test has likely been loaded via different classloader than this class therefore we make printer assert its state and only check tail invocation
this most common extension case exe windows and os nothing nix
in java apache stuff moved
finally show item properties always show itemid
fall through
give ourselves some time system call to execute tweak if you have really over loaded system
in previous version date of file set to milliseconds since it did not work on computer running jdk windows
just add sourcepath to classpath jdk as well as bootclasspath and extdirs
if buildfile specifies sourcepath then do n't output any sourcepath
there any here that we forgot \? fall through
things like sun reflection sun misc sun net
support source and source has been added with jdk and n't present in either
strip token
does n't support source
if it ended in dot throw exception
exact match
throw in netware volume names
use vm launcher instead of shell launcher on vms java
gcj does n't support bootclasspath dir bootclasspath so we 'll emulate it compatibility and convenience
might read too much
would be imprecise
gcj has no option source path so we will add it to classpath
write out number of characters encoded in this line
set padding defaults
throw new illegalstateexception command unrecognized response
use reflection to be able to build on all jdks
get next bytes if we have them
in impored file and not completely ignoring project tag
no bootclasspath therefore get one from java runtime
if user has set jikespath we should add contents as well
reflection to avoid bootstrapbuild problems
ok java
now verify that class has implementation
drive letters must be considered just normal filenames
unknownelement used tasks and data types with delayed eval
windows probing logic relies on word 'windows' in os
there only four platforms that we look
first try java
nested element
millis per second
get host of url
terminate with linefeed alone
filter out messages based on priority
passed test
container addtask task this nop in ue task init
java reachable address isreachable timeout
to to to to to to to to
store octets
utterly implausible but catered anyway
simple name specified path in list name
load parser class
padding
only text nodes that non null after property expansion added
do not close stream
empty
get some non crypto grade randomness from various places
if suffix does not starts with and char preceding suffix we assume user wants to remove as well see docs
cannot resolve it so skip it
plain component
remove initial separator root has it
unc drive
null parent dir
format device dir subdir file
treat directories specified using dir syntax as files
not really user settable properties on tasksproject components
do check destination file existing
execute script
support source and source has been added with jdk jikes does n't like it
assume this ioexception about un readability
any kind of fault not reachable
java or earlier
check build compiler provides defaults
get time
add some time we assume no os has granularity this bad
pick value that good everything
initial state false
on cygwin our current directory can be unc assume user dir absolute or all hell breaks loose
ensure that ends with so we never think foo parent directory of foobar
looks like nothing from meta inf should be added and check not case insensitive see sun misc jarindex
need to keep package private version backwards compatibility
every condition xored against previous one
build path stack info to compare
not same device would be on linuxunix
validate
no comparison possible
if from part longer fill it up with to reach path which equal to both paths
fall through
now match files
fill it up path with parts which not equal
base directory of fileset
intentionally left blank
code from magesh moved from defaultlogger and slightly modified
if you cannot read it you wo n't be able to write it either
do n't add to archive
make sure attributes reset when working on 'new' file
must be zip of some sort
does class have package structure
initial version used dateformat short time format which ignores seconds if we want seconds as well we need dateformat medium which in turn would break all old build files first try to parse with dateformat short and if that fails with medium throw exception if both fail
check if package structure more than level deep
class name has more than package level 'com company class'
when we leave this block we can be sure all data really stored in main memory before new threads start new threads will sure load data from main memory this probably slightly paranoid
does n't java know interruptions rude \? just pretend it did n't happen and go about out business sheesh
check that older up to date with newer dest
we have ended changelog that particular file so we can save it
class name has only package level 'package class'
possibly altered in prepareexec
add class with no package 'class'
force bcel classes to load now
reset comment to empty here as we can accumulate multiple lines in processcomment method
same as regular task see at end of file
we want something of form yyyy mm dd
now skip entries which missing date
skip dates that too early
we look through classpath elements if element dir we look file if it zip we look zip entry
first letter of previous segment of class name 'class' upper case ascii so according to spec it 's inner class
default config of our purposes
do we need to perform further processing \?
skip dates that too late
register groovy ourselves since bsf did not natively support it in versions previous to
want to keep todir itself
this just tests that function does not blow up
validate input parameters
build rdiff command
translate to so that perl substitution will work
no permission here
compute compiler options based on input options first
be strict about line separator
translate to so that matcher will work
ds returns directories in lexicographic order iterating through array backwards means we deleting leaves before their parent nodes thus making sure well more likely that directories empty when we try to delete them
do substitution
replace with corresponding group
nodes and heap entries run from entry both heap and nodes sentinel
blockno
when we get here we have either empty assemble buffer no bytes to write numtowrite
ch
this directory may have become empty we need to re query its children list
list of files that must be copied irrelevant from fact that they newer or not than destination
send standard input to process by default
inner class continually pumping input stream during process 's runtime
just paranoia constant
nothing to concatenate
ensure that parent dir of dest file exists
could still be os
empty block at end of file
append fragment we defer property replacement until later just in case we get partial property in fragment
sort block and establish posn of original string
magic random port which unlikely to be in use
support multiple packages
now block 's crc so it in known place
now single bit indicating randomisation
force command not to be null
finally block 's contents proper
run cvs command
parse rdiff
followlinks should be true by default but if this ever changes we will need this line
drive letters not used just to be considered as normal part of name
should fail since recursion will occur
write tag diff
it removed file
if file being added web infweb xml we warn if it 's not one specified in webxml attribute or if it 's being added twice meaning same file specified by webxml attribute and in element
web xml file found see if it duplicate or not
there no web xml file so add it
there have been reports that files could be compiled so conservative approach
special headers
decide how many coding tables to use
generate initial set of coding tables
prepare auto select mechanism
iterate up to iters times to improve tables
compute mtf values selectors
try mime format
ssl only allowed with mime mail
transmit mapping table
now selectors
now coding tables
and finally block data proper
try uu format
set group start end marks
unrolled version of else block
try plain format
find coding table which best this group and record its identity in selector table
increment symbol frequencies selected table
valid mailer must be present by now
valid message required
inlined bsw inuse \?
inlined bsw
inlined bsw
at least one address to send toccbcc required
bsbuffshadow bsliveshadow
inlined bsw curr
set mimetype if not done already and required
inlined bsw
identify which files should be attached
let user know what 's going to happen
inlined bsw
pass params to mailer
send email
setuserproperty to override system properties
let user know what happened
read message from file
copy
start inline maingtu
we assume that everything jikes writes goes to standard output not to standard error option xstdout that given to jikes in javac dojikescompile should guarantee this at least hope so
while
set up byte frequency table
shortcut
undo mtf values selectors
complete initial radix sort
support address name
main sorting loop
process big buckets starting with least full
support name address
step
step
handle bit signed numbers
make maps
directory with respect to
rather convoluted equals test
check if liaison wants to log errors using us as logger
if we enter here it means that stylesheet supplied via style attribute
process all files marked styling
new env var append previous one if we have it
start handling sax events
let parent resume handling sax events
with blocksize byte byte byte byte byte
byte byte byte byte byte byte byte byte
check attribute overrides build compiler
allow this as imported in targets only tested when target run
take care of dependencies
swallow here will be thrown again in unknownelement maybeconfigure if problem persists
to work properly with national charsets we have to use implementation of interface javax activation datasource
byte byte byte
byte byte byte
must be like textplain charsetwindows
byte byte byte
just print message like previous versions of this class did
aside jdk clearly unaware of scottish 'session' which involves excessive quantities of alcohol
variables used by setup methods exclusively
we call liason configure and then liaison setstylesheet so that internal variables of liaison can be set up
give always slash as file separator so stylesheet could be sure about that use so dir name would not result in absolute path
currblockno
smtp provider
bad crc considered fatal error
receive mapping table
xxx task settasktype tag
create message
now selectors
now coding tables
set sender
taskcontainer nested element can contain other tasks no other nested elements possible
set reply to addresses
create url ant equivalent of filetoconvert touri tourl toexternalform
assignreassign message charset from mimetype
make sure there no issues concerning line separator interpretation line separator regex perl always unix line ie
should not happen
using default
using javax activation datasource paradigm
assuming mime type in form textxxxx charsetxxxxxx
skip 'charset'
sb append response
default srcdir to basedir
require destdir
second hex character if character needs to be escaped
file to convert where to put results
end of file 'y' 's' 'y'
build full file names
inlined int zvec bsr zn
deactivate this test as imports within targets not allowed
initialize above arrays
make sure we 're not about to clobber something
not char and not eof
if we run into timeout run away thread shall not make vm run forever if no timeout occurs ant 's main thread will still be there to let new thread finish
with blocksize byte
make intermediate directories if needed xxx jdk does n't have file getparentfile
byte
this fork
no need to keep track of bcc 'd addresses
blindly trust user does n't set any invalid headers
todo use antlr to parse grammar file to do this
rfc reply to header optional
fine java or earlier do it by hand
if no output directory specified used target 's directory
first off make sure that we 've got from and to extension
extra field length
error strings
ignore we do not want this to stop build
validating
set schema source doc
os use same mechanism as windows
junit adds getname method to testcase so we now have name attribute in introspectionhelpertest if we run under junit but not in earlier versions simply add it here and remove it after tests
enable xsd
validate parser type
enable schema checking
some systems have binenv others usrbinenv just try
by default use shell launcher vms
turn off dtds if desired
schema declarations go in next
running on windows or something so skip it
wait connection
byte byte byte
byte byte byte byte
byte byte byte byte byte
on openvms even exit value signals failure other platforms nonzero exit value signals failure
byte byte byte
make limited attempt to extract sanitized email address prefer text in ignore anything in parentheses
raw protocol methods below here
make sure dot on new line
raw supports
check that response one of valid codes
ensure always
add key to enviromnent copy
this almost implausible but required handling
file name
add extra dot
schemalocation
while
private path extdirs
first off make sure that we 've got srcdir
undone
create tarentry longlink contents of which entry 's name
parse vms logicals into required format varval val
keep jdk compliant so others can use this
second cr eol possibly empty line
crc manually calculated sorry crc mode link length uid gid
lf eol
any other char
no absolute pathnames windows and posix \? paths can start with networkdrive so we loop on starting 's
locate method runtime exec string cmdarray string envp file dir
bad uri pass this on
review this horribly inefficient but it ensures that we properly skip over bytes via tarbuffer
read in name
remove trailing null terminator
unexpected eof
remove log file from testspawn
unexpected target exception \? should not happen
\? \? should this be default ant \?
method stored and we used randomaccessfile
if random access output write local file header containing correct crc and compresseduncompressed sizes
constants messages to suppress by flags and their corresponding properties
not specified
general javadoc arguments
other implementation variables
sizecrc not required if randomaccessfile used
various zip constants
classpath makes no sense
store method in local variable to prevent multiple method calls
crc mode link length uid gid
fallback method java or earlier
destdir
compression method
srcdir
last mod time and date
file name length
version made by
ignore this method as there addconfigured form of this method that has higher priority
only try to move if this last mapped file and one of mappings n't to itself
create single array of arguments compiler
if it 's not ascii character break here and use utf encoding
print nice output about what we doing log
need to set java class path property and restore it later since netrexx compiler has no option classpath
record fact that it 's escaped
path mentioned in message
verbose level logging suppressed messages
crc mode link uid gid
get utf bytes remaining sub string
warning all warning messages
crc compressed length uncompressed length
info level rest
go through tokens one at time updating elements array and issuing warnings where appropriate
tag element used as fileset parse all files and create tag arguments
each byte
add our classpath to mix
file comment length
add system classpath addexistingtoclasspath classpath system getproperty java class path
disk number start
internal file attributes
some database keys see getproperties int
bad crc mode link uid gid
non ascii character make it positive then escape
xmlreader used to validation process
external file attributes
disk numbers
turn validation on
number of entries
length and location of cd
just check whether this throws exception
set feature from attribute list
zip file comment
no reason to change working directory as all filenames and path components have been resolved already avoid problems with command line length in some environments
array not exhausted
sets properties
version made by
version needed to extract
if we got here all well
could n't find compiler try to find tools jar based on java home setting
general purpose bit flag
compression method
last mod file date
sort first to files then dirs
found in java home as given
uncompressed size
filename length
only whitespace ignore
extra field length
file comment length
add any jars in directory
internal file attributes
relative offset of local header
disk number
lfh offset
overlay specified properties file if any which overrides project settings
data offset will be filled later
end of central dir signature
number of this disk
ignore because properties file not required
to report sax parsing errors checkstyle visibilitymodifier on
central dir on this disk
central dir
then check it implements xmlreader
offset of start of central
plain impossible with utf see fallback to platform specific anyway
no include pattern implicitly means includes
private static final int fg black
see if it sax parser
closes unused connection after error and does n't rethrow possible sqlexception since ant
validates property
wait second extras test failed with ms of margin on cvs apache org on august st
print out name of task if we 're in one
private static final int fg yellow
every file we have new instance of validator
dummy dummy dummy which holds glob mapper from java to class
initialize test environment called bed
if this not valid file just use uri
this will fail comparebytes abc utf
if there no main targets we list all subtargets as it means nothing has description
private static final int fg white
property
netware use booleantrue mode so we can use delimiter information to make better decision later
we on netware tokenizing handled little differently due to fact that netware has multiple character volume names
add ant properties
nb this makes use of project setproperty rather than project setnewproperty due to backwards compatiblity reasons
if we 've been successful on update delete temporary file
should n't be possible
ignore we will use defaults
checkstyle magic numbers checking dquote letter
get files from old methods includes and nested include
pump streams asynchronously
wild default when thread interrupted
on junit this failure on junit this error
set up primitive type map
wait process to finish
wait end of output and error streams
informative summary message in case of errors
die if cabarc fails
starting disk number
check of add configured class pattern
use this to prepend message to properties file
zipfile comment length
converts dos time to java time number of milliseconds since epoch
constructors
crc will be added later
local file name simply local target path tgt which has been passed recursively down from top of tree with item 's name appended
methods
add revision xxxxx to commandline
use os vm launcher so we get environment variables
if soshome not specified then we can look nocache
ms dos read only attribute
ms dos directory flag
create propertyfile
location attribute node within path object
testing drive letter search from root
fail because buildfile contains two targets with same name
executetarget setup commented out performance while target empty
ensure follows immutability rule
hide addtask taskcontainers
type may be null because it n't set
just use same directory as file itself this directory will exist
jarindex sorting directories by ascending order it has no value but cosmetic since it will be read into hashtable by classloader but we 'll do so anyway
insert as string by default
static
protected first so if any gui tool offers default based on enum it will be right
checkstyle visibilitymodifier off bc source file destination file destination directory
configure transformer
build command line from what we got format cleartool mklabel options viewpath as specified in cleartool help
list of ejbs found in xml one item within map doc ias or ejb descriptor
loop through files seeing if any has been touched more recently than destination jar
warning we trim values of all attributes because some extension declarations badly defined ie have spaces after version or vendor
new replace algorithm by tbee tbee tbee org because it n't able to replace something like aaa bbb
although this code appears to duplicate that of classpathutils newinstance we cannot use that because this formatter may run in forked process without that class
build command line from what we got format ss history elements \? as specified in ss exe help
there places in this file and perhaps elsewhere where it assumed that null acceptable parameter
just call getexecutestreamhandler and let it handle semantics of instantiation or retrieval
converted from sun internal classes to new base converter utility class extracted from get task
no further methods necessary this just amalgamation of two other interfaces
copying of dirs trivial and can be done non file resources as well as real files
singleton
simplest case setattribute expects string
use logger config
if only default specified and property did not exist in property file property set to default
if we had child elements we need to indent before we close element otherwise we 're on same line and do n't need to indent
key in dictionary but cannot be retrieved this usually due references that refer to tasks that have not been taskdefed in current run ignore
if value and default both specified and property previously existed in property file property set to value
write magic done by caller who created this stream this out write 'b' this out write 'z'
since task log category includes target we do n't really need this message
property type operations
crc mode sizdev uid gid
property types
keys used in properties
target file exptected string
mandatory constructor
resetting stylesheet reset transformer
do we need to reset templates as well
driver does n't understand url
it 's task append target
set parameters on each transformation maybe something has changed value of file name parameter
does n't make sense use logger config
check that suite generates no errors
could not get required information
any other references held \? can we 'close' loader so it removes locks on jars \? new one will be created
finally assign property with manifest classpath
refresh attribute in case of multivalued attributes
execute get
set timestamp to file date
if no webxml file specified it 's error
neither
check that having no suite generates no errors
use wrappers primitive classes int and integer treated identically
one cannot rmic interface classic rmi jrmp
manifest 's classpath attribute always uses forward slashes '' and space separated ant will properly format it on columns with proper line continuation
we do not use sun impl portability and always use our own implementation consistent testing
otherwise perform timestamp comparison at least
move generated source file to base directory if base directory and sourcebase same generated sources already in place
revisit at this point even non http connections may support if modified since behaviour we just check date of content and skip write if it not newer some protocols ftp do n't include dates of course
no source file generated nothing to move
property name of file we testing location attribute so we need to resolve given file name in provided folder
method called to addcreate nested element
check that invalid suite generates error
check if create of this property already present add takes preference over create cb purposes
not requested type
do n't think we can use file different rules relative paths
full pathname specified path in list simple name specified path in list
if helper cannot be found or if helper another classloader create new ih
we only get here if exception has been thrown
whether or not this processdestroyer has been registered as shutdown hook
asserttrue return code invalid retcode retcode
junit test assertequals runner getformatter geterror junittestrunner failures runner getretcode
ignore attribute from unknown uri 's
not initialized yet so create factory
specific attributes transformer
need to load task via system classloader or new task we want to define will never be task but always be wrapped into taskadapter
kept backwards compatibility
configure factory attributes
rest of method treats single jar like nested path with one file
use xmlcatalog as entity resolver and uri resolver
configure output properties
process processor options
jvc does n't support bootclasspath dir bootclasspath so we 'll emulate it compatibility and convenience
as new versions of java come out add them to this test
copy properties file
load properties from file if specified otherwise use ant 's properties
add configured replaces add method
should print panic cannot find importvocab file 'javatokentypes txt' since it needs to run java first before java tree
found property we set it 's good
on java we just bail out early
output properties
create task ok set this task as default one
build command line from what we got format ccm co files as specified in ccm exe help
sos class knows that sos server needs password flag even if there no password so we send
get random number between and number of files
do n't try restoring url todo wy not \?
todo why do we clone return value \? this only reference to it right \? so we should n't need separate copy
fix bug in jvms that return truefalse rather than truefalse from type editor getastext method
should this also fail sample \? can happen incorrect xpath expression
todo why does null property have value \?
int contentlength httpmethod getresponsecontentlength not visible todo size ouststream according to actual content length
this would be sensible but does not work public int hashcode return propmap hashcode
fixme due to startengine being commented engine will always be null private standardjmeterengine engine
note these lines center about dialog in current window some older swing versions have bug in getlocationonscreen and they may not make this behave properly
todo how can this be null \?
todo display warning dialog as this can take some time
todo may not work on all oses \?
todo error counting needs to be sorted out at present statistical sampler tracks errors separately it would make sense to move error count here but this would mean lots of changes it 's also tricky maintaining count it ca n't just be incrementeddecremented when success flag set as this may be done multiple times work round now to do work in statisticalsampleresult which overrides this method note that some jms samplers also create samples with sample count also transaction controller probably needs to be changed to do proper sample and error accounting purpose of this work round to allow at least minimal support errors in remote statistical batch mode
todo does n't putting this here mark tree as saved even though failure may occur later \?
todo fix so that this only called once per test instead of at every clone perhaps save previous filename and only load if it has changed \?
bug in above method
todo should we call test listeners \? that might hang too non nls default true
fixme factor with httphc impl httphc impl just append all parameter values and use that as post body
sslmanager handles keystore information jmeter basically it handles all logic loading and initializing all jsse parameters and selecting alias to authenticate against if it available sslmanager will try to automatically select client certificate you but if it ca n't make decision it will pop open dialog asking you more information todo does not actually prompt
urgent todo sort out equals and hashcode at present equal instances canwill have different hashcodes problem when proper hashcode used tests stop working listener data disappears when switching views this presumably means that instances currently regarded as equal n't really equal see java lang object hashcode
this means that new page will be shown before rendering complete however correct location will be displayed attempts to use page propertychangelistener to detect when page has been loaded failed to work any better
todo removes nodes from checkdirty map should it be done later in case some ca n't be removed \?
todo turn into parameter \?
todo should this just call super \?
todo improve this
todo do contenttype andor dataencoding belong in httpsampleresult instead \?
todo needs more work
maybe move to vector if mt problems occur
todo this method does n't appear to be used
todo this really necessary \?
programming error bail out
todo should this throw error \?
houston we have problem
todo replace with proper exception
todo charset \? todo this should really be request data but there none
in milli seconds todo properties \?
todo move to jorphanutils \?
needs to implement visualizer so that testbeangui can find correct gui class
can be null not sure why
todo implement other non text types
todo this not populated currently
needs to implement visualizer so that testbeangui can find correct gui class todo remove unsharedcomponent \? probably does not make sense testbean
non nls todo use different format here \?
notused long longsample getsamples load each node
this can lead to code smell meh do we care
todo this ever used \?
todo this best way to do this \?
all keys in messages properties lowercase historical reasons \?
not used protected double data null
todo do this more efficiently
todo should this use setfirst \?
dom tree panel to display response as tree view author dave maung todo implement to find any nodes in tree using treepath
todo does this method need to be public \? it n't currently called outside of this class
does system support unc paths \? if so may need to fix them up later
not used
todo should this be indeterminate \? todo should this be indeterminate \? non nls non nls
hack to skip processing
todo should we allow null non primitive types \?
todo not sure this best method
todo this needed \?
todo should we call start and stop \?
todo believe following code to end of method obsolete since namepanel no longer seems to be gui any component
method broken anyway
todo this sensible number \? non nls
todo work out how to search xml pane
todo this sensible \?
should we return fragment as text rather than text of fragment \?
not clear what can cause this \? conflicting versions perhaps
todo replace with proper exception return with error
todo validate contenttype reasonable types \?
mask values test type todo remove either match or contains they mutually exckusive
todo ought to be filechooser
allow jmeter to render frames and relative images must be done after setcontenttype why \?
todo this used \? apart from test code
todo should this be cleardata \?
provide description of this timer class todo this ever used \? ca n't remember where remove if it n't todo or obtain text from bean 's displayname or shortdescription return description of this timer class
provide dummy implementations to suppress download and display of related resources frames images todo create better dummy displays todo suppress link somehow
todo should this be jtlsaver \? only seems to be called by monitorhealthvisualzer
todo make running indicator its own class instead of jbutton
if child of transactioncontroller throughputcontroller and tpc does not sample its children then we will have this todo should this be at warn level \?
non nls so it agrees with above todo perhaps should share code with time function this non nls non nls non nls non nls
hack to allow automated tests to find when test has ended transient boolean testended false
todo could these be done earlier or just once \?
hack to resolve modulecontrollers in non gui mode
add system property so samplers can check to see if jmeter running in nongui mode non nls todo why does it create new instance \?
should we run beanshell script on startup \? non nls
little hack add each listener to start of list this ensures that thread running show first listener and can modify certain values before other listeners called
todo move this to components only reason why it 's in core because it 's used as guinea pig by couple of tests
todo this bit of code needs to be tidied up unfortunately modulecontroller in components not core bug
todo this class looks lot like argumentspanel what exactly difference \? could they be combined \? note it seems that this class not actually used
todo does not appear to be used
ensure that sample variables correctly initialised each run todo this best way to do this \? should it be done elsewhere \?
add fix deadlocks see see
hack to allow external control
todo why use space \?
todo should this also clear isdynamic rawparameters permanentresults \?
todo should level be more than debug \?
this effectively same as saver toxml object writer except we get to provide dataholder do n't know why there no method this in xstream class
todo fix up nimbus laf
fixme why searchtf not getting focus correctly after having been setvisible false once
menubar related methods todo do we really need to have all these menubar methods duplicated here \? perhaps we can make menu bar accessible through guipackage \?
hack to get full modifier value
todo consider removing this method and providing method wrappers instead this would allow gui package to do any additional clearups if required as has been done with cleartestplan
maybe do nothing at all \?
notused private void initbuttonmap
avoid error in ant task tests good way \?
does not appear to be used called by mainframe seteditaddmenu but that not called
aggregates sample results use by statistical remote batch mode samples aggregated by key defined by getkey todo merge error count into parent class \?
todo should errors be thrown back through rmi \?
jmetertreenode and testbeangui special gui classes and n't intended to be added to menus todo find better way of checking this
not used
todo perhaps save other items such as headers \?
todo should class implement samplelistener \?
settings readresolve sets these from serverclient values as appropriate todo would be nice to make these final not sure volatile needed as not changed after creation
should samples be aggregated on thread name or thread group default \?
make it easier to enter tab can use but that awkward
todo turn into method \?
does not appear to be used yet
guardedby samplestore todo perhaps use concurrenthashmap \?
todo clazz probably always same as testclass
todo should this be restored \?
todo provide proper name \?
todo does it matter that empty line will terminate loop \? csv output files should never contain empty lines so probably not if so then need to check whether reader at eof
todo convert to work more like upgrade propertiesnameupdater java special processing carried out header class string property testelement name converted to header name example mozilla compatible msie windows user agent becomes mozilla compatible msie windows user agent
these must be set before readingwriting xml rather hack but saves changing all method calls to include extra variable afaik variables should only be accessed from one thread so no need to synchronize
todo should this be restored \?
todo not used make private \?
todo appears to duplicate threadname field in sampleresult
yuck tiffimageencoder uses error to report runtime problems
check just in case
todo this right thing to do \?
results setresponsecode \? \? \? todo what code should be set here \?
todo should this implement supportscustomeditor \?
not used as element generated by resultcollector class
check if string valid jmeter 'expression' current implementation very basic it just accepts any string containing as valid expression todo improve but keep returning true
todo use or remove
guess this can happen as result of bad file read \? in this case it would be better to replace incorrect value with anything valid default value property but time being just prefer to be aware of any problems occuring here most likely programming errors so 'll bail out ms note ca n't bail out newly create elements have blank values and must get defaults also when loading previous versions of jmeter test scripts some values may not be right and should get default values ms todo review this and possibly change to
todo does not work yet need to determine sample type
temporary fix to allow default protocol to be changed
todo consider using private logs each derived class
does not appear to be used yet
remember to change this when class changes
todo temporary hack to avoid unnecessary bug reports subclasses
todo yet another ambiguous name does it need changing \? see also clearable jmeterguicomponent
todo this silent exception intended
following variables set by standardjmeterengine this done before start called so values will be published to thread safely todo consider passing them to constructor so that they can be made final to avoid adding lots of parameters perhaps have parameter wrapper object
todo should this set thread names all subsamples \? might be more efficient than fetching name elsewehere
setting samplingstarted before contollers initialised allows them to access running values of functions and variables however it does not seem to help with listeners
todo remove this useless entry parameter
todo fix this when there real implementation
todo only clear relevant entry if possible
surely this always null in constructor \?
todo why not use super class value \?
todo does not appear to be called directly
custom trustmanager ignores all certificate errors todo implement conditional checking and logging derived from authsslx trustmanager in httpclient contrib directory
maps to contain page and form encodings todo do these really need to be shared between all proxy instances \?
note source and line arguments nonsense in call any way to make these arguments sensible \?
it exception wrapped in javascriptexception \?
todo why empty block \?
todo perhaps this should be fatal error \?
clone will produce correct type todo but why do we need to clone list \?
todo only called by userparameterxmlparser getxmlparameters which deprecated class
todo probably not needed
todo needs to be synch \? probably not changed after threads have started jmeter home directory excludes trailing separator jmeter bin directory excludes trailing separator
hack bsh jar bshscriptengine implements compilable but throws java lang error unimplemented
todo what this \?
todo should equals and hashcode depend on field other than count \?
todo sync really needed \?
todo this correct \?
todo cpercent same as cmedian here why \? and why pass it to distributionline \?
todo should method signature of this method be changed to match super implementation using testelement parameter instead of abstractlistenerelement \? this would require instanceof check before adding listener below but would also make behavior bit more obvious sub classes java rules dealing with this situation n't always intuitive and subclass may think it calling this version of method when it really calling superclass version instead
todo should this method be synchronized \? all other function execute
todo should engine be static \?
commons io ioutils has equivalent methods these added before io included todo perhaps deprecate these in favour of commons io \?
todo should this be getmin \?
fix bug arg arg causing parse error however define arg arg ok this seems to be because parser skips terminator long options but not doing so short options
todo improve error handling
add logtargets to root logger fixme what 's clean way to add logtarget afterwards \? param logtargets logtarget array
hack to reduce need to load every class in non gui mode which only needs functions todo perhaps use bcel to scan class files instead \? class name should contain this string class name should not contain this string
todo exact ordering only required some tests change comparison to do set compare where necessary
todo field always true what \?
todo improve this check
todo could this be return \?
very wrong
todo should this be failure \?
wrapper to convert junit class into testcase todo work out how to convert junit assertions so they treated as failures rather than errors
todo should really return most specific longest match
todo should this be done embedded usage \? note element configtestelement when used standalone so we cannot use ftpsampler access methods
todo replace all this url mess with proper method areequivalent url url that would also ignore case in protocol and host names etc use that method in cookiemanager too
todo this possible \?
holder storing cache details perhaps add original response later \?
todo not used by gui
not currently used
todo correct url \?
note handling of simple vs double quotes could be formally more accurate but ca n't imagine session id containing either so we should be ok whole set of expressions quick hack anyway so who cares
todo improve string version to better match browser behaviour \? do browsers regard and as same \? if so it would be better to reflect this in string
code also allows lf only not sure why perhaps because test code uses it \?
todo find way to avoid cost of creating string here probably new patternmatcherinput working on byte would do better
todo should setbaseforscript be called here rather than above \?
java no longer allows content length to be set so do n't check it see todo any point in checking other headers \?
sampleevent not passed jmetervariables because they do n't make sense proxy recording todo this correct threadgroup name \?
todo needs cleaning up
non nls todo should this be variable \?
todo replace repeated substr above and below with more efficient method
todo perhaps make more specific than this \? no point parsing anything else gif
wo n't work writeerrortoclient httpreplyhdr forminternalerror generate result if nec and populate it hack to skip processing
todo should this be done when client created \? if so then details need to be added as part of httpclientkey
hack
may be replaced later
todo hack to be removed later
could we drop sync here \?
todo should lf only eol be allowed \?
dircontext dc todo perhaps return this \?
non nls todo change to use url version \? will this affect test plans \?
todo specify collection type without breaking callers
todo can this eever happen \?
all form parameter always have textplain as mime type todo make this parameter \?
non nls todo can this be obtained from file somehow \?
does not appear to be used
notused guipackage guipack
allow serializable test to work todo serializable test necessary now that jmetertreenode no longer gui component \?
todo null correct \?
todo how to handle thread stopped here
slight hack we need to ensure testclass not reset by previous call
todo should this be called if basedir null \?
todo could be converted to generic class \?
todo not used \?
todo make static \?
hack to allow entire url to be provided in host field
todo should this be ok \? assertequals contentencoding getcontentencoding check arguments we should have one argument with value equal to post body
todo downcase upper case non final variables
todo belongs elsewhere
todo can this happen \?
todo needed here because currently done on sample completion in jmeterthread but that only catches top level samples
todo this bit fragile
todo this correct \? if this not first file we ca n't write its header now simplicity we always save it even if there only one file
todo should this return something else \?
do n't allow override of content length this helps with soapsampler hack too todo what other headers not allowed \?
non nls todo should this be variable \?
todo this correct default \?
todo do we need to add charset file contents \? non nls
todo merge put and post methods as far as possible post checks multipart formfiles and if not invokes senddata httpentityenclosingrequestbase
get content length it tells us how much data to read todo maybe support chunked encoding then we cannot rely on content length
todo this correct default \?
todo should we allow mimetype only \?
todo should these fields be public \? they do n't appear to be used externally also they any different from httpconstants get etc \? in some cases they seem to be used as method name from tomcat log however rmethod field used as value httpsamplerbase method which httpconstants most approriate
notused org apache jmeter monitor model status st todo charset \?
todo find out how to retrieve these from script at present script has to use sampleresult methods to set them non nls non nls
todo process warnings \? set code and message to success \?
todo should encoding be configurable \? non nls
non nls todo probably wrong
todo method with reference really useful \?
maybe we should consider creating global cache random files to make jmeter more efficient
should we use java naming security principal credentials to create queueconnection \?
todo set different status if not enough messages found \?
fixme broken code
notused private string chosenfile
find all beans out there and check their resource property files check that non default property files do n't have any extra keys check all necessary properties defined at least in default property file except beans whose name contains experimental or alpha todo check property files do n't have duplicate keys this important
this could perhaps be variable name
should we add separator \?
todo should we skip processing here \?
todo add some real tests now that split has been removed
not used transient protected threadgroup threadgroup null anyway this supposed to be class from java lang or jmeter threads \?
all others could be private too \?
todo can this ever happen \?
todo fetch list of languages from file \? changes to language list need to be reflected in resourcespackagetest java
todo move to utils class jmeterutils \?
todo do we need to implement any kind of connection pooling \? if so which connections should be shared \? should threads share connections to same destination \? what about cross thread sharing \?
set content type todo needed \? string multipartcontenttype multipart getcontenttype getvalue post setheader header content type multipartcontenttype
todo this assumes that redirected response will always immediately follow original response this may not always be true there better way to do this \?
todo it best way \?
keep unexpanded path todo allow directories to end with jar by removing this check \?
todo above works in current situation but it 's just hack how to get each editor to report whether it wants to grow bigger \? whether property label should be at left or at top of editor \? \?
hack save package any transaction controllers
how many classes can we assign from \? todo there must be nicer way
should testbean be hidden \?
todo why lower case \? ok to use default locale \?
hack to make user defined variables in testplan element more dynamic
hack force controller to load its tree
it might be useful also to make this available in 'request' tab when posting json
should header be saved with data \? non nls
showing large strings can be very costly so we will avoid doing so if response data larger than todo instead we could delay doing result settext call until user chooses response data tab plus we could warn user if this happens and revert choice if he does n't confirm he 's ready to wait
todo strings should be resources
result seterror true todo this correct strategy \? throw exception allow assertion to pass
why does this not call guiinstance cleartestplan \? there reason not clearing everything \?
notused yet private jtextfield filename
todo document reason this
todo ca n't see anything in spec
todo somehow show progress
todo support multiple signers
todo fetch this once as per vars above \?
todo add and delete not currently supported non nls
fix path to allow use of unc urls
todo should this use setdone \? todo should this use setfirst \?
set overall status transaction sample todo improve by adding counts to sampleresult class
should we exit at end of test \? only applies to server because host non null
have we reached reporting boundary \? need to allow margin of error otherwise can miss slot also need to check we 've not hit window already
todo save hostname save sample type plain or http
allow mimetype of file to control content type this not obvious in gui if you not uploading any files but just sending content of nameless parameters todo needs multiple file upload scenerio
remind convert arg list vectors here \?
it chunked transfer encoding which we do not really support yet so we just read without blocking because we do not know when to stop reading so we cannot block todo propery implement support chunked transfer to know when we have read whole request and therefore allow reading to block
todo handle filenames
not yet handled
todo should check that error has been logged
do n't allow override of content length todo what other headers not allowed \?
todo \? perhaps note connection so it can be disconnected at end of test \?
todo enable some proper tests
todo make these separate tests \?
todo need lot more tests
todo need lot more tests
todo add tests savegraphics
todo improve this test non nls non nls missing variable name
todo add tests reportsavegraphics
todo should this be done even if not full test plan \? and what if load fails \?
todo these assertions should be separate tests
todo need more tests
todo some more invalid sequence tests needed
todo add tests to check name clash long option abbreviations match shortest unique abbreviation
check request headers
non nls
property file constants
package protected so can be accessed by test class
test sending data with default encoding
non nls
return with error
low level recursive routine to define method if not already defined synchronized to protect access to methodtoinvoke
regular expression used to match against embedded resource urls
do n't save this only needed processing csv headers currently
flush
test method 'org apache jmeter protocol http sampler postwriter setheaders urlconnection httpsampler
optional tasks
list of variable names to be saved in jtl files
flag if all machines within given domain can access variable from
end of standard field accessors
run tidy
get appropriate sender class governed by behaviour set in jmeter property
column numbers must agree with order above
we do n't want this passed on to browser
return with no error
fix content length
only http and https supported
obtain another url with explicit port
constructor initially called once each occurrence in test plan gui several more instances created then clear called at start of test called several times during test startup name will not necessarily have been set at this point
write output to file
use by saveservice only param stamp this may be start time or end time param elapsed
this should never happen anyway we 'll continue with url set to null
probably does not need to be synch always accessed through threadlocal \? give access to test code
use by ajp
vars will be null on testplan
original numeric order we now use strings
allow old format file without extra columnns
determine if content type known to be binary not displayable as text param ct content type return true if content type of type binary
embedded url match regex
extract charset and store as dataencoding meta tag now processed by httpsampleresult getdataencodingwithdefault non nls
check if filename defined
private static final logger log loggingmanager getloggerforclass
does not apply to java implementation
divisor positive number should never case nfe
add listener to activate or not concurrent dwn
note windows user preferences stored relative to hkey current user software javasoft prefs
close file
non null comparators do n't appear to be used at present
url config
keep track of token separator
includes
open file
find order indexof currentkey using rather than equals there may be multiple entries which compare equals bug this will be slightly slower than built in method but replace not used frequently
bottom embedded resources source address and optional tasks
note this instance field and not transient so created by jmeter client and propagated to server instance by rmi static field would be recreated on server and would pick up server properties non nls
not same as no realm
column size
non nls non nls
argument types used to create method may be provided explicitly or derived from constructor argument list
register handler focus listening this handler will only notify registered when text changes from when focus gained to when it lost
we do not use getencoding method of writer since that returns historical name
find all jar files or paths that end with strpathorjar
holds mappings from saveservice properties file key alias entry full class name there may be multiple aliases which map to same class
equation calculating weight int usedmax
non javadoc new instance created each thread group and clone method then called to create copies each thread in thread group this means that lock object common to thread group separate thread groups have separate locks if this not intended lock object could be made static see java lang object clone
we have single character could be token it token
no error as default
now check invalid message format if string contains and there may be problem so do format with dummy parameters and check if there in output bit crude but should be enough now
test object instance of class containing test method this same as testcase junit tests but different junit tests which use wrapper
mask should contain all types but not not
we have to check and make sure constructor accessible if we did n't it would throw exception and cause npe
retrieve images non nls
define file format versions non nls
go to st line
draw grid only when if we did n't grid line would draw over data lines making it look bad
monitor non nls
xml result file constants and field name constants
only contains httpfilearg elements
changed logic bea weblogic in case user uses tomcat 's status servlet without any modifications weblogic will return nothing connector therefore we need to check size of list peter
string to check url or data
this data null this data stat
use md non nls
we check to see if lastselectedpath null after we clear it would return null
non nls non nls non nls
allow testing of failure codes
pick up any recent changes from other threads
add new field source ip address hc implementations only default iphostname
use binary mode file transfer \? non nls
what we testing against \?
parent elapsed total should be no smaller than sum of individual samples it may be greater by timer granularity
non nls default iphostname
used by httptestsamplegui
did not find put character back
assume it url
tabbed pane that contains parameters and raw body
button browsing webservice wsdl
find first non null message
both these needed in list even though they set same variable
autoredirects and followredirects cannot both be selected
web methods
date or lastmodified may be null or in bad format
see see
do it once outside loop
there cached parser \?
improve xml display
headers and body divided by blank line to allow cr before lf non nls
test files testloadandsave output will generally be different in size but same number of lines
not should always succeed against empty result
otherwise do n't save anything no point
add proxy elements
needs to be package protected unit test
set bean 's property to value we just obtained
get matcher this thread
text field this means exit if last sample failed non nls
download concurrent resources non nls
non nls non nls non nls
should never happen
we get authmanager and pass it to wsdlhelper once sampler updated to axis all of this stuff should not be necessary now just need to find time and motivation to do it
enable delete and save buttons if they currently disabled
transient perl compiler compiler new perl compiler non nls
reset bsh interpreter before each execution
ensure value propagated to editor
so we can detect it
must create new object or else end up with set full of same map object
parameters to pass to script file or script
next line
initialize editor with provided default value or null
non nls non nls non nls non nls
main panel
duration in seconds starting from when threads start
script file name if present
gui tests throw error testargumentcreation org apache jmeter config gui argumentspanel test java lang noclassdeffounderror at java lang class forname native method at java lang class forname class java at java awt graphicsenvironment getlocalgraphicsenvironment graphicsenvironment java try to find out why this
script area
dummy class to pass pointer of url
set used to ignore duplicated binary files using linkedhashset to avoid unnecessary overhead in iterating elements in set later on as side effect this will keep them roughly in order which should be better model of browser behaviour
do n't let input field shrink too much
now look urls in style attribute
non nls non nls non nls non nls non nls
we only put httpfileargs in it
non nls permit dynamic resize of textarea
note there 's capturing groups per value
check base href
non expiring
action to be taken when sampler error occurs
should not happen
does n't even look like url \? maybe it n't ignore exception
do nothing
if use proxy checked we enable text fields host and port
two null values return equal
required unit tests
disable delete and browse buttons if there no rows in table to delete
listen on main socket
disable delete and browse if there no rows in table to delete
see below reason this change just in case this causes problems allow change to be backed out
putting string first means it works even if attribute null
running number
create jtable that holds header per row
first we check to see if body tag has background set
file panel non nls non nls
testbeanhelper prepare ok
non nls non nls proxy binary filetypebinary
we do n't want to store any cookies in generated test plan
testsuite only finds testxxx methods and does not look suite methods to provide more compatibilty with stand alone tests where junit does look suite method check it first here
set form data
tell sampler to do multipart post
non nls non nls
make connection ready sending post data
noop
non nls jmx file attributes
implements jmeterguicomponent createtestelement
string made private so compiler ca n't propagate it into jmeterutils java compilers may make copies of final variables this ensures that jmeterutils always gets correct version even if jmeterutils not re compiled during build
implements jmeterguicomponent modifytestelement testelement
must agree with order of entries in drop down created in proxycontrolgui creategroupingpanel private static final int grouping no groups
enable delete which may already be enabled but it wo n't hurt
check if property exists
highlight select appropriate row
http post request multipartform data simple values with as end of line which should also be handled and with more headers in each multipart
force minimum table height of pixels
script if file not provided
called from ctor so must not be overridable
re throw errors because we 're supposed to let jvm see it do n't re throw stackoverflows because we know we 've corrected situation by aborting loop and long stacktrace would end up on user 's console
highlight select appropriate rows
ok to call testbeanhelper prepare
if we creating jsr element add cache key property note that this cannot be done in jsr beaninfosupport class because that causes problems with group its properties not always set up before they needed this cause various issues with gui wrong field attributes should not allow null sometimes gui completely mangled field appears at start rather than at end following warning logged jmeter testbeans gui generictestbeancustomizer org apache jmeter util jsr testelement cachekey does not appear to have been configured adding group here solves these issues and it 's also possible to add key just before script panel to which it relates it 's not yet clear why this should be but it looks as though createpropertygroup does not work properly if it called from any subclasses of this class
if table cell being edited we must cancel editing before deleting row
override so we can intercept stream
done by finally block filereader close
disable delete and save buttons if no rows remaining after delete
else no object in map ctx one
jmeter fail could not read internal resource archive broken
non nls
see testregexfunction unit tests
if table cell being edited we should accept current value and stop editing before adding new row
elements have empty nodevalue but we usually interested in their content
ignored
it most common post request with parameter name and values we also assume this if no content type present to be most backwards compatible but maybe we should only parse arguments if content type as expected standard namevalue postdata
disable delete and save buttons if no rows remaining after delete
set file uploads
preset to default impl
we check count to see if we have exceeded number of lines to parse there 's no way to know where to stop in file therefore we use break to escape while loop when we 've reached count
if clic on graph tab make graph without apply interval or filter
create jtable that holds one cookie per row
remove header content type and content length since those values will most likely be incorrect when sampler performs multipart request because boundary string will change
cannot find file locally so try bin directory
user input
independent frame to allow it to be overlaid by main frame non nls
class attributes
action command names non nls
non javadoc see org apache jmeter visualizers samplerresulttab cleardata
non nls non nls non nls non nls non nls non nls
non nls resource name
following getters may appear not to be used however they invoked via functor class
non nls non nls non nls non nls
this setdaemon true
desc add use fully qualified host name truefalse default false non nls
we really should never get here because eval will throw exception if xpath invalid but whatever better safe
check if we know encoding of page
doctype
now parse dom tree
drop down list renderer
url always in tag
if no results render in jmeter properties load standard default
checkbox choosing whether or not only successes should be logged
not used protected static final string tag url requesturl non nls
if table cell being edited we must cancel editing before deleting row
names fields non nls
only contains argument or httpargument
instance attributes
format hmtl xhtml xml
errors only
when encoding not known argument will get encoded value and encode \? set to false
table still contains one or more rows so highlight select appropriate one
thresholds
non nls non nls
non nls we only support chunked transfer encoding
relatively expensive operation so do it once
return jmetercontextservice getcontext getcurrentsampler getname
button panel
create jtable that holds auth per row
non javadoc see org apache jmeter visualizers request requestview setsamplerresult java lang object
ignore non http samplers
wait server to stop
ispathextensionnoquestionmark
non nls detect if user has pressed new link
drop last character
originally called clear see also jmeterguicomponent
ispathextensionnoequals ispathextensionnoquestionmark
noop
non nls non nls
store operator
non nls non nls
default
whether to use dymanic key generation if supported non nls
non nls non nls
non nls
all table cells editable
non nls
put check boxes in column in panel
convert old numeric types just in case someone wants to reload workbench
assume url
non javadoc see org apache jmeter visualizers request requestview getlabel
do n't get tripped up by re chars in arg name
with ssl request url host port without https or path non nls
name sessionid value value
return current value do n't forget prefix
increment value
whether to use redirect disabling feature can be switched off if it does not work
use null url to simulate that httprequesthdr do not know encoding page specify contentencoding so request sent using that encoding
super new jmetertreenode new workbenchgui createtestelement null testelement tp new testplangui createtestelement inittree tp
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls transfer encoding chunked which processed automatically by underlying protocol non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls pseudo header reporting local address non nls non nls non nls handling caching non nls non nls non nls non nls non nls public max age date header of response
cannot use getthreadcontext as not cloned per thread
although lock appears to be instance lock in fact lock shared between all threads in thread group but different thread groups have different locks see clone method below lock ensures that all variables processed together which important functions such as csvread and stringfromfile
revert
check if include pattern matched
preprocessors cloned per thread so this will be saved per thread non nls
package protected to allow test case access
string in panel do not make these static otherwise language changes do n't work non nls
sessionidvalue non nls
non nls non nls non nls
not sure but believe this ca n't happen so 'll log and throw error
value value name sessionid non nls non nls non nls non nls non nls non nls
can be specified in jmeter properties non nls
methods implemented from interface org apache jmeter config modifier
non javadoc see org apache jmeter protocol http sampler httpsamplerbase testiterationstart org apache jmeter engine event loopiterationevent
if mask this argument exists
non javadoc see org apache jmeter report writers pagesummary setpagetitle java lang string
values to be masked must be set in webapp to
non nls non nls non nls non nls non nls
check which httpsampler class we should use
if content encoding specified we set it as http parameter so that post body will be encoded in specified content encoding
allow list of headers to be overridden non nls
create instances needed parsing
test csv file with header line
xmlreaderfactory createxmlreader vendorparseclass
do n't break world just because this failed
go on with next property
register content handler
engine may be null if it has not correctly started
register error handler
build replacer from all variables in collection
parse
synchronize on info object 's mutex to ensure multiple threads do n't update scheduled time simultaneously
constructors
check if user wants to create from template
initalise pointer to first user
non nls default bottom non nls
use round robin allocation of user details
assume we have already created store
no entries in all users therefore create empty map object
non nls non nls
verify if regex groups exists
no ca key probably wrong store type cannot continue
note userparameterxml accesses this variable to obtain set data via method getparsedparameters
set up some objects script to play with non nls non nls non nls non nls previously mis spelt as theadname non nls non nls non nls
cannot be first line either
leave header as headerbuf append conn getheaderfield substring headerbuf append headerbuf append conn getresponsecode headerbuf append headerbuf append conn getresponsemessage non nls
ensure proxy threads cannot interfere with each other
store faulty we need to recreate it if cert not valid flag up to recreate it
md hexinput addfocuslistener this
otherwise response scanned these strings non nls
return
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
methods
set title first tab non nls remove other tabs if present non nls
should tidy be quiet \?
reload to pick up new aliases reloading very quick compared with creating entry currently
have n't got to reset paramname paramvalue but did it to keep code looking correct
non nls test ca n't have duration more than secs cast from long to int
these used as gui item names lowerbound upperbound and increment used in focuslost method
non nls non nls
param element
these names must agree case wise with variable and property names non nls non nls non nls non nls non nls non nls non nls non nls
this updateui
non nls non nls non nls
property found in config element whether or not it matched value in sampler we 're done with this property do n't look at lower priority configs
non nls non nls non nls non nls non nls non nls non nls non nls
should we download external dtds \?
boolean pass true
regex non nls template non nls which match non nls between text non nls default text non nls output variable name non nls input variable non nls
called by xpathassertiongui
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
do n't make these static otherwise language change does not work non nls
non nls non nls non nls non nls previously mis spelt as theadname non nls non nls may be null non nls may be null non nls
report tidy errors as assertion failure \?
use null url and contentencoding to simulate that httprequesthdr do not know encoding page
non nls non nls check if it form data non nls get form field name non nls
process tolerant settings
show tidy warnings \?
non nls non nls non nls non nls
non nls non nls
non tidy options
tabbed results fill table non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
needed by abstracttestelement also testelementconverter and testelementpropertyconverter handling empty comments non nls comments originally only applied to test plans hence name which can now not be easily changed
tidy options
set title first tab non nls add other tabs if not present non nls non nls
httpclient always urlencodes both name and value so if argument already encoded we have to decode it before adding it to post request
setup bottom tabs first raw second parsed non nls non nls
title multipart
add local jmeter properties if file found non nls non nls
if invokee provided then clazz has been set up
label count mean median min max error age non nls throughput non nls pagesize non nls
called by xpathextractorgui
although this field mutable it only accessed within synchronized method deliversampler
check local contentencoding charset override fall back to default content body we do this here rather so we can use same charset to retrieve data
non nls file merge setaccelerator keystroke getkeystroke keyevent vk keyevent ctrl mask set default save menu item to disabled since default node that selected root which does not allow items to be inserted
we get posted bytes using charset that used to create them
public final static string connection mongosourceelement connection non nls public final static string source mongosourceelement source non nls public final static string auto connect retry mongosourceelement autoconnectretry non nls public final static string connections per host mongosourceelement connectionsperhost non nls public final static string connect timeout mongosourceelement connecttimeout non nls public final static string continue on insert error mongosourceelement continueoninserterror non nls public final static string max auto connect retry time mongosourceelement maxautoconnectretrytime non nls public final static string max wait time mongosourceelement maxwaittime non nls public final static string socket timeout mongosourceelement sockettimeout non nls public final static string socket keep alive mongosourceelement socketkeepalive non nls public final static string threads allowed to block multiplier mongosourceelement threadsallowedtoblockforconnectionmultiplier non nls public final static string fsync mongosourceelement fsync non nls public final static string safe mongosourceelement safe non nls public final static string wait journaling mongosourceelement waitforjournaling non nls public final static string write operation number of servers mongosourceelement writeoperationnumberofservers non nls public final static string write operation timeout mongosourceelement writeoperationtimeout non nls
non nls non nls non nls non nls non nls non nls add variables access to context and variables
if getsendfileaspostbody returned true it 's sure that file not null no need content type here
could time this res sampleend if sampleend not called elapsed time will remain zero todo distinguish errors better non nls
it 's not po ssible to forward threadstarted to implementation class this because config items not processed until later and httpdefaults may define implementation
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
non nls non nls
more general attributes not supported
help convert existing jmx files which use httpsampler nodes
superclass does not support types
shown as parameter name on gui
private static final int limit str size private boolean isroot
thread pool resources but no need to use special value \?
find data sent to mirror server which mirror server sending back to us
image parser now really means embedded parser non nls
omitted file names non nls
if there one file with no parameter name file will be sent as post body
check arguments
we know that url arguments should always be encoded in utf according to spec
parse arguments in querystring assuming specified encoding values
private method to allow asyncsample to reset value without performing checks
get query string encoded in specified encoding if no encoding specified by user we will get it encoded in utf which what http spec says
needs to be visible to test cases non nls
encode parameter value in specified content encoding
first copy children as call to copy add will modify collection we 're iterating on
we do n't use default parser
need to handle four cases string contains namevalue string contains name string contains name empty string
concurrent get resources
see catch clause below
if download concurrent embedded resources
kill any remaining tasks
we must ask user if it ok to close current project it open
browsers seem to tolerate location headers with spaces replacing them automatically with we want to emulate this behaviour
we do n't want to use cachemanager clone but parent one and cachemanager thread safe
implement these here to avoid re implementing sub classes previously these implemented in all testelements
these values used in jmeter properties jmeter httpsampler do not change they can alse be used as implementation name
access needed from csvdataset
non nls non nls non nls non nls non nls non nls non nls
non nls jmx
otherwise we use textxml as default non nls
store resource keys
non nls non nls non nls non nls non nls
default if test plan does not have definition
this should only be called specific host
keystore ssl keys fixed at config except dynamic host key generation
trailing string not empty
safer to start afresh
this class not cloned per thread so this shared
nextint returns values in range so must be set to max min
most likely this because of certificate error
this can overflow
can be null if called from config item testended method
this used as error indicator
note resource string wo n't respond to locale changes however this does not matter as it only used when pasting to clipboard
check overflow too
if this defined it assumed to be alias of user supplied certificate overrides dynamic mode non nls
cannot use getthreadcontext as we not cloned per thread
use format to create number if it fails use default
place raw tab in first position first tab
original name of property
reset value
non javadoc see javax swing jtabbedpane setselectedindex int
hashmap to save ssl connection between jmeter proxy and browser
alias to be used if dynamic host names not possible non nls
user specified key
treat same as eof
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
just put whole postbody as value of parameter used when postdata pure xml ex xml rpc call
check post body which sent to mirror server and sent back by mirror server
eof
helper class callback applying parameter definitions
should we match using regexes \?
we create post body content now so we know size
test sending data as utf with values that have been urlencoded
request sent now get response
needs to be done after execute to pick up all headers
ssl connection
non nls
hide window on esc non nls
allows httpsamplerproxy to call threadfinished subclasses can override if necessary
process commons httpclient parameters file non nls
non javadoc see jodd lagarto emptytagvisitor tag jodd lagarto tag
throw new unsupportedoperationexception test purposes only
non nls return unknown action names display error msg
must be in this class testbean code to work
only check form tags
if pre emptive parameter undefined then we can set it as needed otherwise we should do what user requested
proxy configuration ssl
hc does not have method
we stay within same parent node
will be null head
get preference recent files
use special field ip source address pseudo 'ip spoofing'
extract transfer data
we use hostconfiguration as key to retrieve httpclient so need to ensure that any items used in its equalshashcode methods not changed after use host port protocol localaddress proxy
if getsendfileaspostbody returned true it 's sure that file not null
nt includes other types of credentials
if there no arguments we can send file as body of request todo needs multiple file upload scenerio
just append all parameter values and use that as post body
non nls non nls
keys user preferences
default sans serif non nls
allow missing optional jars
default charset used deliberately here
these group names must have displayname properties non nls non nls non nls
if we found testplan then we on our way to testfragment
only try to load jmx test plan if there one
filter tree testfragment
might be null in testing
todo \? \? jmetertreenode selectednode clone
if parent ok but child failed add message and flag parent as failed
ensure global counters and lock shared across threads in group
default class convert int to integer etc
insert subcontrollersandsamplers into random list positions
nodepath add selectednode getname
creation of customizer and gui initialization delayed until first configure call we do n't need all that just to find out static label menu categories etc
we clone to avoid enabling existing node
programming error do n't continue
set selection once per iteration
tl te
original rather odd behaviour start at end
create new list containing numelements null elements
replace subcontrollersandsamplers with reordered copy
retrieve formatted data using same encoding used to create it
not wildcard
do n't change string as it used in jmx files non nls non nls non nls non nls non nls non nls
needed httpsampler
setdone true
we 've gone through whole list and now back at start point of our search
this only reloads if necessary ignores reference
non nls throughput addactionlistener this
form encoding has priority over page encoding
startend index default value string getters and setters
not implemented public static final string save save as not implemented public static final string save all save all not implemented public static final string save to previous save
non nls
implements unsharedcomponent
although default not same as string value it only used internally
if we disabling edit remove menu item and edit add menu item disabled then we also need to disable edit menu java look and feel guidelines say to disable menu if all menu items disabled
prevent entry if nothing to do
perthread field
in case we converting back from floating point drop decimal fraction non nls
type field
text field
tfmailfrom setenabled false tfmailto setenabled false tfmailtocc setenabled false tfmailtobcc setenabled false tfsubject setenabled false
chop to server name non nls
handle ipv urls
chop to server name xx
all file multiparts we must tell it to not include actual file content
check if header manager had content type header this allows user to specify his own content type post request
buffer to hold post body except file content
standalone
allow headers to override host setting non nls host
if none of arguments have name specified we just send all values as put body
embedded
can cause npe in httpclient simplehttpconnectionmanager cl gethttpconnectionmanager shutdown closes connection revert to original method closes connection
jpanel looppanel new jpanel new borderlayout
charset must agree with content type below non nls
this map serves two purposes maps names to containers ensures only one container per file across all threads key concatenation of file name and xpath string
write form data post body which we have constructed in setheaders this contains multipart start divider and any form data arguments
we 're sure that there at least one file because of getsendfileaspostbody method 's return value
add also length of file content
check if we should do multipartform data or applicationx www form urlencoded post request
it normal post request with parameter names and values
non nls non nls non nls non nls
non nls non nls non nls
default value non nls
non nls maintain original default
action listener will be added later
ignore everything else
headers written using iso encoding non nls
note position of these elements in menu must match corresponding proxycontrol grouping values non nls non nls non nls non nls non nls
guardedby this
stop action notifications while we shuffle this around
include request body if it post or put or patch
reinstate action notifications
never null
functions wrapped in and non nls
set current value
check if we know encoding of form
can share these
should not happen
do n't redirect following multiple choice not modified use proxy unused
get start of file
preserve original case
fetch some variables
originally response code saved with code rs but retrieved with code rc changed to always use rc but allow rs when restoring values non nls non nls non nls
loop label non nls non nls non nls non nls
checkbox non nls
suppress messages to stdout
update dataencoding
internal business
drop down menu
number of previous matches
dtd not reachable
extract content type if present non nls
non nls temporary copies so can set final ones
this method assumes utf input data
update follow redirects setting just this connection
must be done after opening connection
can happen bad input document
works ok even if contentencoding null
following used to set result details on return from script non nls non nls non nls
normal inputstream not available
object properties
this closes 'in'
get all request properties which headers set on connection
exclude cookie header since cookie reported separately in sample
value list of strings
count retries as well in time
check cache entry with expires header in future
start with so tries at least once and retries at most max conn retries times
attempt connection
try again
this should never happen but
nice we 've got connection finish sending request
done with sampling proper
now collect results into httpsampleresult
get component parts assume domains must have at least parts apache org do n't try matching against org however we do n't check co uk here
cannot be null here
texthtml charsetiso
if either file or path location given get file object we have file
set default save menu item to disabled since default node that selected root which does not allow items to be inserted
non nls non nls non nls non nls non nls non nls non nls
will already have been logged by xpathutil fail sample
to avoid re opening file repeatedly after error only try to open it in first execute call it may be reopened at eof but that will cause at most one failure
store any cookies received in cookie manager
if we redirected automatically url may have changed
just in case clear any other remaining variables
has been seen in redirect use header if possible if no message found
do n't process again
what to match against do not change string value or test plans will break non nls
save cache information
random class generating random numbers
create data input text field return panel entering data
check if we found accept charset attribute on form
ensure old value not left defined
return absolutepath of file
jmx file attribut names do not change non nls
only replace default if it provided
we check to see if proxy host and port set
get filename or
note match groups includes group
note that filename also used as key to pool if used documents provided in testplan not currently pooled as they may change between samples
we created document
refname has already been set to default if present
must be local content or not using pool
note responsedata encoding server specific therefore we do byte unicode byte conversion to ensure utf encoding as required by xpathutil convert unicode string utf bytes non nls
number of refname variable sets to keep
create temporary file to make sure we always have file to give to postwriter whereever we or whatever current path
test method 'org apache jmeter protocol http sampler postwriter sendpostdata urlconnection httpsampler this method test sending request which contains both formdata and file content
save count
original match behaviour
means we save all matches
remove any single matches
it 's not set lets check if user passed proxy host and port from command line
remove any left over variables
must be here document
required to satisfy httpsamplerbase should not be called as we override sample
we assume argument value encoded according to http spec utf
remove group count
non nls jmx file attribut names do not change
if string not recognised debug assumed
assume it will fail ditto non nls
how many groups there \?
set response defaults
warning could be large
api expects null not empty array see
remove remaining gn vars
if blank headermanager exists try to get soaphttpconnection after first request there should be connection object stored with cookie header info
check proxy
contains strings and integers
if use proxy set we try to pick up proxy host and port from either text fields or from jmeterutil if they passed from command line
if some reason host blank and port zero sampler will fail silently
add match as integer
api uses raw types
scheme used slow http sockets cannot be set as default because must be set on httpclient instance
non nls non nls non nls non nls non nls non nls non nls
string not empty
non javadoc see org apache jmeter report writers pagesummary issuccessful
non javadoc see org xml sax helpers defaulthandler fatalerror org xml sax saxparseexception
allow property not yet being set probably only applies to test cases
random match
non javadoc see org apache jmeter protocol http sampler httpsamplerbase testended
request data
save agent next time round
see mergefileproperties must be private as file list needs special handling non nls mimetype kept backward compatibility with old test plans non nls file name kept backward compatibility with old test plans non nls
non javadoc see org apache jmeter protocol http sampler httpsamplerbase testended java lang string
see org apache jmeter report gui action command getactionnames
make internal list of all results to allow reload data with filter or interval
non nls non nls non nls non nls non nls
non javadoc see org apache jmeter report writers pagesummary pageended
non javadoc see org apache jmeter report writers pagesummary setsuccessful boolean
non javadoc see org apache jmeter testelement teststatelistener testended java lang string
by not reading response real it improves performance on slow clients
reuse documentation non nls non nls
reponse code does n't really apply since soap driver does n't provide response code
set up http scheme override if necessary
we always want to override https scheme
run menu non nls
accessed from multiple threads
can throw ioexception
perform sample
file menu non nls
we 've finished with request so we can add localaddress to it display
http protocol violation but avoids npe
this sequence borrowed from org apache commons httpclient protocol reflectionsocketfactory createsocket
follow redirects and download page resources if appropriate
pick up headers if failed to execute request
although spec says utf should be used encoding url parameters most browser use iso default if encoding not known we use null contentencoding then url parameters will be added with value in url and encode \? flag set to false
protocol user pass host port
edit menu non nls
always create hash because we will always need it
allow null strings
no proxy so do n't check proxy fields
user provided keystore keystore generated by jmeter single entry
lookup key must agree with all values used to create httpclient
set content encoding
one time init this client
this class not serialised interpreter instance this class
set retry count
check if request itself tells us what encoding
override defualt schemes as necessary
we start to iterate through elements
set up proxy details
this old value that checked non nls
add variables access to context and variables
reset in case set previously
allow mimetype of file to control content type
non nls set params as single line non nls and set as array non nls non nls
overridden by non testbean implementations to return property value instead
no need to process further
need to separate protocol from authority otherwise would match could use separate fields but simpler to combine them
used when postdata pure xml eg xml rpc call or put
we want to retain insertion order so linkedhashmap necessary
method left empty here but allows subclasses to override
and as string
header not status line non nls
no need to specify port if it default
get rid of query and \?
get all request headers
no must be csv non nls
helper class so we can generate request data without dumping entire file contents
parse other header lines looking content length
encoding does not really matter here
todo charset \?
create header manager to ensure that browsers headers captured and sent to server
if content encoding specified we use that as encoding of any parameter values
save last valid content length one
do n't try to adjust host name
write request to our own stream
ssl connection
create parts add any parameters
keep raw post data
we get posted bytes using encoding used to create it
if table cell being edited we should accept current value and stop editing before adding new row
non nls this default used by httpclient
will be host port connect
it must be proxied https request non nls
not multipart check if header manager had content type header this allows user to specify his own content type post request
non nls flash media manifest
used by gui
constructor use during startup intended non gui use param name of summariser
second if tag composite tag recursively parse its children
so we know which button selected
reset
skip report packages as implementation incomplete skip report gui as implementation incomplete no not work in progress
we just add placeholder text file content
if none of arguments have name specified we just send all values as post body
get to 'path' part of url preserving schema auth host if present
check if we have found content length header non nls
note if encoded \? not selected arg getencodedvalue equivalent to arg getvalue
we displaying assertionresult
scriptruntime call cx fun global args global
decimalformat adds number to end of format if there no formatting characters so we need way to prevent this from messing up file name
let stringentity perform encoding
no point doing this on per connection basis as there currently no way to configure it so we leave it to defaults set up in ssl context
look special response length header non nls
next line looks odd but proxied http requests look like get http url starts with http not whereas https proxy requests look like connect www google co uk http followed by get \? gws rdcr http
set content type
find page encoding and possibly encodings forms in page in response from web server
saved copy of first line error reports
add parameters
use default encoding urls
reset locale if necessary so other locales properly handled
value already encoded by user must decode value now so that when httpclient encodes it we end up with same value as user had entered
should header be saved with data \? non nls
add parameter httpclient will urlencode it
inclusion filter assumes most of files not wanted therefore usefile set to false unless it matches
non nls see testelementpropertyconverter
buffer to hold entity body
we provide mime type here
only create this if we overriding whatever default there may be if there no arguments we can send file as body of request
notused font plaintext new font plain font plain these must not be static otherwise language change does not work non nls
just append all parameter values and use that as entity body
check if it file being uploaded non nls
check if we have any content to send body
generate result if nec and populate it
non nls change classname drop down
fetch once needs to stay constant
http post request multipartform data with value that will change if they url encoded values similar to viewstate parameter that net uses
look special sleep request non nls
this class not cloned per thread so this shared guardedby this
if none of arguments have name specified we just send all values as entity body
non nls we have default
if request entity repeatable we can send it first to our own stream so we can return it
default non nls
this probably cannot happen
if argument 'next' go to next line non nls non nls
does not need to be synchronised as all access from same thread
lock object must exist
ignored already processed
do n't try twice
process csvread filename alias non nls
ensure that clones share same lock object
may be empty string
get inputreader to use
super mergein element
forward to sampler
value to return at eof non nls non nls
do n't process name column
note item name used by changelanguage to create locale that language so need to ensure that language strings valid if they exist use locale language constants also need to ensure that names valid resource entries too
non nls non nls non nls non nls
if we enabling edit add menu item then we also need to enable edit menu edit menu may already be enabled but there 's no harm it trying to enable it again
get file name of current project
just use first one of possible many charsets
use negative condition so missing null value treated as false
we check input tag type image
create multiparts
disable delete if there no rows in table to delete
default normal non nls
function name non nls
force reopen on next sample
teststartedtestended methods called at start and end of test however when test run on multiple nodes there no guarantee that all teststarted methods will be called before all threadstart or sampleoccurred methods other threads nor that testended will only be called after all sampleoccurred calls ordering only guaranteed within single test
content length
non nls so we can add them again in init
marker query string attribute
jmx names do not change non nls
authorization
derived from
host always
empty override of superclass method
allow some margin of error check that throughput uses time elapsed sub results
empty overrides of superclass methods
content type
non nls non nls non nls non nls non nls
add samplerdata consistency with beanshell sampler non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
we need to use up int now
add alias original stringfromfile name had only one underscore non nls non nls
int mark
to add new field remember following static xyz instance xyz xyz clone xyz xyz perhaps setxyz boolean savexyz update samplesaveconfigurationconverter to add new fields to marshall and shouldserialisemember update sampleresultconverter andor httpsampleconverter update csvsaveservice csv xxxx makeresultfromdelimitedstring printablefieldnamestostring static update messages properties to add save xyz entry update jmeter properties to add new property update listeners xml to add new property csv and xml names etc take screenshot sample result config png update listeners xml and component reference xml with new dimensions might not change
dummy
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
methods needed by subclasses to get access to implementation
new wsdlhelper
non nls non nls non nls non nls non nls non nls non nls
non nls select last tab
ignored
notread non nls
test method 'org apache jmeter protocol http sampler postwriter sendpostdata urlconnection httpsampler this method test sending only file multipart
jmx field names do not change values non nls
non nls ensure variable has been provided
private void drawcross graphics int int drawline iconwidth iconheight drawline iconwidth iconheight drawline iconwidth iconheight drawline iconwidth iconheight
keep track of file writer and configuration as instance used to close them not same as instance that creates them this means one cannot use saved printwriter or use getsaveconfig
key tcpkey or errkey entry socket or string
number of active threads in this group
this wo n't work right if we remove components but we do n't so i'm not going to worry about it right now
non nls default value false
set start time thread duration in seconds
default concurrent pool do not change
do search on enter non nls
jmx names
ensure that these set even if no paramters provided non nls non nls
default concurrent pool size download embedded resources
do n't bother reporting stop test interruptions
default setting to be used historic
fetch once must be done under lock also protects against null
use combobox source address type preserve order specially with localization
always remove cookies always remove authorization remove additional headers
non nls default value secs
only encode strings if outversion non nls
this what jorphanutils split does
use default encoding
file field kept backward compatibility with old test plans non nls
pass request to new proxy thread
non nls supported methods
check there gui
get
derive mapping of content types to parsers
look objects
optionally number requests
checks scheduler to stop iteration
if we got any results then perform processing on result
test sending data as utf
look applets
table still contains one or more rows so highlight select appropriate one
search menu non nls
properties to be sent to remote servers
ensure that interrupt cannot overlap with shutdown
paramtable setrowselectionallowed true paramtable setcolumnselectionallowed true
then we need to download binary
store md hash instead of storing response non nls
externally callable suite method use by junit allows tests to be run directly under junit rather than using startup code in rest of module no parameters can be passed in so it less flexible
paramtable setcellselectionenabled true paramtable setpreferredscrollableviewportsize new dimension
not synch but it not modified after creation
returns empty array null
send mail
do n't display request headers label if rh null or empty
code
skip parameters with blank name allows use of optional variables in parameter lists
implementation of actionlistener interface
we use multipart if we have been told so or files present and files should not be send as post body
create some properties and get default session
try to ensure that more javascript code processed ok
check if there any difference between name and value and their encoded name and value
timeout occurred ignore and keep looping until we 're told to stop running
if there no difference we mark it as not needing encoding
element tags must be unique keep sorted non nls non nls non nls non nls non nls
this only possible rd party controllers by default
this ca n't happen how should utf not be supported \? so just throw error
boolean toreturn true
allow use of relative file urls
non nls end of names used in jmx files
http urls must be absolute allow file to be relative non nls non nls
empty collection ok to cast local var here to allow suppresswarnings
add query string if it http get or delete request
already contains prefix
if default port protocol used we do not include port in url
we use encoding which should be used according to http spec which utf
non nls all threads all threads
check if sampler has specified content encoding
non nls do n't set empty to keep cssjquery cssjqueryfield settext non nls non nls do n't set empty to keep attribute this attributefield settext non nls do n't change impl this cssjquerylabeledchoice settext htmlextractor default extractor
records existance of equal sign
jmx file attributes do not change values non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls jmx file attributes
create message
response data non nls request data non nls sampler result non nls
we do not know content encoding of query string
if true scheduler enabled
append body if it post or put
these not multi threaded so do n't make it static iso format non nls
object used each row
suite method creates separate test suites each of types of test suitexxx methods create list of items to be tested and create new test instance each each test type has its own constructor which saves item to be tested note that suite method must be static and methods to run tests must be instance methods so that they can pick up item value which saved by constructor
transaction done we do not have sampler to sample
private iterator used to unwrap url from urlstring class
there separator \? case of namevalue name
if we know encoding we can decode argument value to make it easier to read user
no warn message to avoid performance impact
if we do not know encoding we just use encoded value browser has already done encoding so save values as
noop
we have name
we need to call super next instead of this next which done in genericcontroller because if we call this next it will return transactionsampler and we do not want that we need to get next real sampler or controller
iterate through urls and download each image
get url matcher
do n't fetch unless pattern compiles
url replace
jmx attributes do not change
create button to trigger file chooser
there some spaces in url
used by both standardjmeterengine and clientjmeterengine in latter case only resultcollectors updated as only these relevant to client and updating other elements causes all sorts of problems skip certain processing remote tests
do n't think localmatcher can be null here but check just in case
we have pattern and url does not match so skip it
default serial download embedded resources
if selected then generate parent sample otherwise as per original controller
code failed sample
deliversampler allows sampler to be null but result must not be null
init with default value
sample all resources with threadpool
number of capturing groups possibly containing base hrefs
private void setsuccesscount long count this successcount count
clear all data before display new
call normal shutdown wait ending all tasks
no need to change foreground color
put timeout if tasks could n't terminate
remove other parsed tab if present
private void setfailurecount long count this failurecount count
case node text node break
add result to main sampleresult
did all tasks finish \?
log warn threadcontext not set up should only happen in junit testing new throwable debug
sends result to visualiser updates model used sending mails
not intended to be instantiated
cache object message only used when parsing from file because in text area property replacement might have been used
actions
get next sample and its name
action targets
true iff we 're currently processing event triggered by user selecting edit option used to prevent reverting combo to non editable during processing of secondary events
param res httpsampleresult to check return parser class name may be or null if entry does not exist
public static final int thread group
non nls default normal
redirect url we got not valid url
identifiers non nls non nls non nls
this means no sample saved
only add sample if it sample of valid url redirect that we have actually sampled url
now populate any totalres fields that need to come from lastres
helper method to get attribute value if it exists param attrs list of attributs param attname attribute name return
take copy so cannot get npe
method to set files list to be uploaded param value httpfileargs object that stores file list to be uploaded
no point saving empty list
some editors may need descriptor
private buttongroup actionbuttons
method to get files list to be uploaded
weed out empty files
state variables
noop to provide based empty impl and avoid breaking existing implementations
may also happen if long value int max
target
add any assertion that failed as children of sample node
new test plans that do n't have fileparammime properties
non nls non nls these names of getset methods
updated property lists
does not need to be synch because it only accessed from sampler thread clientpool does access it in different thread but clientpool fully synch
action
computes value of curve at pecified abscissa and relative to beginning of right piece of spline curve
non instantiable
if we enabling edit remove menu item then we also need to enable edit menu edit menu may already be enabled but there 's no harm it trying to enable it again
unwraps urlstring class to return url
duration
calculating throughput across all threads
else do nothing cell n't string to edit
holding througputinfo objects all threadgroups keyed by abstractthreadgroup objects
assume sample will run as soon as delay has expired
calculate delay based on mode
in case test uses file we set it locally and prevent loading file repeatedly
we fetch throughput each time as it may vary during test
static int to signify type of logical comparitor to assert
total number of threads
host has key already
active threads in this group
kb max size to have latency 'the first packet' enough md
utf unsupported \? you must be joking
ok we have old style file definition save it now deal with any additional file arguments
all threads alternate calculation
means not defined
cache parser
noop state held by component
all threads in this group alternate calculation
tic every px
control reuse of cached ssl context in subsequent iterations
if title graph empty we can assume some default
no need to sync as one per instance
stroke and shape line settings
apache org non nls
www apache org
test sending data as utf with values similar to viewstate parameter that net uses with values urlencoded but always encode set to false arguments this how http proxy server adds arguments to sampler
add to cache
get hostname
evaluation occurs when nbloops not yet evaluated or when nbloops equal to special value infinite loop count
jmx implementation attribute values also displayed in gui do not change non nls
to disable downloading and rendering of images and frames enable editor kit stream property can then be
test method 'org apache jmeter protocol http sampler postwriter sendpostdata urlconnection httpsampler this method test sending only formdata as urlencoded data
in spite of name this actually used to determine if loop controller repeatable value only used in nextisnull when loop end condition has been detected if forevertrue then it calls resetloopcount otherwise it calls setdone true loop controllers always set forevertrue so that they will be executed next time parent invokes them thread group sets value false so nextisnull sets done and thread group will not be repeated however it 's not clear that thread group could ever be repeated
get past separator
put request does not use multipart so no need boundary
if displayname empty string leave it like that
get encoding to use request
if there no arguments we can send file as body of request
ensure manager initialised we do n't currently need to do anything further as this sets default https protocol
create content length we going to write
since tags extracted from html form any values must already have been encoded
just append all parameter values and use that as put body
java impl accepts urls with unsafe characters so do n't do anything
keep content will be sent later
ok currently to invoke using sub class
set content length
copying thread wo n't generally detect eof
class to be used to create method will be non null if either class or object provided during construction can be used instead of invokee when using interfaces
if title of graph empty we can assume some default
as above but with aggregate sample instead
allow old jmx file which used local language string
sortfiltermodel mysortedmodel new sortfiltermodel mystattablemodel
if labels too long they 'll be squeezed to make chart viewable
methods used by userparameterxml to get xml parameters from xml file
record some sizes to allow httpsampleresult getbytes with different options
do n't call isheadless here as it has side effect
handle various methods
value in second group
expected results established using dda algorithm see vs closer to vs closer to vs closer to vs closer to vs closer to vs closer to
allows httpsamplerproxy to call notifyfirstsampleafterlooprestart subclasses can override if necessary
map of translations tags only created if there at least one tag and resourcebundle has been provided
provide access to httpsamplerbase methods
did not want to spoof ip address
add listener to intercept texttofind changes and reset search
ok to set pre emptive auth \?
chop to server name xthing
needs to be accessible by httpsampler
generate error body
set default parameters as needed
split line into namevalue pairs and store in headers if relevant if name content length then return value as int else return
handle old style jmeter properties
parsing methods
cannot happen
get boundary string multiparts from content type
this must be done last as must not be overridden
nothing to do
we do our own cookie handling
we did not replace entry so use existing one
chop to server name
may generate illegalargumentexception
chop to server name xx non nls
set any default request headers
test method 'org apache jmeter protocol http sampler postwriter sendpostdata urlconnection httpsampler this method test sending httpsampler with form parameters and only filename of file
methods
setup connection
will throw missingresourceexception if key not there
tmp inputstream needs to have good counting
pick up actual path after redirects
can be missing on redirect
constants and data members
we 're behind schedule try to catch up assume sample will run immediately
non nls non nls non nls non nls non nls non nls
access from test code
we should only evalute condition if it first time first iteration we called subsequent calls we inside ifcontrollergroup so then we just pass control to next item inside if control
ok because find only returns correct element types
label count mean min max std dev error age throughput kbsec avg pagesize
text field should expand horizontally but have fixed height
button adding new arguments to table private jbutton add button removing arguments from table private jbutton delete
synch needed because multiple threads can update counts
unique barrier creation ensured by synchronized setup
protected void initializetablemodel tablemodel new objecttablemodel new string argumentspanel column names argumentspanel column names encode or not include equals new functor new functor getname new functor getvalue new functor isalwaysencoded new functor isuseequals new functor new functor setname new functor setvalue new functor setalwaysencoded new functor setuseequals new class string class string class boolean class boolean class
if parameter name exists in http request then change its value with value obtained with regular expression
constructors
must be defined
label count mean median min max error age throughpur pagesize
set up local address if one exists
this column actually consists of row with two sub columns first column contains labels and second column contains fields
default checked non nls
instantiate requestview classes
if use dynamic graph size checked we disable dimension fields
remove any port specification non nls non nls
sampler selection
started from ide with full classpath allow override non nls non nls
ensure transient object created by server
draw axis
add
test plan has to have more than samples it to generate half way decent distribution graph larger sample better results
some kinds of invalid url
set up graph with header footer axis and graph display
delay deviation
ensure that directory urls end in non nls non nls
already include
following needed httpclient originally tried doing this in httpsampler but it appears that it done too late when running in gui mode set commons logging default to avalon logkit if not already defined
last before response data
non nls non nls non nls jmeter log non nls sample result log file non nls non nls non nls non nls non nls non nls non nls non nls non nls
lazy init
methods
listen to test and handle tidyup after non gui test completes if running remote test then after waiting few seconds listeners to finish files it calls clientjmeterengine tidyrmi to deal with naming timer thread
all needed to ensure re usablility
only add summariser if it can not be shared with resultcollector
use later
null means use default
process command line property definitions these can potentially occur multiple times
dynamic proxy overrules static proxy
avg delay
non nls non nls non nls non nls non nls removed expiration because it 's just annoyance static cookies
hostconfiguration equals includes proxy settings in compare
if we have both file as body and form data then only form data will be sent
replacement only needs to occur when starting engine see standardjmeterengine run
set up any required proxy credentials
result
prepare request tabbed pane
deliberate use of deprecated ctor create non gui version to avoid headless problems
allow httpclient to handle redirects
this daemon thread which should only reach here if there other non daemon threads still active
set all headers from headermanager
hint to background color on bottom tabs grey not blue
genericcontroller sub new genericcontroller sub addtestelement new ifcontroller controller addtestelement sub controller addtestelement new ifcontroller falsetrue
because collectionproperty mergein will not prevent adding two properties of same name we need to select first value so that this element 's values prevail over defaults provided by configuration elements
evaluate condition which can be blank or last last sampler ok \? otherwise evaluate condition to see if it not false if blank only evaluate at end of loop must only be called at start and end of loop param loopend we at loop end \? return true means ok to continue
codes tell client to do actions
use regexes to match source data
this applied to fields that should cause restart when changed non nls
proxy can take some while to start up show wating cursor
action names
we have credentials should we set pre emptive authentication \?
prevent both redirect types from being selected
we do n't know how many entries will be skipped
add any files
change cancel label to close non nls
we do not know char set of file to be uploaded so we set it to null
update current field addend only expected to be but other values will work roll method only supports changes by single unit up or down
we do not know what char set of file
non nls set default save menu item to disabled since default node that selected root which does not allow items to be inserted
set multipart post
sendmultipartwithoutfilecontent bos
destination setup static \? else dynamic non nls default to maintain compatibility
ispathextensionnoequals
non nls non nls non nls non nls non nls non nls non nls non nls look and feel prefix non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls enabledisable non nls non nls non nls non nls non nls non nls non nls non nls
used per threaduser numbers
example jar file jmeterlibextapachejmeter core jar orgapachejmeterutiljmeterversion class or if using ide file workspacesjmeterbuildcoreorgapachejmeterutiljmeterversion class
used by samplesaveconfigurationconverter unmarshall
implementation notes all of methods in this class currently read only if update methods included in future they should be defined so that single instance of javasamplercontext can be associated with each thread therefore no synchronization should be needed same instance should be used call to setuptest all calls to runtest and call to teardowntest
note that samplestarted and samplestopped not made to appear in synch with sampleoccured when replaying held samples now this not critical since samplestarted and samplestopped not used but it may become issue in future then these events must also be stored so that replay of all events may occur and in right order each stored event must then be tagged with something that lets you distinguish between occured started and ended
test ignore trailing split characters ignore adjacent delimiters
resource names column headers non nls
calculate test duration needs to xaxis labels and getdata
verify component at next iteration
look arguments elements in target controller or higher up
create panels regexp tab
not expression n't or ca n't be not null may throw illegalargumentexc
go to first line
all file multiparts we must revert hiding of actual file content
construct multi line string with all matches
buffer to hold put body except file content
cache of parsers parsers must be re usable
should be true
add regexp tester pane non nls non nls
empty init non nls
nothing to do
if other node type we will just skip it
name
description panel
assume text output script can override if necessary
default to name of element
number panel
should be quicker to find editors if they registered
information display panel
boolean resized true
check if alias suitable here rather than waiting connection to fail
ok we still have some data restore it
rounds
check if we should send only placeholder text file content or real file content
implemented by parent class
used by itemlistener non nls
take length from file
use this to override file length
all other headers set up by httpsampler setupconnection
no header provided
so we do n't generate chunked encoding
execute sample in this case sleep specified time if any
write eol separately so we generate lf line ends on unix and windows non nls
key name lowercase from java sql types entry corresponding int value
will use chunked encoding
some headers set by executemethod
add local system properties if file found non nls
add remaining parts
do not check hashcodes unequal objects may have equal hashcodes
if file encoding specified read using that encoding otherwise use default platform encoding
system err println enable restart
host matches domain use its key
this should now work
handles groupingmode actionperfomed not suitable as that seems to be activated whenever proxy selected in test plan also handles samplertypename
get all fields in java sql types and store corresponding int values
query types used to communicate with gui these must not be changed as they used in jmx files non nls non nls non nls non nls non nls non nls non nls non nls non nls
no existing file or not valid alphanum to avoid issues with command line quoting we use same password both
not sure we can test anything else here
read first line and forget
contentlength \? contentlength default initial buffer size
first response
save latency
set up defaults may be overridden below
notused private class parserclass null
should not detect trailing option
drop empty trailing content
there error \?
non javadoc see org apache jmeter gui abstractjmeterguicomponent cleargui
delegate final check to typeeditor
check that other encoding not current encoding todo charset \?
make transient as we do n't want to save simpledataformat class also there 's currently no way to change value via gui so changing it later means editting jmx or recreating listener
write end of multipart
message includes file name
these constants used both jmx file and settersgetters non nls
these must agree with new member names in samplesaveconfiguration non nls non nls non nls non nls non nls non nls non nls
set up table itself
everyone free to swing on its side add infopanel borderlayout east
dimension of splinegraph same resized false
sample number string start time thread name label sample time status bytes
subject may be either host or domain
getparentfile may not work on relative paths
dimension changed resized true
default writing non nls
as connection held by only one thread we cannot already have preparedstatementmap put by another thread
we want to return context that actually in map if it 's first put we will have null result
preparedstatementmap associated to one connection so threads cannot use same preparedstatement map at same time
flag if all machines within given domain can access variable from
non nls non nls non nls non nls non nls non nls non nls non nls
nothreadclone used to ensure that teststarted methods will share same instance as sampleoccured methods so teststarted method can fetch totals accumulator object samples to be stored in
add main panel and graph
do we have some data or trailing empty field \? we have some data we 've started field just seen
first write start multipart file todo charset \?
delete any properties whose name converts to empty string
column renderers
use this instead of getlabelresource otherwise getdocanchor below does not work
retrieve formatted data using same encoding used to create it todo charset \? write actual file content
note this test will fail if property added or removed to any of components used in test files way to solve this to appropriately change test file
we just add placeholder text file content non nls write end of multipart file
csv quoteunquote handling
we just add placeholder text file content non nls
write form section
non nls non nls non nls non nls non nls non nls
first multipart start divider
add any parameters
end previous multipart
set up footer of table which displays numerics of graphs
write multipart parameter
if there any files we need to end previous multipart
generate axis label and associated color
write multipart file
and end of file multipart
set up table with footer
add end of multipart
finally merge names so it 's clear they 've been merged
internal list of all results
use axis scale
finds all classes that extend class searching in listallclasses arraylist param theclass parent class param listallclasses collection of classes to search in param listsubclasses collection of discovered subclasses param innerclasses indicates whether inners classes should be included in search
allow access to context and variables directly non nls non nls non nls non nls
if we have file but no data then read file
non nls maximum connection retries
do n't save empty comments except testplan to maintain compatibility
now we just construct any multipart files we only construct file multipart start we do not write actual file content
we 're sure that there one file because of getsendfileaspostbody method 's return value
exception in progress
this needs to be done before opening connection
write boundary end marker
get access to buffer
wrap read methods to track output buffer
ca n't have two matching cookies
preload output so that can be read back as http
reset colors index
allow testcode access to settings
indicate that error occured
list of value by sampler
make sure buffer details track output
sampling proper establish connection and read response repeatedly try to connect
canvas size
http response header looks alot like http ok date wednesday feb gmt server ncsa mime version last modified monday nov gmt content type texthtml content length
set details from actual response needs to be done before response can be stored
characters per second to emulate
add all headers from headermanager
we do n't want interrupt to try disconnection again
draw graph
test ca n't have duration more than secs cast from long to int
override all super class socket methods
method will check to see if jmeter started in nongui mode if it it will try to pick up proxy host and port values if they passed to jmeter java
calculate intermediate values if needed
look special cookie request non nls
table gettableheader setreorderingallowed false
log debug data idx data idx
non nls non nls default not in range of byte
force reload data
consider using apache commons pool to create pool of document builders or make sure xmlparserutils creates builders efficiently
this method uses apache soap util to create proper dom elements return element
not 'else if' because forcereloaddata
reload data from file
reload data form internal list of results
button
timeout to retrieve wsdl when server not response
notused string portname pnode getattribute name used to check binding but now it does n't it failing when wsdl did not using binding as expected
check soap
non javadoc see org apache http conn ssl sslsocketfactory createsocket
search field
check url
get node
checkboxes
revert to previous behaviour non nls non nls
non nls default bold
get soap operation
samplers and controllers need not apply but abstractthreadgroup controller ok
default circle
there should only be one soap operation node per operation
cached copy of totals this instance variables do not need to be synchronised as they not shared between threads however contents do need to be synchronized
first we iterate through bindings
create test file content
default option
now we iterate through operations
if first child soap operation we add it to array
unit tests see testcsvsaveservice
remove quotes from charset name
get or etc
keep copies of two editors needed
find index of path start
look case variation
absolute url
see org apache jmeter gui action command getactionnames
ditto non nls
find path endindex
try real encoded argument
install new path
must be done before setcontenttype
this ensures tha httpclient knows about protocol
now allow url handling to work
non nls non nls non nls
now we create compiled pattern and add it to arraylist
not needed httpclient
perform encoding
lrumap does not support generics currently
we assume name always encoded according to spec
value encoded in specified encoding
non nls jmx tag values
match etc non nls
skip expensive processing if it cannot apply non nls
document or context relative url like 'pathto' or pathto' or 'pathto path'
path between idx'pathstartindex' inclusive and idx'pathendindex' exclusive
encode according to http spec utf
get text response and image icon to determine which not null
this reader new bufferedreader new filereader this source parse this reader el
we clean line to get rid of extra stuff
now we set request method
increment current count
we filter line first before we try to separate url into file and parameters
current default language properties file
in case when filter not set we parse all lines
find last controller in target to store sampler there
check url \? symbol
variables maintained by server code guardedby samplestore maintain separate count of samples speed
bug can generate rte
we do n't want interrupt to try disconnection again we do n't want to continue using this connection even if keepalive set may not exist
if string contains atleast one double quote and checkmethod true go ahead and tokenize string
we return original string
test csv file with header line and recycle true
convert parameters
send different event wether we merging test plan into another test plan or loading testplan from scratch
avoid possible npe when trimming name
number of nodes
keystore use by proxy
there 's few properties which excluded from this processing
number of non extreme nodes
huh do n't store this one
number of nodes defined by length of
non javadoc see org apache jmeter util localechangelistener localechanged org apache jmeter util localechangeevent
grab nodes
read one line at time using bufferedreader
if set this regex that used to extract status from response not implemented yet private static final string status regex jmeterutils getpropdefault tcp status regex
computes interpolation coefficients
ok ok do n't copy this it per instance resultfilename res resultfilename
creation of interpolation structure
local variables
we tokenize using double quotes this means tomcat we should have tokens if there n't any additional information in logs
allow old format file without mechanism support
there should only be one token that starts with slash character
do nothing it 's naive but since utility meant to parse access logs formatting should be correct
initialize system structures just to be safe
initialize diagonal of system matrix to
test that only loops twice
let notified threads move on and get lock on managersinuse
initialize two minor diagonals of to
no implementation at this time since we bypass idea of having console tool to generate test plans instead decided to have sampler that uses generator and parser directly
initialize
we do quick check to see if any filters set if not we just return false to be efficient
double check this logic make sure it makes sense
jmx file attributes non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls jmx file attributes
di degree
check if entry index corresponds to tag if so return tag this also works if tags not translated
exclusion filter assumes most of files used therefore usefile set to true unless it matches
other object has empty value so remove this value from merged object
request headers column renderers
jmx attribute names do not change values these moved from smtpsampler which why prefix still smtsampler non nls non nls non nls non nls non nls non nls jmx attribute names
bi degree
ai degree
send post data from entry to open connection param connection urlconnection where post data should be sent return string show what posted will not contain actual file upload content exception ioexception if io exception occurs
check that there n't any extra entries
no text but using fragment mode
obtain message formats non nls non nls
intermediate arrays
jacobi convergence test
init newx and oldx arrays to
verify belongs to curve range
seek good interval and get piece of curve on it
polynomial calculation done by fast euler method
clear results table before filling
display with same order http protocol
if we know content length we can allow reading of request to block until more data arrives if it chunked transfer we cannot allow reading to block because we do not know when to stop reading because chunked transfer not properly supported yet
computes auto scaling and absolute plots
can be null if url invalid
parsed request headers
should n't draw negative values
non javadoc see org apache jmeter visualizers request requestview init
non nls soap request generally blank name non nls
blank name non nls
outer only once three four five six seven innerloopcount outerloopcount
key value
invalid dates must be treated as expired
set up nd table
set up st table result with empty headers
could be null if it has been deleted via nameupdater
set up rd table
create split pane
non nls concatenate query post if exists
better iso than utf
find all classes which implement javasamplerclient interface
implements jmeterguicomponent createtestelement
implements jmeterguicomponent modifytestelement testelement
entry tends to be ignored
datasource set up by teststarted and cleared by testended these called from different threads so access must be synchronized same instance called in each case
default can be overridden by script
overrides abstractjmeterguicomponent configure testelement
if previous time zero then target will be in past this what we want so first sample run without delay
some engines javascript cannot handle certain declarebean calls after engine has been initialised so create engine last
catch evaluation errors
settings panes
number of non extreme nodes number of intervals minus length of minus
initialize to empty string this will fail assertion
no max age no expires
upper limit of curve range belongs by definition to last interval
revision introduced classcast check but then used iter next to fetch item to be cast thus skipping element that did not cast reverted to work more like original code but with check in place added warning message so can track whether it necessary
computes relative auto scaled plots to fit in specified area
return label
implements javasamplerclient setuptest javasamplercontext
initialize gui
samp setdomain this getdomain samp setport this getport
implements javasamplerclient teardowntest javasamplercontext
implements javasamplerclient getdefaultparameters
this class shared between threads nothreadclone so all access to variables needs to be protected by lock either sync or volatile to ensure safe publication
jacobi system resolving results stored in rs computes coefficients di ci bi ai from results
test mail button
panel add signercheckbyfile
allow sampler access to test element name
do n't add delimiter first time round
only set default label if it has not been set
used per threaduser numbers cannot be static as random numbers not to be shared between instances
failed to initialise class
but we do trap this error to make tests work better
if parameter data can be converted no names we warn user that parameter data will be lost
show grid lines to turn it off set it to zero
reset paint counter
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
no point continuing mainly bsh evalerror
variables unlikely to contain spaces so most likely translation
implements teststatelistener teststarted
failures count
implements teststatelistener teststarted string
implements teststatelistener testended string
teststatelistener implementation
set default values non nls non nls non nls
set axis to round
see modifytestelement
textfield uses lf to delimit lines we need to send crlf rather than change way that arguments processed by samplers raw data it easier to fix data on retrival crlf converted back to lf storage in text field see
log info getlabel getfilename
property name to be used to look up display string
set response data
constructor initially called once each occurrence in test plan gui several more instances created then clear called at start of test called several times during test startup name will not necessarily have been set at this point
script can also use setresponsedata so long as it returns null
this assumes header names all single words with no spaces word followed by or more repeats of non word char word where non word char same abc def ghi but not abd def ghi non nls last entries may be quoted strings
set if we successful or not
ensure counts updated correctly
these variable names must have displayname properties and agree with getxxx setxxx methods non nls non nls non nls non nls non nls non nls
private static final string label default javatest
utility method to set up all values
let gui show that it will not be encoded
set this false to suppress some items use in http request defaults
make sure sample start time and sample end time recorded in order not to confuse statistics calculation methods if error occurs and exception thrown it possible that result samplestart or result sampleend wo n't be called
if we 're not storing subsequent samplers we 'll need first sampler to do all work
find first empty line of multipart it signals end of headers multipart agents supposed to terminate lines in crlf
used by request panel non nls
returns selection value as int with value set to zero if it out of range
record sample start time
we uploading \? non nls
generate random ish offset value using current time
these items shared between threads in group by clone method they initialised by teststarted so do n't need to be serialised
non nls key hashmap
non javadoc see org apache jmeter visualizers request requestview cleardata
probably missing jar
record end time and populate results
name of sampler
private imageicon runningicon jmeterutils getimage thread enabled gif
only do calculation if it needed
property values strings
execute sample in this case sleep specified time
read st line read lines restart to file begin line line line line return to nd line first line names
string used to indicate null value
decent value timers
read only after class init
find data sent to mirror server which mirror server sending back to us we assume headers in iso and body can be in any content encoding therefore we get data sent in iso to be able to determine end of header part and then we just construct byte array to hold body part not taking encoding of body into consideration because it can contain file data which sent as raw byte data
based on getting name of jdbc type from javaalmanac com
based on query return value get results
user provided incorrect query type
originally there only one filename and only get retr supported to maintain backwards compatibility property name needs to remain same non nls
special case testplan 's arguments sub element
use with ssl connection
remember this first in its batch
re parse now it 's http request over ssl
methods used to store and retrieve mailervisualizer
methods to implement modellistener
should not happen but if it does we do n't want to continue
create panels cssjquery tab
non javadoc see org apache jmeter testelement teststatelistener teststarted
save value in variable if present
non javadoc see org apache jmeter testelement teststatelistener testended
most current subclasses can process text
identifying log messages
non javadoc see org apache jmeter testelement teststatelistener teststarted java lang string
in case
non nls non nls non nls non nls
could be sampleresult or assertionresult
non javadoc see org apache jmeter gui jmeterguicomponent createtestelement
ca n't have output parameter type null
thrown by derby jdbc at least if there no \? markers in statement
add message when no request data ex java request
called by httprequesthdr
save current count
lrumap not generic
to save last select tab rawparsed
starts at
result column renderers
remove any additional values from previous sample
call to testbeanhelper prepare intentional
response headers column renderers
ca n't add testplan anywhere
non nls get previous count
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
keep record of pre thread pools so that they can be disposed of at end of test
ensure output follows version
non javadoc see org apache jmeter gui jmeterguicomponent modifytestelement org apache jmeter testelement testelement
response fields column renderers
now parse initial request in case it connect request
test leading split characters
calling disconnect does n't close connection immediately but indicates we 're through with it jvm should close it when necessary we do n't want interrupt to try disconnection again disconnect unless using keepalive
check if exclude pattern matched
child to be removed will always be 'cos as nodes removed nth node will become th
if we want per thread pooling pool will be created later
look elements directly within http proxy
set up datasource maxpool parameter so same code can also be used setting up per thread pools
non nls non nls non nls non nls non nls non nls non nls non nls
add cssjquery tester pane non nls non nls
log required to ensure errors available
if no expressions specified we let sample pass
used to hold per thread singleton connection pools
wrapper class to allow getconnection to be implemented both shared and per thread pools
one space blank header non nls one space blank header non nls
check that we have content type
shared pool
in rare case wsdl protected and requires authentication use authmanager to set authorization basic and digest authorization pretty weak and do n't provide real security
make sure setting new isolation mode done in auto committed transaction
reset it
will use default isolation
we always want to override https scheme because we want to trust all certificates and hosts
assume we will be successful
set auth thanks to kiyun roe contributing patch cleaned up patch slightly
create tables object used each row
environment supposed to use string keys only
it not possible to access actual http response code so we assume no data means failure
non nls create panels other tabs
assume default charset ok here
we use linkedblockingqueue rather than concurrentlinkedqueue because it has poll with wait method that avoids need to use polling loop
using onmessage listener
we displaying sampleresult
allow shortnegative times
reset reuse
called from threadfinished thread
guardedby this
non nls non nls non nls
reload after adding alias
not real sampler
response message label
parsed response headers
renamed from clear
done
reset search
check if we have it in cache
testelement el getproperty jmssampler jms properties getobjectvalue
testelement el getproperty jmssampler jndi properties getobjectvalue
restore tabbed pane parsed if needed
button group resources
restore last selected tab
append '' if this n't last token or it but original path terminated ''
no need to initialize when getcreateoneinstancepersample true cause it will be done in sample
calling method via reflection results in wrapping any exceptions in ite unwrap these here so runprotected can allocate them correctly
if concurrent download emb resources add to list async gets later
now that we have stripped file we can parse parameters
these names of properties used to define labels non nls
it only parameter values which encoded in specified content encoding rest of query encoded in utf therefore we compare whole query using utf
if checkmethod on token true we tokenzie it using space and escape while loop only first matching token will be used
button group resources when bytes message selected
non nls button group resources
add variables access to context and variables non nls
method should add junit testxxx method to list at end since sequence matters param methodname
here core routine to find appropriate cookie manager and check it 's not being used if used wait until whoever 's using it gives it up
first have to release cookie we using so other threads stuck in wait can move on
these names used in jmx files and must not be changed
cache file only used by sample in single thread
cache bytes message only used when parsing from file
potentially expensive do it once
allow shorthand names
display cookie in headers table same location on http protocol
these entry indexes must agree with searchcontrols scope levels javax naming directory searchcontrols object scope onelevel scope subtree scope these have values so can be used as indexes in array as well as value search itself although strings used to set and get options language change does not currently cause problem because that always saves current settings first and then recreates all gui classes
list of parsers non nls
quieten findbugs default do nothing
add styles to use different types of status messages
prepare results tabbed pane
resize table columns to appropriate widths param table table to resize columns private void sizecolumns jtable table
not found
following strings used in test plan and values must not be changed if test plans to be upwardly compatible
add search text extension
count limit time limit attributes null all return object \? dereference links \?
getset properties
these static variables only used to convert existing files
will be rd option which not checked specifically
internal information only read from saveservice properties file non nls must match revision id value in saveservice properties used to ensure saveservice properties and saveservice updated simultaneously expected value non nls read from properties file non nls
maximum size that we will display
this name of hotspot diagnostic platform mbean sun java see
add sample
non nls non nls non nls non nls non nls non nls
default wait ms message if timeouts not enabled this maximum time sampler can be blocked
no need to synch only used by sampler and clientpool which does its own synch
this will be null if initialization succeeds
if true startstop subscriber each sample
prepare common tab
run threadstarted only if destination setup on each sample
createtest method creates extra context which needs to be closed
if so we need to start collection here
init right side with first render
run threadfinished only if destination setup on each sample stop listen queue
mapnames strings
to restore last tab used
log warn debug ex javax naming sizelimitexceededexception ldap error code sizelimit exceeded remaining name '' todo tidy this up
disabled thread start if listen on sample choice
do n't start yet if stop between samples
listen on sample
element setproperty tcpsampler filename filename gettext
can be null if init fails
instantiate render classes
listen on sample
write out search results in stable order including order of all subelements which might be reordered like attributes and their values so that simple textual comparison can be done unless number of results exceeds link max sorted results in which case just stream results out without sorting
so we break loops in samplewithlistener and samplewithreceive
preset to text option
to restore last selected tab better user friendly
now put current gui in place this code copied from editcommand action we ca n't just trigger action because that would populate current node with contents of new gui which empty fetch once probably caused by unit testing on headless system
remove old right side
create and add new right side
to display current sampler result before change
assume failure
cookie non nls
these jmx names and must not be changed non nls
strings used to set up and process actions in this menu strings need to agree with those in action routines
convert old test plan entry which language dependent string to resource name
we use default character set encoding of jre
default to be applied
non nls non nls non nls non nls non nls non nls non nls non nls non nls
these jmx file attribute names and must not be changed non nls
cannot change value as that used in jmx files non nls
end of jmx file attribute names
menu add xxx controls which items in add menu menu parent xxx controls which items in insert parent menu
perform checks on resources
programming error do n't continue
gui components
ca n't be null this checked by canaddto
ignore
no body should have been sent
processes assertions display sampleresult
this check state of testelement and if returns false it disable loaded node
translate alias to classname and then delegate to wrapped class
set status node
samples inside interleavecontroller
textarea label
used per threaduser storage of increment in thread group main loop
member variables
test before selection controller zero default simple controller one two simple controller three four five six after cond switch condition exp expected results
msgid not available until after send called note there only one admin object which shared between all threads interlock with receiver
if directory already exists and directory we just renamed to archive date
textarea
while blank previous sample ok should loop until false
non nls
define max scale axis
outer only once three only once five and six four seven innerloopcount outerloopcount
replace xaxistitle to null do n't display axis title
test plan with onlyoncecontroller inside inner loop set up test plan
check that query string empty
outer only once three only once five and six eight in interleave only once four interleave eleven innerloopcount outerloopcount
assertequals expected lines size
create stringfromfile function and set its parameters
next
lines colors
define chart type line
clear maps
axis ruler
increment cannot be
constructor gui tests
defaults
manage legend placement
save method name
return new dimension width
int width getwidth
will always be within range of int as must be width
test sending parameters which urlencoded beforehand values must be url encoded with utf encoding because that what httpargument assumes in utf same as in iso which same as aring
names cards non nls non nls non nls non nls non nls non nls non nls non nls
unbind
take note of when buttong changed so can change panel
additional ctor processing tests which use int parameters
private static final logger log loggingmanager getloggerforclass
ensure only values used
test sending data as iso
test sending data as utf with values similar to viewstate parameter that net uses
test sending data as utf with values that have been urlencoded and where we tell sampler to urlencode parameter values
check if it multipart http post request
do not use testcase run testresult method since it will call setup and teardown doing that will result in calling setup and teardown method twice and elapsed time will include setup and teardown
headers and body divided by blank line
check arguments we should have one argument with value equal to post body
if we loading new test plan initialize tree with testplan node we loading
header may contain charset regexp extracts it so computed boundary wrong
skip non editable properties that ignore hidden read only and write only properties
this needed to stop xstream keeping copies of each class
test cases making url and exercise method addargument string name string value string metadata
only contains ldapargument entries
same viewresultstree
non nls non nls non nls non nls
sizecolumns table
needed by visualizer interface
chunk output if necessary
educated guess
converts class file from text stored in jar file to version that can be used in class forname param strclassname class name from jar file return string java style dotted version of name
this 'other value' regex deliberately weak even accepting empty string to be useful when reporting malformed data non nls
axis
silent error consider curve constant outside its range
new font sansserif font plain
ensure properties files do n't use special characters
enable embedded html resources
getset methods
if or flag set to last or last log last jtl then last loaded file name used to generate log file name by removing jmx and replacing it with log jtl
sampleoccurred called from multiple threads not safe to write from multiple threads also decouples file io from sample generation
ci degree
note this only used to implement testiterationlistener testiterationstart since this frequent event it makes sense to create list once rather than scanning each time memory used will be released when thread finishes
in build test case using this counter create new entry in server
make sure decoding follows input file
forget about all guis we 've created so far we 'll need to re created them all
find all jars in search path
annotation classes to check
default default
support original property name non nls
replace update attribute non nls non nls add mobile phone number attribute non nls non nls
callablestatement can return more than resultsets plus number of update counts
todo charset \?
record headers size to allow httpsampleresult getbytes with different options non nls non nls add n' at end of headers before data
these values test attribute above non nls
non nls end of test values
in other gui component cleargui resets value to defaults one as there one gui per element with testbeangui as it 's shared its default values only known here we must call setvalues with element as it holds default values otherwise we will get values as computed by customizer reset and not default ones
well behaved browser supposed to send 'connection close' with last request to http server instead most browsers leave it to server to close connection after their timeout period leave it to jmeter user to decide
need to append something so delimiter added
non javadoc see org apache jmeter gui jmeterguicomponent createpopupmenu
must match version property value in saveservice properties used to ensure saveservice properties and saveservice updated simultaneously expected version non nls
prepare highlighter to show text find with search command
new search \?
can occur at run time could be caused by bsh exceptions evalerror parseexception or targeterror
save search position
put warning if tika app jar missing or some dependencies in only tika core parsers packages using non nls non nls
non javadoc see org apache jmeter gui jmeterguicomponent getmenucategories
read all sortedresults into memory so we can guarantee ordering
display not found message and reset search
resource keys cannot contain spaces and forced to lower case non nls non nls
must be done prior to sorting
read header part we will be looking content length header so we know how much we should read we assume headers in iso if we do not find such header we will just have to read until we have to block to read more until we support chunked transfer
now set individual categories if any
non nls no point trying these
if non null then any object provided to invoke ignored
non javadoc see org apache jmeter report writers pagesummary getfilename
helper method to ensure that format initialised if initializelogging has not yet been called
saves current position in data list
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
if there 's anything left
assume it 's senstive data
should be user provided class name
parent folder or single message file
servername from mail sampler
ensure any remaining contexts closed
these constants used in jmx files and so must not be changed
string samplelog eclipse workspacejmeter bintestfilessample log jtl
key type to collect usually long value count of entries
time pattern passed to java text simpledateformat
perform sampling
start timing
treats last line specially last line allow missing terminator
use actual class so name must be correct
special value
did sample succeed \?
values in aggregate sample average value valn so need to add valn valn val val
create empty properties
non javadoc see org apache log logtarget processevent org apache log logevent
requires javamail
get session
get store
get directory
do n't save headers they already in raw message
non javadoc see org apache jmeter visualizers request requestview getpanel
save raw message
javadoc api says this ok
guardedby this buffered reader
close connection
not been set by any child samples
labels do n't make these static else language change will not work
strip response data before writing but only successful request
predefined format patterns selected by property log format type see jmeter properties new line added later
helper method to set up gui screen
cannot check query string of result because mirror server replies without including query string in url
no need to log normally as we set status non nls non nls
default non nls
non nls may be null
used to separate attachment file names in jmx fields do not change
jmx file attribute names
process address lists
create certificate rem ku cdig keye means keyusage criticialdigitalsignature keyencipherment
calculate message size
set up sample result details
inport certificate
perform sampling
username password incorrect
jmx attributes do not change values non nls non nls non nls non nls non nls non nls non nls non nls non nls
general exception
process sampler result
throws me
throws ioe me
import signed ca cert into store root already there both needed to sign domain certificates
ensure application does not hang if it requests input
buttons
when enter pressed search start
permissible values true match against headers false or absent match against body this original default url match against url these passed to setusefield method do not change these values
default not visible
short circuit traversal when found
dname which used if none provided non nls
search text in response data
remove gn vars
strip sequence it can either mean change of state to state no options or else long option
documentlistener method
non javadoc see org apache jmeter report writers pagesummary getpagetitle
part only needed if we do n't send eml file
getallheaders not yet genericised throws me
desactivate or not specials regexp char
throws me throws ioe me
api not yet generic throws me
reset status code if message contains one
all rows have this class
we have at least one potential address
test sending data as utf with values that will change when urlencoded and where we tell sampler to urlencode parameter value
local vars
synch needed because clear can occur while add occurs
server settings
mail settings
should behave same blank and last because success on input
better error than npe
auth settings
cached character integer max value when invalid
security settings
non javadoc message settings
add header panel
non javadoc see org apache jmeter report engine reportengine reset
standard setup
low level invocation routine should only be called after any defaults have been applied
non nls non nls non nls non nls non nls non nls non nls non nls non nls
add standard title
expected
add makebuttonpanel borderlayout south
not compatible
not compatible must follow checkbox setting
ensure correctly set on initial display
might be nullproperty
new functor setname non nls non nls
thread pool executor to get resources use linkedblockingqueue note max pool size does n't effect
set properties using jaf
handle body and attachments
ok because used in synchronised method
mailbody empty
set from field and subject
we have received one more sample
synchronousmodetrue
listener cannot be null here
while blank previous sample failed should run once
non javadoc see org apache jmeter report engine reportengine runreport
ok it has been supplied
non javadoc see java lang runnable run
methods used in creating gui
could be non nls
private static reportplan plan
while last previous sample ok should loop until false
helper method to get ms resolution timing
needs to be volatile as may be referenced from multiple threads todo see if this can be made final somehow
mongo thread safe
it seems that opera needs chain in order to accept server keys signed by intermediate ca opera does not seem to like server keys signed by root self signed cert
there no harm in trying to clear up
helper
jmx names
jmx names do not change their values
default charset deliberate here
this will be config element so we cannot use getxxx methods
default to original behaviour re use connection
super class testelements that can be applied to main sample sub samples or both assertions use different class because they use different value link getscopename constant their corresponding gui classes need to add scopepanel to gui using abstractxxxgui methods createscopepanel savescopesettings showscopesettings
this will be config element so we cannot use setxxx methods
returns string value character delimited column value enclosed in quote character if required if value contains special character then string value returned enclosed in quote character any quote characters in value doubled up if value does not contain any special characters then string value returned unchanged list of special characters includes quote character param input input column string may be null without enclosing delimiters param specialchars special characters second one must be quote character return input string enclosed in quote characters if value contains special character null null string input
element setproperty tcpsampler nodelay setnodelay isselected
non javadoc see org apache jmeter report writers pagesummary pagestarted
version information test plan header this written to jmx files by scriptwrapperconverter also to jtl files by resultcollector non nls
normal output debugging information required type org apache jorphan collections listedhashtree cause message webservicesampler webservicesampler class org apache jmeter save scriptwrapper message webservicesampler webservicesampler line number path jmetertestplanhashtreehashtreehashtree hashtree webservicesampler cause exception com thoughtworks xstream alias cannotresolveclassexception
non javadoc see org apache jmeter gui jmeterguicomponent getlabelresource
catch errors and rethrow as conversionexception so we get location details
non javadoc see org apache jmeter report engine reportengine stopreport
non javadoc see org apache jmeter report writers pagesummary setfilename java lang string
do n't use default saving tristates element setproperty tcpsampler close connection closeconnection isselected tcpsampler close connection default
using index voluntary as child removed in next step and added to new parent
columns size
insert clone of node original one will be removed by exportdone method children not cloned but moved to cloned node working on original node would be harder as you 'll have to deal with insertion index offset if you re order node inside parent
columns size
creates one of fields used to display graph 's current values param color color used to draw value by convention this same color that used to draw graph this value and in choose panel param length number of digits which field should be able to display return text field configured to display one of current graph values private jtextfield createinfofield color color int length jtextfield field new jtextfield length field setborder borderfactory createemptyborder field seteditable false field setforeground color field setbackground getbackground text field should expand horizontally but have fixed height field setmaximumsize new dimension field getmaximumsize width field getpreferredsize height return field
mainpanel add createfilenamepanel
method called by add synchronized this different model from one used by result collector
jmx file constants do not change
non nls
non nls non nls modal dialog box
ok should treat as separate should have no arg
these must not be static otherwise language change does not work non nls
set position when next first called and do n't overwrite until reinitialize called
non nls non nls non nls non nls non nls non nls
non nls reader xmlfactory newsaxparser getxmlreader
may be null put in applicationx www form urlencoded request we only support parameters no file upload allowed
graphaccumvisualizer obsolete bsfsamplergui now testbean graphaccumvisualizer obsolete bsfsamplergui now testbean graphaccumvisualizer now obsolete ctt changed to use intprop mode
if blank only check previous sample when at end of loop non nls
genericcontroller controller new genericcontroller genericcontroller sub new genericcontroller sub addtestelement new ifcontroller sub addtestelement new ifcontroller falsetrue sub addtestelement sub sub addtestelement new ifcontroller controller addtestelement sub
jmx file constants do not change non nls
transaction controller additional sample
we processing first sample \?
used handling interrupt
loop controller panel can be displayed standalone or inside another panel standalone we want to display title name etc everything however if we want to display it within another panel we just display loop count fields not title and name
not in cache so create new one and cache it
use by server script
do stuff we cannot do as part of threadstarted
do n't wrap this error display it as
derived from properties only
optional processing instruction line non nls
simple test with single selection controller generic controller sampler before switch controller sampler zero sampler one sampler two sampler three sampler after
use test element name label
generic controller before while controller var one two simple controller three four after
calculate response time
property names to preload into jmeter variables
cannot do this as part of threadstarted because config elements have not been processed
list of active threads
should we return original value \?
set endtime thread duration in seconds
we do n't wait thread to complete as that would prevent parallel tgs
we call parse with to get only one this also means if we change implementation to use it would use every other entry and so on not that it really useful but person could use it that way if they have huge gigabyte log file and they only want to use quarter of entries
trigger end of loop condition on all parent controllers of current sampler
fetch in case gets nulled later
non nls non nls non nls
this called once each occurrence in test plan before start of test super clear method clears name and all other properties so it called last
mail on userlist reported npe here looks like only happens if there network errors but check anyway
interleavecontroller in inner loop
this only called at start and end of thread so there not necessary to cache search results thus saving memory
protected fields jmetertoolbar class can be use to create another toolbar plugin etc non nls
data implementation
preserve sign on first byte
obtain value of appropriate type this property
do we need to close byte array or flush it \?
following three can be discussed should they be from first request or from final one \? chose to do it this way because that 's what browsers do they show final url of redirect chain in location field
deliberate use of deprecated method
private static configuration getconfiguration assertionresult assresult defaultconfiguration config new defaultconfiguration assertion result tag name jmeter save service config setattribute failure message assresult getfailuremessage config setattribute error assresult iserror config setattribute failure assresult isfailure return config
see if this works it did not let 's try some other formats
class to handle generating delimited string adds delimiter if not first call quotes any strings that require it
outer sample and inner loop samples
non nls non nls non nls non nls non nls
it sub sampler of transaction that will be sampled
test to show current problem with interleavecontroller am not sure if expected order of samples below correct because am not sure if it properly defined how interleavecontroller and onlyoncecontroller should function
remote exit called by remotejmeterengineimpl rexit and by notifytestlistenersofend iff exitaftertest true in turn that called by run method and stoptest class also called
process command line property definitions can occur multiple times
allow engine and threads to be stopped from outside thread from beanshell server assumes that there only one instance of engine at any one time so it not guaranteed to work
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
private set hosts new hashset
use deprecated method to avoid duplicating code
get outputwriter to use
allow testresultwrapper to feed back samples this effectively same as saver fromxml inputstream except we get to provide dataholder do n't know why there no method this in xstream class
converters to use
non javadoc see org apache jmeter protocol http parser htmlparser isreusable
ok
non nls non nls
non nls default normal
set it
make sure we log error
non javadoc see org apache http conn ssl sslsocketfactory createsocket org apache http params httpparams
api expects null not empty array
save location so resulting sample can be disabled
url matches last redirect
set category
set root level
default title menu bar
jmx file attributes non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls jmx file attributes
changing color column
following array must agree with dateformat it used to translate positions in buffer to values used by calendar class field id current format mmddyyyy hh mm ss buffer positions
first lets draw grid
here 's where test really starts run full gc now it 's no harm at all just delays test start by tiny amount and hitting one too early in test can impair results short tests
draw axis
non javadoc see org xml sax helpers defaulthandler error org xml sax saxparseexception
ignore setup and post here we could have filtered searcher but then future thread group objects would n't execute
now draw bar chart
groups have all completed now
we sort objects
fields table non nls not sure needs \? non nls non nls
programming error bail out
concurrenthashmap does not need synch here
assume default charset ok here
calculate height
non nsl
this used to be request wait timeout ms where means forever however means return immediately latch
reset previous result
default non nls
editmenu setenabled false
myrow nextrow assertequals myrow assertequals getnextrow
check if laf built in one
non nls non nls
or treenode from same tree
only print final delta if there some samples in delta and there has been at least one sample reported previously
onlyonce inside interleavecontroller
find and set file this recent file command
see getstaticlabel
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
file new operation may set to null so just return app name
first make sure we save content of current gui since we will flush it away
beaninfo objects also contain locale sensitive data flush them away
insert workbench node
jmenu reportmenu jmenuitem analyze
allow functions etc to register teststopped notification only used by function parser so far list merged with testlisteners and then cleared
if add menu already exists remove it
if we still ca n't find it just try using all of text
insert add menu as first menu item in edit menu
main iteration
there npe being thrown without null check here jkb
function does not exist so treat as per missing variable
non javadoc see org apache jmeter report engine reportengine exit
non javadoc see org apache jmeter report engine reportengine configure org apache jorphan collections hashtree
this required so that see org apache jmeter gui tree jmetertreemodel getnodesoftype can find clearable nodes userobject has to implement interface
non javadoc see jodd lagarto emptytagvisitor script jodd lagarto tag java lang charsequence
non javadoc see org apache http conn ssl sslsocketfactory createlayeredsocket java net socket java lang string int boolean
non javadoc see org apache jmeter protocol http util accesslog logfilter excpattern java lang string
find action form url
if height less than one we set it to one pixel
settergetter javadoc comments not needed
detect functionname so this does not generate empty string as parameter
if not running under alltests java make sure that properties and log file set up correctly in order this to work correctly junit test must be started in bin directory and all jmeter jars plus any others needed at run time need to be on classpath
draw red line point
remaining implementations delegate to wrapped key manager
names of junit methods non nls non nls non nls
draw orange line point
this used to keep track of local non remote tests name chosen to be unlikely host name non nls
process escaped characters store
helper method also used by constructor
\? xml
skip leading bytes if any
note originally code did use clientpool to share subscribers however since key this and each sampler unique nothing actually shared
there also javax swing text document class
help menu non nls
generates configure pop up dialogue listeners from all methods in samplesaveconfiguration with signature boolean savexxx there must be corresponding void setxxx boolean method and property save xxx which used to name field on dialogue
clear result tab on ctrl
throws headlessexception
options menu non nls non nls
setparameters called before test proper started and thus variables not interpreted at this point so defer file open until later to allow variable file names to be used
must return valid node or may generate npe
need to reset containers repeated runs about only way functions to detect that run starting seems to be setparameters call
run menu non nls
override implementations of superclass forwarding all methods from celleditor interface to our delegate
edit menu non nls from java look and feel guidelines if all items in menu disabled then disable menu makes sense
strpathsorjars pathnames or jarfiles to search classes classnames required parent class es or annotations non nls innerclasses should we include inner classes \? contains classname should contain this string ignore classes which specific to reporting tool non nls notcontains classname should not contain this string annotations true if classnames annotations
file menu non nls
non javadoc see org apache jmeter gui action abstractaction doaction java awt event actionevent
non nls file merge setaccelerator keystroke getkeystroke keyevent vk keyevent ctrl mask
prevent instantiation
non nls non nls non nls
non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls non nls
add all child nodes of node we adding
connect to http server and do simple http post with utf encoding of body which caused problems when readerwriter classes used in httpmirrorthread
we can only move single node
test if can instantiate parser using property name
non nls non nls reduce font
commented as per sebb
maintain original behaviour
update menu items to reflect recent files
remove last item from list if it brand new file
spaces not allowed in property names read from files
modifying
when last sample seen \?
do not allow non leaf node to be moved into one of its children
package access use by test code non nls
non nls non nls non nls non nls
attributes testelement and testelementproperty must all be unique non nls also used by propertyconverter classes non nls non nls
private static final logger log loggingmanager getloggerforclass
samplerdata attributes must be unique keep sorted by string value ensure listener documentation updated when new attributes added non nls non nls non nls non nls non nls non nls non nls
non nls non nls non nls non nls non nls non nls non nls non nls non nls
non nls default bottom non nls
all done now so return empty string this allows caller to append csvread file next to last instance of csvread file col it important not to read any further lines at this point otherwise wrong line can be retrieved when using multiple threads
do n't try to instantiate these
do n't clear plan
jfilechooser jfc null
add any files cannot retrieve parts once added to multipartentity so have to save them here
same code as default jmeter class
avoid npe in resetpage
do n't change name if merging
ok
these not currently updated
clear name of test plan file
guardedby this
non nls non nls non nls
save parent node later
so elements can only be added as children
this graph clear
log info classname strclassname
match all
compute new spline curve
check that bsh has read file
do nothing wait next pile to complete
made currentsample volatile
find jmeter home dir from initial classpath
special handling
converttree tree
non nls non nls
get jcomponent from visualizer
get string given from choose and check file extension
no disabled icon found
must therefore set enabled icon so there at least some icon
put gui object back to way it
container endwindow jpopupmenu pop
endwindow window
get main frame
close any main menu that open
transient private static final logger log loggingmanager getloggerforclass
boolean enabled true
if icon has not been defined then use gui class property
mkdir returns false if directory not created could be because it exists
java on mac os can add second entry to initial classpath non nls
there 's only test plan so can cache mode here
add standard jar locations to initial classpath
now eliminate any classpath entries that do not match search
non nls non nls non nls non nls non nls non nls
return pagesize divided by to get kilobytes
we add entry
non nls non nls non nls non nls non nls non nls
we should make this configurable eventually
now add samples to hashmap
usesunc
iterator itr data iterator
duplicates
classfinder needs classpath
incompatable bleeall
check that optional args work woth long options
classfinder needs this
non nls non nls non nls non nls
make addurl method visible
needed shutdownclient
if flag to last then last loaded file if any used
restarts
result setresponsedata not set
dstupididiot all all here
check delimiters allowed
should detect trailing option
dstupididiot all here
check allowed in arg
dstupid
dstupid
dstupid
canonical form
test optional arguments
convert between eclipse jar name and build properties name
remove docs only jars
this would be done by run command
testlog setpriority org apache log priority debug
not present
wrong
wrong
loggingmanager setpriority debug jmeter
restart file
run test in batch mode
this needs to divert log sampleresult
only accept jar files non nls
condensed length without add each header add initial header final before data
check random number
this would be done by run command
should remote engines be stopped at end of non gui test \?
check option combinations
needs to be initialised
also initialises jmeter logging
non nls non nls non nls non nls non nls non nls non nls non nls non nls
etc
set some hopefully useful properties
ifcontroller controller new ifcontroller controller initialize
should not enter loop
check undefined does not become reserved word
test with simplecontroller as first item
should not enter loop next time
start server
most recent
should not enter loop next time but should continue to end of loop
update classloader if necessary
bshinit log
do what would be done earlier
ssl not supported starttls not supported other messagingexception
should not have any text arguments
match by name
should not run any children should match default entry
selection controller with two sub controllers but each has only child
requires apachejmeter functions jar to be on classpath otherwise function cannot be resolved
log info testblankprevok
log info testlastprevok
dummy testing functions
log info testotherprevok
while last previous sample failed should not run
log info testlastprevfailed
while false previous sample failed should not run
log info testfalseprevfailed
non nls non nls non nls
set up test plan
log info testblankprevfailed
httpclient httpclient
onlyonce samples
outer sample
inner loop
sample in inner loop
compute expected sample names
only once samples
run entire test again
execute test pan
checks last or lastsuffix returns last name with jmx replaced by suffix
additional settings
most recent non nls
onlyonce inside inner loop
not replaceable controller
test skipped now as behaviour not yet properly defined
not enabled
sample in inner loop
escaped dollar commma and backslash with no variable reference
this test tries to emulate http sample with two subsamples representing images that downloaded page representing first sample
escaped dollar commma and backslash with variable reference
backslashes removed before dollar comma and backslash
not testelement
escaped dollar commma and backslash with missing variable reference
not replaceablecontroller
escaped dollar commma and backslash with missing function reference
log debug domain property element getproperty domain
keep track of remote tests
set up non wild variables
not yet used private jmeter parent
should not clear this \?
check when match fails
parent unused
extractor setdefaultvalue default
now rerun with match fail
it will be null unless remotestop true
allow listeners to close files
non nls
allow enough time jvm to exit
has child but child empty
has no child
no text
test fragment
now get its text
there n't any
try to get data from subresult needed addsubresult
get data from both
get data from child
create splitfile function and set its parameters
latin small letter with cedilla latin small letter with acute
create beanshell function and set its parameters
reset files
check some initial variables
check source works
check persistence
function objects to be tested
helper class used to implement co routine between two threads
allow other thread to start
open as
open as
col line
col line
next
col line
xpathfilecontainer tests
remove disabled items gui runs this done in start java
this cannot be jmeter class variable because properties not initialised until later
use same xpath both threads
string
prevent accidental use of below
wrap round check
no wrap round check
perform sum and check results
trailing space
test with output variable name
only accept commands from local host
template match number all separator
needs to be public tests
test with empty output variable name
not full test plans
needs to be public testing
start in new state
suite addtest new testload checkguipackage
constructor testelement tests
defaults to caller url
constructor serializable tests
constructor function tests
only show classpath once
allow mimetype of file to control content type this not obvious in gui if you not uploading any files but just sending content of nameless parameters
non nls non nls non nls non nls non nls non nls
used by testanchormodifier used by testanchormodifier used by testsaveservice
use suite to allow tests to be generated at run time
locale used to instantiate gui objects
restore original locale
extract titles from component reference xml
sample with no sub results simulates image download
not true gui component
extract titles from functions xml
first time
we do n't mind if this left over ditto not sampler
test gui elements create suite of tests
test functions create suite of tests
test gui elements run test
so we can detect extra entries
this work in progress or internal gui component \? will be internal components
skip example samplers
record in log as well
detecting extra entries
check that function descriptions ok
test gui elements not run testbeangui items
test serializable elements create suite of tests
test serializable elements test object
do n't try to instantiate remote server
try with parameter less constructor first
no luck ignore this class
we wo n't test restricted access classes
not thrown so need to check here
only dump it once
used by findtestfile
jmeterutils assumes unix style separators
used to be done in initializeproperties
needed scripts
display actual encoding used will differ if file encoding not recognised
helper method to find file
add offset
number of samples taken
will only contain argument or httpargument
same as above
not same
this needed in order to set up cookie policy
force table to be at least pixels high
starts empty
should not be stored
test session cookie returned
test old cookie not returned
test duplicate cookie handling
assumes some kind of list used
test cookie matching
assertequals man get getpath
cookies ignored
cookies again ignored
show that maxlong now saved as
shutdown http server
wait up to second
succeeded
connect to http server and do simple http get
write to socket
headers
close connection
read response
check that request and response matches
write start of headers and then sleep so that mirror thread will have to block to wait more data to appear
write rest of headers
content sent
connect to http server and do simple http post
construct body
write headers and body
write headers and then sleep
write body
check that request and response matches
sid
no entry check it still present
test https works too
these some of special characters
dummy as file has no entries
relative filenames
hide window on esc
identify subtests
this ok
change to false after first insert
do update on enter
must be start of subtree
private testdata string string string this null
convert both to sets
get expected results as list
http get request
http post request
http get request with encoding not known
http post request with content type textplain
http get request with utf encoding
http post request with utf encoding
http post request with unknown encoding
http get request with utf encoding
http post request with encoding not known
unit test code see testifcontroller
utility routine to get connection from pool purpose allows jdbcsampler to be entirely independent of pooling classes allows pool storage mechanism to be changed if necessary
cnd may be null if next called us non nls
now evaluate condition using javascript
if test false need to re initialize indexes
getitercount
http post request with content type textplain charsetutf encoding should be picked up from header we send with request
runtime zero no point staying around
\? \?
http post request with iso encoding
this needed onceonly to work like other loop controllers
http post request multipartform data simple values
only create map if it required
no space after
spaces after
may be replaced by randomordercontroller
assume there 's at least one file
description multipart
incrementcurrent
file upload multipart
most browsers use iso as default encoding even if spec says utf
must be controller
no filters
empty filters
non empty filters
can only match once
simple inclusion and exclusion filter
allow all but images
true
this must be original java http sampler
default true compatibility
transaction controller parent
check if transaction done
this transaction done
sample children of transaction
most browsers use iso as default encoding even if spec says utf todo charset \?
delete temporay file
if we do not get any sub samplers transaction done
gui components
test sending utf data with iso content encoding
test method 'org apache jmeter protocol http sampler postwriter sendpostdata urlconnection httpsampler this method test sending file content as only content of post body
check using default encoding
check using different encoding
file content sent as binary so content encoding should not change file data
test method 'org apache jmeter protocol http sampler postwriter sendpostdata urlconnection httpsampler this method test sending only formdata as multipartform data request
tell sampler to do multipart even if we have no files to upload
test sending data as iso with values that need to be urlencoded
test sending data as utf with values that needs to be urlencoded
assume success
check if it start of new transaction must be start of subtree
use latency to measure connection time
must be end of controller
we have sampled one of our children
we must set res to null now before sending event transaction so that we can ignore that event in our sampleoccured method
check if we still sampling our children
test sending data as utf with values that would have been urlencoded if it not sent as multipart
httpsampler uses iso as default encoding httpsampler uses iso as default encoding
accumulate waiting time later
log warn constructor only intended use in testing
join two multiparts
ensure name available debugging
encoding used http headers and control information
replace all backslash with double backslash
it jmeterthread which knows how to sample real sampler
different from testhttpmirrorthread port and standard mirror server
this used to emulate before class and after class
another subsample transaction
add parameterised tests simplicity we assune each has cases
shutdown mirror server
set response code of transaction
test sending data as utf with values that will change when urlencoded
transaction fails if any sub sample fails
replace variables in sampler
add sub result to transaction result
add current time to total later use exclude pause time
if selected add duration of timers to total runtime
test sending data as utf where user defined variables used to set value form data
test sending data with iso encoding
test sending data with utf encoding
test sending data as utf with values that changes when urlencoded
check request
check post body from result query string
skip blank line with crlf dividing headers and body
check response headers
test sending data as utf with as part of value where value set in sampler as not urluencoded but isalwaysencoded flag of argument set to false this mimics httpconstants addnonencodedargument which proxy server calls in some cases
test sending simple http get test sending data with default encoding
check method
check method path and query sent
get folder
check request uri sent to mirror server and sent back by mirror server
we should have query string part
we should not have query string part
text field non nls
check path
check query
loop label non nls
find data sent to mirror server which mirror server sending back to us we assume headers in iso and body can be in any content encoding
seconds label non nls
this check box defines whether to save workbench content or not
no divider found
forever checkbox non nls
condition label
limit changes to client only test elements
value in first group group whole match
string domain localhost
set file upload data
parse arguments singly
parse arguments all at once
test cases making url and exercise method parsearguments string querystring
ignore empty file specs
ignore trailing empty spec
ignore leading empty spec
show that can bypass encoding
sample does not use valid encoding
by default namevalue encoded on fetch
avoid double call if addsubresult called
use expression instead of javascript non nls
evaluate all checkbox non nls
non nls non nls non nls non nls non nls non nls
called by jmeter listentotest if remotestop true
sent later
should we create our own copy of rmi registry \?
trailing file
create this object using specified port means anonymous
trailing directory
file exclf inclf exclp inclp
should perhaps be log warn but this causes client server test to fail
odd chars
invalid
throw exception to ensure caller knows
check illegal array lengths
close window where another remote client might jump in
messages properties
read resource into resourcebundle and store in list
sets active true
read resource file saving keys
only relevant messages
called by clientjmeterengine exe which called on remotestop
store key
helper method to construct resource name
tidy up any objects we created
holds keys from file
look duplicate keys in file
help with garbage control
must be default resource file
check all keys in default props file
list of current thread groups may be setup main or teardown
also check key in default
fix up windows paths
may be null if called from unit test
use suite to ensure that default done first
load default resource
do n't try to check default language
orgapachejmeterresourcesmessages
not yet started
leading comment
end of code to allow engine to be controlled remotely
testplan serialised \?
ca n't use loop here because we remove elements
we totally failed to stop test
change original back again
and should be equal
and should not be equal
needs to be greater than minimum to allow boundary errors
re increment
temp test case exploring settings
do n't use nanothread
sample that will get two sub results simulates web page load
sample with no sub results simulates image download
now add subsamples to sample
timemillis has granularity of
check that calculator gets correct statistics from sample
check default
check null changes nothing
check no charset
check unquoted charset
check quoted charset
these tests should agree with those jorphanutils split as far as possible
blank line
empty strings at eof
else will be done by threadfinished
testloadandsave test files
test files testload output will generally be different in size and line count
thread properties
no point continuing
did test fail \?
tl
make sure all data flushed out
test non empty parameters
merge in any additional test listeners currently only used by function parser
no longer needed
each thread group generate threads hand each thread sampler controller and listeners and timer
unrecognised files ignored
does not open file
each setup thread group
re read st line
should not be able to write to it
wait all setup threads to exit
does not remove entry
removes all entries
still running at this point setup not cancelled each thread group
test code intentional
wait all test threads to exit
errordetected
number of threads
groups have all completed now
check that all keys in bundle also in default bundle
check that all necessary keys there
wait post threads to stop
displayname always mandatory
skip rest of this test alphaexperimental beans
concurrenthashmap does not need protecting
check property and group related texts
ignore testelement properties which do n't have explicit editor
will be null if stoptest thread has started
done we 're working with editable property
throw new error no default bundle class classname
needs to be run in separate thread to allow rmi call to return ok
tweak
allow rmi to complete
test needs to run in this package in order to give access to abstracttestelement addproperty
this test should work whether or not all nulls equal
give access to method test code
tl all
ramp up
do n't add timer
created during class init not modified thereafter
synchronize with fixedqueueexecutor
ignore self
jmsmessageid cannot be null
assume this thread only per second should delay second per milli second should delay milli second
store content type rfc uses ascii per default parse content type
loop count
per second should delay second per milli second should delay milli second
per milli second should delay milli second
use old style
probably needed to avoid npes with guis
shutdownstopped during main thread groups re enable teardown if necessary
must not convert testelement gui class etc
end of thread groups no tgs found
this should be enough to allow server to exit default false
classnames must contain this string functions non nls classnames must not contain this string gui non nls
mainpanel add threadpropspanel borderlayout north add mainpanel borderlayout center
check can cast clone do n't clone nothreadclone unless honournothreadclone false
clone will produce correct type
dummy methods needed by function interface
use by functionhelper
handle escapes
tree add
found
webspheremq does not allow corr id to be set using setstringproperty non nls
save leading text
set to start of string
variable or function with no parameter list
ensure that setparameters called
end of buffer
store following character
normal exit occurs here
should not happen with stringreader
dropped out did not find closing
needed measuring sending time
needed serialisation testing
no duplicates when adding
add duplicates
add duplicates as per bug
assertequals invoke
assertequals aa invoke
there object in map destroy temporary and return one in map oldctx
ca n't call invoke using super class
args will be provided later
should use original object
check how class definition behaves
logprop java class path
\? \? \?
application name non nls
allow displayhide loggerpanel
transparent jbutton with no border
allow displayhide toolbar
ignored
private static final string rootdn rootdn private static final string test test private static string testvalue nnnn
allow displayhide log errorfatal counter
tests split string string boolean
enable drag drop install custom transfer handler
empty string
tests split string string string
add toolbar
empty default
empty delimiter
check file lists specifically
multiple delimiters
delimiter same as splitter
used by abstractreportgui
this stores state of testelement
ensure we use default bundle
sampler error action buttons
we saving whole tree \?
in post request which not multipart we only support parameters no file upload allowed
node node tidy parsedom new bytearrayinputstream response getresponsedata null
originally called clear see also clearable
values test field we cannot change text value as it in test plans non nls
in case parse fails non nls in case parse fails non nls
non nls make it easier to enter tab non nls
non nls do n't set empty to keep regexp regexpfield settext non nls non nls
allow windows chars in filename non nls non nls non nls non nls non nls
set window visible immediately
non nls define awt wm class string
defaults to continue
space between borders and text
target server panel
limit length of log content
if logger panel max length it means all log events kept
current node now updated
probably missing jar
should we allow directories \?
enable file revert action if file used
if saveworkbench
whether to skip delete confirmation dialogue non nls
add this node
ensure dialog only created when it first needed in turn this avoids scanning templates until first needed
make sure file ends with proper extension
check if user trying to save to existing file
condition label non nls
non nls boolean savexxx non nls void setxxx boolean non nls save xxx property
vk plus ctrl down mask did not work
keep unless it one of escapable chars or this method used to parse function parameters so must treat as special
en fr de non nls non nls non nls non nls non nls ja zh cn zh tw
guardedby lock keep track of how many instances active
file name sequence number guardedby lock
instance fields constructed by client when instance create in test plan and field values then transferred to server copy by rmi serialisationdeserialisation
process special keys non nls
if there some recent files we must make separator visisble separator last item in list
save selection as save testplan as save
sp end
ok todo \? \?
assume this thread only per second initialise
assumes some kind of list use if not using list that retains order then asserts would need to change
do not save user does not want to overwrite
only update stored copy of tree full save refetch because convertsubtree affects it
package protected to allow access from test code
requires jmetertreenode
move to parent
move as child of next sibling
select node
we must ask user if it ok to close current project
load file this recent file command
http post request multipartform data simple values with as end of line which according to spec and with more headers in each multipart
two jars same version two jars same version
myrow nextrow assertequals myrow assertequals getnextrow
this work in progress \? no not work in progress
create menu item
use index as name used when processing action
set keystroke to use
add menu item
add separator as last item
pick up headers if failed to execute request httpmethod can be null if method unexpected
rfc uses ascii per default
check if new file already in recent list
add new file at start of list
store recent files
assume no recent files
update menu items
nulls cannot be written using prettyprintwriter they cause npe non nls
get menu item
jvms other than sun may return different instances each time so we cache value here and avoid having to fetch it every time
href
jmx attributes do not change non nls non nls non nls non nls non nls non nls jmx
we only check length of result comparing actual result out tobytearrayoriginal will usually fail because order of properties within each test element may change comparing lengths should be enough to detect most problem cases
at least one recent file menu item visible
write ok reponse to browser to engage ssl exchange non nls
we use page encoding where form resides as default encoding form
action names non nls
set up list of potential targets and enable listener
non javadoc see org apache jmeter gui action abstractaction getactionnames
equals caused npe
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
limit length of menu text if needed
if we merging in another test plan we know test plan dirty now
only check if we have not found any differences so far
well bahaved browser supposed to send 'connection close' with last request to http server instead most browsers leave it to server to close connection after their timeout period leave it to jmeter user to decide
do search on enter
do search
process apache httpclient parameters file non nls
embedded urls must match this re if provided non nls
check if user has loaded any file
mark walsh modified to also parse parameter name value string where string contains only parameter name and no equal sign
check if header manager had content type header this allows user to specify his own content type put request
check if user wants to drop any changes
if multipart repeatable we can send it first to our own stream without actual file content so we can return it
headermanager set so let 's set connection to use it
check if user wants to revert
close current project
document should only have one service node if it does n't it may not work
new wsdlhelper new wsdlhelper new wsdlhelper new wsdlhelper
there 's little point saving manager between invocations as we need to reset most of beans anyway
reload project
only do calculation if it needed
do not change these strings they used in jmx files to record button settings non nls
windows xp windows
timeouts not active how much left
needs to be accessible from test code only contains ldapargument entries
non nls jmeter properties
guipackage getinstance getmainframe showstoppingmessage name
minimal dimensions dialog box
bottom buttons bar
center position and of screen size
created by xstream reading templates xml
must use linkedhashmap field type xstream creates plain hashmap if one uses map as field type
templates
fields
field templatemanager templates non nls
field template name non nls
relative links
super new jmetertreenode new workbench null testelement tp new testplan inittree tp new workbench
node can be added in non gui mode at startup
remove workbench and testplan nodes
insert test plan node
init tree assumes this only called from gui mode
let others know that tree content has changed this should not be necessary but without it nodes not shown when user uses close menu item
default false so we can remove property to simplify jmx files this also allows httpdefaults to work this checkbox
updatemainmenu jmeterguicomponent getcurrentnode getuserobject createpopupmenu
hold nodes that should be removed on drop
only allow drag drop inside current jvm
if child and parent selected only keep parent
testbean implementations only passed to file or script
sort selected tree path by row
remove unneeded nodes
errorlogging and successonlylogging mutually exclusive non nls
tree accepts jmx file
testbean java bean just define some properties and they will automagically show up in gui string property
only try to format if there number
copy disabled
requires java non nls
non nls do n't match empty category
do not allow drop on drag source selections
testplan and workbench only children of root
re use node association logic
deal with jmx files
get drop location and mode
drop mode dropmode on
expand destination node
request validation non nls
if icon has not been defined then use gui class property
jmx file attributes non nls
this not result of redirect so break chain
may be null during startup
override in order to provide type safety
jmx file attribute names do not change any values non nls
just in case
close setpreferredsize
gridx gridy setconstraints close panel add close
use by test code only
instance variables
constructors
implementing treecelleditor interface
implementing celleditor interface
protected editordelegate class
datefields not thread safe non nls
help menu non nls
options menu non nls non nls
dummy constructor to allo junit tests to work
do nothing current time will be returned
convert position in buffer to calendar type assumes that pos which true getcaretposition
if beyond end then set to end
restore position
list recent files menu items
lists remote engines menu items
called by mainframe seteditmenu which called by editcommand doaction and guipackage localechanged
show classname to user
this used by changelanguage class to define locale
also used by org apache jmeter resources packagetest
overrides superclass method
from java look and feel guidelines if all items in menu disabled then disable menu makes sense
listener on model changes to maintain correct focusability
add recent files which will also add separator that visible when needed
override action behaviour
this also used by lookandfeelcommand
testing only at present
mostly delegates to model
set default single model
next two methods implement new api by delegation to model
restore state display
listen enable changes
convenience cast
assume that ui has not changed since checkbos created
iterate state
overrides of superclass methods
fire actionevent
force events to fire
send itemevent
set internal state
send changeevent
nimbus works after fashion with this
drawcross
create set of default parameters from ones initially created this allows defaults to be overridden if necessary from properties file
predefined strings makemenu these used as menu categories in menumap hashmap and also resource lookup in messages properties
needed all but nimbus nimbus works after fashion with this nimbus works after fashion with this reset
painticon
use by test code only
if type unknown
non nls non nls do n't try to instantiate these
no point instantiating class
allow headless testing
do n't add it again
empty box non nls
ca n't add workbench anywhere
force testfragment to only be pastable under test plan
allow everything else
abstractthreadgroup only allowed under testplan
includes thread group anything goes
samplers and controllers need not apply
all other
any node instance of one of classes \?
any node instance of one of classes but not exception \?
methods used test cases
close action dialog box when tapping escape key
otherwise proxy string fields may be null
prepare dialog box
determine location on screen
must be close or save close commands
text backup
double click
view only
double pressed click
in main table evt mousepressed because cell editable
add button to button group
add button
implicit return empty toolbar if icons null
get standard toolbar properties
already reported by icontoolbarbean
in seconds
this setpreferredsize new dimension
bypass functors
mainly needed unit test serialisable tests
ensure that report not skipped if we slightly late in checking time
this map allows summarisers with same name to contribute to same totals
guardedby accumulators needed to ensure consistency between this and instancecount
guardedby accumulators number of active tests
guardedby mytotals
name of accumulator set up by teststarted
contains items needed to collect stats summariser
copy data to minimise synch time
stop double reporting
only if we have updated them
non nls intermediate use output line buffer
rate effectively infinite
nullpointerexception
avalon only
rounded seconds no point displaying decimals less than error decimal would be zero
fractional seconds this will round
we 're not done yet
boolean autoscale true
setup drawing area
draw grid
draw axis
draw data lines
in non gui mode
this string used to identify local test runs so must not be valid host name non nls
static variables
lock used to guard static mutable variables
guardedby lock
instance variables guarded by volatile
unfortunately abstracttestelement does not call super clone
successonly and erroronly cannot both be set
no need hook now
only add hook once
no point reading file if there 's no visualiser
probably avalon format
only use by csvsaveservice
we processing xml assume xstream
ensure that sample save config not shared between copied nodes clone only seems to be used client server tests
find name of directory containing file and create it if there one
todo charset \? get first line and see if it xml
ca n't do it as static initialisation because saveservice being constructed when this called
added in version non nls
returns false if directory already exists so need to check again
else if might have been created by another process so not problem
returns false if file did not contain terminator
found string
reads to end of line or end of file
saveasxml
truncate file
should throw exception back to caller
used by monitorhealthvisualizer add sampleresult res
jmx property names do not change
jmx property names
notused private static final string database db non nls
associate sample with file name
mutable int to keep track of sample count
should we save sample \?
finish processing samples
needed to avoid class cast error in clear java
client log file
not currently needed by any remoteable classes anyway would probably be too expensive in terms of network traffic void testiterationstart loopiterationevent event
ensure output flushed
server log file
holds details of which sample attributes to save pop up dialogue this created by class savepropertydialog which assumes each field xxx methods have signature boolean savexxx corresponding void setxxx boolean method messages properties contains key save xxx
add maketitlepanel borderlayout north
initialise values from properties
save bytes read non nls
save url non nls
save filename resultsaver non nls
save hostname resultsaver non nls
do n't save this as it derived from time format
prepare pretty date
defaults from properties
reversed compare allows null
do n't save this as not settable via gui
non nls remember to update equals and hashcode methods when adding new variables
give access to initial configuration
we know we comparing to another samplesaveconfiguration
start of standard saveset access methods
as per branch
maintain relationship
defaults to empty
used by old save service
static fields set by server when class constructed
guardedby samplestore
locate statistical sample colector
store new statistical result collector
add new wrapper samplevent
no need to log normally as we set status non nls
checking and creating initial timestamp to check against
synchronized samplestore
values entries may be null but there will be correct number
hostname cannot change during run so safe to cache it just once
only unit tests
needs to be accessible from test code
default used by link setresponsedata string string
empty arrays which can be returned instead of null
never return null
texthtml charsetutf
todo timestamp means either not yet initialised or no stamp available when loading results file
allow non sample time
do n't return null if not set
guardedby this
this really character set \? iso utf
allows override of sample size in case sampler does not want to store all data
allow read only access from test code
how long between checks of nanotime default ms set to to disable thread
non nls
make sure we start with reasonable value
allow test code to change default usenanotime setting
allow test code to change default usenanotime and nanothreadsleep settings
helper method to maintain timestamp relationships
methods implemented from org xml sax contenthandler
create unique object as marker end of queue
ok ok ok ok files created automatically and applies per instance ok
ok ok ok
todo \? \? ok ok
handle contenttype textplain charsetiso formatflowed
check quoted string non nls remove quotes
list of types that known to be binary
list of types that known to be ascii although they may appear to be binary
helper methods setstarttime must be called before setendtime setstarttime used by httpsampleresult to clone parent sampler and allow original start time to be kept
how many times we had to wait to queue sample
can now afford to wait bit longer between checks
created by client
created by server in readresolve method
show what we did manage to retrieve
client
completeness
how long we had to wait nanoseconds
reading from csv files ignored currently
returns null if nothing on queue currently
wait longer than clock pulse generally ms catch early clock pulse to reduce slop
ok because samplestore of type arraylist
created by samplesenderfactory
we failed to add element first time
server
try to process as many as possible
compute bytes before stripping
configuration items set up by readresolve
static fields resolved on server
instance fields copied from client instance
set clonedset
server only work item
extended property name non nls
clonedset new hashset
need to maintain our own elapsed timer to ensure more accurate aggregation
may be called by xstream
copy data that shared between samples key items
assume result ok because we add sample count in later
add sample counter
add error counter
overrides sampleresult
reading csv files
superclass not typed
names of dataholder entries jtl processing non nls non nls
names of dataholder entries jmx processing non nls
override wrapmapper in order to insert wrapper in chain
provide our own aliasing using strings rather than classes
translate to alias and then delegate to wrapped class
superclass does not use types
type but that caused findbugs warning
xml header with placeholder encoding since that controlled by property non nls
default file name non nls
property name used to define file name non nls
default to overall format and then to version
define file format property names non nls non nls non nls
instantiate sampler
holds reverse mappings key full class name entry primary alias
this written to jmx files by scriptwrapperconverter read from properties file written to jmx files
helper method to simplify alias creation from properties
can have multiple aliases same target classname
load alias properties
now create aliases
remove leading
called by save function
used by test code
ensure terminated properly
used by resultcollector sampleoccurred sampleevent event
used by resultcollector recordstats
routines testsaveservice
allow test code to check spurious class references
boolean ok true
do n't bother checking class present if it to be updated
extract version digits from string of form revision mm where actually above
check if we have encoding to use from properties
used by resultcollector when creating output files
write xml header if we have charset to use encoding
we clean up resultcollector to make sure there 's no slow leaks
used by scriptwrapperconverter
shared with testelementsaver non nls non nls
probably no point in converting this to return sampleevent
just like aggregate listener we use sample label to represent row in this case we use it as key
separate argument
used to be 'd bale' but caused trouble on gump reasons unknown
check that calls to getresstring use valid property key name
called by saveservice loadtree inputstream reader if xstream loading fails
controller before switch cond zero controller sub one two controller sub three after
ok non nls
do upgrade translation
must always agree
create property
non nls non nls non nls non nls non nls
previous made no sense there 's tons of buffers elsewhere in chain and it caused oom when many concurrent uploads being done could be fixed by increasing evacuation ratio in binjmeter bat but this better
called by resultcollector loadexistingfile if xstream loading fails
additional csv result file constants and field name constants
used to enclose variable name labels to distinguish from any of above labels non nls
initial config from properties
date formats to try if time format does not parse as milliseconds
non nls compatibility this original default
enough to read header column names get first line and see if it header
not valid header
may change format later restart from beginning
may be updated
save name error reporting
method only ever called from one thread at time so it 's ok to use static dateformat
can this happen \?
strip off trailing delimiter
map header names to set methods
these entries must be in same order as columns savedrestored
try default delimiter
now validate result
failed to recognise header
we know column names all exist so create config
check if line header
check quoted variable names
they always last
unknown column name
out of order
these methods handle parameters that could contain delimiters or quotes
these methods handle parameters that cannot contain delimiters or quotes
need both sample and error count to be any use
add message when no http sample non nls non nls
private versions of what might eventually be part of commons csv or commons langio
double quote char
doubled quote quote
state of parser
remove following if present
while not eof eof or end of string so collect any remaining data
this not currently used by jmeter code as it uses sun specific code only such in jmeter it has been commented out now
remove javaconfig class from list since it only implements interface error conditions
if user has set parameters in one test and then selects different test which supports same parameters those parameters should have same values that they did in original test
these not useful yet as have not found how to get updated values back mgr declarebean responsecode string class non nls mgr declarebean responsemessage ok string class non nls mgr declarebean issuccess boolean true boolean class non nls
superclass does not use types
rethrow other errors
mainly testelementconverter
skip special properties if required
remap class name
no need to check version just process attributes if present
only decode strings if inversion
names of properties that handled specially
ensure that required class variables cloned as this not currently done by super implementation
do n't save empty comments
additional note on using hashsets to store urls just discovered that obtaining hashcode of java net url implies domain name resolution process this means significant delays can occur even more so if domain name not resolvable whether this can be problem in practical situations ca n't tell but thought 'd keep note just in case btw note that using list and removing duplicates via scan would not help since url equals requires name resolution too above problem has now been addressed with urlstring and urlcollection classes
always decode
tfmailfrom setenabled true tfmailto setenabled true tfmailtocc setenabled true tfmailtobcc setenabled true tfsubject setenabled true
default charset
non nls must be same as header hname but that built later
additional member names which currently not written out non nls non nls
these new fields not saved unless true
these fields not currently saved or restored
save most things
save new fields but only if they not default
helper method to simplify marshall routine
maintain backward compatibility bytes not in jmx file
make sure decoding follows input file
guardedby this note this also guards against possible window in checkforopenfiles
volatile needed to ensure safe publication
cannot be instantiated
checks entries in use
tidy up any unused entries
must first convert to absolute path names to ensure parents available
need to check if we at eof already
already at eof
if file encoding specified write using that encoding otherwise use default platform encoding
package access test code only
some known attribute names just convenience
store resource bundle as attribute of beandescriptor
localize property names and descriptions
we also provide resource bundle
used below
we ca n't assign null to primitive types
can occur running headless on jenkins
value not provided and this allowed
not expression n't or ca n't be not null
known tags assumed to be valid
not tag so if we ca n't accept other values
setastext failed not valid
setastext succeeded valid
check old values do n't hang around fewer matches
final because called from ctor
localize bean name non nls non nls
not expression n't or ca n't be not null
provide initial edit value if necessary this heuristic that tries to provide most convenient initial edit value
not interested in this method
not expression ca n't be or n't not null
same as parent
revert to previous value
get and sort property descriptors
non nls
obtain propertyeditors
index also used accessing editors array
do n't get editors hidden or non read write properties
we check class type above
in case of bsf and jsr elements want to add textareaeditor as listener to scriptlanguage combobox
create csvread function and set its parameters
some editors do tiny transformations true to true may throw illegalargumentexception
initialize gui
acceptsnull acceptsexpressions acceptsother
uninitialized set it to defaults
now set editors to element 's values
labels
editors
panels
minimum index of tags in combo box
check init file functioning
maximum index of tags in combo box
only use from test code
needs to be done before any gui classes instantiated
add sized invisible component that will take all vertical space that nobody wants
track where tags start
col line
and where they end
not tag entry return original value
will revert to last valid value if invalid
replace string with its translation if one exists
not sure if null passed in but no harm in setting it
quick verification just in case
get beaninfo
fetch data from screen fields
copy all property values from map into element
cannot be null
copy all property values into map
handles hex as well
col line
create panel containing combo and button
configure element super clear set name enabled put default values back into new element
we do n't want to show expert beans in menus unless we 're in expert mode
may be impossible but no harm in checking
add titles that do n't need to be documented guititles put root boolean false
jmx
get wrappereditor to provide field or combo we 'll delegate most methods to it
acceptsnull acceptsexpressions acceptsother default
assume it 's string
jmx field names
create transient item
we set classpath
property name
thread specific variables saved here to save recalculation
clone should never return null
only samplers have thread context set up by jmeterthread at present so suppress warning now
non javadoc see org apache jmeter samplers remotethreadslistener threadfinished
this test plan setfunctionalmode false setserialized false
setfunctionalmode false setserialized false
default implementation
moved from jmeter class
lifecycle methods
use different xpath both threads
jmx property name do not change
value correct class
value of type collection
private static stringproperty defaultproperty new stringproperty
name cannot be null
empty collection local var here to allow suppresswarnings
empty collection
other classes rely on this returning just string
ctx issamplingstarted
synch probably not needed as only called before run starts
called from multiple threads
backward compatibility
expensive so do once
noop
based on this scheduler enabled or disabled
gives access to parent thread threadgroup
access to stop methods
following variables may be setread from multiple threads
may be set from different thread
tl
threadcontext not thread safe so keep within thread
might be found by contoller next
prevent any further interrupts
make sure current interrupt finished prevent another starting yet
allow any pending interrupt to complete ok because currentsampler null
find parent controllers of current sampler
check if we running transaction
find package transaction
check if transaction done
get transaction sample result
check assertions transaction sample
notify listeners with transaction sample result
recursive call
check if we have sampler to sample
get sampler ready to sample
jmeterguicomponent item jmeterguicomponent iter next
must not ignore this one make sure errors output to log file
tell monitor we done remove threadlocal entry
perform actual sample
do not send subsamples to listeners which receive transaction sample
add result as subsample of transaction if we in transaction
check if thread or test should be stopped
finish up
check if this instance present in transaction listener list
check same instance
listeners controller getlisteners
set scheduler to start
call threadlistener threadstarted
if it http get request then all parameters in url has been handled by sampler setpath above so we just need to do parse rest of request if it not get request
call threadlistener threadfinished
get post data using content encoding of request
probably not possible but check anyway
run function test
called by standardjmeterengine testaction and accesslogsampler
delay between checks
test gui elements run all components
test testelements implement test case
if ispathextension
used by debugsampler
all implementations extend testelement
all implementations extend testelement
test testelements create suite
int
copy our name into that of controller otherwise name reverts
seconds
jmx entries do not change string values
jmx entries
force sensible start time
enables scheduler
maximum pause to use
needs to be same time all threads in group
set start and end time
context needs to be fetched in correct thread
events often have this constructor
store context from root thread to pass it to created threads
copy in threadstarter thread context from calling thread
needs to be constant all threads
else start immediately
set endtime thread
ramp up delay except first
no point continuing beyond end time
already waited
threadstarter daemon but we do n't want sampler threads to be so too
return all associated counts together
set stop flag interrupt sampler if possible
guardedgy this
currently only used by jmeterthread
relative start up time
not used
must be old test plan
initialise gui field values
maximum size to convert document to text default mb
to disable write limit
open stream
close stream
this assumes that jmv treats class file as resource not all do
convert to url manifest
default to plain version
not instantiable
allow reversion to original shared session context
if we using single session otherwise
also set up httpclient defaults
httpsurlconnection secureconn httpsurlconnection conn secureconn setsslsocketfactory this getcontext getsocketfactory
creates new ssl context return ssl context throws generalsecurityexception
now wrap default managers with our key manager
get default trust managers
wrap defaults in our custom trust manager
implementation moved to jmeterkeystore as only that has keytype info
file to source overrides script
bsfjsr language to use testbean implementations only
can be empty string
save actual socket
forward all sslsocket methods to input socket
also forward all socket methods
test new cookie returned
must wrap non scriptable objects before presenting to rhino
includes javascriptexception rethrows errors
initialize context and global scope object
read only access after class has been initialised
ensure policy picked up
calculate each time as likely to be called each add
must follow checkbox setting
likely wrapped exception from liveconnect call display its stack trace as diagnostic
load additionnal name conversion rules from plugins
names strings
no point dividing by
bytes per kb
account multiple samples not yet intialised
millisecssec
conversions milli and nano seconds
use actual class name log
most subclasses will need these
finds all classes that extend classes in listsuperclasses arraylist searching in listallclasses arraylist param superclasses base classes to find subclasses param listallclasses collection of classes to search in param innerclasses indicate whether to include inner classes in search return arraylist of subclasses
case we measuring real time of spedition
we have file read and process it
wraps socket in slow ssl socket if necessary
what host am running on \?
special flag use in debugging resources
provide random numbers to whomever wants one
sebb assertequals item cloneditem getproperty item getname
java sockets commons httpclient sockets
prompt unnecessary
non nls non nls non nls use in debugging non nls
we default language \?
keep existing settings
do n't change locale from en gb to en
language change worked check if we at least found correct language
no need to reset locale
special mode debugging resource handling
can be returned by headless hosts
non nls
redisplay
empty arrays immutable
end method
empty value non nls
if not empty then script in scripttext will be compiled and cached
lrumap does not support generics yet
use in debugging
noop
also handles read byte
testbean implementations only
ensure variables not null
now temp has lowest of three components
response includes headers from mirror server we want to skip those to only keep content mirrored look first crlfcrlf section
convert to telnet port
reset other users
tell server that we done
have we yet tried to load truststore \?
ensure not null
password can be defined as property this dialogue provided to allow it to be entered at run time however this does not gain much as dialogue does not yet support hidden input
we 've tried
empty if not provided use system property to determine type otherwise use name
also handles write byte
helper method to find test path
temporary copies so can set final ones
script file to initialize interpreter with
logger to use during initialization and script run
ca n't instantiate
called from ctor so must be private or final but it does not seem useful elsewhere
do this before starting script
check file so we can distinguish file error from script error
programming error
also programming error
use by unit tests
configure document builder factory
default empty array to prevent npes
no point checking empty keystore
note if null arrays will be empty
null
this should be ignored as there no value
number of samples in this entry
no samples collected
better behaviour when howlong or lasttime
test multi cookie header handling
already failed
this our first sample set start time to current timestamp
connect to http server and do simple http get with pause in middle of transmitting header
connect to http server and do simple http post with pause after transmitting headers
always update end time
elapsed
appears not to be used however it invoked via functor class
only use by test code
code duplicated from getpagesize
keep track of classes created
instructional purposes only
do something here
set up sample result details
end timimg
helper method
specific setup
name of property used to hold our data non nls
note file panel already includes error logging checkbox so we do n't have to add it explicitly
arguments args sampler getarguments
did sample succeed \? sampler data
do something
string property
number of parameters expected used to reject invalid calls
we have default
throwable wanted
comment wanted
common output function
routine to perform output also used by logn function
non nls
thread method potentially expensive
allow variable to be omitted
these jmx file names and must not be changed non nls
vars can be null if run from testplan
remove initial empty entry
non nls non nls
did we find beanshell \?
mainly bsh evalerror
pass in some variables
execute script
helper method use by scripts
can happen if called during test closedown
parameters stored here
unit tests see testjexlfunction
string or integer
list of parsers to test should probably be derived automatically
http get request with encoding not known
stop reading file if we get blank line this allows trailing comments in file
now evaluate script getting result
two delimiters in row add empty string
lines in file split into columns
based
name of file
catch trailing delimiter
beginning of line delimiter so that returns
will be null if function used on testplan
does order matter \?
added to support external testing
only modified by static block so no need to synchronize subsequent read only access
may be null if function used on testplan
http get request with iso encoding
guardedby this needed error messages
guardedby this should we try to open file \?
have we used mycurrent yet \? set to if start number missing to allow end without start
low chances to be non numeric we parse
do n't process invalid numbers
do n't process invalid numbers including
has chances to be var
next time
eof re open file
did we open file \?
we processing file sequence \?
there no variable name
file not opened successfully we processing file sequence \?
varname keeps its value and sum has not taken into account non numeric or overflowing number
split string provided
guardedby filecontainers
we do n't have local copy
prevent separate instantiation
cache of file packs faster local access
save global copy
there 's no global copy either
save our local copy
parameter list
all done so return
this may need mangling due to peeks
what column wanted \?
cache of file packs used to improve thread access
means platform default
empty encoding return to platorm default
only needed locally
this map serves two purposes maps file names to containers ensures only one container per file across all threads
called by csvread next sets row to nil so next row will be picked up next time round
called by csvread file alias
first call
already logged
save in case needed later
not yet open
we have variable name
set required variables
test invalid byte arrays
means no restriction
only obtain and cast return if needed
empty chars return to null
default to milliseconds
vars will be null on test plan
maxint
only modified in class init
we have rd parameter
resolve any aliases
non nls non nls
not synchronised so ca n't be shared
allow empty name
commons httpclient only
original and clone should be equal
values creating tokens
convert to shorter string test purposes return string value
reached end of input arguments perform final processing
key string or integer
strip null
variables used while parsing options
change original
yes so second argument missing
should never get to here when stringindex
long optional arg must have as separator
consume stray character
we about to start new option \?
strip
nd argument
its long option
parse arguments that not options
if it short option then parse it else
equivalent to new treemap comparator null
make sure hashcode depends on order as well
super class does not use generics
check sample increments ok
this will only work with applet class file ideally this should be upgraded to work with objects ie and archives jar and zip files as well
this occurs when id and user has not supplied descriptor arguments
if get to arg barrier then return to normal mode else continue accumulating options
used runtimeexception to short circuit traversal non nls
keys can be either jmetertreenode or testelement
do nothing means object found
end method
capture output
helper method to allow input and output to be changed chaining
capture intermediate output
not yet terminated
not yet terminated proc destroy called by finally clause in run method
we capturing output default charset probably appropriate here
non nls do not change non nls firefox and windows non nls opera
non nls non nls non nls non nls non nls
does keytool support gencert and ext \?
not instantiable
create cert ca using root requires java gencert
create self signed keypairs requires java ext flag
rem generate cert domain using ca requires java gencert and import it
generate request
export root ca firefoxchromeie
generate certificate and store in output file
generate keypair host
copy opera
alias subject
temporary cache focus listener
get certificate request
add sub components
functor count handled specially
necessary to avoid npe when testing serialisation
if provided
compare if value has changed since we received focus
used by tableeditor
we use of height
private jmenu menu
comment huw
uninstantiable
constructors
notused dimension dim layoutsize parent false
work out total size
otherwise there 's vgap too many work out anchor paint
do layout
closes reader as well
non instantiable static methods only
further configuration
make sure same hierarchy used
this happens if default log target id ref specifies non existent target
we use treemap because we need entries to be sorted
running values updated each sample
set top level defaults non nls
this can happen if log target id ref specifies non existent target
if name contains at least one set of paired single quotes reformat using dateformat
remove package prefix
long max value
check blank lines treated as eof
long min value
use math round instead of simple long to provide correct value rounding
ignored may happen occasionally but no harm done if so
same values in sum of square equal to nval
no need to divide by
insert new value
add makemainpanel borderlayout center force minimum table height of pixels
methondname must always be provided
if non null then any argument list passed to invoke will be ignored
this depends on class or invokee and either args or types it set once by docreatemethod which must be only method to access it
if class not provided default to invokee class else null
if types not provided default to argument types else null
static only
check reflexive
should never happen
use constructor class if present use invokee if provided use argumenrs if provided
parent classes to check inner classes ok \?
no need to check it again
this not requirement
it does not contain required string
it contains banned string
inner classes ok \?
each directory in search path add all jars found there
should only be called with classes that extend annotations
first get all classes
subclasslist
returns classpath entries that match search list of jars and paths
no need to look further
non nls non nls non nls non nls
assertequals invoke
might throw exception assume this ignorable
non nls non nls non nls non nls remove class
recursive call
assertequals aa invoke returns different result from before
remove trailing splitter
found splitchar at end of line
this new length
we saw delimiter last time so add default
\? xml
eof
non nls add zero padding
see testjorphanutils unit tests
singletonholder idiom lazy initialisation
these needed invoking method
if we could not find method store exception here
only invoked by iodh class
get platform beans
should never fail see if we can actually find object should never happen
prevent useless dump attempts
string so far
opened tags
do n't do anything
java util date null
jmx file attributes do not change
do n't instantiate class
jmx file attributes do not change
no filter
testcase to run
method objects setup before and teardown after methods will be null if not provided or not required
method name to be invoked
wrapper used to invoke method
name of class containing method
create new testresult
convert junit failure to junit style
copy original stack trace
we should log warning but allow test to keep running
this should be externalized to properties
probably should not happen
ensure correctly set on initial display ensure correctly set on initial display
if string constructor not null we use it if string constructor null we use empty constructor to get new instance
first we see if class declares string constructor if it does n't we look empty constructor
must be final to create instance
convert junit assertionerror failures to junit style so will be treated as failure rather than error
dummy to ensure there test to run
generates expected exception
let bad input fail silently
succeeds only if before method verifytwo run
fails to generate expected exception
or if you have assertions enabled
should always fail
should not fail
generate test error
will generate divide by zero error
normal test failure
generate test error
int spare cntr getthreadinfo getmaxsparethreads
loop to fetch desired connector
default get first connector
crlf blank line found
printstacktrace
private monitormodel data
log warn only use in unit testing
contains fixed english text
data model
optional connector name prefix
private list workerslist
equations
now just swallow exception
should be ok
surl can be null if read from file
check if target of merge reasonable
private boolean startdoc false private boolean enddoc false
this startdoc true reset all work variables so reusing instance starts afresh
this startdoc false this enddoc true
note element configtestelement so cannot use ftpsampler access methods
used interrupting sampler
should probably come from setup dialog
could not access file or other error
todo
lf blank line found
does not appear to be used externally called by loadprojectfile
these handled specially by addtotree
document doc null
write to file
following used to be jacks password but arguments class uses hashmap which order not defined
should file data be saved in response \? non nls
no need to close this no need to close this
value not encoded
get filename
set values retrieved file upload
web server panel
need to clear because
columns size
web request panel
set false ajp
body data
default changed in and again in
concurrent resources download non nls
embedded url match regex non nls
do n't automatically expand when merging
if raw data and parameters match we allow switching
called by jmeter startgui
convert crlf to cr see modifytestelement
all sub components with setfont null inherit this font
only display port number if it meaningfully specified
helper method to simplify code
one builder all requests in thread
implementation
protocol
content encoding
may well happen
should never happen
note initialised with error failure false
if there no data then switching between parameters and raw should be allowed with no further user interaction
if there data in raw panel then user should be prevented from switching that would be easy to track
if parameter data cannot be converted to raw then user should be prevented from doing so raise error dialog
cached value
package protected to allow access by unit test cases
helper method to save cache entry
if no cache present ensure that expiresdate remains null which forces revalidation
max age directive overrides expires header
else expiresdate computed in expires null condition used
helper method to deal with missing headers commons httpclient
apache httpclient
sample result ok to cache \? it in xx range \?
jmx attributes do not change values non nls non nls non nls
means counting from end
not using expires check that we processing expirescachecontrol
cache value
echo back
create parser
check if we have read all headers
we know when to stop reading so we can allow read method to block
doc
use null no expiry
if everything went fine then xml schema validation valid
store session cookies as well as unexpired ones
only set message if error not yet flagged
has its own debug log removes matching cookies
helper method to construct sax error details
this means cookie wrong url
can be caused by failure to read xsd file xml does not match xsd
tweak diff hc vs hc
can be caused by premature end of file non whitespace content after trailer
sample correct size \?
use name of test element otherwise cannot enabledisable debug from gui
check how much of body we have already read as part of reading headers we subtract two bytes crlf divider between header and body
reqest has no body or it has transfer encoding we do not support in either case we read any data available
we use multi line mask so can prefix line with non nls non nls
signer certificate
param response return
needs to be package protected to avoid problem with serialisation tests
start off with merged object as copy of local object
has sample lasted too long \?
iterate thru each of other headers
find same property in local headers
we have match
prefer values from other object
use other object 's value
break out of inner loop
other object has new value to be added to merged
non nls non nls non nls non nls non nls non nls
saves error if one occurs
pass request to new thread
todo charset \? non nls
only used by gui
ensure that there always collection available
default level allow override by system properties
final int ignored
jmx tag values non nls
ensure that initial cookies copied to per thread instances
long max used to represent non expiring cookie but that caused problems
only save unexpired cookies
ensure data set up ok initially
no point in checking if we do n't have anything to compare against
do nothing cookie manager has to accept changes
scan any matching cookies
remove all cookies
used by httpmirrorserver
create parser
no need to call clear
string md result digestutils md hex resultdata
used saving entries to file
evaluate result
todo this brute force approach of updating listeners on each and every event without checking event type or any other information going to cause lots of invalidelementexceptions in subclasses implementations of updatelisteners and they wo n't have event information to make their own decisions
todo above statement also refreshes when we not shown to be verified hence not entirely correct
class to display graphics uml synchstate in diagram todo if font increases circle should grow too author pepargouml yahoo es
todo if this ordered list then you have to add in right location
rank nodes depending on their level position in hierarchy and set their weight to achieve proper node sequence layout rows exceeding maximum row width split if standalone nodes available weight other nodes to determine their columns todo weighting does n't appear to be working as intended because multiple groups of childrenspecializations get intermixed in name order rather than being grouped by their parentgeneralization tfm
todo this tagged value name which will never trigger event
tests copyhelper without using stereotypes test using tree of objects model class nestedpackage interface attribute todo this test does n't match mdr implementation because it expects contents of namespace to be copied it disabled until it can be fixed to run with both mdr and euml tfm author bogdan
todo correctly implement next function in model subsystem issue
todo code implementing this method from see issue mechanically integrated by tfmorris in may needs to be reviewedupdated author decki endi yayan politechnic of bandung computer departement method changing text of message
todo why does next part not work \?
todo we do n't really want this to be filled but if it 's not then user ca n't double click in compartment to add new literal apparently gef thinks unfilled figs only selectable by border setfilled false
todo we ca n't have global current language notationproviderfactory setcurrentlanguage newlanguage
todo we should warn user we have removed something tfm
if we not visible most likely we 're being deleted todo this indicates more fundamental problem that should be investigated tfm
fixme following throws org argouml model invalidelementexception javax jmi reflect invalidobjectexception object with mofid no longer exists applicabletagdefs tagdefcbmodel getapplicabletagdefinitions aclass assertnotnull tag definition n't found in return value of tagdefcbmodel getapplicabletagdefinitions aclass after loading project teststereotypeutility findmodelelementnamed profilemother tag definition name td applicabletagdefs
todo gef needs to pass us back description of what being done
make it stretch vertically todo curbody must notify modification
todo this next line safe \? what happens if there just one comment edge or comment edge and single message \?
todo considering all delete events to be valid like below going to cause lots of unecessary work and some problems
else if coordinate outside of classifier role we fix in max of classifier role fixme we should increase height of classifier role do n't \? \? \?
todo this appears to expect that uml tag name will appear as property name in event but with uml switch to tagdefinitions this wo n't work
todo not in uml
todo removed from uml non nls
todo only occurrence of isconcurrent in uml in index it 's not on page that indexed
todo this works degree angles but suboptimal other angles it should reflect angle rather than just using negative offset along same vector
todo map uml names to uml names non nls non nls
todo except this wo n't work because names different which will cause test in checkumlmodelhelper to fail remap put core permission core packageimport
this does n't work in uml both owner and property needed
fixme fails here current behavior appears intentional ie test wrong tfm assertnull profile stereotype named profilemother stereotype name st should n't be found findmodelelementfromnamespace stereotypeutility getavailablestereotypes aclass profilemother stereotype name st profilemodel
todo this looks backwards left over from issue \?
todo this does n't work but should collection elements model getfacade getrootelements model getumlhelper deletecollection elements elements model getfacade getrootelements asserttrue failed to create clean environment elements isempty
todo issue it proposed to allow any paclage to return as potential namespace commenting out until this reviewed and clearly accepted by all
todo something might go wrong during processing we do n't really want to create model element until user releases mouse in place expected
strange but link getconnection returns collection not list this bug compared to uml standard imho mvw hence linkend added to end instead
todo synchronized required here as there can be some concurrent modification problems when drawing call message and having that automatically draw reply maybe fixing todo below will resolve this and synch can go
these next lines case that current namespace not valid one which of course should not happen but it does see project attached to issue
todo in uml event has no parameters todo treat objectflowstate this does n't exist anymore in uml and classifier
appears to be gone from uml
todo this does not work no event arrives
todo this only checking immediate siblings when it needs to be checking all imported elements both here and by our parents and also taking into account visibility
this does not work anymoreyet \? since we never have figtext here
utility function to localize given string with help text and show it in status bar of argouml window this function used in favour of inline call to enable later improvements it would be possible to show help balloon todo work this out one matter to possibly improve show multiple lines param given string to be localized and shown
todo monitor getting dismissed before layout complete
todo we currently do n't support per fig settings most stuff so we can just use defaults that we given settings new diagramsettings rendersettings
todo not yet working uml
this triggers some warnings in logs because some elements created without owner and eresource null todo fix this warning log if we would not add eobject to resource would looks like this warn awt eventqueue encountered deleted object during delete of
todo should n't we throw exception here \? \?
todo algorithm in number of nodes
update attached node figures todo presumably this should only happen on add or remove event
fixme depends on internal behavior of xmireaderimpl needed solving issue
todo allow adding models to diagram issue
todo update old and new node above this this issue old and new uml namespaces in event but how do we know which nodes to refresh \? and how to refresh \? not necessarily namespaces depending on perspective
todo this should only be building list up to 'index'
todo following can be removed if selectall gets fixed
fixme boundary condition at end of image non integral multiples of buffer height
todo we ca n't have global current language notationproviderfactory setcurrentlanguage oldlanguage
xxx this seems to be bug of parser it always requires context
todo use model getmodelmanagementhelper getpathlist modelelement todo this will fail with nested models
if we not visible most likely we 're being deleted todo this indicates more fundamental problem that should be investigated tfm
todo we should have all information that required in notationsettings object
parse transition description line of form event signature guard condition action expression not interpreted as having any special meaning event signature may be one of formats changeevent when condition timeevent after duration callevent parameter list signalevent any string without remark uml standard does not make distinction between syntax of callevent and signalevent both may have parameters between simplicity and user friendliness we chose this distinction if user wants parameters signalevent then he may add them in properties panels but not on diagram alternative solution would be to create callevent by default and when editing existing event do not change type todo this function fails when event signature contains or see issue other cases that problem in past param trans transition object to which this string applies param string to be parsed return transition object throws parseexception when no matching found
todo this whole block can be deleted when issue resolved
dirty fix issue needs to be amended when we start supporting parameters
todo this does not work mvw model getfacade setbody expr guard model getfacade setexpression expr
todo in this case properties panel not updated with changed expression
warning outputstream version of this does n't work tfm
warning gef implementation of outputstream version of this method does n't work tfm
todo do tests allinstances even though it not yet supported
todo not implemented by euml
todo this only works if item visible all its parents expanded getexpandeddescendants makevisible
this will have problems if smallest possible data segment smaller than size of buffer needed regex matching
todo why this throwing generic runtime exception \? \?
todo this exception will be thrown during autoscrolling when edge of canvas reached causing either width or height to be adjusted to negative value
disabled since it gives various problems toolbar icons get too wide also default does not give new java looks component tree projectbrowser getinstance swingutilities updatecomponenttreeui swingutilities getrootpane tree
if this feature get owner of that feature todo does anything actually make use of this \? it can cause unexpected behaviour
todo this error needs to be reported
todo we should be giving user more direct feedback
todo this should be using internalgetallrealizedinterfaces
many many of these events this slows things down
todo this does n't perform well enough with large models to have it enabled by default if performance ca n't be improved perhaps we can introduce manual find in explorer tree action selectall targets
really ought to have criticexception to throw here
todo this never executed as ludos di work never finished
todo when attribute n't in diagram exemple select attribut by explorer then refresh n't auto we had to click
todo this probably undesirable side effect unless user confirms it placing element on second diagram going to potentially change its namespace tfm
todo below not strictly correct but should cover case we deal with using real xml parser would be better look xml document has just single root element
todo assumes public todo this probably undesirable side effect unless user confirms it placing element on second diagram going to potentially change its namespace tfm
todo uncomment following to get failure assertloadmodel issue base dir zipped uml andromda profile datatype andromda profile datatype xml zip null testreadcompressedandromdaprofilefileissue
status as of nov figs created property panels exist more work required on explorer and assumptions about models not being nested tfm
if we have anything or multiple elements selected we do n't do anything todo we need to support multiple selection see issue
todo make setbounds calcbounds and updatebounds consistent
set child components to heights in array list calculating height of any proportional component on fly fixme this assumes that jlabel and component it labels have been added to parent component consecutively
mode to interpret user input while creating permission edge permission can connect any model elements including those represented by edges as well as nodes todo in uml permission becomes packageimport and class hierarchy has changed so that it no longer subtype of dependency so this may need to be refactored to work correctly
todo size of text figs which what we care about most n't computed correctly by gef if we got ambitious we could recompute proper size ourselves
critic to detect when classifier has to many operations todo exclude getter and setter operations from count
todo why n't this calculation location working \?
todo this code does n't look like it will get reached because any abstractionrealization going to take isaabstraction leg of if before it gets to this more general case tfm
todo this should probably only update project when user presses return or focus lost
next line does not work
todo if actioncopy no longer singleton how shall this work \?
todo huge side effect hoist out of parse tfm let 's load project
todo support navigability code below causes and exception in figassociationendannotation
todo we do n't really want to do following but i'm not sure what depends on it tfm
todo why this clearing name \? \? tfm
offset in depth perspective lines of cube todo this same value as member 'd'in link org tigris gef presentation figcube but there nothing enforcing that correspondence things will probably break if they do n't match
todo code implementing this method from see issue mechanically integrated by tfmorris in may needs to be reviewedupdated author decki endi yayan politechnic of bandung computer departement method changing text of message param newowner param parameter
todo make tree refresh and expand really work in all cases
todo code implementing this method from see issue mechanically integrated by tfmorris in may needs to be reviewedupdated author decki endi yayan politechnic of bandung computer departement method changing text of message param newowner model element which should now be listened to
todo should save and restore last positions of toolbars
todo does anyone use command line \? if so localization needed tfm
todo following rather than above probably correct way to search stereo findstereotype obj null name
there possibility that next step forward takes another path in this wizard to allow this we must destroy path already traveled by todo linus would say that this really problem with wizard implementation since believe it should be possible to explore path in wizard and then go back inheritdoc
builds message within some interaction related to some assocationrole message added as last in interaction sequence furthermore message added as last to list of messages already attached to role effectively already attached messages become predecessors of this message todo this sets activator as side effect however it impossible to determine activator at this stage as we do n't yet know what action will be of message we 're creating see issue param inter interaction param role association role return newly created message
todo name not expanded diagram objects
todo mvw why this not done in gef \?
todo this temporary crutch to use until all figs updated to use constructor that accepts diagramsettings object
todo there cyclic dependency between selectionrerouteedge and figedgemodelelement
todo we need to rethrow this as some other exception type but that too much change moment
todo it 's probably worthwhile to abstract and factor this chooser and directory stuff more file handling coming i'm sure
todo complete this implementation tfm
todo this will vary based on type of tagdefinition
setfontfamily dialog todo this needed \?
todo move this into toolbar project
todo this temporary method of making sure model updated on loss of focus of combo box in long term we should attempt to update model on each keypress see java awt event focuslistener focuslost java awt event focusevent
these methods based on graphevents these need replacing by more specic meaningful requests of diagram interface model
todo all super constrcutors should take graphmodel
workaround missing ability to parse
todo needs to be tidied up after stable release graph model should be created in constructor
this wrongly called with null handle as workaround we return empty collection
todo not navigable this direction \? tfm
todo this does n't look right review tfm
return statemachine todo if this method called by any of figs it will introduce dependency cycle it would be much better if they could just use link org argouml uml diagram argodiagram getowner which does same thing
todo need to clean up objecttoid can we do it based on modelelement delete notifications \?
constructor todo why does this method not handle all settings key default shadow width missing \?
todo performance critical method
todo needs work must determine which figs enclosed in pool within bounds of this fig and translate those
todo optimize root model case \? tfm
todo do we really need to do this \? carried over from old behavior
todo elementownership not in modelsubsys
todo this seems like brute force workaround and very indirect one at that it appears to be needed though until we fix problem properly tfm
todo this really needed \?
todo uml spec requires both client and supplier to be in same model tfm
todo unused \?
these may not actually make any difference at present code behind addtrigger needs more work
todo temporary let tree expand implicitly tfm
todo split into inherited attr critic and local attr critic
todo should throw if string not good \?
todo handle multiple top level packages
wizard which adjust threshold critics todo make treshold setting adjustable without using wizard and make it persistent maybe by using configure button on browse critics dialog see org argouml uml cognitive critics abstractcrtoomany author mkl
todo better if we wrap in profileexception and throw that
create our bandbuffer which just small slice of image todo we used fixed height buffer now but we could be smarter and compute height which would fit in some memory budget allowing us to use taller buffers with narrower images minimizing overhead of multiple rendering passes
todo support iterate declarator
return returns default stereotype view todo enumeration here \?
todo how about figassociationclass \?
todo this should n't depend on current project but now just make sure it 's defined and that we have undo manager
remove this diagram from existence todo move to gef
todo this needs to be managing undo on per project basis instead of using gef 's global undo manager
todo define constants magic numbers
this class gives critics access to parts of uml model of design it defines gen function that returns children of any given part of uml model basically it goes from project to models to modelelements argo 's critic agency uses this to apply critics where appropriate todo this thinks it knows all composition associations of uml metamodel but it incomplete and not updated uml this should be done using information from metamodel rather than hardwired code tfm see org argouml cognitive agency see org argouml cognitive designer author jrobbins
todo consider inherited associations \? todo self loops double counted
todo multiple associations between same pair of elements need to be special cased so that they do n't overlap tfm
gets current threshold todo should this be protected \? return current threshold
todo there cyclic dependency between this class and figconcurrentregion
todo move to mmutil or some other common place and merge with umlcomboboxentry findnamespace
needs more work sending and receiving icons
object tagged as being owner of figedgenote has knowledge about source and destination of figedgenote source and destination modelelements at least one of them comment but they may be both comments todo there 's tons of special case code scattered around argouml this one class since it only owner of figedgemodelelement which not uml element we should find way to generalize this todo issue requires this class to be replaced by similar mechanism as ary association class node and edges shall all have same owner uml comment object since jul author jaap branderhorst xs all nl
todo offenders need to be more strongly typed tfm
if expression implements one of combobox select it todo \? do it in euml module project \?
return set of offenders todo return value needs to be more strongly typed tfm
todo do all these classes need to be in their own files \? public \?
must be overridden to make sense did n't want to make it abstract because it might not be required
todo should fire its own event and projectbrowser should register listener
todo use default value of appropriate type td
our superclass no longer has this method so perhaps this whole thing should be removed \? tfm super updatelisteners newowner
todo this actually hack some diagram types like statechart diagrams access current diagram to get some info this might cause problems if there 's another statechart diagram active so remove current project before loading new one
following specifically realizations todo correction in gef it should use interfacerealization not abstraction
todo still not used because in argouml string hardwired
todo in uml tagdefinition has become property on stereotype anything that uses this will probably need to be reviewedchanged just return property now
language must be unique todo do it in model if do n't use dialog and change first
todo cyclic dependency between persistancemanager and here
todo this should not be instance variable it should just be created and discarded as needed
check duplicate name and rename if necessary
creates new ocl critic param oclconstraint ocl expression param headline headline param description description param moreinfourl info url param knowledgetypes knowledge types param supporteddecisions decisions param priority priority throws invalidoclexception if ocl not valid todo do these need to be lists or can they be simple collections \?
todo why this inside block \? forgotten else branch \? \? question by euluis
todo maybe separate name
todo minimal update strategy would be better here to minimize work and events firing but it may be better to deprecate method and force calls to manage updates themselves since they probably usually want to just add or remove single element tfm
todo what progressmgr to be used here \? where does it come from \?
todo here we should show user message that loaded project using notation that not currently available and fall back on default notation done maybe this can be implemented in persistencemanager \?
todo this same as in parent remove \? see org argouml uml diagram ui fignodemodelelement updatebounds
todo move magic number to descriptive constant
todo should we handle and here \?
todo remove when code below in characters removed private static final string returnstring
todo this probably needs more qualification tfm
todo this method obsolete use getinputmap etc as below
todo check semantics here tfm
todo move to gef
todo find way to replace this dependency on project
todo this should be configurable property
and its stereotypes todo n't stereotypes handled elsewhere \?
todo should fire its own event and projectbrowser should register listener tfm
todo support more than one bodylanguage
todo remove this old implementation after if it 's demonstrated that it 's not needed tfm
todo can we find better way to do this than hard coding colour \?
todo there 's cyclic dependency between figconcurrentregion and actions actionaddconcurrentregion
public object getgoalinfo string goal return goals getproperty goal todo we need better representation of goals
local variables what do they do \?
todo really should be separate class
modelelement has been changed now we give it priority to be checked by critics asap todo why synchronised \? todo what about when objects first created \? param dm design material param reason reason
todo we could generalize this to initialize more stuff if needed
todo why this here \? who calling this \? see java beans vetoablechangelistener vetoablechange java beans propertychangeevent
todo this probably belongs with diagram subsystem
todo change this to use undomanager instance per project when gef has been enhanced
hack to do items only should check isleaf node but that includes empty folders really need alwaysleaf node
todo why this next line in code so long \?
this method has insufficient information to call buildextensionpoint thus we 'll need to create one and pray that whomever called us knows what kind of mess they got
todo do we need to set input encoding here \? it done todo parsing but none of other member types inputsource inputsource new inputsource new inputstreamreader inputstream argo getencoding
todo why this not executed \? remove if not needed tfm
loads project displaying nice progressmonitor param file project to be opened param showui whether to show gui or not todo this needs to be refactored to be gui independent tfm
todo this does n't belong here but it 's not good time to move it find someplace less obtrusive than this inner loop tfm
todo asargument \? \?
todo what does magic number represent here \? put it in explanatory literal tfm
todo this creates dependency on critics subsystem instead that subsystem should register its desired menus and actions
todo get rid of magic numbers figure out which represent line widths vs padding vs offsets
references to actions that we need mac hack
todo convert all to use standard factory registration
todo should define compoundcritic
todo this class part of dependency cycle with projectbrowser and
hack in order to be able to compile in java
todo wo n't our use of pathcomparator take care of uniqueness \?
andreas just temporary uml pre alpha versions
now get all classifiers imported from other packages todo this should probably happen automatically in getallmodelelementsofkind tfm
todo add open most recent project command so that command state can be decoupled from user settings \?
install trap to eat securityexceptions note this temporary and will go away in future release
todo what these magic numbers \?
create taggedvalue with tagtype matching our source module filename and value of file 's last modified timestamp todo this functionality needs to be moved someplace useful if it 's needed otherwise it can be deleted tfm
choose arrowhead style each end todo this called from paint would it not better be called from renderingchanged \?
todo why n't this stuff managed by namefig itself \?
andreas just temporary warning dialog uml
todo this class should be moved to package org argouml uml ui behavior common behavior
if classifier role it must return sent messages in other cases returns empty list todo must be incoming messages or sent ones \?
initialize argouml application version so that link applicationversion getversion does n't return null throws exception if something goes wrong todo move this to helper class
create enumeration return object new enumeration since uml todo this needs extra parameter to specify modelextent where new element should be created
todo lets move this behind model interface
if classifier role it must return received messages in other cases returns empty list todo must be outgoing messages or received ones \?
argoeventpump event dispatcher which handles events that global in nature entire application todo diagramappearance and notation events not application wide and will be moved from here to someplace more specific in future so that they can be managed on per project or per diagram basis
create empty but initialized instance of uml node return initialized uml node instance todo this needs extra parameter to specify modelextent where new element should be created
todo once we have fixed all subclasses title will always be localized so this localization can be removed
get classifier participant of associationend todo rename this getparticipant to align with uml spec tfm param handle associationend to get from return classifier of associationend
determine if passed parameter has return direction kind todo this duplicate of link isreturn object return true if it return direction kind param handle parameter
todo it appropriate templateableelement as client and list of templateparametersubstitution as list of parameters \?
todo actionstate callstate and subactivitystate have been replaced in uml by explicitly modeled actions
todo silently ignore instead \? return false
find icon given model element return icon or null if there no icon param value model element todo this should not use string matching on classnames to do this since this means that we have knowledge about how model elements implemented outside of model component
initialze gef 's version of loader too todo we should probably be passing icons that we loaded ourselves but there does n't seem to be way to do that with gef tfm
return key tag of some tagged value todo this does exactly same as gettag object remove one of them param handle tagged value return found value as string
todo lots more types duration instance interval
todo can we get this from metamodel \? non nls
todo how do we get connectors of association \?
todo remove \? ca n't be localized
classifier can only have single unnamed classifierrole so todo this probably belongs in critic instead of here
part of design this issue affects each member either model element link fig or link diagram todo offenders need to be more strongly typed because there not common supertype these three types we ca n't type this list we should introduce common supertypeinterface tfm list of offenders set once by constructor and cannot change
reply set of design material 's that subject of this todoitem return offenders todo offenders need to be more strongly typed tfm
todo this could be huge collection find more efficient way
todo generalize assumes uml type names unique without qualifying package names true uml
models designers goals in making this design provides useful control information to agency so that only critics relevant to designers goals ever executed todo really this should be part of domain extension and not kernel have not developed this part of argo very much author jason robbins
todo do we need to worry about umlclass umlpackage etc \?
todo this should fetch stereotype from our profile
todo encountering deleted object during any part of this traversal will abort rest of traversal we probably should do whole traversal in single mdr transaction
return default type return parameter of method return classifier to use as default type todo this belongs in projectsettings tfm
todo hold lock entire recursive traversal \?
todo add enumerationliteral someplace
todo this well formedness rule from uml root cannot have any generalizations self isroot implies self generalization isempty
todo lets build this into separate buildtoolbar method
todo this references concrete factory we need factories factory
set target anew todo this method never used what its intention \? remove it \?
todo this first loop just to count items appears redundant to me tfm
create new panel given step example when given step create first step of wizard todo it might be convient to make reusable subclass of wizard that shows all textual steps to guide user without any automation such wizard could be easily authored stored in xml file and efficiently presented by reusing single panel with single jtextarea param newstep number of step to make panel return new panel given step
todo tabtodo should listen event that this fires so that we can decouple from projectbrowser tfm
todo this using internal knowledge of gef it should handle this itself tfm
copy file from source to destination todo perhaps belongs in utilities class of some sort param source source file to be copied param dest destination file return success status flag
todo this using internal knowledge of gef it should handle this itself tfm mvw move into something like main initgef
locale selection todo detect available locales from available files return locales used in argouml
return default type attribute return classifier to use as default type todo this belongs in projectsettings tfm
searches typeclassifier with name if type not found new type created and added to current namespace todo move to model subsystem tfm param name of typeclassifier to be found return classifier
todo what if used elsewhere \?
searches typeclassifier with name if definenew true new type defined if typeclassifier not found newly created type added to currentnamespace and given name todo move to model subsystem tfm param name of typeclassifier to be found param definenew if true define new one return classifier found classifier
moves some object to trash deletes it completely with all dependent structures deleting object involves removing target history deleting all fig representations object deleting uml element deleting all dependent uml modelelements deleting commentedges which not uml elements move to trash enclosed objects graphically drawn on top of move to trash subdiagrams object saveguard that there always at least diagram left if current diagram has been deleted select new one to show trigger explorer when diagram deleted set needssave dirty flag of projectmanager param obj object to be deleted see org argouml kernel projectimpl trashinternal object todo this should just be named delete or something which better tells what it does since there really n't trash can
changed in uml component with stereotype todo we should deprecate this \?
returns root package return package which root deprecated by tfmorris use link getroots to get packagesmodel elements which at top level todo we probably need getdefaultnamespace method or something similar to replace some uses of this
updates top level modelelements all projects in uml each model knows it 's root elements so this could make setroots obsolete applying stereotype in uml adds new root todo this redundant with setrootsgetroots there already too many ways this stuff managed without adding additional one all current model subsystem implementations know their top level elements responsibility can be moved to model subsystem but let 's choose one way of managing this
datastructure settings project most getters return string since they used by argo tee this also reason all these attributes not part of map or something todo header comment currently not used this function not completely implemented yet how do we store this in project \? where should user enter his header comment \? see issue author michiel
notation settings value object stores settings which control how text rendered on diagrams todo this needs to go on diet it 's used everywhere so performance sensitive current set of settings union of all those found in legacy code but it 's not clear that all of them actually used author tom morris
this does calculation of where our ext directory todo we should eventually make sure that this calculation only present in one place in code and not several
in contrast to link getzipname returns member 's name without prepended name of project but with extension todo this not used anywhere shall we remove it \? author steffen zschaler return member 's name without any prefix or suffix
todo end up with multiple models here
we 're deleting last diagram so lets create new one todo once we go mdi we wo n't need this
create notation settings value object with all default values todo this class only has partial undo support basically just those members that had it as part of previous implementation
this code copied from actionbooleantaggedvalue
this temporary solution issue
parse message textual description todo this method too complex lets break it up param umlmessage uml message object to apply any changes to param string to parse throws parseexception when it detects error in attribute string see also parseerror geterroroffset
this temporary solution issue
todo addonly has been removed in uml so we should phase out support of it tfm
save argo entry todo cyclic dependency with persistencemanager move persistencemanager getprojectbasename someplace else
if empty then we 're done or there cycle in message graph which would be bad if has more than one element then model crappy but we 'll just use one of them anyway
utility method to encode string in way that allows it to be saved properly in xml file and regained filtering out any noice that xml framework might have seen fit to add todo why we doing this ourselves \? surely encoding information xml serialization well known task tfm have never understood why this being done think we should remove any usage bob param str string to encode return encoded string
hence less elegant workaround that works
this should probably be inside xmireader parse but there another place in this source where xmireader used but it appears to be nsuml xmireader when argo xmireader used consistently it can be responsible loading listener until then do it here
critic to suggest using facade stereotype todo at moment only dummy implementation see issue
todo this needed \?
could this be some other type of internal error that we want to handle differently \? do n't think so tfm
create and register diagrams activity and statemachines in model of project if no other diagrams created default class diagram will be created argouml currently requires at least one diagram proper operation todo move to xmifilepersister protected param project project
load xmi file before any pgml files fixme following loading model before anything else due to zargo containing profiles currently we have removed this hack in umlfilepersister and think it should be removed from here also
bufferinputstream that aware of xml structure it searches first occurrence of named tag and reads only data inclusively from that tag to matching end tag or it can search first occurrence of named tag and read on child tags tag not expected to be empty tag todo this hardwired to assume fixed single byte character encoding it needs to be updated to handle different encodings including multi byte encodings tfm author bob tarling
todo attempt to move following code to gef
todo use stylesheet to convert or wait till we use fig factories in diagram subsystem what last version that used fignote \?
todo move to diagram subsystem \?
set fig style attributes todo this should move into render factories as described in issue param fig fig to style param attributemap map of name value pairs
todo without this we fail to draw class but this good solution \? why layer not set in constructor \?
todo we really want to be able replace initial content handler which passed to sax but we ca n't do this without cloning whole bunch of code because it 's private in super class
if no fig created by code above then we must go look old style constructor that should have fallen into disuse by now fig object rectangle diagramsettings all of these constructors should have been deprecated at least and replaced with new signature this here paranoia only until all figs have been reviewed
fignodemodelelement with no owner should match here todo this temporary solution due to figpool extending fignodemodelelement when in fact it should not do so
translate visibility flag of fig to pgml visibility attribute value pgml values hidden and shown if not specified then default so we return null this to prevent redundent data being written to pgml todo remove on gef release after as it will be provided there param fig return hidden nullshown
file persister uml model todo this empty what its purpose \? tfm author bob tarling
todo not sure we need to do this but just to be safe now
open zipinputstream to first file found with given extension todo remove since this duplicate of zipfilepersister method when we have refactored persister subsystem param url url of zip file param ext required extension return zip stream positioned at required location throws ioexception if there problem opening file
todo this does n't need full profilereference since it uses reader handed in constructor it does n't make much sense to make its callers init path to some name which it does n't need author luis sergio oliveira euluis
todo seems like overkill to load model just to get display name but that 's where it 's stored currently tfm
todo this appears unused if it 's needed model api should be enhanced to provide method that does this directly
todo this critics embedded in comments actually used by anyone \?
todo all this profile loadinghandling needs to move someplace in model subsystem probably
todo we need specific exception type here
todo this profile n't used anymore see getmodel
todo this absurdly long method break it up
todo this code cloned over and over again tfm
settings dialog tab panel layout options todo this class contains lot of references to org argouml uml ui it would probably be better to move it there todo this class breaks too many dependency limitations and it not used anywhere so mvw disabled its functionality author linus tolke
todo we could also support other flavors here image then you can drag modelelements directly into your wordprocessor to be inserted as image
todo why n't this done in save \?
todo following handling of multiselection just local solution line color better find more general solution do n't know if it 's undoable this way thn
todo following handling of multiselection just local solution fill color better find more general solution do n't know if it 's undoable this way thn
todo we need to get modelextent and package \? associated with current diagram so that we can create new element in right place
dialog that allows user to go to any diagram in project by doubleclicking on it this dialog not modal and can stay open while user working on model it even possible to open multiple of these dialogs although purpose of such useraction eludes me todo this dialog should have multiple tabs named help diagram classifier statevertex etc which would allow user to go to other things than diagrams author mvw
todo bob says tabs that listen target changes should register themselves not expect detailspane to listen and pass on event otherwise these tabs always rely on detailspane tabtodotarget and tabprops currently listen directly
todo some parts of argouml have preliminary support multiple details panels but we currently only support default south bottom panel
todo check that this correct
flag to indicate if we main application or being integrated in another top level application such as eclipse via argoeclipse plugin todo this temporary measure until projectbrowser can be refactored more appropriately tfm
try to save project param overwrite if true then we overwrite without asking param file file to save to param pmw progressmonitor to be updated return true if successful todo separate this into swing specific class tfm deprecated in by bob tarling use trysavewithprogressmonitor
todo work in progress here to allow multiple details panes with different contents bob tarling
todo this causes cyclic depencency with actionsaveproject
todo this needs work so that users can set font size through gui preference window
loads project displaying nice progressmonitor param overwrite if true file going to be overwritten param file target file todo separate this into swing specific class tfm param exit if true exit argouml when done
todo bob says we 're looking at focus change to flag start of interaction this to detect when focus gained in prop panel field on assumption editing of that field about to start not good assumption we need to see if we can get rid of this
this class represents pool of swimlanes activity diagrams this exists only to act as gef style encloser other nodes in same must be placed entirely within or outside boundaries of this fig but cannot intersect with boundary todo there no actual model element being represented here so we inheriting lot of behaviour from fignodemodelelement that we do n't want we require to split fignodemodelelement to separate code that requires model element owner see issue remark mvw why not give it owner instead \? activitygraph obvious candidate or maybe top state author mkl
manages progressmonitor dialog note users of this class should use type of interface link org argouml taskmgmt progressmonitor wherever possible to maintain gui independence author andrea nironi tigris org todo bob says do n't like naming of this class its confusing that its called window and yet it not window lets rename once we have it hidden
loads project file and opens all kinds of error message windows if it does n't work some reason in those cases it preserves old project param file file to open param showui true if error message may be shown to user false if run in commandline mode param pmw progressmonitor to be updated if not needed use null return true if file successfully opened todo separate this into swing specific class tfm
todo this should listen file save events tfm
loads project file and opens all kinds of error message windows if it does n't work some reason in those cases it preserves old project param file file to open param showui true if error message may be shown to user false if run in commandline mode param pmw progressmonitor to be updated if not needed use null return project project that created based on file that successfully opened todo separate this into swing specific class tfm
todo can we move this knowledge behind model facade rather than have condition here \?
command to set selected figs to their minimum size despite its name really minimum size selected here todo rename this class author markus klink
this fig never placed on diagram it only used by call renderer so that pick list items look like diagram figs todo this fig does not represent model element and so it should not extend fignodemodelelement we should split fignodemodelelement in two one base functionality all nodes and one that truly model elements
todo why this code even getting called figgeneralization \?
class to manage project related actions which need to be or historically have been managed as singletons todo it 's unclear to me whether all of these actually have to be managed as singletons but now 've just moved them from projectbrowser as tfm author tom morris
todo this should n't know internal form of type names but i'm not sure what gef 's predicatetype does so i'm fixing it here tfm
todo move to different class \?
hate this so much even before start writing it re initialising global in place where no one will see it just feels wrong oh well here goes
kludge required by gef 's use of hashmap in api todo this can be removed if they ever fix gef to use maps
critique menu todo this dependency should be inverted with critics subsystem registering its desired shortcuts with us tfm
genericargomenubar defines menu bar all operating systems which do not explicitly ask different kind of menu bar such as mac os menu 's and mnemonics of menu 's and menuitems separated in propertyresourcebundle menu properties menu items separated in propertyresourcebundle action properties key 's in menu properties have following structure menu file name of menu menu file mnemonics of menu 's file name of menu mnemonic menu file mnemonic mnemonics of menuitems file flag item name of menuitem mnemonic menu item new mnemonic todo add registration new menu items deprecated in by bob tarling this class will be moved and made private in future use menubarfactory createapplicationmenubar
forwards this event to tree model param element modelelement to be changed todo this should n't be public components desiring to inform explorer of changes should send events
todo delete should be available on any combination of model elements and diagrams todo should n't be creating new instance here we should hold delete action in some central place
adds entry to mru list param filename of project todo this should listen file save events rather than being called directly tfm
todo make sure this should n't go into previous condition tml
todo should n't be creating new instance here we should hold delete action in some central place
tree structure has changed significantly inform associated tree model todo this should n't be public components desiring to inform explorer of changes should send events deprecated by mvw in use events instead
todo we really only care about events which affect things that visible in current perspective view this could be tailored to cut down on event traffic tfm
singleton instance todo why this singleton \? would n't it be better to have exactly one every explorer \?
todo rather than specifically ignore some item maybe it would be better to specifically state what items of interest otherwise we may still be acting on other events we do n't need
todo we need factory pattern goxxx classes that can determine if they required
todo can this be made more restrictive \? do we care about any attributes other than name \? tfm
this carried over from previous implementation not sure why we do n't want contents of package tfm
todo any namespace can contain other elements why do n't we allow this \? tfm
todo really should be elementmodelelement but we do n't have type which portable this
todo this method can be replaced by getclass getsimplename when argo drops support java versions
see org argouml cognitive critic setheadline java lang string set up locale specific text critic headline one liner that appears in to do pane and critic description detailed explanation that appears in to do tab of details pane mvw maybe we can make it part of constructor cruml \? fixme why override if nobody uses \?
set threshold todo should this be protected \? param threshold threshold to compare to
todo split into one critic inherited problems and one problems directly in this class
todo do we need this generalization not named element
needed \?
find all figs that visualise given model element in this layer or null if there none todo once gef includes this same method in diagram then this can go see org tigris gef base diagram presentationsfor java lang object
todo this uses last one wins algorithm registration we should warn if factory being overwritten
gets font name if it does n't exist in configuration it creates new entries in configuration appearance todo why create in getter \? return name of configured font
todo what this trying to do \? it 's never going to get called tfm really dirty hack to remove unwanted listeners
todo this should n't be referencing current project instead appropriate undomanager should have already been retrieved from correct project
todo we should be given undo manager to use rather than looking global one
todo replace next deprecated call this case complicated by use of parameters all other figs work differently
class to display graphics uml choice state in diagram circle todo this should really be renamed figchoicestate it 's last vestige of uml name author pepargouml
todo what this needed \? tfm
next lines fix nd half of issue there no better way \?
return list of gravity points around circle which enclosed in bounding box convenience method use by figinitialstate and figfinalstate todo as this method not required by all sub classes it would seem sensible to extend figstatevertex with figcirclevertex and only have relevant concrete figs extend that and gain this functionality return list of points
to resize only when new concurrent region added changing height todo probably should n't exist as this class should be listening added concurrent regions and call this internally itself param new height
todo n't our items always strings \? tfm
actually instanciate netnode and fignode objects and set global next mode to modeplace todo should call super reduce code volume see org tigris gef graph graphfactory makenode
todo this logic may well be worth moving into model component provide similar grid to connectionsgrid
todo \? if this class listen model it will be able to change in live as it done in figs diagram
todo redo it curbody should be as long as curlanguage button
when we change type we need to create new initial value and to display panel todo if we select same type that current do nothing
todo we definitely do n't want to react to addition and removal of transitions ca n't we be more specific when we register ourselves as listener
target model element in uml this element that owns expression in uml this expression itself todo this makes behaviour different enough that separate subclasses should be considered
field todo textarea or textfield
todo rather than specifically ignore some item maybe it would be better to specifically state what items of interest otherwise we may still be acting on other events we do n't need
todo this can be mess there any better solution \?
todo use it notify set to true to forward events to model only one of language and body fields should have this set to true
todo if this ordered list then you have to add in right location
see java beans propertychangelistener propertychange java beans propertychangeevent todo this should be reviewed to see if it can be improved with view towards removing some of overrriding methods used as workarounds differences between nsuml and mdr tfm
todo this redundant invocation
get all classifiers in our model todo we need property panels to have some reference to project they belong to instead of using deprecated functionality
todo copied from umldiagramrenderer get fignode from given layer that represents given model element fignode portion of association class returned in preference to figedge portion if no fignode found then figedge searched and fignode that acts as its edge port returned param lay layer containing fig param modelelement model element to find presentation return fignode presentation of model element
todo build return parameter
todo getallpossiblesubvertices and getallsubstates duplicates tfm
todo how to merge multiple inheritance \? necessary \? this currently copies common ancestors multiple times
todo this ca n't depend on projectbrowser alternate below
todo this composite association so these will get deleted automatically only thing we need to do check any additional elements that need to be deleted as result
todo this well formedness rule from uml no generalizableelement can have parent generalization to element that leaf self parent forall not isleaf
check arguments against parameters type and number todo perhaps move this to critic instead \? tfm
todo add standard stereotype \? set open ended but predefined names include call create instantiate send
todo there anyway we can determine this size at runtime \?
todo taken from figclassifierboxwithattribute to handle events on attribute all this event handling should eventually be moved to compartment fig attributes
we getting events we do n't want filter them out todo can we instruct model event pump not to send these in first place \? see defect param event event
modelimpl getfacade getrootelements gets all root elements in uml repository including available profiles that not part of current project degrades performance projectmanager getmanager getcurrentproject getroots only returns user model roots and no profiles projectmanager getmanager getcurrentproject getmodels gets all root models but no root namespaces todo which best \? there any other way \?
todo as currently coded this actually returns all behavioralfeatures which owned by classifiers contained in given namespace which slightly different then what 's documented it will not include any behavioralfeatures which part of namespace but which do n't have owner
todo performance consider instantiating this just once outside loops and clear at this point instead
delete model element implements 'cascading delete' to make sure model still valid after element has been deleted actual deletion delegated to delete methods in rest of factories example method deleteclass exists on corehelper delete methods as deleteclass should only do those extra actions that necessary deletion of modelelement itself deleteclass should only take care of things specific to umlclass delete methods in uml factories should not be called directly throughout code calls should always refer to this method and never call deletexxx method on xxxfactory directly reason that it possible to call deletexxx methods directly pure implementation detail implementation of this method uses quite complicated ifthenelse tree this done to provide optimal performance and full compliance to uml metamodel last remark refers to fact that uml model uses multiple inheritance in several places this has to be taken into account todo requirements of metamodel could probably be better determined by reflection on metamodel then each association that deleted element participates in could be reviewed to make sure that it meets requirements and if not be deleted tfm extensions and its children not taken into account here they do not require extra cleanup actions not in form of call to remove method as normal all children of mbase and not in form of other behaviour we want to implement via this operation param elem element to be deleted see org argouml model umlfactory delete java lang object
do n't allow connections to be created from read only model element to any other todo this should be considered workaround it only works because by default we place newly created relationships in namespace of fromelement correct behavior in presence of read only elements really depends on type of connection as well as writeability of both ends
array of valid connections combination of connecting class and node classes must exist as row in this list to be considered valid st column connecting element nd column from element type rd column to element type rd column optional if not given then it assumed to be same as from element existence of th column indicates that connection valid in one direction only todo this encodes not only what legal in uml but also what argouml knows how to create so not all legal connections included probably should be split into two pieces legal uml here and supported in argouml application someplace tfm see also issue most of these subtypes of relationship which includes association dependency flow generalization extend and include dependency includes binding abstraction usage and permission associationrole and associationclass associations remaining items link transition associationend message non relationship types which argouml treats as connectionsedges
todo check duplicates this possible \? \? \?
todo we also have code registering names of tagged value like derived
recursive method to get all subtypes todo does this have scalability problem \?
todo bob says we should not be listening here addition and removal of attributes this should be done in figattributescompartment
do n't wait on ourselves we 'll deadlock todo we might want to throw exception here
todo must we calculate whole list \?
todo replace this recursive function by loop like in getroot
todo because we get called on each and every change event when model in state of flux we 'll often get invalidelementexception before we finish this collection only saving grace that we 're called so many times that on last time things should be stable again and we 'll get good set of elements final update we need better mechanism
updates compartment box called from updatelayout if there model event effecting attributesoperations and from renderingchanged in all cases todo above statement means that entire contents of compartments being rebuilt whenever addremove of attribute operation or reception detected it would be better to have compartments listen add and remove events and make minimum change rather than entirely rebuild remark mvw this bit exaggerated since populate method already heavily optimized
todo reconfigure exception handling to distinguish between errors that possible due to bad input data and those that represent unexpected processing errors
todo callers will need to be refactored to work around change in way multiplicities work tfm
todo some elements such as generalization no longer named transitional period we 'll return string so debug can continue but calling code should probably be fixed tfm bob says these comments that in facadeeumlimpl getname same trick needed here now
map of which resources read only todo this needs to be managed per editingdomain
todo mvw would it not be better if this code would go in starttexteditor not overruling mouseclicked but we made this fig not editable to stop it from reacting on key presses anyhow this hack abusing figtext gef does not really support double clicking on fig to trigger some action
todo does corehelper getextendingclassifiers object element means all direct and indirect extending classifiers or only direct extending classifiers \?
todo this code appears to be designed to jump to diagram containing contents of package that double clicked but it looks like it 's always searching name main instead of package name todo but in any case it should be delegating this work to to something that knows about diagrams and they contents tfm
todo what behavior of this in case of nested models \?
todo this returning extended elements or base classes \?
todo instancespecification classifier association n't navigable in this direction
model element has been removed from this packages namespace if fig representing that model element on same diagram as this package then make sure it not enclosed by this package todo in my view fig representing model element should be removed from diagram yet to be agreed bob
todo seems to work only with both loops check why
todo this needs to be double checked tfm
used by pgml tee return class name and bounds together with compartment visibility todo this not duplicate with parent \?
this node cannot be dragged and manipulated in same way as other fignodes in argouml it actually optional child fig or more precisely path item of figedgemodelelement this allows dashed edge of association class to connect association edge and allows dashed edge of comment edge to attach comment to some other edge type gef can only attach edges to nodes by making this fig both node and containing it as child of edge we push rules to allow edge to edge connections todo we inheriting lot of functionality here that we do n't really require we should attempt to make figedgeport extend fignode author bob tarling
searches stereotype just like given stereotype in all given models and their sub namespaces given stereotype can not have its namespace set yet otherwise it will be returned itself todo this function should not take stereotype object as parameter but name and baseclass todo currently only works stereotypes with only one baseclass todo should it only search stereotypes owned by model object \? param models collection of models param stereo given stereotype return stereotype
finds stereotype in given namespace and all those in any sub namespace of given namespace returns null if no such stereotype found todo what if stereo getname or stereo getbaseclass null \? then you know immediately that none will be found but that correct answer \? currently null returned in these cases todo this function should not take stereotype object as parameter but name and baseclass todo currently only works stereotypes with only one baseclass todo currently only works stereotypes where baseclass equal to given one inheritance does not work return stereotype found or null param ns namespace param stereo stereotype
creates uml model element of given type this only works uml elements if diagram contains elements of another type then it responsibility of diagram manage those items and not call this method it also only works uml model elements that represented in diagrams by node param elementtype type of model element to build return model element todo this needs extra parameter to specify modelextent where new element should be created
builds compositestate as top some statemachine todo confusing name this method should better be named buildtopstateonstatemachine param statemachine given statemachine return mcompositestate newly build top state see buildcompositestate object
todo mvw this needs rethinkingrework have following questions why does it not search stereotype in namespace using properties and only create new stereotype if it will actually be used \? ie why there not getstereotype string name string baseclass \? edited by mst
todo this functionality in worn place we should be able to call setvisible on compartment itself and then this class should react to that event improvements will follow in later releases hence this method should not be considered stable module developers param compartment compartment to be changed param isvisible true if attribute compartment visible
todo this should become private and only called from constructor see org argouml uml diagram ui figcompartment populate
remove all items in group otherwise model event listeners remain todo why does figgroup not do this \?
todo in uml classifierrole associationrole and associationendrole have been replaced by internal structure of collaboration
todo above populate works but seems rather heavy here can see something like this needed though as events wo n't manage this quick enough could we make figeditablecompartment createmodelelement create new child fig instance \? it may also be useful it to return new model element rather than current void return bob
todo this neededcorrect \? when all compartments hidden \?
this tag set on elements that generated by reference when importing if it set then critics could ignore those objects if they want todo this really belongs in higher level utility class that uses facade 's tagged value methods also it needs to be updated to use uml tagdefinition instead of simple string
recognizer ary association todo this not recognizer some type rename to isnaryassociation \? param handle candidate return true if handle association
builds interface with given name param name given name return interface todo this needs extra parameter to specify modelextent where new element should be created
builds default implementation interface interface not owned by any model element by default users should not forget to add ownership return interface todo this needs extra parameter to specify modelextent where new element should be created
check if labels etc have been hit apparently gef does require pathitems to be annotations which ours n't so until that resolved
create empty but initialized instance of uml templateparameter return initialized uml templateparameter instance todo this needs extra parameter to specify modelextent where new element should be created
builds default implementation class class not owned by any model element by default users should not forget to add ownership return newly created class todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml usage return initialized uml usage instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml permission return initialized uml permission instance todo this needs extra parameter to specify modelextent where new element should be created deprecated by tfmorris renamed in uml to packageimport use link createpackageimport
create empty but initialized instance of uml permission return initialized uml permission instance todo this needs extra parameter to specify modelextent where new element should be created
action to add stereotype to model element todo appears to be unused \? author bob tarling deprecated by tfmorris use link org argouml uml actionaddstereotype
returns destination of relation or link destination of relation defined as modelelement that receives this relation if there more then destinations only first returned if there no destination null returned examples of sources include classifiers that types to associationends usecases that bases to extend and include relations and so on in case of association destination defined as type of second element in connections list todo move this method to generic modelhelper param relationship relation return object
return source of relation or link source of relation defined as modelelement that propagates this relation if there more then sources only first returned if there no source null returned examples of sources include classifiers that types to associationends usecases that bases to extend and include relations and so on source always start from arrow in fig destination end todo move this method to generic modelhelper param relationship relation return object
sets language of expression todo this operation fooling user in thinking that body of object changed instead new object created there no other way mexpression can not be altered once created so this operation returns newly created object instead param handle expression param language new language return newly created object
todo remove casting to diagramfactoryinterface as soon as diagramfactoryinterface removed
todo having critics actions here introduces unnecessary dependency on critics subsystem have it register its desired actions using extension mechanism tfm
true if instance allowed to be invisible this currently only set true by figedgeport todo figedgeport should be removed from fignodemodelelement hierarchy and so need this removed
todo we really want this class to have package scope however reflection
todo there lots and lots of magic numbers used in calculating positions and sizes any time you see figs being placed at use these constants instead if you can reliably interpret calculations you can factor them out of there as well add additional constants as needed to express other common factors tfm
name set to empty string yuck by default fix it
todo note copypaste code in figexitpoint where this code better placed in gef \?
find model element in modelelements which name equal to name param name name of model element to find it ca n't be null param modelelements link collection of model elements in which to find model element with name return model element if found or null todo maybe should be moved to helper class that deals with model related stuff
todo we should really set up our own profile instead of depending on default this depends on default profile configuration containing type integer to test properly otherwise it will get created in main project defeating purpose
called by propertychanged when it detects that stereotype has been added or removed on removal fignode removes its listener to that stereotype when new stereotype detected we add listener todo bob says in my opinion we should n't be doing this here figstereotype should always be listening to change of its owners name figstereotypescompartment should always be listening add or remove of stereotypes to its owner those classes will need to pass some event to fignode on awt thread only if change results in change of size that requires redraw note runs at model mdr thread param event umlchangeevent that caused change
todo do we want top level package here instead of immediate parent \?
todo this creates dependency on critics subsystem we need generic way modules including our internal subsystems to request addition of actions to popup menu tfm
this template method called by argouml framework as result of change to model element do not call this method directly yourself override this in any subclasses in order to change what model elements fignode listening to as result of change to model this method guaranteed by framework to be running on same thread as model subsystem todo lets refactor this at some time to take umlchangeevent argument param event umlchangeevent that caused change
todo generalize extension and remove critic specific code
todo this required \? why would fig already be dashed \? see org tigris gef presentation figedge setfig org tigris gef presentation fig
prevent underline events if underline does not change todo gef should manage this after gef included
todo generalize extension and remove critic specific stuff
there shall not be dependency from to
todo use following function to have dropdown set of tools toolbarfactory additemstotoolbar buttonpanel actions true instead this temporary solution param buttonpanel toolbar param actions array of actions representing tool layout
todo we should n't need this reflection any more once we have convinced ourselves that everything with getitemuid method implementing iitemuid
todo figure out when this getting thrown throw new unsupportedoperationexception
constraint this code only deals with supplier per dependency todo how to support more \? see org argouml uml ui abstractactionaddmodelelement doit java util list
todo namespace of created events currently model think this wrong they should be in namespace of activitygraph vec addall model getmodelmanagementhelper getallmodelelementsofkind model getfacade getnamespace gettarget model getmetatypes getevent
changes font all figs contained in given figgroup todo in fact there design error in this method class if name italic since class abstract then classes features should be in plain font this problem can be fixed by implementing updatefont method in all subclasses param fg figgroup to change font of
todo namespace of enlisted events currently model think this wrong they should be in namespace of activitygraph vec addall model getmodelmanagementhelper getallmodelelementsofkind model getfacade getnamespace gettarget model getmetatypes getevent
todo move this in figgroup in gef param scb suppresscalcbounds to set
update titlelabel mvw this overrules icon set initiallly why do we need this \?
todo this function attempts to optimize more generic code in parent which also works correctly in this case this good idea \?
creates new checkbox menu item attached to specified action object and appends it to end of this menu todo this almost duplicate of argojmenu addcheckitem must find way to merge param action checkbox menu item to be added return new checkbox menu item
todo dthompson mouseclicked me above consumes mouse event internally so suspect that this line might not be necessary
actionaddexistingnode enables pasting of existing node into diagram author eugenio alvarez data access technologies todo why do we have this class as well as actionaddexistingnodes \?
constructor todo name parameter used icon and tooltip this makes of tooltip impossible param modeclass next global editor mode param modeargs arguments new mode param name name of command that tooltip text
fix up bad figs due to errors in earlier releases of argouml it can happen that there generalization without child or parent todo move into xsl we should not remove from graph model while we 're writing to it or we have possible cause of concurrent modification exception param owner
todo above does n't work reliably in constructor we need better way of getting default fig settings owning project rather than using project manager singleton tfm
defines methods to generate source code from model each class providing code generation functionality must implement this to be recognized by argouml as code generator todo gui independent mechanism to pass settings to code generator needed similar to what we have reverse engineering see link org argouml uml reveng importinterface getimportsettings and link org argouml uml reveng settingstypes since when it replaced filegenerator interface
hack do n't show first column where model element object placed
todo it does n't matter what these get set to because gef ca n't draw anything except pixel wide lines
todo workaround gef redraw problem force all child figs into same layer
this should not be looking namedelement since this not always about name of this modelelement alone
determines if figedge currently connected to correct fignodes if not edges correct fignodes set and edge rerouted typically this used when user has amended from property panel relationship from one model element to another and graph needs to react to that change if participant of association end changed calls helper method layoutthistoself to avoid this edge disappearing if new source and dest same node todo this method called far too frequently it should only be called when specific event received it seems to be currently called whenever any event received from owner return boolean whether or not update sucessful
todo this class should be moved to package org argouml uml ui behavior common behavior
todo dependency cycle between fignodemodelelement and figedgeme this needed \? if so introduce removable interface to decouple
figmycircle figcircle with corrected connectionpoint method this methods calculates where connected edge ends todo once we at gef version this whole class can be removed since it taken over by gef
compute border point of ellipse that on edge between stored upper left corner and given parameter todo once we at gef version this method and in fact whole class can be removed since it taken over by gef in revision param anotherpt remote point to which edge drawn return connection point on boundary of ellipse
class to display graphics ary association association node diamond todo improve location of stereotypes author pepargouml yahoo es
constructor todo name parameter used icon and tooltip this makes of tooltip impossible param modeclass next global editor mode param arg name of new argument new mode param value value of new argument new mode param name name of command that tooltip text
todo send event instead of calling explorer directly
sets target of property panel given target may either be diagram or modelelement if target given fig check made if fig has owning modelelement and occurs on current diagram if so that modelelement target deprecated as of argouml version visibility of this method will change in future replaced by link org argouml ui targetmanager targetmanager todo mvw think this should not be deprecated param target new target see org argouml ui tabtarget settarget java lang object
todo this needs to use different method than that used by constructor if it wants to allow method to be overridden
todo can we delegate this to specialist figname class \?
todo replace magic numbers with constants
information about source unit and its content whether it exists only in memory or it 's stored in file todo making this interface instead of class would allow more flexibility in dealing with non file based resources tfm author aslo
todo without null check following throws npe so many times when it called from figedgemodelelement modelchanged we need to think about it
todo this should be managed by detailspane targetlistener tfm remove following line
todo this ca n't depend on projectbrowser it needs to get current drawing area from diagram subsystem or gef
create main draggable label association this can be overridden in subclasses to change behaviour todo consider introducing this to figedgemodelelement and using throughout all edges param owner owning uml element param settings rendering settings
mvw this case had to move call to setselecteditem outside buildingmodel otherwise combo does not update with new selection see issue
mvw this case have to move call to setselecteditem outside buildingmodel otherwise combo does not update with new selection same does probably apply to cases above
fig permission which form of dependency todo in uml import and access permissions have become packageimports with public visibility and non public visibility respectively argouml only supports permission currently friend permission has been dropped also type hierarchy has been reorganized so that packageimport not subtype of dependency author markus klink
todo how does pressed cancel become java lang exception \?
action to trigger code generation one or more classes in fact only all named classes and interfaces on active diagram generated or if this delivers empty collection all selected classes interfaces and contents of selected packages generated independent if they named or not todo implement more logical behaviour
todo bob says if model element not named we could generate name generalization becomes class class
hack to make sure that right height applied when no icon used
todo this should be more extensible may be only findpanelfor target if there panel why not show it \?
utility function to localize given string with help text and show it in status bar of argouml window this function used in favour of inline call to enable later improvements it would be possible to show help balloon todo this code also present in other root figs param given string to be localized and shown
add concurrent region to concurrent composite state this action can be executed with either composite concurrent state selected or one of its concurrent regions todo move all magic numbers to constants author pepargouml yahoo es
todo improve extensibility of this
todo make magic numbers configurable
helper method changeconnectednode todo this should probably be in superclass associations can be on several diagram types
returns current target deprecated as of argouml version visibility of this method will change in future replaced by link org argouml ui targetmanager targetmanager gettarget targetmanager getinstance gettarget todo mvw think this should not be deprecated return target see org argouml ui tabtarget gettarget
reroutes connection to old node to be connected to new node delegates to reroutexxx each of possible edges in class diagram association dependency generalization link todo this should probably be in superclass many figs can be on several diagram types param newnode this new node that one of ends dragged to param oldnode this existing node that already connected param edge this edge that being draggedrerouted param issource tells us which end being rerouted
prevent bold events if bold does not change todo gef should manage this after gef included
see java awt event actionlistener actionperformed java awt event actionevent todo from combobox javadoc this method public as implementation side effect do not call or override we should find some other way to implement this
todo this should n't know about specific type of fig that being displayed that couples it too strongly to things it should n't need to know about tfm
model table with tagged values implementation uml and tagdefinitions todo this currently only supports taggedvalues with tagdefinition which has type of string
todo use our extension registration mechanism our internal classes as well so everything treated same
todo we should really be passing default settings to diagram factory so they get set at creation time
idem generalization with leafroot object todo but showing message in statusbar would help todo illegalargumentexception should not be used events we expect to happen we need different way of catching well formedness rules
connect method specifying connection type by class unavailable in argouml implementation todo this should be unsupported use object version inheritdoc
todo we 'd like these to not be filled but gef wo n't let us select them if we do that setfilled false
gef methods todo these should really be picked up automatically from some gef interface that we extend but there no such thing note we 've only added methods used by argouml so it 's possible that external consumers need other methods
abstract class that parent of all actions adding diagrams to argouml children of this class should implement creatediagram to do any specific actions creating diagram and isvalidnamespace that checks if some namespace valid to add diagram to argouml shall never create diagram read only modelelement todo this class should be merged with actionnewdiagram author jaap branderhorst xs all nl
todo mvw am not completely sure of following namespace of diagram used when creating new elements that shown on diagram they will have their namespace set according this it not necessarily equal to owner return namespace diagram
todo use default value of appropriate type here
set fig style according to attributes todo this never used can we remove \? param fig fig to style param attributemap map of name value pairs
we hang our heads in shame there still bugs in argouml andor gef that cause corruptions in model before save takes place we repair model in order to be as certain as possible that saved file will reload todo split into small inner classes each fix return text that explains what repaired
todo reference to method org argouml uml ui vetoablepropertychange getvetomessage string here but class does exist anymore where it \? this method never used param propertyname name of property return message or null if not applicable
execute this action from command line todo underlying gef library relies on acme that does n't allow us to create these files unless there window showing this reason have had to split performing of commands in link org argouml application main main string so that we can by not supplying batch option run these commands with window showing hopefully this can eventually be fixed see org argouml application api commandlineinterface docommand string param argument file name that we save to return true if it ok
todo make explorer listen to project member property changes to eliminate coupling on gui
todo associationclasses fit both of next cases
needed \?
todo we can probably use this instead of all of above legacy uml code tfm
todo fonts should n't be handled any differently than other rendering attributes
todo no one should be sending deprecated event from outside argouml but keep responding to it now just in case
forwards this event to tree model param element modelelement to be added todo this should n't be public components desiring to inform explorer of changes should send events
todo this should not need to know about projectsettings tfm
todo why ca n't we use actionaddexistingnodes here \? bob
todo we 'd like to test this in its new guise as packageimport but we do n't have good way to do it currently
constraint this code only deals with supplier per dependency todo do we need more \? see org argouml uml ui abstractactionaddmodelelement doit java util list
abstract action to trigger creation of new diagram argouml shall never create diagram read only modelelement todo bobs says can we merge actionadddiagram with this class \? author michiel
first of all let 's set up duplicate hash this hash contains all duplicate key another key todo every duplicate put done twice but how to avoid this \?
todo this should get containing project from list of targets not from some global
todo bob says this really nasty horrible hack shadowfig should not extend fignodemodelelement instead we require base class fignode with common behaviour of all nodes in argouml shadowfig should extend that and fignodemodelelement should extend that same base class adding common functionality fignode that represent model element see org argouml uml diagram ui fignodemodelelement setshadowsize int
window that displays exception to user if we ca n't handle it in any other way todo this has been partly converted to be generic error dialog rather than something specific to exceptions this should be renamed when that process complete
todo do n't use hardcoded colors here tfm
author jaap branderhorst xs all nl since jan todo uml this needs to be changed to just toggle which represents readonly frozen or not changeable
save project param file file to save to param pmw progressmonitor to be updated return true if successful todo separate this into swing specific class tfm
work in progress here to allow multiple details panes with different contents bob tarling
todo following mdr specific we need something generic to all model subsystems tfm
this main class gui subsystem users of gui subsystem components that to place themselves in any of gui components register themselves in this class todo add rest of registers to this author linus tolke since
constructor todo this constructor used \? what purpose with it \? param name to be localized param subs go rules
todo we should n't need this reflection any more once we have convinced ourselves that everything with setitemuid method implementing iitemuid
todo support nested let expressions
this needed commentedge todo why does n't commentedge implement iitemuid and be handled with mechanism above
sets directory name where profiles can be found initially 'uml used todo intermediate solution uml support please implement better solution param dir name of directory profiles
todo this in wrong place it 's not profile specific it needs to be moved to main xmi reading code tfm
this can be made public to allow others to extend their own persisters
once all edges connected do compute route on each to make sure that annotations and edge port positioned correctly only do this after all edges connected as compute route requires all edges to be connected to nodes todo it would be nice not to have to do this and restore annotation positions instead
param project argouml link project to save in file param file link file in which argouml link project will be persisted return persister used and usable file throws saveexception if saving file goes wrong throws interruptedexception if interrupt occurs while saving todo move this to helper class
todo this whole class needs to be updated to remove use of deprecated methods and hopefully test multi root and multi project methods since nov author jaap branderhorst xs all nl
method assign data immediately see end of file todo if we ever want to extend pathitemplacement we should modify this so that we also recognise any subclass of pathitemplacement class name pathitemplacment \? todo use class reference to make this dependency obvious
todo there cyclic dependencies between actionstereotypeview and fignodemodelelement register these actions opaquely since we do n't what they tfm
todo do we care \?
todo break into main member types model diagram and other
get link abstractfilepersister file param file link file in which argouml link project will be persisted return appropriate persister file or null if file 's extension does n't match supported persister todo move this to helper class
finds type in model by name fixme duplicated from method with same name in org argouml profile internal modelutils param type name param model model return type or null if type has not been found
this class manages projects loaded in argouml and what current project classes in argouml can ask this class current project and set current project since we only have one project in argouml at moment this class does not manage list of projects like one would expect this could be nice extension future of argouml as soon as current project changed property changed event fired todo move everything related to creation of project into projectfactory since nov author jaap branderhorst xs all nl stereotype singleton
todo this used in places other than on diagrams \? if so it needs to stay in projectsettings as well as being diagramsetting return returns true if we show stereotypes in explorer
throws saxexception when things go wrong with sax throws ioexception when there 's io error throws parserconfigurationexception when parser finds wrong syntax todo unused \?
since this hopefully temporary solution and nobody ever looks at type of notation event we can simplify from sending every existing event to one event only but since there no catch all event defined we just make one up rationale reduce number of total refreshes of drawing
prefix identified as implementation specific class todo this should be generalized so it does n't have to be changed each time new implementation created tfm
todo this temporary we need new list uml following uml elements not in uml
todo this currently just mechanical merge of tests in from generic model test and nsuml tests they need to be reviewed merged author euluis since version
finds classifier with certain name will only return first classifier with matching name todo move to model subsystem tfm param short name param ns namespace where we do search return found classifier or null if not found
uml package structure entirely different so we have to remap bunch of stuff names without embedded colons indicate that entire package remapped kernel core as matter of fact only package which did not get renamed or moved usecases todo this section very incomplete tfm
set uri this project do n't use this directly use instead link org argouml persistence persistencemanager setprojecturi uri project todo why n't this deprecated or private if it not to be used \? param theuri uri to set
todo projectbrowser does n't need to mediate this conversation use event listener in todopane to communicate instead tfm
project interface encapsulates all information about designer 's project it contains list of diagrams and uml models various project properties such as author 's name and defaults various settings todo this interface mechanically refactored from implementation class link projectimpl it needs to be reviewed and cleaned up eliminating methods which should be part of public api and splitting interface into smaller function specific trashcan interfaces author tom morris thomas neustupny since when it replaced concrete class of same name
todo this should listen new target events fired by wizstep updatetabtodo so that we can decouple it from projectbrowser
todo should fire its own event and projectbrowser todo should register listener
agency manages critics since classes not really first class objects in java singleton instance of agency made and passed around as needed agency keeps registry of all critics that should be applied to each type of design material when design material instance critiqued it asks agency to apply all registered critic 's in current scheme there thread that proactively continuously critiques design at hand even if user idle this simple and it works disadvantage that all active critics related to given design material applied regardless of reason critiquing and lot of cpu time basically wasted todo am moving toward more reactionary scheme in which specific design manipulations in editor cause critics relevant to those manipulations to be applied this transition still half done triggers critiquing requests code triggers currently dormant latent \? todo there strong dependency cycle between agency and designer they either need to be merged into single class or partitioned differently perhaps using interface to break cycle designer singleton gets passed to almost every single part of critic subsystem creating strong coupling throughout tfm author jason robbins
reply true iff this critic relevant to goals that designer trying to achieve by default all critic 's relevant regardless of goalmodel really this something controlmech to compute but if subclass of critic encapsulates some information you may need to override this method todo would like better default action but goals typed and their values must be interpreted by critics they not as generic as decisionmodel param dsgr designer return true if relevant
todo this hack much better way of doing this would be not to start critic in first place
return true iff given todoitem still valid and should be kept in given designers todolist critics that not enabled should always return false so that their todoitems will be removed subclasses of critic that supply multiple offenders should always override this method by default this method basically asks critic to again critique offending object and then it checks if resulting todoitem same as one already posted this simple and it works fine light weight critics critics that expend lot of computational effort in making feedback that can be easily check to see if it still holds should override this method todo maybe todoitem should carry some data to make this method more efficient inheritdoc
decisionmodel part of state of designer it describes what types of decisions or design issues designer thinking about at current time critics that relevant to those decisions made active critics that not relevant made inactive todo there some notion that each decision has certain importanance at certain time but have not followed through on that because do n't have good examples of how to quantify importance of decision todo right now individual decisions just strings maybe they should have some non atomic structure \? author jason robbins
how much control should critics have over when they relavant \? does doing that in code instead of declaratively limit reasoning \? how does using more semantically rich method calls impact componentization \?
this class models designer who building complex design in some application domain and needs continuous feedback to aid in making of good design decisions this area needs work especially as it central idea of argo currently almost everything hardcoded what can be configurable \? \? todolist dependent on this class each designer has its todolist each designer has his own agency which only class that knows all critics this class listens to property changes from \? designer can create todo items just like critics hence designer implements poster interface todo there strong dependency cycle between agency and designer they either need to be merged into single class or partitioned differently perhaps using interface to break cycle designer singleton gets passed to almost every single part of critic subsystem creating strong coupling throughout tfm author jason robbins
return default type parameter return classifier to use as default type todo this belongs in projectsettings tfm
todo at moment setselectedcomponent does n't take into account rather complex tab selection mechanism of detailspane tab selection mechanism must be refactored
todoitems that designer has explicitly indicated that he considers resolved todo generalize into design rationale logging facility
todo settext in gef should call setbounds instead of directly changing then we will have event generated correctly in gef
handle firing notation event todo this needs to be managed on per diagram or per project basis param event event to be fired param listener listener
indicates end of range notation events todo remove this not used anyway return last id reserved events
handle firing diagram appearance event todo this needs to be managed on per diagram or per project basis param event event to be fired param listener listener
todo this currently duplicated from metadatacache must find common place in model facade
andreas this just temporary uml pre alpha versions
sets body of expression todo this operation fooling user in thinking that body of object changed instead new object created there no other way mexpression can not be altered once created so this operation returns newly created object instead param handle expression to modify param body body to set return newly created expression
todo this should happen in gef
todo remove listeners addremove events
prevent italic events if italic does not change todo gef should manage this after gef included
todo move empty implementation to figgroup in gef
todo note copypaste code in figentrypoint where this code better placed in gef \?
todo all code below here duplicated in figbasenode reason gef defect once we have taken release of gef with that fix we can remove this code
mode to create link between two figclassifierroles todo provide modefactory and then this class can become package scope author penyaskito
mark contain figpoly as complete todo think more work needed in gef to either do this automatically when both ends set or at very least give setcomplete method on figpolyedge that calls its contained poly
todo this should n't be hardcoded height of spline default activation height
todo move magic number to descriptive constant
brooms all message which coordinate upper than position of broom todo provide modefactory and then this class can become package scope author penyaskito
this temporary hack until notation provider sd message will be able to parse successfully when sequence number missing remove this method completely then
todo calcbounds called by selectionmanager when fig dragged this code needed to reposition any self message as they become detached from their classifier role see issue cause of detachment not yet understood unfortunately calcbounds called from several other places so code here not optimal but best workaround until argouml can provide its own replacement selectionmanager sequence diagram requirements see
default behaviour from figedgemodelelement not correct here see issue todo we must determine what to do here but now doing nothing better i'm not sure why super method would not work as would expect that to do nothing if ends already correct return true at all times now
create empty but initialized instance of uml parameter return initialized uml parameter instance todo this needs extra parameter to specify modelextent where new element should be created
convert to bounding box very screwy gef sometimes uses center and sometimes upper left todo gef also positions text at nominal baseline which well inside bounding box and gives overall size incorrectly
this interface registering interest in events sent from model component neither registration or unregistration nor events themselves contain any reference to model implementation instead they use link java beans propertychangelistener link java beans propertychangeevent to deliver events reference to listener weakreference so you do n't need to call removewhateverlistener you can just forget about your listener and it eventually finalized and removed this also means that you will have to keep reference to your listener while it active since garbage collecting mechanism not really deterministic forgotten about listener might still receive events unless it can handle them in harmless way this approach should not be used todo this still true or does it refer to nsuml implementation \? tfm this part of contract that established between model subsystem and its users if that not fulfilled by current implementation then current implementation incorrect linus todo what event names \? event names generated link string and their values and meanings not really well documented in general they name of association end or attribute in uml metamodel here some highlights remove event sent when element removed author linus tolke
create empty but initialized instance of uml method return initialized uml method instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml binding return initialized uml binding instance todo this needs extra parameter to specify modelextent where new element should be created
returns names of all metamodel value elements including datatypes enumerations and primitive types todo this method rightly belongs in separate interface dealing with instances of mof types as opposed to uml types like all rest of methods here do return collection containing strings with names of all metatypes
returns names of all metatypes in metamodel todo this method rightly belongs in separate interface dealing with instances of mof types as opposed to uml types like all rest of methods here do return collection containing strings with names of all metatypes
create empty but initialized instance of uml class return initialized uml class instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml associationclass return initialized uml associationclass instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of artifact since uml return initialized artifact instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml associationend return initialized uml associationend instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml abstraction return initialized uml abstraction instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml attribute return initialized uml attribute instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml operation return initialized uml operation instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml datatype return initialized uml datatype instance todo this needs extra parameter to specify modelextent where new element should be created
called by constructor to create figs at each end of association todo this temporary during refactoring process we should override setdestfignode and setsourcefignode and create ends there that will allow same pattern to work uml where we cannot assume connection order param sourceassociationend param destassociationend param settings
add new package at top level model todo argouml currently only supports one model
create empty but initialized instance of uml comment return initialized uml comment instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml dependency return initialized uml dependency instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml component return initialized uml component instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml constraint return initialized uml constraint instance todo this needs extra parameter to specify modelextent where new element should be created
create enumerationliteral return object new enumeration since uml todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml elementresidence return initialized uml elementresidence instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml interface return initialized uml interface instance todo this needs extra parameter to specify modelextent where new element should be created
create empty but initialized instance of uml flow return initialized uml flow instance todo this needs extra parameter to specify modelextent where new element should be created
create uml primitivetype since uml return initialized uml primitive instance todo this needs extra parameter to specify modelextent where new element should be created
builds manifestation of element artifact param utilizedelement packageable element return manifestation todo this needs extra parameter to specify modelextent where new element should be created
create uml templateargument since uml return initialized templateargument instance todo this needs extra parameter to specify modelextent where new element should be created
this checks order in addition to contents that really what we want here \? tfm
builds class with given name param name given name return class see buildclass todo this needs extra parameter to specify modelextent where new element should be created
builds method with given name param name given name return method todo this needs extra parameter to specify modelextent where new element should be created
recognizer primary objects primary object object that created by parser or by user object that created as side effect of importing some other object not todo this does n't belong in facade it 's higher level function used specifically certain reverse engineering operations tfmorris param handle candidate return true if primary object
recognizer parameter 's with directionkind of return todo this duplicate of link hasreturnparameterdirectionkind object param handle candidate parameter return true if handle return parameter
recognizer modelelements with package visibility todo this method name chosen compatibility with existing naming scheme but has potential of clashing with some future use param handle candidate return true if handle has package visibility
recognizer modelelements which have stereotype applied todo moved this out of facade to someplace elese since it 's not model subsystem specific tfm param handle candidate return true if handle singleton
this should be moved to ui action
return tagged value with specific tag warning this method returns only first taggedvalue found with given name hence this method simplification of real problem and should be avoided todo what should be done about above problem \? options to deprecate method throw exception if name ambiguous or leave caller to figure it out themselves param handle model element tagged value belongs to param name tag name return found tag null if not found
todo this removed from uml \?
todo some of these magic numbers probably assume line width of replace with appropriate constantsvariables
todo this needs to be managed on per project or per modelextent basis
returns all states that can be recursively contained by given state todo link getallpossiblesubvertices object and link getallsubstates object duplicates as implemented mdr it n't clear from javadoc or usage whether they should do different things or this just happened because no one noticed we already had another method param ostate composite state we searching states return collection collection with found states
add path to list of paths to be searched when looking xmi files to resolve external references with list maintained in static structure shared by all instances todo it 's desirable to have separate search paths separate files but more work required in argouml so that it knows how to maintain separate contexts profiles and user models param path directory path to add to search path
buttons on selection stereotype todo find way to hide operationscompartment on figclass of created metaclass author michiel
changecommand that updates its label label of this command can contain character that will be replaced with information about object when label returned todo switch this to use java string formatting instead of private notation \? author bogdan pistol
todo this probably related to sendevent that sending signal but association not navigable in that direction
todo actionstate callstate and subactivitystate have been replaced in uml by explicitly modeled actions
todo see if protected or need to be present in each subclass
todo we do n't want to do this once we have dropped uml map uml names to uml equivalents
todo comment by rueckert do n't think it makes much sense to query interactions from collaboration in uml since this diagram does no longer exist and interaction means something different in uml
todo comment by rueckert think handle holding collaboration implementation should rather be collaborationuse in uml but as workaround now 'll try to get collaboration representation collaborationuse and then try to get owning classifier from there
todo this probably ca n't be implemented in way that will make uml ui happy needs to be generalized to uml semantics
todo what do we want to use as equivalent here \?
todo there option we can use to save our argouml version \?
todo just guess probably not right tfm return handle instanceof linkenddata
todo this does n't belong in implementation specific piece tfm
todo uml concept of multiplicity multiplicity range has been replaced by single element
todo not sure semantics exact match here between uml aggregate and uml shared
todo changed in uml to special type of property \?
todo tagdefinitions gone from uml they now properties of stereotypes
todo moved this out of implementation specific piece tfm everything primary now ie not reverse engineered
this keeps track of editing domain that used to track all changes to model todo this probably needs to be set of editingdomain so that we can manage editingdomain per project
todo this method mostly entirely \? redundant tfm
todo javadoc specifies that null should be returned if 'from' or 'to' null or if there no associations between them we should return empty collection instead and javadoc should be changed
todo this n't right
todo does corehelper getextendedclassifiers object element means all parents direct and indirect or only direct parents \?
todo what purpose of this \? why do we hide buttons here \? presumably if so we should not assume selectionclass
todo we currently delete old values before setting to something new this workaround to issue we should consider giving api to get lower and upper values so that controls can listen directly to those rather than element containing those values
todo in uml event has no parameters event metaclass in uml corresponds to trigger metaclass in uml see uml superstructure page
todo this should be built by reflection from metamodel tfm update uml metamodel if not replaced by reflection
do n't implement deprecated method in interface
todo booleanexpresion removed from uml it ok to use valuespecification \?
todo this will need to be adapted to send undoredo commands back to our consumer argouml if new undo mechanism implemented model subsystem tfm
this sets up editing domain model editor todo we probably need editingdomain per argo project so that we can keep resourcesets separate
todo model implementation independent
todo mvw do we really look into super types of stereotype or should we be looking into super types of baseclass \?
todo do we really want stereotypes from nested packages \?
todo this should call single namespace form getstereotype it next stereo
array of valid connections combination of connecting class and node classes must exist as row in this list to be considered valid st column connecting element nd column from element type rd column to element type rd column optional if not given then it assumed to be same as to element existence of th column indicates that connection valid in one direction only todo this encodes not only what legal in uml but also what argouml knows how to create so not all legal connections included probably should be split into two pieces legal uml here and supported in argouml application someplace tfm most of these subtypes of relationship which includes association dependency flow generalization extend and include dependency includes binding abstraction usage and permission associationrole and associationclass associations remaining items link transition associationend message non relationship types which argouml treats as connectionsedges
todo can we get this info from uml plugin \? perhaps collect all references in metamodel filter those which represent containments and find types on either end tfm
todo use getmodelelementcontainer transition
todo we should n't actually have to do all this work
todo hook this creating of new resource in to someplace more more appropriate perhaps createmodel \? better yet add new method to model api to create new top level projectmodelxmi file so we do n't depend on side effects
todo check resource to hold this and create if necessary \? this discrepancy between mdr which does it here and euml which does it as part of setrootmodel
todo getsetrootmodel n't specific to model implementation they could probably be moved elsewhere tfm
think that synchronized access to idtoobjectmaps required in order to respect thread safe nature of object fixme maybe this should be moved into xmireferenceresolverimpl because it depends on internal implementation details of it
todo we can choose between something which matches uml in name or something that matches in functionality we 've chosen functionality now but this will create name conflict during migration process tfm
todo change to throw exception when uses fixed throw new notimplementedexception non nls
near clone of this code works fine outside of argouml but throws null pointer exception during transform when run within argouml think it 's something to do with class libraries being used but ca n't figure out what so 've done simpler less efficient stepwise translation below in serialtransform
todo bob says coding by use of side effect here maybe this should be done in clearer way but it fixes it seems that when loading xmi that not contained in zip file then inputstream given as argument to this method ca n't be reused as it at end of stream in that case systemid appears to be none null at this stage so if systemid not null we recreate inputsource
create temporary file output todo we should be able to chain this directly to xmi reader
xmiwriter implementation mdr this implementation clumsy because specified writer interface wants characters while xmiwriter wants outputstream dealing in bytes we could easily create writer from outputstream but reverse not true todo old writer based interface can be removed when deprecated modelimplementation getxmiwriter removed author lmaitre
todo return empty collection on null input or throw illegalargument \?
todo iterator filter would be nice here instead of mucking around with collection
todo doing this violates minimal cardinality of if we allow it we at least need critic to warn about it
apply stereotype to make it profile our convention hack create that stereotype instead using uml profile
if systemid valid url simply use it todo this causes network connection attempt profiles
todo make this work when given stereotype has more than one baseclass todo currently only works stereotypes where baseclass equal to given one inheritance does not work
todo mvw do we really look into super types of stereotype or should we be looking into super types of baseclass \?
todo using just last piece of id leaves potential name collisions if two linked files have same name in different directories
todo this should use minimal update strategy instead of removing all and then adding all tfm
todo what type of validation can we do here on tagtype \?
todo this can be simplified to just include extend setbase usecase base
anything not found newly created so return null systemid indicating that it in parent document todo this assumption will be invalid ifwhen we allow editing of linked sub models
todo distinguish between deferred resolution and things which unresolved at end of load and should be reported to user
todo this assumes ranges sorted this true \? tfm
todo this adequate finding profiles in java webstart jars \? tfm
todo check whether this really needed think it 's left over from incomplete understanding of magicdraw composition error problem tfm
todo not sure whether above better in some cases but code below better both java web start and eclipse
todo this returns collection not single object this what callers expect \?
todo this code manually processes elementimports of package but we need to check whether mdr already does something similar automatically as part of its namespace processing tfm
todo this has different semantics than everything else
todo this does not belong here use getimportedelement
todo rationalize this with getmodelelementcontainer
todo temporary stopgap enumerationliteral
todo more required here to support referencevalues
todo what other non modelelement types do we need to handle here \?
this causes problems it can make multiple return messages refer to same activator even if not returning to same classifier role as activator emenates from i'm not sure that changing activator of one message should amend any other messages but this certainly changing too many bob
todo this needs to be localized but we do n't have any localization capabilities in model subsystem object args typename elemname alias misc name element import alias imported alias return translator localize misc name element import alias args
register listener metamodel class and all its subclasses optionally qualified by list of property names todo verify that propertyevent names legal this class in metamodel
todo do we want to construct artificial name here \?
todo implement support types other than string
todo this should be done after all events delivered but leave it here now to avoid last minute synchronization problems
only do verification if debug level logging on todo should we leave this on always \? tfm
todo mvw this needs rethinkingrework have following questions why does it not search stereotype in namespace using properties and only create new stereotype if it will actually be used \? ie why there not getstereotype string name string baseclass \? edited by mst see org argouml model extensionmechanismsfactory buildstereotype java lang object java lang object java lang object
todo type of model element used in type parameter ie formal needs to match actual parameter that it gets replaced with later this code going to restrict that to always being parameter which does n't seem right but do n't have time to debug it right now tfm
todo this should be built by reflection from metamodel tfm update uml metamodel if not replaced by reflection
todo this should use minimal update strategy instead of removing everything and adding it again tfm
todo this actually returns permissions with stereotypes of both and when spec calls only former but that seems to give different semantics to way package imports work review to see which wrong
todo do we want to stereotypes too \? model getextensionmechanismshelper hasstereotype permission modelmanagementhelper friend stereotype
todo we have multiple string representations multiplicities these should be consolidated this form used by org argouml uml reveng
get elementresidences todo unused should be added to facade \? tfm param handle modelelement return collection elementresidence this model element
todo this ambiguous as to whether it should be adding container or resident
todo this should either be extended to support all aggreationkinds or it should be simplifiedremoved from api tfm
todo it does n't really make sense that namespace would be returned as part of its own contents but that 's historical behavior
todo perhaps use hashset or other collection with faster lookup performance in case our callers doing naive contains lookups
todo try reusing same set on every recursion
check that two elements n't already linked opposite way todo this part implementation of well formedness rule uml circular inheritance not allowed not self allparents includes self
todo this part implementation of well formedness rule uml circular inheritance not allowed not self allparents includes self
todo this not according contract this function but it used in several places and mvw presume that we need this generally this part about drawing permission between packages part below about modelmanagement elementimport
todo should we handle and \?
todo \? delete instances which have this as their classifier \? or should we leave them since they contain so much state that user would have to recreate \? \? nsmodel getumlhelper deletecollection nsmodel getumlpackage getcommonbehavior getainstanceclassifier getinstance cls todo \? delete objectflowstates which have this as their type \? nsmodel getumlhelper deletecollection nsmodel getumlpackage getactivitygraphs getatypeobjectflowstate getobjectflowstate cls todo \? delete classifierinstates which have this as their type \?
todo this should probably throw exception if it gets invalid arguments rather than just returning null
todo delete old multiplicity \? why copy using hard coded value \? tfm
todo as currently implemented this expects list of multiplicityranges this interface change from nsuml implementation \? suspect it used to accept list of integers tfm see org argouml model datatypesfactory createmultiplicity java util list
todo copied from umldiagramrenderer find figs in given layer that should be source and destination and attach these to either end of figedge param layer layer to look fignodes param newedge edge to attach
todo this probably not right location switching off filternewlines setting gets lost after selecting different modelelement in diagram btw see how it used in javax swing text plaindocument see issue
todo this can be mess there any better solution \?
list of operations shall contain all operations of all classifiers contained in same package as callaction itself todo in fact we also should include operations of imported clasifiers see org argouml uml ui umlcomboboxmodel buildmodellist
see javax swing event documentlistener changedupdate javax swing event documentevent todo methods uses \?
creates new field that selects language expression param expression model should be shared between language and body fields param only one of language and body fields should forward events to model todo mvw do not understand that
todo why do we need this as well as control \? why it instantiated when its not always needed
constructor param expressionmodel expression model should be shared between language and body fields param notify set to true to forward events to model only one of language and body fields should have this set to true todo mvw do not understand that
to simplify implementation we list all associations found with any of classifiers represented by linked instances todo make foolproof algorithm that only allows selecting associations that create correct model also take into account ary associations and associationclasses this algo best goes in model subsystem in method getallpossibleassociationsforalink see org argouml uml ui umlcomboboxmodel buildmodellist
todo try to use valuefield getcomponent
todo \? \? use other checkbox defines in argo and extends jcheckbox
todo consider conditional feature in xml panel def this
todo really used \? see javax swing jcomponent removenotify
todo bob says reflective code following should be replaced with something more specific like this commented out code this would mean we need stype changed to meta type object rather than string
todo methods uses \?
opaqueexpression can have body language when display to user we only show one body button enabled edit other todo can we by import xmi have languagebody \? author laurent braud
todo we have some quirk that baseclass addition or removal from steroetype comes back as attributechangeevent rather than associationchangeevent this needs further investigation to see if this can be made consistent
todo this needs work we also need to listen to additionremoval of states tofrom classifierinstate
todo we may want to restrict list to parameters which conform to following wfr parameter type ofstype or parameter kind in and ofstype allsupertypes includes type or parameter kind out or parameter kind return and type allsupertypes includes ofstype or parameter kind inout and ofstype allsupertypes includes type or type allsupertypes includes ofstype
todo getallmodelelementsofkind should probably do this processing of imported elements automatically
todo part of this copied from actiondeletemodelelement we maybe need some subclass common code
todo we should really test model instead this but we have no api yet can we just check if collection to build jlist control implements list interface \?
todo please add some javadoc ugly classname also
uml spec ambiguous english says no association or generalization but ocl only includes association model getfacade isageneralization dm
add comment with given string todo currently no op doc read only param text property
test delivery of model events todo we have not documented exactly what events arrive and when author linus tolke
todo does this still need to be synchronized \? if so then explain why
this interface contains methods to retrieve objects that represent different uml types these objects use as tokens used to create model elements in some methods todo there parts of argouml which assume that objects returned here classes we should formalize that by changing return types to match tfm bob says there should be no such assumption in argouml can we document where these \? see org argouml model umlfactory buildconnection object object object object object object object see org argouml model umlfactory buildnode object
todo do we need this \?
make use of default visibility which public todo centralise this knowledge see org argouml uml diagram ui abstractactionradiomenuitem valueoftarget java lang object
todo document author penyaskito
returns all substates some composite state contains todo link getallpossiblesubvertices object and link getallsubstates object duplicates as implemented mdr it n't clear from javadoc or usage whether they should do different things or this just happened because no one noticed we already had another method param compstate given compositestate return all substates
todo document deprecated by tfmorris use link umlactivitydiagram string object graphmodel
todo document what does this do \? interacts with event pump in some manner param objects new objeccts
todo quickguide also mentions open open given file on startup print print given file on startup and exit why these gone \?
todo needs documenting why synchronized \?
todo document why we catch this
predecessors used to be not implemented because it caused some problems that 've not found easy way to handle yet mst specific problem that notation currently ambiguous on second message after thread split why not implement it anyway \? mst todo document this ambiguity and choice made
todo link to signal
event to fire todo investigate purpose really to let next call to link firepropertychanged string object object fire old event again if previous invocation resulted in exception \? if so please document why if not fix it
todo document
todo recurrence goes in front of action \? does this not contradict header javadoc \?
todo check conformancy to specification
set owners of associated fignodes to be statevertexes which at either end of transition todo this needs documentation this really needed \? why \? param lay diagram layer containing this fig param owner owning uml element deprecated in by bob tarling above todo from michiel also do n't understand purpose of this method gef framework should be setting sourcedest or persistence should manage
todo investigate typo in spec
generate intno of given message if predecessor of given message has only one successor then we return string representation of given integer if predecessor of given message has more than one successor then this case of parallel execution of messages message and message concurrent within activation hence in this case we use syntax like this means that first successor in ordered list of successors that has more than one entry will get postfix second etc todo document exceptional behaviour param umlmessage uml message object to generate sequence number param umlpredecessor immediate predecessor message uml object that has given message as successor param position integer position of given message within its sequence return generated sequence expression string or null if given message null
todo we intentionally eating all events \? tfm document
well formedness rule package check that alias imported element does n't conflict with any existing name section of uml spec other types of name conflicts in namespace checked by link crnameconflict todo mvw if alias same as another class' name then this critic fires but explanation and wizard wrong
todo bobs says what purpose of this flag \? please document
todo
not needed
todo maybe should stop at first or find highest priority
todo how to implement this method properly \?
todo
todo make this final asap
now we know that this critic still valid what we need to figure out if corresponding to do item still valid to do item to be replaced if name of some offender has changed that affects its description or if contents of list of offenders has changed we check that by creating new todoitem and then verifying that it looks exactly same this really creates lot of to do items that goes to waste
todo what should we do here \?
following debug line now single most memory consuming line in whole of argouml it allocates approximately of all memory allocated suggestions solutions check if there log log level fine string string method that can be used instead use two calls now linus just comment it out log log level fine applying critic headline
todo why do we need this when we can just change font and achieve same effect \?
todo this work should be deferred until actually needed display
todo it removed from uml \?
todo should we be doing anything on deleted elements \? this throws exception on remove events skip now tfm
todo implement
todo allow other configuration handlers
if we n't given system id attempt to use url jar that we loaded from why \? tfm
todo register listener target todo item changes and new showstep requests
todo review priority of public id vs system id has been reversed from original implementation
todo this should n't require two passes through list tfm
compute which critics should be active they can be applied by applyallcritics given designer note am setting global data isenabled bit in each critic based on needs of one designer do n't really support more than one designer which why each designer if we would support more than one designer has his own agency todo should loop over simpler list of critics not compoundcritics param designer
todo why this disabled always \?
todo should have image of wizard or some logo
todo these buttons future enhancement buttonpanel add configbutton buttonpanel add networkbutton
todo check type
todo uml powertypes accessed indirectly through generalizationsets that contain generalization since nov author jaap branderhorst xs all nl
unused currently stringbuffer taggedvaluessb gettaggedvalues modelelement
todo placeholder implementation until support tracking on per project basis implemented return dirty
empty implementation
todo why this special case \? tfm
flag to indicate we creating new current project todo this n't thread safe way of doing mutual exclusion
todo indicate direction
todo we need way to set line color and width here but testdependencies thinks this creates dependency cycle fig line new argofigline snapx snapy snapx snapy argofig line color line setlinewidth argofig line width
apparently this method never called
todo this code can be removed when getcurrentproject removed
todo can we just do this every time no need else bob
todo tentative implementation do we want something that updates list of open projects or just simple open and close events \? tfm
todo add empty placeholder here \?
todo needs completing stub implementation only tfm
todo needs
todo this removed from uml \?
todo why n't we throwing exception here \? returning null results in npe and no explanation why
todo we expect association end here check more carefully \? tfm
todo this should only be checking top level package if anything at all
use little trick to find out where argo being loaded from todo use different resource here argoini unused and deprecated
todo placeholder implementation until support tracking on per project basis implemented
todo it performance drain to load all classes at startup time they should be lazy loaded when needed instead of scanning all classes ones which implement our loadable module interface we should use manifest entry or special namename pattern that we look to find single main module class to load here tfm
enable it todo this by default selects all modules that found eventually we would rather obey default either from modules themselves from how they found and also have information on what modules selected from configuration
if it 's jar clean it up and make it look like file url
we also show tagged values uml todo what to do uml here \?
todo mark diagramproject as dirty \?
todo do we have any potential consumers of unversioned name outside of notation subsystem \?
constructor todo why does this method not handle all settings \?
todo these defaults need to be checked against historical ones
todo should n't we do something here \?
todo handle parse error
todo this try catch will be needed once code below improved
todo this name of expression language should be configurable by user according to uml standard expression language should be same all elements in one diagram uml not sensible default usually this some pseudo language return name of expression language
todo do we need to control separately attributes and operations \?
we need to extend extensionmechanismsfactory so that we can replace above deprecated call with something like this
todo this needs more work we simply throw new extension point away \?
todo find better default language todo we should know notation language since it us
todo can we put static block within init \?
todo reuse offender list
todo in next line should use buildguard but it does n't show guard on diagram why \? mvw
todo this good way of handling nested notation \? following fails tests new transitionnotationuml parse line
todo this good way of handling nested notation \?
todo add stereotype application ecore anytype \?
todo do we want isaumlelement here \?
todo any special handling null names \? append will use null
todo this dtd does n't exist so we ca n't tell readers to look it println but we need nd line to make funky uml persister work remove this line if above uncommented
todo add implementation
todo we need project specific diagram settings here
ignored it should n't have been in project in st place
todo add recent patterns
todo these can not simply be translated
todo it possible to use more than one variable \?
todo support other name kinds
todo allow zargo as profile as well \?
todo check if it 's ok to just get first zip entry since zip file should contain only one xmi file thn
todo profile dependencies uml
todo support real types
xxx hypotheses no qualifiers do n't know
todo check types
stylepanel class which provides additional parameters changing text elements provided by gef todo
todo implement iterate todo implement sortedby todo implement subsequence
how to handle empty target lists \? probably tabtext should only show empty pane in that case
todo investigate unnamed opposite end
todo support real numbers
todo investigate abstraction mapping not in model subsystem
todo implement oclexpression
todo implementationlocation \? \?
todo check this
todo implement difference between ocliskindof and oclistypeof
todo this should really be coded other way round to only act on associations which important representing current perspective and to only act on single end of association tfm
todo do we want to use project here instead of just its name \?
todo this could be made more efficient by working with iterators directly and creating composite iterator made up of all various sub iterators
todo this going to cause color to be reset on refresh
todo presentation \? \?
tagged values use their containing modelelement since they do n't have property panels of their own todo may want to do this other types too \?
reorder submenu todo think this requires but not sure tfm
empty implementation not used
todo add button to force garbage collection
todo only fetch names and defer fetching panels until needed
hide save action during load otherwise we get appearing in title bar and save enabling as models updated todo do we still need this now save enablement improved \?
todo replace functioncall in next line by requestfocusinwindow once we do not support java any more
todo beautify nd part of this string
text box containing problem messages todo this should be hidden by default but accessible on via details button or tab to provide more info to user
todo required
todo better implementation would be to batch events into logical groups and update tree one time entire group synchronizing access to model repository so that it stays consistent during query this would likely require doing updates in different thread than event delivery thread to prevent deadlocks so right now we protect ourselves with trycatch blocks
todo copy function not yet completely implemented so we will have some exceptions here and there
todo do we want all enabled tabs to listen or only one that selectedvisible \? tfm
drag gesture listener notified of drag gestures by recognizer typical response to initiate drag by invoking dragsource startdrag todo find way to show different image when multiple elements dragged param draggestureevent draggestureevent describing gesture that has just occurred see java awt dnd draggesturelistener draggesturerecognized java awt dnd draggestureevent
todo consider inherited attributes \?
todo support other types of drag here you set owner by dragging into namespace alternative could be to drag states into composite states
returns set union of all unique applicable stereotypes given collection of model elements todo this not optimized performance param elements given collection of model elements return set with stereotype uml objects
todo handle way associations
todo ignore and report exception until gettop implemented
called after diagram font gets changed todo do we need to do anything here \? see java beans propertychangelistener propertychange java beans propertychangeevent
do n't know what to do otherwise
todo not implemented
do we have connection ends \?
todo we need to be more specific here about what to build
additional cleanup needed because this would not be removed by ext destroy
specialist selection class figpartitions this ensures that all swimlanes same length ie height todo make sure that all swimlanes appear side by side uml spec states separated from neighboring swimlanes by vertical solid lines on both sides todo allow drag of west and east edge to resize both selected fig and fig connected to that side todo show northwest and southwest handle only on leftmost swimlane todo show northeast and southeast handle only on rightmost swimlane author bob
activity diagram todo finish work on subactivity states
this may not actually make any difference at present code behind addtrigger needs more work
todo do we have anything to add here \?
todo we may return following when relocate has been implemented
todo before adding new region make last region its minimum size smallest size that will still contain all enclosed
todo do we really need to be listening both of these events \?
todo this comparison very suspect it should use equals method code within block in fact never executed hesitate to change this now as it will trigger code has never been used before and am not aware of any problems that it usage may introduce do think that we need to be able to find different way to implement intent here which seems to be to correct edge drawings that should actually not be allowed bob
todo after removing region reset overall size of node
associations not supported yet todo create appropriate classdiagramedge
todo make another pass to deal with overlaps \?
todo we may return something useful when relocate has been implemented like all statemachines that not activitygraphs
stylepanel which adds checkbox to show or hide stereotype todo author mvw tigris org
todo to enable models and subsystems change this flag work started by markus believe where does this stand \? bob
todo todoitem stuff should be made opaque extension
todo uml this isstatic
todo why do need to do this \?
todo this needs to be modified uml
backward compatibility everything above and right todo do in polar domain \?
todo it would be better here to continue loop and try to build rest of compartment hence trycatch should be internal to loop
todo why these different colors \? tfm
todo how to handle changes in shadowsize from project properties \?
todo add unnamed or new or something \? localized of course
todo should we require graphmodel in constructor since our implementations of setnamespace going to try and set namespace on graphmodel as well \?
perhaps something like following would work instead rectangle drawingarea globals cureditor getjcomponent getvisiblerect
todo this must happen on awt thread
todo we need better algorithm
todo use this event mechanism to update checkmark on presentation tab
todo if this turns out to be performance bottleneck we can probably optimize common case by caching our iterator and current position assuming that next request will be greater index
assert arrays aslist properties contains event getpropertyname event getpropertyname todo do we really always need to do this or only if notationprovider null \?
let 's test which situation we have possibilities nodes already on diagram we can use canaddedge this one of nodes already on diagram other has to be added both of nodes not yet on diagram time being we will only implement situation todo implement situation and
todo more strongly typed data structure could be used here
perform re routing if srcdest nodes have changed this method needs to be 'armed' by previous mousedragged to avoid situation where user just clicks on node then clicks on some unrelated fig without moving edge todo improve fig finding algorithm to find top most fig in layer will be useful nested states in statechart see java awt event mouselistener mousereleased java awt event mouseevent
window that shows progress bar and cancel button as convenience to callers which may be executing on thread other than swing event thread all methods use swingutilities invokelater or swingutilities invokeandwait to make sure that swing calls happen on appropriate thread todo react on close button as if cancel button pressed
write todo check if sections not used within file and put them as comments at end of file hint use second map to compare with used keys param filename file name param indent current indentation param outputlostsections true if lost sections to be written
todo uml what do we do here \?
todo implement this show some documentation \?
todo these have been used most instances of new figfoo but additional work required to extract constant from calculations etc
todo work here
todo what does output directory have to do with class path \? project projectmanager getmanager getcurrentproject entries add getprojectsettings getgenerationoutputdir
todo this next line prevent loading usecase with stereotype to grow why \?
utility function to localize given string with help text and show it in status bar of argouml window this function used in favour of inline call to enable later improvements it would be possible to show help balloon todo work this out one matter to possibly improve show multiple lines param given string to be localized and shown
compilecheckbox new jcheckbox namebutton compilecheckbox checkbox compile generated source todo implement compile feature now disable checkbox compilecheckbox setenabled false southpanel add compilecheckbox borderlayout south
save source language in model todo support multiple languages now that we have uml tagged values param node param language
todo this transformation java specific we need more languagenotation scheme specifying qualified names possible algorithm replace all punctuation with our internal separator replace multiple separators with single instance languages like what about \? tfm
todo need to add filechooser
todo this needs to be improved even nongui calling config panel needs to be initialized
todo implement additional operations in
return fully qualified name of model element in java dot separated format todo we really need language independent format here perhaps list of names that form hierarchy \? tfm
todo need uml equivalent
list with objects that should be shown in combobox todo using list here forces linear search when we 're trying to add new element to model which can be very slow large models
generates new unique id and returns it as string contents of string supposed to be unique with respect to all strings generated by other instances of this class todo we should consider using java util uuid this instead return string with unique content
todo
todo add updown buttons to control ordering of items
todo add all top level packages
if property that this comboboxmodel depicts changed in uml model this method will make sure that changes will be done in combobox model equally todo this function not yet completely written inheritdoc see java beans propertychangelistener propertychange java beans propertychangeevent
todo support other kinds of tail
todo this right range here \?
how to handle empty target lists \? probably wizstep should only show empty pane in that case
this class provides text field that can be used to display text of all comments associated with annotated modelelement todo this could use more work currently it returns all comment name or comment body attributes concatenated together into single read only document since nov author tom morris tfmorris gmail com
todo we should assert this never happens before removing panels should control their own listeners
todo implement this
todo this updating model on per character basis as well as unregisteringreregistering event listeners every character very wasteful tfm
todo project should be bound to action when it created \?
todo it would be better to defer this initialization until panel actually needs to be displayed perhaps optimistically always return true and figure out later if we 've got something to display tfm
this panel contains radio buttons that represent changeability of asssociation end author jaap branderhorst xs all nl since jan todo uml this needs to be changed to be just readonly frozen or not changeable
todo what to do with return value \?
todo property name will need to be updated uml unfortunately we can specify two property names here
todo do we want to fire targetremoved here or it enough to just stop updating targets \?
todo expression and instancevalue how if anyone have example
not implemented yet
mock modelimplementation facade modeleventpump factories and helpers all created as mock objects using easymock each of them there should also be possibility to access their link mockcontrol object todo create rest of getters control objects author linus tolke
todo what shall we do with exception \?
todo with new reference resolving scheme model sub system will cache systemid of profile open it and resolve profile on its own thus java util list will be found and return value will be present again assertnotnull returnparamtype
todo suspect this n't needed call n't needed but do n't remove till out of alphabeta stage
uml model elements to test todo this needs to be updated with version uml
todo do we need this \? this same as emptyfig getheight \?
todo use reflection against test case to ensure that it does not import non argouml classes
todo what can we do with other kind of actions \?
todo maybe return message already exists check first and and if first found has no activator then set this call message as activator and skip code below
todo why do we need to remove then add fig \?
todo minimum height should not be calculated every time but only when figmessage has been added or removed currently doing that does n't work because of unknown problem how to test create only two crs and create message between them then move create message to bottom until that fixed workaround to call updateminimumheight every time minimum size needed
todo implement
finds operation to which callevent refers based on given transition this function determines context of statemachine that contains given transition if context classifier then all operations of this classifier candidates if context behavioralfeature then all operations of owner classifier candidates first operation of which name matches result activity diagrams if context package then all operations of all classifiers in package candidates todo this function works most normal cases but needs some testing rare cases internal transitions todo parameters of candidates ignored maybe this method should return set of matching operations author mvw param trans object of type transition param opname name of operation sought return object operation with given name or null
get innermost containing model of modelelement if no containing model can be found outermost containing modelelement returned which could be original element itself if it has no owner this method intended to return innermost containing model but there circumstances where one may really expect outermost containing model or root package to be returned where it 's being used to test if two elements from disjoint namespace hierarchies hence there two separate methods with different semantics method link getroot object returns outermost containing object todo note also that some code uses org argouml kernel project getroot to navigate down from top instead of up from bottom we need to use consistent algorithm this tfm param handle to model element return model model element
there 's more to be handled which still need to be implemented
builds actor in same namespace as given actor if object not and actor nothing built todo this should n't just silently fail if it passed bad argument this contract will change tfm param model namespace param actor given actor return actor newly built actor
list result new arraylist todo not complete how to retrieve transitions \?
todo first implementation will be to call buildpopop and extract all contained actions toolbar will be built to same structure toolbar will be displayed to left of jlist under label
todo implement remaining supported types
todo gone in uml
todo unfinished implementation
eclipse uml implementation of xmiwriter todo we need facilities writing and reading stable ids tofrom either xmi id or xmi uuid author tom morris
todo all buildcreate methods need undo support tfm
todo bob says how can we auto generate this list \?
todo correctly implement next function in model subsystem issue
language must be unique so select current empty language todo \? alert
todo review tool tips \? stringfield settooltiptext translator localize label body tooltip
panel that shows value specification other uml element todo do we need to implements changelistener if yes ok if no ca n't be use without optional class or optional do n't need to
todo else alert
todo enhance isvalidnamespace function so that this never happens
todo not complete
todo not all namespaces useful here any wfrs \?
todo should be anything allowed by current diagram
todo this not done yet eventually this will also feed rational log
todo this will need to change when we support multiple user models
todo nd next single hasnext
todo fully implement this
todo implement following wfr generalizableelements parent must be included in namespace of generalizableelement self generalization forall self namespace allcontents includes parent return modelmanagementhelpermdrimpl getcontents ns contains gen getparent
todo before allowing this we should really check that templateparameter defaultelement defined
todo not implemented
identifier addonly changeability todo note this should not be in uml version
make read only copy of listeners list so that reentrant calls back to addremovelistener wo n't mess us up todo potential performance issue but we need correctness tfm
todo review all callers to make sure that they localize title in process by harold braun
todo once default constructor deleted we only set dirty flag
todo all super constructors should take graphmodel
todo get project or other necessary context from source \? \? getsource
todo make this more efficient large ios
todo we failed to resolve url signal error
todo countreport unresolved references
todo implement support multiple taggedvalues
todo treat message
todo why would this be null \?
todo rework to use uml tagdefinitions tfm
todo needs undo support
todo this linear search of list that contain many thousands of items one every fig in entire project
todo check if this ok this literally adapted from nsuml
fix set application name mac os
todo use svgwriter implementation cmd new savesvgaction translator localize action save svg
todo not implemented yet idea that some problems identified by critic 's can be fixed with certain design manipulations or transforms that can be applied automatically to resolve problem this method replies true iff given problem can be fixed fixit method actually does fix see org argouml cognitive poster canfixit org argouml cognitive todoitem also see critic fixit
todo not implemented yet if given todoitem can be fixed automatically and user wants that to happen then do it obviously this depends on specific critic and problem by default this method does nothing param item todo item param arg design material \?
list of checkliststatus es indexed on model element itself todo should use weak references so that this forgotten about when object removed
todo maybe exception strings should be internationalized
todo understand qualifiers
todo convert this to some sensible logging
reply todoitem that designer should see iff predicate returns true by default it just fills in fields of todoitem from accessor methods of this critic critic subclasses may override this method or accessor methods to add computed fields to todoitem todo critic 's may want to add new fields to todoitem to make stillvalid more efficent see critic critique param dm offender param dsgr designer return todoitem
todo implementation \?
todo removed from uml
category getroot getloggerrepository setthreshold level off todo find proper implementation in java util logging api
todo review all callers to make sure that they localize title
removes listener eventtype pair from listener list todo replace listener implementation with eventlistenerlist better performance param event event to which listener will not listen any more param listener listener to be removed
check offenders this called from constructors where offenders given todo why do we only care about checking first offenders above \? param offs offenders
todo no test coverage this or createproppanel \? tfm
todo do tests infix operators even though it not yet supported
uml metamodel mof cmof model so we want nodes with tag ownedmember attribute xmi type cmof class todo this code untested tfm
modules it would be usefule to be able to remove their factories todo effect of this method not yet tested param factory factory to remove
todo should not be using assert here but do n't want to change to illegalstateexception at lead up to release as do n't know how much testing done with assert on
test constructor used loading profile from jar file todo test fignode throws exception if something goes wrong
modelelement abstract so no create tests todo add any other relevant tests
do we need to add tests following \? aggregationkind changeablekind messagedirectionkind orderingkind parameterdirectionkind pseudostatekind scopekind visibilitykind
todo test if generated string correct
tests if list with namespaces defined in getvalidnamespaceclasses contains only valid namespaces todo this test does not test anything really
cleanallextentsbut model todo why this causing crash \? \?
todo this needs more work test creation when operation selected author jaap branderhorst xs all nl since jan
todo this requires that tests be run with assertions enabled which n't guaranteed in all environments
some reason listset equals allocates lot of memory well some memory at least lets try to avoid that when not needed by invoking this test only when two previous tests not decisive
tests diagramsettings todo test chaining of settings author tom morris based on testprojectsettings by michiel
todo fix this so that new sequence diagrams tested
todo rewrite this test using reflection against uml class this code has been commented out since september
test creation of collaboration diagrams todo test creating on operation author jaap branderhorst xs all nl since jan
test uml xmi file to make sure that it gets converted properly todo our uml converter currently only handles xmi throws filenotfoundexception indicates test configuration problem throws umlexception if it fails to open file
application should have checked availability at startup tests we would expect unix developers to be correctly configured replace with assert when we jre
todo this should fail but it does n't
todo write test enumerations although they not yet supported
test read compressed models mainly to verify correct reading of andromda profiles todo move this test into argouml base when we will want to read also zip file author lmaitre
todo do tests navigation to association classes even though it not yet supported
we tested this above do we need to test again \?
todo do tests type conformance even though it not yet supported
testing does not fire conflict with crnameconflict
todo should it remove leftovers from other tests \? cleanallextents assert getfacade getrootelements size
entered in prove that test below not needed
todo why does it fail changing name of associationend \? why should it pass \?
modules it would be useful to be able to remove their factories todo effect of this method not yet tested param factory factory to remove
todo test this
todo do tests ranges in collection definition even though it not yet supported
todo do tests collections of collections even though it not yet supported question should this happen with all collections or only constructed ones \?
test creation of metatypes todo we could add tests here to make sure that we can not create abstract types
listening only to remove events does not work todo check if this works now with new event pump tfm
todo we need some way of driving this from panel xml rather than hard coded test
todo prove that this works testumlassociationrolebasecomboboxmodel does not cut it see org argouml uml ui umlcomboboxmodel addothermodeleventlisteners java lang object
todo presumably this only relevant if obj actually model or profile added test of isamodel obj or isaprofile obj would clarify what going on here
all events going to explorer must pass through here first most will come from uml model via eventadapter interface todo in some cases test cases this object created without setting treemodel linus will add tests this now it would be better if this created only when explorer created todo explorertreenode also listens to some events from diagrams so it does not follow rule above since created on september author alexb
add figs to fignode in back to front order
see org tigris gef graph graphfactory makenode
make port invisible unless mouse enters
see javax swing plaf metal metaltheme getprimary
event handlers mouselistener implementation
firenoderemoved node
following does not seem to work centered fig instead getnamefig setjustificationbyname center
only show actions associations not already on diagram
get widest of all textfigs calculate total height
generalization
create new figassociation edge to replace node
make sure we do n't try to set things smaller than minimum
center namefig since center justification does not seem to work
non nls
do nothing this rect will always be transparent
if we 're about to upgrade file lets take archive of it first
see java beans vetoablechangelistener vetoablechange java beans propertychangeevent
actions specific to use case diagram toolbar
update any text colors fonts etc
update relative sizes and positions of internel figs
see org argouml uml diagram layout layouter layout
popupaddoffset should be equal to number of items added here
loop through associations counting ends with aggregations
add stereotypes submenu
fix
we handle and consume editing events
now we can remove ourself which will also remove attached association ends edges
mmessage
list of model element listeners we 've registered
we want to maintain minimum width fig also add border dimensions to minimum space required its contents
added this part to load extra menu content
and stereotypes of its features
owner related todo items
binary association not node so reject
fig related todo items
intentional if there nonsense in field we do not set value
parse text that edited
intentional if there nonsense in field we return false
pass everything except editing events to superclass
stereotype fig covers name fig
if source of event uml object then uml model has been changed
lazily create event
default implementation to do nothing
source of association end should not be classifier if it user has drawn wrong way round so we swap here
see java lang object equals java lang object
todo update setting
end class crunnavigableassoc
accessors
label it 's not true stereotype so do n't use stereotype support int getnamefig getbounds height
set tooltip string
see org tigris gef persistence pgml pgmlstackparser setattrs org tigris gef presentation fig org xml sax attributes
since body ever looks at type of diagram appearance event we can simplify from sending every existing event to one event only but since there no catch all event defined we just use one rationale reduce number of total refreshes of drawing
note that multiplicity what notation listening in uml uppervalue listened to in uml it not currently why it not required to register lowervalue also
use case has external separator external means external to compartment box this horizontal line sticks out of box and touches ellipse edge
fail silently as we expect users to accidentally drop on to wrong component
required mouselistener interface but we only care about clicks
diagram always owned by model in this first implementation
see org argouml uml ui umlcombobox umlcombobox umlcomboboxmodel action
make sure only figgroups on diagram also fignodes report
no need to update if model element went away
see org tigris gef graph mutablegraphmodel addnoderelatededges java lang object
required keylistener interface but not used
private utility routine to work out positive coordinate of point on oval given radii and coordinate todo use this to calculate separator lines param radius in direction param radius in direction param coordinate return positive coordinate given coordinate
both ends must be defined and nodes that on graph already
link new include relationship in to ends
internal methods
figassociationrole figassociationrole new figassociationrole
newfc content
number of goals should now be
gef sets different fig than one that we had at construction time so we need to set its color and width
mark this as newly created this to get round problem with creating figs loaded comments that had stereotypes they saved with their dimensions including stereotype but since we pretend stereotype not visible we add height first time we render such comment this complete fudge and really we ought to address how comment objects with stereotypes saved but that will be hard work
place edge on layer and update diagram
update priority of critic to be same priority as decision
end computeroute
see org argouml uml diagram ui fignodemodelelement renderingchanged
todo does this help \?
snooze and verify its been enabled
if this not circle to circle edge we default to let gef calculate edge route
test with class and class diagram
\? two iterations of refinement maybe should be loop
recursively place all nodes pointed to by outgoing transitions because of recursive algorithm multiple outgoing transitions will end up very lopsided because one entire subgraph will be done before dealing with other transition param seen set of nodes seen so far param node node to collect neighbors
get two ends of any valid edge
see org argouml uml diagram ui fignodemodelelement clone
only allow binary associations
see org argouml uml diagram ui fignodemodelelement updatenametext
set drop location in case of
see org argouml uml diagram ui fignodemodelelement texteditstarted org tigris gef presentation figtext
todo assumes public
see org argouml uml diagram ui fignodemodelelement updatelisteners java lang object
melementimport
see guisettingstabinterface gettabkey
modifiers
see java util collection remove java lang object
this sets linewidth of all in group
see org argouml uml diagram ui umldiagram relocate java lang object
if line angle less than degrees then snap line straight
todo associationrole
dependency potentially has many clients and suppliers we only consider first of each not clear that we should really accept case where there more than one of either
add node check that it actor or use case and add it to model namespace
see org argouml uml diagram state ui figstatevertex makeselection
tell gef its changed
see org argouml ui tabtarget settarget java lang object
add element and place it in namespace of model
see org argouml uml diagram activity ui figactionstate getnotationprovidertype
tell gef
todo settings
everything else ok
see javax swing table tablemodel getcolumnclass int
remove node
see org argouml uml diagram layout layouter getobject int
remove edge
something added nothing us to worry about
if it concurrent and contains concurrent regions bottom region has minimum height
invoke parent constructor first
this makes dragging connected edges very smooth see org tigris gef presentation fig getclosestpoint java awt point
invoke parent refresh first
give up if assocation ends do n't have type defined
end class stylepanelfigusecase
vertex dropped onto diagram get region as first region in statemachine if there no region in statemachine then create one
initialize any other figs here
see java awt event mouselistener mousepressed java awt event mouseevent
only head should be filled not text
notation settings different since we know that at minimum isshowpath setting can change because with implement pathcontainer so we make sure that we have private copy of notation settings
name updating
make all parts match main fig
text fig to hold label
profile configuration holding noneditable applied profiles
label it 's not true stereotype so do n't use stereotype support
do nothing
try some action errors
text will be set later
check if multiple items selected
if element import in old owned it means it must have been removed make sure associated model element removed
todo use per project undo manager not global
by default we do n't show attribute check box mark this object as listener check box
verify name property correctly updated
add figs to fignode in back to front order put this rectangle behind rest so it goes first
todo we should be able to just call renderingchanged on child figs here instead of doing updateoperations
make line dashed
list of objects note this methods which readwrite this do n't appear to be used
add arrow with open arrow head
this module will still register as enabled uml but it wo n't actually do anything
make edge go between nearest points
see org tigris gef presentation fig setlinecolor java awt color
create new version of relevant fig
if default namespace not already set
nodes at two ends
next if clause important deployment diagram it detects if enclosing fig component in this case container will be set owning interface
figs two end nodes
see org tigris gef graph mutablegraphmodel canaddnode java lang object
link new dependency in to ends
see org argouml uml diagram ui umldiagram getlabelname
side effect this creates fig
see org argouml uml ui umlmodelelementlistmodel isvalidelement object
by default do not show extension points
see org tigris gef presentation fig getlinewidth
use arbitrary dimensions now
now we sure dm state
get parent vector first
see tudresden ocl check types type conformsto tudresden ocl check types type
formula described in overall class description
massociationend
ellipse we can put box in middle
if dm top state of statemachine then it not supposed to have incoming transitions
see org tigris gef presentation fig paint java awt graphics
super returns if any of gefs buttons hit but maybe one of not gef buttons
now we 're into processing each specific path item strategy at moment we only know pathitemplacement
add menu to add extension point or note placed one before last so properties entry always last
see javax swing table tablemodel getcolumnclass int
modifier menu placed one before last so properties entry always last
mutators hold write lock will deadlock if use not thread safe
work out radii of ellipse and top right corner of ellipse cartesian coordinates centered on origin will be at
now we sure dm statevertex
result as integers rounded up we ensure that radii integers convenience
only associations
use code from figcircle not one from fig
end class crinstancewithoutclassifier
let 's register events from all modelelements that change name or body text
register name changes added extensionpoints and abstract makes text italic all figs need to listen to remove too
now we sure dm composite state
register extension points
massociation
set bounds will be called from our superclass constructor before our constructor has run so make sure this gets set up if needed
in deploymentdiagrams situation not same as in other diagrams only classes interfaces and objects can intersect each other while they not enclosingfig so you have to prouve only these elements
set up figtext to hold condition
distribute extra height over visible compartments
join all into group
new style importers do n't create diagrams so we 'll do it based on list of newelements that they created
uml spec extend does n't call name nor stereotype
see javax swing jcomponent setvisible boolean
make sure line dashed
see junit framework testcase setup
set up property panels use case diagrams
if we 're using fixed offset just add it and return no collision detection done in this case
renderer should be singleton
see org argouml uml diagram activity ui selectionactionstate getnewnodetype int
allow all packages and classifiers
two points line segment used to compute slope of path here note that this average slope not instantaneous so it will give screwy results near bends in path
try predecessors
mcompositestate
private constructor to enforce singleton
end class crnavfrominterface
todo this using default platform character encoding specifying encoding will produce more predictable results
cp often default but windows name listed by charset availablecharsets
let group recalculate its bounds and then tell gef we 've finished
clone method that should clone jgraph with it 's contents and toolbar with it 's contents since both jgraph as toolbar coming from gef framework cloning them will be hard work and should actually not be placed here but in clone method of jgraph and toolbar see java lang object clone
we accept package but not model or subsystem
if we do not exclude model here then dropping model on usecase diagram causes package to be drawn
non nls non nls non nls
empty list
see targetlistener targetset targetevent
although we register notification of diagrams being deleted we currently depend on targetmanager to assign new target when this happens when we implement mdi and have our own list of open diagrams we can ressurect use of this
some convenience methods
optimize normal case to minimize target changes
read until end section found discard generated content
class table
see org argouml uml ui umlcomboboxmodel isvalidelement object
select buttons
next associationend
output directory
no further listeners required in this case rest handled by notationprovider and sub figs
compile checkbox
todo last argument recursive flag should be selectable option
skip backup files this actually workaround cpp generator which always creates backup files it 's bug
todo following carried over from setowner but probably n't needed renderingchanged it does following add as needed updatenametext updatestereotypetext updatestereotypeicon updatebounds damage
todo this using default platform character encoding specifying encoding will produce more predictable results
todo get saved default directory outputdirectorycombobox getmodel setselecteditem saveddir
generate button
iterate over all associationends we only have problem if there end connected to interface and end other than that end navigable
remove trailing
container state composite state
classify nodes by base path
end at interface \? navigable other end \?
else ignore
following possible future improvement of modelchanged function michiel propose not to do this to keep architecture stable
generate files
see org tigris gef presentation fig getlinecolor
does n't really matter what set we use
todo changed from uml
show filechooser to select outputdirectory
only look at associations
end class classgenerationdialog
see javax swing filechooser filefilter getdescription
end class tablemodelclasschecks
see javax swing filechooser filefilter accept java io file
try changing direction of
see org tigris gef presentation fig deletefrommodel
tablemodel implementation
both ends must be classes otherwise there nothing to merge
argoeventpump fireevent new argoimporterevent argoeventtypes importer added gen
check if this diagram already exists in project
todo should be improved so that it 's recognized whether there something selected that can actually be generated nothing selected in diagram
otherwise create new classdiagram package
see java awt event actionlistener actionperformed java awt event actionevent
non nls non nls
overridden to set argo specific renderinghints to determine whether or not antialiasing should be turned on see org tigris gef base editor paint java awt graphics
class in diagram so we on second pass find fig this class can update its visible state
see java io inputstream read byte int int
add edges pass process we might have already added class but not its edges
some reason this alleged directory single file this could be that there some confusion or just normal that single file selected and supposed to be imported
java default module historical reasons but it 's not required to be there
stores action command into umlplaintextdocument class which also used setproperty and getproperty
previous line helps but we better check again
there no need to test if classes empty because shouldbeenabled mechanism blanks out possibility to choose this alternative in this case
not suffixfilter selected so we take all
runtime exception that occurs when some internal test fails
filter out all unchanged files
take canvas scrolling into account implementation below does place element correctly when canvas has been scrolled
set lastmodified value
we can delete figs like figrects now too
return arrays copyof selectedfiles selectedfiles length
end class sourcepathdialog
iss setvalue countfiles
see javax management notificationbroadcaster addnotificationlistener javax management notificationlistener javax management notificationfilter java lang object
roughly equivalent to and derived from old import dofile
see javax swing comboboxeditor removeactionlistener java awt event actionlistener
see java awt event actionlistener actionperformed java awt event actionevent
log debug base or multiplicity
end class crmulticomposite
both ends must be navigable otherwise there nothing to merge
see javax swing jfilechooser approveselection
see javax management notificationbroadcaster removenotificationlistener javax management notificationlistener
see javax swing jfilechooser cancelselection
add non associationend edges such as comment edges that originally attached to this and attach them to new figassociation and make sure they positioned correctly
do layout even if problems occurred during import
enumerationliteral uses dedicated notation that supports parsing name name name and stereotypes also supports deleting literal by erasing text
add messages from caught exceptions
update discriminator if it changed
select correct diagram implicitly creates it
add element to diagram
print exception trace to string buffer
see org tigris gef presentation fig calcbounds
todo get list of extended settings from current language importer and add those too
level import detail
see org argouml uml ui umlmodelelementlistmodel buildmodellist
level import detail
see org argouml uml ui umlcomboboxmodel getselectedmodelelement
level import detail
if user has selected modeplace either by diagram tool or addtodiagram then we do n't want to show toolbelt items
build configpanel
select level of import classifiers only classifiers plus feature specifications full import feature detail
super implementation found hit
get extension panel configuration settings
end class cralreadyrealizes
explorereventadaptor getinstance structurechanged projectbrowser getinstance getstatusbar showprogress
although not generally true gef argo we know that layer layerperspective which knows associated diagram
this because of senseless \? all files filefilter
see javax swing defaultlistmodel addelement java lang object
parsing file of
see org argouml uml diagram ui fignodemodelelement textedited org tigris gef presentation figtext
progress bar
no title looks better
see java util collection size
get contents of directory
following test can cause trouble with links because links accepted as directories even if they link files links could also result in infinite loops this reason we do n't do this traversing recursively
no need trigger on specialization
if this file directory
todo add filename \?
crazy numbering scheme at work here here 's how handle numbers laid out values defined by gef and go left to right top to bottom ie not clockwise or counterclockwise values zigzag north south west east southwest if you can correctly guess where will go you should buy lottery ticket immediately
ca n't remove last file
see javax management notificationemitter removenotificationlistener javax management notificationlistener javax management notificationfilter java lang object
ca n't remove from existing one so create new one
see org tigris gef presentation fig setbounds int int int int
errorwarning messagearea
gbc gridheight
cancelclose button
see java awt event componentlistener componentmoved java awt event componentevent
ignored
see org argouml uml ui umlplaintextdocument setproperty java lang string
constructors
normal model elements not allowed to have spaces but states we make exception
see java awt event actionlistener actionperformed java awt event actionevent
end class crmergeclasses
see javax swing tree treemodel getchild java lang object int
introducing label
see java beans propertychangelistener propertychange java beans propertychangeevent
user closing progress window interpreted as cancel request
see java awt event actionlistener actionperformed java awt event actionevent
panel controls
nothings left disable firing
most likely cause of this that someone deleted our target with event pump turned off so we did n't get notification nothing we can do about it now and we changing targets anyway so just log it
select index
when this called from pgmlstackparser attachedges we finished initialization of owning pseudo element commentedge
removed item in last position
just quit
text box containing problem messages
continue and abort buttons
see org argouml uml diagram layout layouter getobjects
listeners
see org argouml uml diagram layout layouter getminimumdiagramsize
todo this seems to be called at startup only so no check so far
add invisible button to be used when everything off
am only prepared to go this far
removed to workaround problems with autosplit ocleditor optionmask autosplit
addonly command determines changeability kind todo removed from uml phase out of ui tfm
tabmodeltarget interface methods
warn about inherited name conflicts different critic \?
process listeners last to first notifying those that interested in this event
see javax swing plaf metal metaltheme getsystemtextfont
see javax swing plaf metal metaltheme getusertextfont
see javax swing table tablemodel getvalueat int int
guaranteed to return non null array
classifier
it 's illegal in uml to have multiple elements in namespace with same name but if it happens keep them distinct so user has chance of catching error pick arbitrary but stable collating order we do n't call them equal because otherwise one will get eliminated from treeset where this comparator used
first element class but we need to have its namespace to recompute offenders
update our model with our saved target
see org argouml uml diagram layout layouter add org argouml uml diagram layout layoutedobject
list classes getcandidates return classes size
loop through associations looking one with aggregation
our first button invisible selecting it deselects all visible buttons
non nls non nls make sure we have recognized file extension non nls
set editor 's model
code generation
check ocl parsing constraints
see java beans propertychangelistener propertychange java beans propertychangeevent
do not create constraint
verify items correctly added
parse and check specified constraint
utility namespace collection also not strictly required to have variables
split constraint body if user wants us to
end class crzerolengthedge
constraint must be owned by namespace
add some test data
if euml resources system property defined then we in stand alone application else we 're in eclipse plug in euml resource should contain path to org eclipse uml uml resource jar plugin non nls
store constraint body
new constraint first time setdata called
checkassignidtoobject figassociationrole true true
check name consistency with spec
this throws org argouml model xmiexception unknown element in xmi file model because uml converter can only handle xmi not
set name
end class crtoomanyattr
also set name in constraint body added
replace name
see org argouml ui explorer rules perspectiverule getrulename
todo why this ignored \? tfm
critiquing api
try predecessors
forks have their own outgoing transitions critic
cmd setobjects run getparams get
create new tagged value with given type and value and add it to modelelement
delete model and make sure everything inside goes with it
not in uml
see javax swing event documentlistener changedupdate javax swing event documentevent
we have no model event listeners so no need to do anything
initialize new todoitem
store wizard \?
dm transition
see org argouml uml diagram state ui figstate getinitialy
see org argouml uml diagram state ui fighistorystate geth
do nothing by default
source of transition pseudostate
see java awt datatransfer transferable gettransferdata java awt datatransfer dataflavor
todo do n't use empty string this or it wo n't show in list
assertnotnull model getumlfactory buildnode model getmetatypes getstate
todo here too \?
see org argouml ui targetmanager targetlistener targetset org argouml ui targetmanager targetevent
see javax swing tree treemodel getindexofchild java lang object java lang object
this should not be necessary but let 's be sure
remember system id of our root document so that we can write out profiles and linked models to different file if requested
end of interval
this call could easily fall if there no public default constructor if it fails tweak ifelse tree above to accommodate parameter or check if we need to test particular method at all
start of interval
remove old listeners
see javax swing tree treemodel getindexofchild java lang object java lang object
in middle of interval
this xmi version used to encode metamodel we could parse deeper to pull out actual uml version uml version at xmixmi headerxmi model xmi version uml metamodel does n't actually seem to contain its version
allow listening to other elements
one of everything
add new listeners
see org tigris gef presentation figtext settextfilled boolean
mvw this can never happen n't it \?
see org argouml uml ui umlmodelelementlistmodel removeothermodeleventlisteners java lang object
makes sure we can select 'none'
see org tigris gef presentation fig setlinewidth int
do n't try to test this if we 're removing element
check that model initialized with unspecified goal
we tried to remove value
notationproviderfactory getinstance addnotationprovider name mynp class notationprovider notationprovider notationproviderfactory getinstance getnotationprovider new object asserttrue test notation provider not found notationprovider null
object args newvalue
see org argouml uml ui umlexpressionmodel getexpression
if message has name and named operation and script with parameters but without name then show operation name
reuse change event
this swaps direction of
try moving in simple maner
see targetlistener targetadded targetevent
try creating string from generated modelelements
see targetlistener targetremoved targetevent
set child components to heights in array list calculating height of any proportional component on fly
following uml elements have been removed from uml so we do n't bother testing them
see javax swing table tablemodel setvalueat java lang object int int
do not set buildingmodel false here otherwise action selection performed
this swaps direction of back colon obliged but not and nd dot also not
catch callers attempting to use one without other
if message has name and named operation and expression with no script then show operation
if message has name and named operation and script then show script
see javax swing table tablemodel iscelleditable int int
upper lower case
see javax swing table tablemodel getrowcount
we want foo attribute that second in list
may only occur as child of model or in package
those things which we 've already migrated to uml syntax we need to map them back to their uml equivalents during migration period
if event source unknown or event source container 's target then update field
see javax swing tree treemodel getchildcount java lang object
check possibility that this promiscuous event
remap specific classes
deployment diagram shows something about whole model according to uml spec but we rely on caller to enforce that if desired
deployment diagram shows something about whole model according to uml spec
clean up our two models and extent that we read profile in to
ns namespace but not package
todo following cleans up left overs from previous tests but preferably we should n't have to do this
ommit root package name it 's model 's root
see java awt dnd dragsourcelistener dragexit java awt dnd dragsourceevent
there selection
if we have model but no list then build list with preferred constructor eventually all lists should be built this way
end class actioncopy
see java awt datatransfer clipboardowner lostownership java awt datatransfer clipboard java awt datatransfer transferable
add predicate argouml 's default capabilities
parser parseandupdate modelobject
todo user defined profile support untested currently foo profile foo profile package
remove from model
assertnotnull model getumlfactory buildnode model getmetatypes getextend assertnotnull model getumlfactory buildnode model getmetatypes getinclude assertnotnull model getumlfactory buildnode model getmetatypes getusecaseinstance assertnotnull model getumlfactory buildnode model getmetatypes getextensionpoint
it uml element that not modelelement
projectbrowser exposes functionality not components assertnotnull pb gettabprops assertnotnull pb getstatusbar
lets see if this diagram has some figs on it
no content of diagram
thedetailspane getnamedtab translator localize tab properties
we cannot delete last diagram
see org tigris gef presentation fig setenclosingfig org tigris gef presentation fig
we cannot delete model itself
commented out next piece to remove failure of testcase testcase probably correct but implementation of detailspane not pane gettabs setselectedcomponent docpane pane targetset assertequals docpane pane gettabs getselectedcomponent
static variables
see java awt event itemlistener itemstatechanged java awt event itemevent
see org argouml ui targetmanager targetlistener targetadded org argouml ui targetmanager targetevent
todo we should also test that object have been removed from their namespace collection model getfacade getownedelements getroot
see javax swing text document remove int int
todo following fails due to xmi writing saving all top level model elements and because even if there no empty project by creating class undo mechanism in project manager will force creation of empty project assertequals profilemodels size
test return parameters they can also fail
same name same participants two offenders
argodiagram activediagram diagramutils getactivediagram return activediagram instanceof umlclassdiagram
simply create usecases and actor in package with individual names
usage of other sureremove method legacy they should be integrated
multiplicity multiplicityrange and all expression subtypes do n't have argument create methods so we special case them
diagram contains figs so lets ask user if heshe sure
build extend these parameters seem to be in correct order add extend we do not need assoc on extending use case
todo this catch block needs to be narrower and do something with caught exception tfm ignore
see javax swing table tablemodel getcolumncount
ok button
it would be better if we did n't need container to get target this constructor can have zero parameters as soon as we improve targetchanged
delete button
get node 's name along with name of its parent which we 'll use to find factory to create it with
procede with deletion in model
see javax swing event documentlistener insertupdate javax swing event documentevent
confirm with user that he wants to delete presenting list of settings to delete
if component jlabel which has another component assigned then positionsize label and calculate size of registered component
mutators hold write lock will deadlock if use not thread safe
handle simple cases anything very exotic will fail but that will be our clue that test needs to be extended
user cancelled
this needs to be concrete metatype so we ca n't use general but abstract classifier replace with its concrete subtypes
custom button text
see junit framework testcase teardown
see javax swing tree treemodel addtreemodellistener javax swing event treemodellistener
see testcase setup
tests used to be coded to assume immediate event delivery they 've been modified to use flush where needed tfm oldeventpolicy mfactoryimpl geteventpolicy mfactoryimpl seteventpolicy mfactoryimpl event policy immediate
try some predecessor errors
see java lang runnable run
see javax swing plaf metal metaltheme getprimary
following will bring up dialog box so ca n't be run headless actionsupplier actionperformed new actionevent this foo
setup user defined profile which n't loaded by model subsystem and contains stereotype and this contains tag definition
if no project entered on command line try to reload most recent project if that option true
try adding extension from chosen filter
adding project files icon
object icon resourceloaderwrapper lookupicon putvalue action name translator localize putvalue action small icon icon set tooltip string putvalue action short description translator localize
main methods
see javax swing table tablemodel getvalueat int int
end class actionopenproject
property value has changed so rebuild our view see java beans propertychangelistener propertychange java beans propertychangeevent
todo see if new target has tv that we can proxy
try adding default extension
we only have this here until we have stereotypes list on property panel
end class actionsaveprojectas
only need to this from super
see org argouml uml ui umlcombobox umlcombobox umlcomboboxmodel action boolean
see org argouml uml ui umlmodelelementlistmodel isvalidelement java lang object
this action performs layout and triggers redraw of editor pane see java awt event actionlistener actionperformed java awt event actionevent
see org argouml uml diagram state ui figstatevertex initnotationproviders java lang object
constructor todo correct \? param nodes uml elements typically classifiers to generate param inmodel true if path in model
verify priority correctly updated
mdr has hardcoded printstacktrace on all exceptions even if they 're caught which unsightly so we handle unknown elements ourselves rather than letting mdr throw exception us to catch orgnetbeanslibjmiutillogger java this can be uses to disable logging default output system err setproperty org netbeans lib jmi logger filename org netbeans mdr logger property org netbeans lib jmi logger controls minimum severity level logging
see javax management notificationbroadcaster getnotificationinfo
testing does not fire
proxy methods real umlmodelelementtaggedvalue
only do this classifiers
rearrange diagram layout
compound critics
make this thread interruptible if called from swingworker
problem if we found more than aggregation
targets ought to be uml objects or diagrams
see org argouml model commonbehaviorhelper setnodeinstance java lang object java lang object
todo we should n't need this as well as above
check here if there no incoming call actions if not then create activation at top of lifeline
guaranteed to return non null array
see java awt event mouselistener mouseclicked java awt event mouseevent
end class tabprops
uml spec section generalizableelement may only be child of generalizableelement of same kind
not currently present as token in model getfacade nif runtruthtest model getfacade isaelement model getfacade element nif runtruthtest model getfacade isaexpression model getfacade expression nif runtruthtest model getfacade isaextensionpoint model getfacade extension point nif runtruthtest model getfacade isafeature model getfacade feature
if our map has any entries this type it 's connection type
we have found non static one that not initialized
see if there 's pair in this list that match given model elements
end class crillegalname
see targettablemodelview gettargettablemodel
ignore any error transaction may already have been unwound as part of exception processing by mdr
see javax swing event documentlistener removeupdate javax swing event documentevent
if we do n't have it find trigger if this fails it will keep its default value of null
see javax swing tree treemodel getindexofchild java lang object java lang object
includes seq expr from header javadoc not included in number it always present
see org argouml model commonbehaviorhelper setreceiver java lang object java lang object
put everything together
if model repository does n't manage di model then we must generate our figs by inspecting pgml
make lists
give resolver getidtoobjectmap entries priority over entries with same uuid from resolver getidtoobjectmaps because entries in resolver getidtoobjectmaps historic
make buttons
override public final void setheadline string setupheadanddesc
ignored this event
get assocations and connections no problem there separate critic if this binary association or association role
make buttons layout
make listeners
private property prptodo private property prpproperties private property prpdocumentation private property prpstyle private property prpsource private property prpconstraints private property prptaggedvalues
build namespace hierarchy like this
see javax swing action isenabled
enumerate declaring class
see javax swing comboboxeditor setitem java lang object
todo constraints todo required tags
see javax swing comboboxeditor geteditorcomponent
note although it 's not shown in uml spec templateargument appears to be datavalue like multiplicityrange and can not be reused in multiple instances uml diagrams do n't show it as composition but it effectively
see javax swing comboboxeditor addactionlistener java awt event actionlistener
get next non return parameter null if non left
gridbagconstraints gridbagconstraints new gridbagconstraints gridbagconstraints gridx gridbagconstraints anchor gridbagconstraints northwest gridbagconstraints insets new insets gridbagconstraints gridy gridbagconstraints gridbagconstraints new gridbagconstraints gridbagconstraints gridx gridbagconstraints anchor gridbagconstraints northwest gridbagconstraints insets new insets gridbagconstraints gridy
end of sourcepathcontrollerimpl class definition
this not well formed model in strict sense see multiplicity in uml figure
sb append model getfacade getname
always select properties panel if defaulttoproperties true and if properties panel appropriate selected perspective
sb append string model getfacade getbody
parameterized class can only be client of single binding
mmodelelement
add to collection and round to look at next one
next statement necessary to update textfield if selection equal to what allready selected
actionpaste getinstance setenabled globals clipboard null globals clipboard isempty
ok
now just skip registering this and ignore request but real issue that magicdraw serializes same object in two different composition associations first in referencing file and second in referenced file
workarea all visible space except menu toolbar and status bar workarea laid out as bordersplitpane where various components that make up argo application can be positioned
see javax swing comboboxeditor selectall
see javax swing comboboxeditor getitem
we do n't want to show some nasty gray background color now do we \?
see java awt event focuslistener focusgained java awt event focusevent
see org argouml cognitive critics controlmech isrelevant org argouml cognitive critics critic org argouml cognitive designer
see org argouml cognitive critics critic addknowledgetype java lang string
check against needed backward compatibility do n't remove without checking subclasses and warning downstream developers tfm
necessary to create distance between textfield and icon
compare against all earlier operations if there 's match we 've found problem
make new column with labelledlayout
create return message modelelement with interaction and collaboration
comment name text field editing disabled
see javax swing table tablemodel getcolumnname int
comment body text field editing disabled
see org argouml cognitive critics critic todoitem java lang object org argouml cognitive designer
only change background colour if it supplied by laf otherwise leave look and feel to handle this itself
see org argouml cognitive poster getclarifier
in this case bounds determined by figedge
see org argouml cognitive poster getsupportedgoals
in this case bounds of box determined by figclassassociationclass
newly created associationclass may not have all its parts created by time we called
following calls order dependent not sure why but layer add must come before model add or we 'll end up with duplicate figures in diagram tfm
todo defer most of this work if panel n't visible tfm
get generic clarifier this designerposter see org argouml cognitive poster getclarifier
needs to be updated changes in notation subsystem tfm string namestr notation generate this getowner trim getnamefig settext namestr
see targetlistener targetset targetevent
just returns false see org argouml cognitive poster canfixit org argouml cognitive todoitem
see org argouml cognitive todolistlistener todoitemsremoved org argouml cognitive todolistevent
see tudresden ocl check types type hasstate java lang string
if there 's only single child and we 're it 's only parent set hint where to place it when we get to its row
guaranteed to return non null array
see javax swing listmodel getelementat int
chooser setselectedfile new file filename
if coordinate before classifier role we place start in corner of fighead
so let 's do it hard way
we know this return action now it must be pointing opposite way to activator
if diagram empty gef wo n't write anything leaving us with empty and invalid file handle this case ourselves to prevent this from happening
java se has native gif writer but it 's not in java one available in jai imageio library but we do n't currently bundle that and at mb it seems like heavyweight solution but do n't have time to produce stripped down version right now tfm
anything else handled normal way
figmessage that triggered this figactivation into existence
create image which will do deferred rendering of gef diagram on demand as data pulled from it
todo real numbers not yet supported assertequals defaultoclevaluator getinstance evaluate null null
note gef 's gif writer uses jeff poskanzer 's gif encoder but that saves copy of entire image in internal buffer before starting work defeating whole purpose of our incremental rendering
layerperspective layer diagramutils getactivediagram getlayer
correct exception thrown
action to save diagram as gif image in supplied outputstream todo this requires java in its current state so do n't use author tom morris
purpose of this method not explained and it give give npe depending on order of figs as they read now ignore if null but future lets delete this
convert max xy to widthheight
get domimplementation
vetoablechangelistener implementation
create instance of org dom document
see java awt event keylistener keytyped java awt event keyevent
we actually computing max max not width height
if we have currentact object that means have reached end of lifeline with call or create not returned add activation to list after setting its height to end at end of lifeline
see org argouml cognitive todolistlistener todoitemschanged org argouml cognitive todolistevent
create instance of svg generator
make it stretch vertically
skip lines
org argouml cognitive critics
correct lazy initialization of static field without further updates
see org argouml cognitive todolistlistener todolistchanged org argouml cognitive todolistevent
look tagdefinition matching given name
todolistlistener implementation
see javax swing tree treemodel isleaf java lang object
if message it must return sender and receiver of message
return just comment edges specific layer todo document diagram layer \? param diagram diagram return link list with edges
see org argouml uml diagram ui fignodemodelelement modelchanged java beans propertychangeevent
see java awt event componentlistener componentshown java awt event componentevent
request that we be made visible if we 're not \? topleveltabbedpane setselectedcomponent
if added edge create message it will affect position of classifierrole so it should be repositioned
see java awt event keylistener keyreleased java awt event keyevent
handle multivalued tagged value
see org argouml cognitive todolistlistener todoitemsadded org argouml cognitive todolistevent
super model getfacade getname op null
target has been deleted
see javax swing event changelistener statechanged javax swing event changeevent
see org argouml ui explorer rules perspectiverule getdependencies java lang object
if row past end of our current collection return empty string so they can add new value
utility function to add listener given property name and remember registration param element element to listen changes on param property name of property to listen changes of see org argouml model modeleventpump addmodeleventlistener propertychangelistener object string
keep nagging until user solves problem this seems nice way to nag
tagvalue true
there one or more regions so find one that vertex dropped in
debugging
see org argouml ui targetmanager targetlistener targetremoved org argouml ui targetmanager targetevent
end class todobyoffender
override fignode implementation to keep setowner from getting called
we really should n't add it until after it set up but we need it to have owner following method calls
constants instance variables
this next argument may be used to switch off generation of sequence numbers this still to be implemented they less desired in sequence diagrams since they do not add any information in collaboration diagrams they needed and they still optional in sequence diagrams
since we n't sure of ordering fire event whole table
see org argouml uml diagram state ui figstate getinitialx
see org argouml notation providers notationprovider getparsinghelp
no way we have to give up
see org argouml model abstractmodeleventpump removemodeleventlistener java beans propertychangelistener java lang object java lang string
see javax swing tree treemodel valueforpathchanged javax swing tree treepath java lang object
diagram already exists in this project select it as current target
see org argouml model abstractmodeleventpump addmodeleventlistener java beans propertychangelistener java lang object java lang string
do nothing during deprecation period then it can be removed
if classifier not in current diagram add it
event handlers
performance we check if this selfmessage if it we have just updated activations
firetreenodeschanged this path childindices children
see tudresden ocl check types type navigatequalified java lang string tudresden ocl check types type
this done compatibility with previous version move argo user properties written before to new location if it exists
todo assumes public user pref default visibility \?
see javax swing defaultlistmodel contains java lang object
see java lang object hashcode
see org tigris gef ui popupgenerator getpopupactions java awt event mouseevent
see javax swing abstractlistmodel firecontentschanged object int int
see javax swing tree treemodel removetreemodellistener javax swing event treemodellistener
there bug in gef where positioning nodes can affect edge positions we need to do iterations to protect against that
see org argouml application events argogeneratoreventlistener generatoradded org argouml application events argogeneratorevent
add element listener and remember registration param element element to listen changes on see org argouml model modeleventpump addmodeleventlistener propertychangelistener object string
multiplicityelement now interface implemented by element types that support multiplicities tfm
end class actionimportfromsources
self messages act differently so it needed to move them separetly only self messages of selected cr should be horizontally translated
do n't test changed element if it deleted
see org argouml ui abstractargojpanel spawn
this never downlighted
this one should work except java not registered by default asserttrue settings setnotationlanguage java assertequals java settings getnotationlanguage
only specified format allowed
see javax swing plaf metal metaltheme getmenutextfont
implementation note unlike many of interfaces to model there no control to force single instance of xmireader this to allow work objects generated by implementation to be garbage collected when xmireader instance falls out of scope
see java awt event componentlistener componenthidden java awt event componentevent
populate our namespace hierarchy to requested depth total number of created elements children maxlevel so be careful not to increase parameters too much
try changing namespace of element and make sure results track
see org omg uml diagraminterchange adiagramelementproperty getproperty org omg uml diagraminterchange diagramelement
by default build already builds one default ep
see java awt event mouselistener mouseexited java awt event mouseevent
set tooltip of arrow to open combined tools
create generalizable element with element without children
set minimum and preferred equal so that size fixed labelledlayout
reopen project and assert that metaprofile n't part of profile configuration including fact that stereotype n't found
this will add new modelelement event listener after update complete
we presume that container equals this proppanel
in uml tag definition attribute itself
refresh target all our children which n't getting while not visible
see org argouml notation providers notationprovider parse java lang object java lang string
see java awt event actionlistener actionperformed actionevent
see org argouml model umlhelper move java lang object org argouml model umlhelper direction
see java io inputstream read
this works we do get event and now refresh ui
see org argouml uml diagram ui fignodemodelelement removefromdiagramimpl
to manage case there no labelcomponent pairs but just one component
see org argouml notation providers notationprovider parse java lang object java lang string
assumes next child labelled component
make sure component width n't any greater than its maximum allowed width
assert that model element that depends on profile consistent
if preferred height not given or same as minimum height then fix height of this row
todo what about objectnode \? return org eclipse uml uml objectnode class
project projectmanager getmanager getcurrentproject collection elems modelmanagementhelper gethelper getallmodelelementsofkind mclassifier class
construct exception with message and causing exception param message message param cause of exception public xmireferenceexception string message throwable super message
allow listening to other elements removeothermodeleventlisteners listtarget
setdoublebuffered true
try some more complex moving
only way region set to null if we 're deleting vertex in which case we do nothing special so that removal of state triggers delete event
implements backspace functionality
make nice little target area
in this case either container not set or it not contained in statemachine
see org argouml ui explorer rules perspectiverule getchildren java lang object
see javax swing event caretlistener caretupdate javax swing event caretevent
see org argouml uml notation notationprovider parse java lang object java lang string
composite state contains at least one region
todo gone from uml
todo not exact but close
see org argouml profile internal ocl modelinterpreter invokefeature java util hashmap java lang object java lang string java lang string java lang object
end class actioncut
create new project and assert that it has metaprofile as part of project 's profile configuration
allow listening to other elements addothermodeleventlisteners listtarget
uninterpretedaction class
if there selection on clipboard
get localised strings once only
see org argouml ui guisettingstabinterface handleresettodefault
setting icon
see org argouml application events argonotationeventlistener notationchanged org argouml application events argonotationevent
setting tooltip to type and name
see org argouml profile profilemanager lookforregisteredprofile java lang string
see org argouml persistence saxparserbase handleendelement org argouml persistence xmlelement
in next line replacing makeemptyproject by getcurrentproject fails test except when run in eclipse mvw have no idea why
see org argouml persistence projectfilepersister doload java io file
see javax swing event listselectionlistener valuechanged javax swing event listselectionevent
see org argouml persistence memberfilepersister getmaintag
see org argouml persistence abstractfilepersister getdesc
see org argouml persistence abstractfilepersister getextension
see org argouml persistence memberfilepersister load org argouml kernel project java io inputstream
stop updating model when we 're not visible
in uml td property of stereotype in profile
see org argouml ui tabtarget refresh
only update our model if we 're visible
this target statemachine which no diagram exists yet so let 's use it
see org argouml ui guisettingstabinterface handlesettingstabrefresh
end class tabtaggedvalues
setenabled globals clipboard null globals clipboard isempty issystemclipboardempty
end class actionpaste
see org argouml ui guisettingstabinterface gettabpanel
target valid context
style panels only apply when fig selected see org argouml ui tabtarget shouldbeenabled java lang object
see org argouml ui targetmanager targetlistener targetadded org argouml ui targetmanager targetevent
see org argouml ui guisettingstabinterface handlesettingstabsave
see org argouml application api commandlineinterface docommand java lang string
must not be used in uml we model method as opaquebehavior object that already has body so there no need to have intermediate expression object
as write in uml specification we have size bodies size langs we must have tabvalues length
try to get corresponding body and set it to current body this should work if all bodies stored with their corresponding languages
specify design issue category and knowledge type
let 's just build statemachine and put it in suitable namespace
see org argouml ui targetmanager targetlistener targetremoved org argouml ui targetmanager targetevent
upperpanel setborder borderfactory createetchedborder
model structure has changed significantly eg new project see org argouml ui explorer treemodelumleventlistener structurechanged
buttonbox add box createrigidarea new dimension
see org argouml ui explorer treemodelumleventlistener modelelementchanged java lang object
string title getui getdialogtitle this
todo since there may be multiple top level elements in project this should be using default namespace currently undefined or something similar
button action
detach any non associationend edges such as comment edges already attached before this association node removed they 'll later be re attached to new figassociation
end class croppendconflict
report progress to progressmonitor window see org argouml application api progressmonitor updateprogress int
see org argouml ui explorer rules perspectiverule getdependencies java lang object
if its interface we have interface end otherwise its something else and we should see if it navigable we do n't check that end classifier rather than its child classifierrole since we have effectively eliminated that possiblity in rejecting associationroles above
see org tigris gef presentation figedge setfig org tigris gef presentation fig
make sure it 's parseable as number
select settext translator localize action select
see org argouml ui explorer rules abstractperspectiverule getchildren java lang object
select add actionaddeventasdeferrableevent singleton
newmenu settext translator localize action new
mextend
see org argouml ui explorer rules abstractperspectiverule getrulename
initialize basic parameters that different from decision unspec
this next line presumes that st fig with this owner previous port and consequently nullifies owner of this st fig
get association and its connections iterate over all associationends and check that each connected classifier in same sub system or model
repair action possible np after load
mclassifier
try some more errors
see org argouml ui explorer rules perspectiverule getchildren java lang object
see tudresden ocl parser analysis depthfirstadapter caseafeatureprimaryexpression tudresden ocl parser node afeatureprimaryexpression
mmodelelement
to be able to remove dependencies later
todo removed from uml phase out usage tfm
see java awt event actionlistener actionperformed java awt event actionevent
copy to new file and let regular load code do actual load
end class actionaddattribute
apparently this object had no getitemuid
since uml it 's easier tds only via stereotypes
just mark rebuild next time since we use lazy loading
if user double clicks on any part of this fignode pass it down to one of internal figs this allows user to initiate direct text editing see java awt event mouselistener mouseclicked java awt event mouseevent
stereotype got applied or removed just mark rebuild next time since we use lazy loading
see namespace pushnamespaceelement namespaceelement
no concrete subclasses defined this class useless
see org tigris swidgets dialog namebuttons
see org argouml cognitive critics critic todoitem java lang object org argouml cognitive designer
issue resolution
all strings collate before all uml elements
attribute 'targetscope' of associationend in uml no longer supported in uml
and then by their enclosing path to fully distinguish them
elements collated first by name hoping quick solution
keep track of first non equal comparison to use in case case insensitive comparisons all end up equal
add action to component
stop desiring goal which should remove it from model
if strings differed only in non primary characteristics at some point case accent etc pick arbitrary but stable collating order
first verify that set goal priority did not add extra goal
transientfalse volatilefalse
argo customization
prohibit instantiation
keyevent isactionkey method
ignore
apparently this object had no getuuid
see java awt event keylistener keypressed java awt event keyevent
apparently it had getitemuid but we 're not allowed to call it
apparently this object had no setitemuid
apparently it had setitemuid but we 're not allowed to call it
class preloading so packages there
getpackage can return null 's so we have to cater this
see java lang throwable printstacktrace java io printstream
switch value back off so that we will get notified again next time
ignore any nested exceptions we do n't want infinite loop
did n't work
first step create panel if not already done and options available otherwise it retains its default value of null
likely nosuchmethodexception or illegalaccessexception loadinginvoking eawt application methods
see org argouml kernel abstractprojectmember getzipfileextension
if target method returns boolean use that as hint
eclipse setup
ant setup
when running from maven
param node see tudresden ocl parser analysis depthfirstadapter caseastandarddeclarator tudresden ocl parser node astandarddeclarator
if we 're setting handler enable preferences menu item by calling com apple eawt application reflectively
see javax swing plaf metal metaltheme getprimary
override osxadapter calltarget to send information on file to be opened
see org argouml uml cognitive critics cruml predicate java lang object org argouml cognitive designer
ignore if directory does not exist this error will throw when running from eclipse setup
see tudresden ocl parser analysis depthfirstadapter caseamultiplicativeexpressiontail tudresden ocl parser node amultiplicativeexpressiontail
see org argouml cognitive todoitem deselect
there comment saying that below has no cycles but classycle thinks there 's cycle here too so believe there really one tfm org argouml uml cognitive critics
just completed first step where we make our choices first see if we have choice we always should so print rude message if we do n't
todo org argouml ui org argouml cognitive ui fails due to subpackages todo org argouml cognitive org argouml cognitive critics
see org argouml cognitive checklist checkitem expand java lang string java lang object
org argouml kernel org argouml uml diagram ui why does this fail \?
see javax swing plaf metal metaltheme getcontroltextfont
do nothing by design
todo different critic or special message classes that inherit all ops but define none of their own
obey contract ourselves
see org argouml uml cognitive critics cruml getcriticizeddesignmaterials
register all of event listener trackers
see org argouml ui clarifier setfig org tigris gef presentation fig
remove all of listeners
fire all of diagram events
success
fire all of generator events
no good trigger
fire all of help events
fire all of notation events
see org argouml cognitive critics critic getwizardclass org argouml cognitive todoitem
keep track of total events fired
keep track of which events fired
see org argouml uml cognitive critics abstractcrunconventionalname computesuggestion java lang string
initialize event listener trackers which verify that all of proper events fired
see org argouml cognitive poster stillvalid org argouml cognitive todoitem org argouml cognitive designer
display events fired on swing event thread we need to wait them to be dispatched note if more display events added to this test this one needs to be last
todo mvw think this has to be clone namefig figsinglelinetext clonefig but have not means to investigate since this code not yet used enable menu items copypaste to test btw in some other fignodemodelelement classes see same mistake
counts each bit that has been fired
resolvedcritic string list
resolvedcritic critic listset
interface realization will be created in client namespace client namespace
resolvedcritic critic listset boolean
testmc should now have itemuid so we should be able to create without adding new itemuid
verify isrelevant returns true
set enabled to false and check opposite condition
verify isrelevant not false
notsnoozedcm isrelevant checks if critic snoozed snooze critic to verify isrelevant returns false
unsnooze critic to verify critic not relevant
verify isrelevant true
verify isrelevant still false
isrelevant should now be true
private static final stereotypeview stereotypeviewmap static stereotypeviewmap new stereotypeview stereotypeview stereotypeviewmap diagramappearance stereotype view textual stereotypeview textual stereotypeviewmap diagramappearance stereotype view big icon stereotypeview big icon stereotypeviewmap diagramappearance stereotype view small icon stereotypeview small icon
isrelevant should still be true
see org argouml model umlhelper getdestination java lang object
initialize test data
initialize todolist
add todoitem
if current shortcut has been set but void then current shortcut not set then default value does not change
redundantly add item again which should be ignored
size should be since addition of second item would have been ignored
see org argouml cognitive ui wizard doaction int
retrieve item
see javax swing icon painticon java awt component java awt graphics int int
remove item
size should be since item removed
initialize goalmodel
if source of event uml object owner of this fig but not always only owner shown class also its attributes shown then uml model has been changed
change priority of unspecified goal so we can verify it updated
check that model correctly updates goal 's priority
test removal of goal
start desiring goal which should add goal and bump size to
number of goals should now be
see org argouml uml cognitive critics cruml predicate java lang object org argouml cognitive designer
umlsequencediagram seqdiag new umlsequencediagram
this test calls todolist addelement which requires model we able to get away with using mock model
checkassignidtoobject seqdiag true true
see org argouml uml diagram ui umldiagram propertychange java beans propertychangeevent
figedgenote has no uuid
cmd api
checkassignidtoobject fighistorystate true true
checkassignidtoobject figstate true true
todo this could just work off names in uml profile todo it does n't look like it matches what 's in uml spec
initialize decision object with parameters
we moused over object just as it deleted transient condition does n't require
verify parameters initialized correctly by constructor
no more we can do here on failure
set priority to different value
if we have only one return value and without type return param string we remove it
set name to different value
see org argouml cognitive critics critic initwizard org argouml cognitive ui wizard
following update priority should be equivalent to decision unspec
putnotationargument showassociationname getsettings isshowassociationnames
test that properties correctly initialized by constructor
see java awt component getminimumsize sets minimum size to
initialize checklist
verify size of list
trysave method results in save taking place in another thread if that completes without error projectbrowser exit method will be called which will actually exist system
text user has filled in textfield first checked to see if it 's valid multiplicity if so then that multiplicity to be set if not input rejected
test that category and description correct
create new list to test addall
add all of test items from first list
mmessage
verify size of new list
see java awt event actionlistener actionperformed java awt event actionevent
initialize checkliststatus
construct checkitem
see org argouml profile profile getprofileidentifier
reset values to something different
construct another checkitem
comments
test that properties correctly initialized
initialize snoozeorder
unsnooze and verify its been disabled
test with class in package
test with class and inner class
it quite possible that cause of problem has by now been deleted in which case we will throw exception if we try to change things catch this tidily
try with statediagram
nothing yet later maybe something like
put statemachine in namespace of class
test with package and class and activity diagram
end class projectmembermodel
name of this type of object
build activity diagram
attempt to save this project under new name
we no longer send individual events so next code obsolete
curdecisioncm isrelevant checks to see if critic has any decisions that have priority and less than priority of critic by default critic has no decisions so isrelevant should return false
we initialised java notation so let 's activate it
needed initialisations
see org argouml uml cognitive critics cruml predicate java lang object org argouml cognitive designer
set metaprofile as default profile
create dependency from project 's model to metaprofile
remove metaprofile from project 's profile configuration
save project into new file
adds all stereotypes defined at profiles applied to current namespace
setup user defined profile
try guarditerator syntax
assert that project 's model element that had dependency to metaprofile does n't get inconsistent
assert that project 's model elements that had dependency to uml profile java consistent
see org argouml cognitive ui wizard makepanel int
add it to project configuration
maybe uml has these as constants somewhere
create dependency between project 's model and user defined profile
see org argouml cognitive critics critic todoitem java lang object org argouml cognitive designer
save project
notation events fired on swing event thread we assume that serializing on final call sufficient
load project
remove user defined profile and directory where it
success expected exception
clean up after ourselves by deleting profile model
test both forms of addbaseclass
test remaining form of removebaseclass
junit begin
junit end
we put targets 'backwards' in history since first target in addedtargets array first one selected
sets value of element property tagged value this method makes sure that collection of values set if and only if property multivalued upper multiplicity value greater so passing collection safe see org argouml model extensionmechanismshelper setvalueoftag java lang object java lang object java lang object
see org argouml kernel abstractprojectmember gettype
flag to enable performance testing off by default
initialize model and profile subsystems to simulate fresh argouml session
not implementable in uml because property missing
sec
add one child
if target has changed notify third party listener if it exists and dispatch new element event listener to ourself otherwise dispatch target reasserted to ourself
performance testing parameters
enabledcm isrelevant checks if critic enabled initialize this to true to verify isrelevant returns true
add grandchild
check periodically to see if we 've exceeded time limit
convert string aaa bbb ccc into separate stereotype names aaa bbb ccc
add another child
tree created depth first so this should be at bottom
try some guarditerator errors
see if other copy just lucky shot
layout
see org argouml uml diagram ui umldiagram getowner
see junit framework testcase testcase string
make sure we have root model tagdefinitions to get put in
create tree of objects
only targets we did n't have allready count
copy package into package
extend but only between two use cases remember we draw from extension port to base port
change structure in package
see org argouml uml cognitive critics cruml predicate java lang object org argouml cognitive designer
verify copied package
verify copied class
verify copied nested package and copied interface
verify copied attribute
see if we can copy class right off
change things
see org tigris gef presentation fig getfillcolor
scale everything up
see org tigris gef presentation fig makeselection
assert that copy n't modified when source changes
see javax swing tree treemodel getroot
todo large lists this doing linear search of literally thousands of elements
see org argouml uml diagram layout layouter remove org argouml uml diagram layout layoutedobject
see if two copies look like copies of eachother
nothing editable since link takes its identity from association see org argouml uml diagram ui figedgemodelelement canedit org tigris gef presentation fig
see org argouml uml diagram ui fignodemodelelement initnotationproviders java lang object
see if we can copy datatype right off
this function will by design contain long lists of keys it might be tempting to shorten these by constructing them from parts but please then consider that we might loose possibility to build tools to statically check property files against this file
see if two copies look like copies of each other
see org argouml uml diagram ui umldiagram getdependentelement
see if we can copy interface right off
see org argouml uml diagram ui umldiagram isrelocationallowed java lang object
update existing tagged value on model element
verify all events fired correctly
see if we can copy package right off
see if we can copy stereotype right off
ignore non existent and empty names
expected
name already in list of those seen if not add it and go on round
permission
check to see if association still exists
see java awt event actionlistener actionperformed java awt event actionevent
expected illegalargumentexception seen
exception expected test success
specifies valid elements interface to contain
expected test success
create new arg list with different set of args but same types
if new encloser null and old one component then enclosed fig has been moved on diagram this causes model to be adapted as follows remove elementresidence between enclosed and oldencloser see org argouml ui argodiagram changefigencloser org tigris gef presentation fignode org tigris gef presentation fignode org tigris gef presentation fignode
not static
transition has name text box it contains event signature guard condition between action expression content of text box generated by its own notationprovider see org argouml uml diagram ui figedgemodelelement getnotationprovidertype
test passed
see org argouml uml diagram umlmutablegraphsupport isremovefromdiagramallowed collection
source one of referenced state 's path which has got new name
not uml
update text labels and listeners see org argouml uml diagram ui fignodemodelelement modelchanged java beans propertychangeevent
non existent in uml
specifies valid elements package to contain
place comment fig on nicest spot on diagram
not in uml
returns list
todo we do n't currently have any settings that can change on per fig basis so we can just use projectdiagram defaults settings new diagramsettings rendersettings
specifies valid elements region to contain
deleting stereotype should cascade to tagdefinition then taggedvalue
see org argouml uml diagram state ui figstatevertex initnotationproviders java lang object
must be called after setimplementation
enumerate fields
see org argouml uml diagram static structure layout classdiagramnode calculateweight
enumerate constructors
see org argouml uml diagram state ui figstate getinitialwidth
indicate that test validated
todo look up class in truth table
listen also to association of which link instantiation since we want to update rendering when association name changes see org argouml uml diagram ui figedgemodelelement updatelisteners java lang object java lang object
check superclass make sure this class does not extend or reference non argouml classes
valid elements stereotype to contain
enumerate methods enumerate method arguments
list of valid connections between elements connection type first and then elements to be connected
nif runtruthtest model getfacade isainteraction model getfacade interaction
nif untruthtest model getfacade isamethod model getmetatypes getmethod
end class wizmename
runtruthtest model getfacade isarelationship model getmetatypes getrelationship
specifies valid elements use case to contain
nif runtruthtest model getfacade isastructuralfeature model getmetatypes getstructuralfeature nif runtruthtest model getfacade isataggedvalue model getmetatypes gettaggedvalue
see org argouml uml diagram ui abstractactioncheckboxmenuitem valueoftarget java lang object
call methods that exists all objects and that always return something meaningful
specifies valid elements operation to contain
log log level fine getdata returning raster translatedraster
find create method in offical api
mmessage
now get factory implementation method to be invoked
here it another object sent to test
see org argouml uml diagram ui stereotypecontainer isstereotypevisible
see org argouml uml diagram ui fignodemodelelement updatestereotypetext
abstract
rule project root top level elements todo as currently implemented it returns all top level elements in model repository not just those in given project since we only support single project at time currently these equivalent but this will need to be enhanced with additional bookkeeping in project when we support multiple open projects tfm todo changed it to get roots from project it showing profiles that loaded but not applied to current project maurelio author tom morris
listen removeassociationevent between comment and annotated element when recieved delete commentedge and this figedgenote see org argouml uml diagram ui figedgemodelelement modelchanged java beans propertychangeevent
make sure we start off clean
see org argouml uml ui proppanel shouldbeenabled java lang object
association should have same namespace as from class
see org argouml uml diagram ui figedgemodelelement texteditstarted org tigris gef presentation figtext
only one end should be navigable
see tudresden ocl parser analysis depthfirstadapter outaintegerliteral tudresden ocl parser node aintegerliteral
usecaseinstance gone in uml unused by argouml
set up reader to be first filter in chain
set namespace so buildassocationrole works
end class wiznavigable
if we 're drawing to edge then only allow if start comment see org argouml uml diagram ui modecreategraphedge isconnectionvalid org tigris gef presentation fig org tigris gef presentation fig
end class crfinalsubclassed
build activity graph with single action state way gui would
end class crnameconflictac
this private method in model
end class crmultipleagg
handling methods that does n't return
see org argouml uml reveng importsettings getinputsourceencoding
handling isinitiated method
see org argouml ui guisettingstabinterface gettabkey
handling initialise method
see org argouml uml diagram ui figeditablecompartment getumlcollection
handle methods which return opaque objects
one of expected errors just ignore
see org argouml uml diagram ui abstractactionradiomenuitem togglevalueoftarget java lang object
could not find model
we should n't get here but just in case we want wide exception catcher to make sure our transaction always gets ended
handle uml metamodel which mof model
uml
see org argouml ui explorer relocatable isrelocationallowed java lang object
xmi
see org argouml uml ui abstractactionnavigate navigateto java lang object
uml
see org argouml model modelimplementation getcorehelper
xmi
only thing we need to deal with updating condition text see org argouml uml diagram ui figedgemodelelement modelchanged java beans propertychangeevent
only remap package if we did n't remap specific class
see org argouml uml diagram ui figedgemodelelement canedit org tigris gef presentation fig
few of our factories slightly different than as declared in uml metamodel so we remap them here
see org argouml kernel delayedvchangelistener delayedvetoablechange java beans propertychangeevent
packages to be remapped
see org argouml uml diagram ui figedgemodelelement getnotationprovidertype
subsystem has been removed from uml
try actions
see org tigris gef undo undoableaction isenabled
see org argouml uml ui behavior common behavior actionnewaction createaction
case
see org argouml uml diagram ui figedgemodelelement getnamefig
because uml metamodels organized differently we need to traverse hierarchy looking our owning package
see org argouml uml diagram ui figedgemodelelement updatelisteners java lang object java lang object
specific classes to be remapped remap put
see tudresden ocl parser analysis depthfirstadapter outarealliteral tudresden ocl parser node arealliteral
go other way to lookup element by path
see org argouml uml reveng importcommon isminimisefigschecked
see org argouml uml reveng importsettingsinternal isdescendselected
see org argouml uml reveng settingstypes booleanselection getdefaultvalue
see org argouml uml reveng importcommon isdescendselected
activitygraphs
wfr transitions omg uml
instance in uml and classifier abstract and not tested
see org argouml application api progressmonitor updatesubtask java lang string
extend include usecaseinstance extensionpoint not implemented
we return new list with options instead of options themself because we do n't want user to be able to change options see org argouml uml reveng settingstypes uniqueselection getoptions
reuse time event
do nothing
state concrete in uml but becomes abstract in uml so we never allow it to be created and do n't test creation
new initprofilesubsystem init
calling connect will add edge to graphmodel and any layerpersectives on that graphmodel will get edgeadded event and will add appropriate figedge determined by graphedgerenderer
this should work now that they both have names
if method not supported ignore failure
see org argouml uml ui umluserinterfacecomponent targetchanged
fine
see org argouml uml ui sourcepathcontroller setsourcepath org argouml uml ui sourcepathtablemodel
translate clip graphic to match region of interest
sequence diagrams not shown as children of collaboration that they show but as children of classifieroperation collaboration represents statediagrams and activitydiagrams shown as children of statemachine or activitygraph they belong to
see org argouml uml ui umlcombobox umlcombobox umlcomboboxmodel action boolean
commonbehaviorfactory datatypesfactory extensionmechanismsfactory modelmanagementfactory
see org argouml uml ui umluserinterfacecontainer formatcollection java util iterator
set up all parameters some methods invoked with primitives or collections so we need to create them accordingly
following should fail
and leave things unchanged
see org argouml uml ui umlexpressionmodel setexpression java lang object
constructor
see org argouml uml ui umluserinterfacecontainer getmodelelement
constructor param me object
everything fine
see org argouml ui tabtarget gettarget
reuse signal event
see org argouml uml ui umlmodelelementlistmodel buildpopup javax swing jpopupmenu int
reuse call event
see org argouml uml ui umlcheckbox buildmodel
try creating timeevent
try changing triggertype to changeevent
see org argouml ui targetmanager targettablemodelview gettargettablemodel
nested class
see org argouml ui targetmanager targetlistener targetadded org argouml ui targetmanager targetevent
no need to check any further if we fail st part
see org argouml uml ui abstractactionaddmodelelement getselected
start testing stuff
set storage id our repository so that mofids will be unique they composed as storageid serialnumber note storage manager only looks few property names such as storagefactoryclassname everything else needs to be prefixed with mdrstorageproperty which gets deleted from property name before it and its associated value copied to internal property table separate from system property table
try some errors
see org argouml uml ui umlplaintextdocument getproperty
transition use indirection through source statevertex
if we ca n't find model return outermost containing model element
see org argouml uml ui umlexpressionmodel newexpression
see org argouml uml ui behavior state machines actionnewevent createevent java lang object
see org tigris gef presentation fignode getportfig java lang object
see org argouml uml ui umlradiobuttonpanel buildmodel
see org argouml model modelimplementation getactivitygraphshelper
notation allows to add or modify things not remove hence this does nothing
end class crcircularinheritance
expected exception thrown
both diagram types shall show sequence numbers when requested
but collaboration diagram refuses to leave them out
see org argouml uml util namespace namespace popnamespaceelement
if message has name but no action then show name
see org argouml uml ui umlcomboboxmodel setselecteditem java lang object
if message has name and named operation then show operation
todo should there really be here \?
see org argouml model modeleventpump addclassmodeleventlistener java beans propertychangelistener java lang object java lang string
if message has name and named operation and empty script then show operation
see org argouml uml ui abstracttestactionadddiagram getnamespace
if message has name and named operation and named script with parameters then show script
see org argouml model modelimplementation getcopyhelper
todo why there space before here and not in case of operation name \?
see org argouml model modelimplementation getcommonbehaviorhelper
action still has argument from above
this not very useful transition
see org argouml model modelimplementation getvisibilitykind
mixed case
see org argouml uml util namespace namespace isempty
complex internal transition
see org argouml model modelimplementation getpseudostatekind
these not entryexitdo activities
long list of internals
see org argouml uml ui abstracttestactionadddiagram getaction
or should be \?
see org argouml notation providers notationprovider getparsinghelp
deleting it all
see org argouml model modelimplementation getmessagesort
if there no script then language should not be maintained
ret setisleaf false ret setisroot false
see org argouml model modeleventpump removemodeleventlistener java beans propertychangelistener java lang object java lang string
see org argouml model modelimplementation getumlfactory
see org argouml model modelimplementation getextensionmechanismsfactory
create file
see org argouml model modelimplementation getmodelmanagementhelper
this normal case
overridden purely to keep our superclass from removing listener that we just added see org argouml uml diagram ui figedgemodelelement updatelisteners java lang object java lang object
load project which contains links to it
test project readable files
see org argouml model modeleventpump addmodeleventlistener java beans propertychangelistener java lang object
standard uml profile
see org argouml model modeleventpump addmodeleventlistener java beans propertychangelistener java lang object java lang string
create default profile and record its contents
see java util collection containsall java util collection
write profile out to temp file
see org argouml cognitive ui wizard getnumsteps
read it back in to new empty project
specifies valid elements simplestate to contain
setting up dependent profile creation
see org argouml model collaborationshelper getallclassifierroles java lang object
actual call that executes everything
see org argouml model commonbehaviorhelper getsource java lang object
verifications
returns value of element 's property tagged value this method makes sure that collection of values returned if and only if property multivalued upper multiplicity value greater see org argouml model facade getvalueoftag java lang object java lang object
expected
see org argouml model visibilitykind getpackage
see org argouml model pseudostatekind getjunction
create profile model
see org argouml model directionkind getinparameter
see org argouml model pseudostatekind getshallowhistory
save profile into xmi file
see org argouml model copyhelper copy java lang object java lang object make copy of element in given namespace this function dispatcher that calls copyelement element namespace function from xxxfactory this function may fail and return null any of following reasons no copy function known element 's type copy function fails or throws param anelement element to copy param ans namespace return copy of element or null throws illegalargumentexception if element null
called during teardown
remove leftovers from other tests
there bug in version of mdr that we use that causes it to fail to delete aggregate elements which single valued and where aggregate end listed second in association defined in metamodel uml metamodel this affects statemachine 's top statevertex and transition 's guard see issue tfm
there seems to be cases where we do n't erase profile let 's make sure it deleted
namespace operation allcontents results in set containing all modelelements contained by namespace allcontents set modelelement allcontents self contents where contents self ownedelement union self namespace contents
euluis using windows style initial path do n't know if this fails in nixes
following from original nsuml implemenetation attempting to implement wfr from section of uml spec but if there owner set no namespace valid checks this wfr if desired need to go in setowner and settype tfm
ensure that model subsystem implementation does n't remember profiles by changing their names and directories
static accessors
but lookout it does n't work both ways
package operation allcontents results in set containing modelelements owned by or imported by package or one of its ancestors allcontents set modelelement allcontents self contents union self parent allcontents select elementownership visibility public or elementownership visibility protected where required operations defined as operation contents results in set containing modelelements owned by or imported by package contents set modelelement contents self ownedelement union self importedelement operation allimportedelements results in set containing modelelements imported by package or one of its parents allimportedelements set modelelement allimportedelements self importedelement union self parent oclastype package allimportedelements select re re elementimport visibility public or re elementimport visibility protected
assertequals defaultoclevaluator getinstance evaluate vt mi ocliskindof classifier true
on headless system without display this will crash
private jpanel propertypane
contains instances of each modelelement used testing so that we only use each modelelement once
next restrictions abstraction seem to be argo specific not something uml spec requires tfm there no need these because they ar n't used by buildconnection abstraction class org eclipse uml uml class class org eclipse uml uml class class null abstraction class org eclipse uml uml package class org eclipse uml uml package class null abstraction class component class interface class null
propertypane tabprops
currently this in this try block as it does not work propertypanel always has size
make sure this test happens on awt event thread
jpanel docpane pane gettab tabdocumentation class
target list empty re emptying it again should not generate any events
new target of type object refresh should not be called
see org tigris swidgets orientable setorientation orientation
new target fig refresh should be called
see java util list add int java lang object
setting one target should generate one event
new target of type umlclassdiagram refresh should not be called
handles all children of relationship including extend and include which not members of core
todo we could check that contents of files differ
note if we switch to persistent repository like tree repository we 'll want to keep old extent around
new target modelelement refresh should not be called
testing with subset of targets
set same target again should not generate new events
tabprops gets selected so nd time right
adding same targets list again should not generate new events
see org tigris gef presentation fig setfillcolor java awt color
adding same target again should not generate new events
end class crinterfaceoperonly
reverse order
check more literals separated
now remove one target by setting subset
if destination datatype then reject
ignore if directory does not exist this error will throw when running from ant setup
note we have to do this due to leftovers from other tests being causing strange errors when running in eclipse
all tests should consider threshold as inclusive value
normally extent should exist already but in case of making empty project we may not have extent yet so create default extent
this test bit stupid but nevertheless
offenders
remove first prefix because it may be archive like magicdraw
everything ok
org argouml notation providers fails because sub packages fail \? org argouml notation providers java org argouml notation providers uml org argouml notation fails because sub packages fail \? org argouml notation ui
same name different classes everything ok
user dropactions ctrl shift action link ctrl action copy shift action move none action move
offenders
testcase drag something from another application into argouml and explorer shows drop icon instead of nodrop
no offenders
generalizations not required to have unique names within namespace
and remember where we about to draw new ghost image
all use cases and actors require associations hence all predicates evalulate to true
see org argouml uml ui sourcepathcontroller getsourcepathsettings
build association build association between actor and top use case
see java awt event mouselistener mousereleased java awt event mouseevent
note this listener needs to always be active even if this tab n't visible
see java util list set int java lang object
arbitrary settings not used used testing
see java util collection addall java util collection
see java util collection toarray java lang object
graph should stay same
build include it seems that parameters build include just other way round add include we do not need to have associtions on one
setup
see java util list sublist int int
real test
see java lang object hashcode this rather bad hash solution but with link equals object defined as below it not possible to do better
some arbitrary bounds and settings unused in test
make sure everything created gets deleted
see java awt event mouselistener mousereleased java awt event mouseevent
setup project due to its use in sourcepathtablemodel ctor
create class model element
see abstracttestactionadddiagram getvalidnamespaceclasses
see javax swing plaf metal metaltheme getsubtextfont
return package to use as namespace
disable event delivery during model load
restore original event policy not supported by mdr tfm mfactoryimpl seteventpolicy oldeventpolicy
make sure we always have default extent old extent will get deleted as part of creating new extent
assertnotnull actionsupplier getvalue action small icon
cont settarget elem
testing with more than one since it failed with manual test made
assertnotnull actionclient getvalue action small icon
following will bring up dialog box so ca n't be run headless actionclient actionperformed new actionevent this foo
refresh table when critique enableddisabled see java util observer update java util observable java lang object
create new empty project
inconclusive
add profile stereotype to class
add profile to project configuration
use transaction to avoid performance penalty of mdr 's autocommit mode
this works when running test from within eclipse apparently eclipse runs tests using class loader that has tests folder among url
disable buttons now since no selection has been made yet
create class in project model
check that tag definition returned by link umltagdefinitioncomboboxmodel getapplicabletagdefinitions object
if we 're setting handler enable about menu item by calling com apple eawt application reflectively
set screen layout to what user left it before or to reasonable defaults
instance variables
autoscroll interface following code borrowed from book java swing by robert eckstein marc loy dave wood paperback pages ed edition september o'reilly associates isbn relevant chapter of which can be found at
calcbounds
see javax swing tree treemodel getindexofchild java lang object java lang object
classifiers
constants
see java awt datatransfer transferable isdataflavorsupported java awt datatransfer dataflavor
case erase it
event handlers
treemodel implementation
case after
see tudresden ocl parser analysis depthfirstadapter casealiteralcollection tudresden ocl parser node aliteralcollection
we have path provided from build script
check localized parts
wait all model subsystem events to be delivered
wait all awt events to be dispatched and processed
see org tigris gef graph graphmodel getports java lang object
see org tigris gef graph mutablegraphmodel canaddedge java lang object
if save did not raise exception and name exists move name to name this correct backup file
see org tigris gef presentation fig getusetraprect
this null as until first stereotype declaration seen after that it non null
newop setownerscope op getownerscope not needed in case of operation
see tudresden ocl parser analysis depthfirstadapter casealetexpression tudresden ocl parser node aletexpression
model getextensionmechanismsfactory buildtaggedvalue tagname new string true model getfacade getroot umlobject
mclassifiers cannot be bag
see org argouml model modelimplementation getdatatypeshelper
read xsltstream into temporary file get url temp file openstream from url and wrap in streamsource
this function only sets color of divider line since that only visible part and can be used to make divider line invisible top region in composite state see org tigris gef presentation fig setlinecolor java awt color
if object does not have name than no problem
tree value isselected dont want colored background isexpanded isleaf row not important rendering hasfocus dont want focus rectangle
only work associatins
we need to find stereotype with name create and base class behavioralfeature in model if there none then we create one and put it there
redrawmanager unlock redrawer repairdamage
if this composite state not attached to statemachine it not toplevel composite state
if this association then there will be relevant information to fetch out of mode arguments if it not association then these will be passed forward harmlessly as null
find selected rows and make list of model elements that selected
treecellrenderer implementation
always fire changes in case something has changed in composition of taggedvalues collection
build up array list of heights of each labelcomponent pair heights of zero indicate proportional height
cmdpaste cmd new cmdpaste cmd doit
ignored highly unlikely and what would we do anyway \? log it
stereotypes applied to target mostly control which tds but see below other listeners too
overridden to make it possible to include statevertex in composite state see org tigris gef presentation fig setenclosingfig org tigris gef presentation fig
todo add referencevalue tagged values which have non primitive type
add decision but set critic priority to so isrelevant should still be false
because notation events get dispatched on swing event thread we need to use invokeandwait to make sure that we do n't return until they 've been delivered
parent element but it has no attributes or associations to check checkelementcopy
see tudresden ocl check types type navigateparameterizedquery java lang string tudresden ocl check types type
extra careful now not to keep any references to second argument
see javax swing table tablemodel iscelleditable int int
auto create return message call message
see tudresden ocl check types modelfacade getclassifier java lang string
get source of return message
get dest of return message
see tudresden ocl parser analysis depthfirstadapter caseafeaturecallparameters tudresden ocl parser node afeaturecallparameters
fig spf null fig dpf null fignode sfn null fignode dfn null
see tudresden ocl parser analysis depthfirstadapter caseaadditiveexpressiontail tudresden ocl parser node aadditiveexpressiontail
if event originated from window wglass pane consume event
see java lang throwable printstacktrace java io printwriter
add gui internal stuff gui internal stuff panes tabs menu items that part of gui subsystem class in org argouml ui package things that not part of gui like everything that has any knowledge about uml diagrams code generation reverse engineering creates and registers itself when that subsystem or module loaded
see tudresden ocl parser analysis depthfirstadapter caseapostfixexpressiontail tudresden ocl parser node apostfixexpressiontail
this perfectly normal and happens among other things within call to setdiagram below
iterate through tabbed panels to determine whether they should be enabled
tabs addtab translator localize dialog find tab name and location nameloctab
see java lang object clone
tablemodel settarget target table setmodel tablemodel
see tudresden ocl parser analysis depthfirstadapter outabooleanliteral tudresden ocl parser node abooleanliteral
if current shortcut has not been set then actual shortcut value default one
if user cancelled operation we do n't have to save anything
see java awt event windowlistener windowactivated java awt event windowevent
generate and register osxadapter passing methods we wish to use as delegates various com apple eawt applicationlistener methods
todo no links in uml
see tudresden ocl parser analysis depthfirstadapter caseaexpressionlistorrange tudresden ocl parser node aexpressionlistorrange
nothing we can do about veto so just ignore it
log log level fine result result theta theta math pi dx dx dy dy
event handling
see java awt event windowlistener windowclosing java awt event windowevent
fig accessors
see java awt event windowlistener windowdeactivated java awt event windowevent
uml object wrong end of edge
tests if enter pressed in bbodfield so we need to set target bounds see java awt event keylistener keytyped java awt event keyevent
we going to add ones still valid new ones in right sequence
see guisettingstabinterface handlesettingstabcancel
events
this safe because getname always returns string of some type
if new edge implements mouselistener interface it has to receive mousereleased event
user feedback
graphfactory implementation
adapted from selectionwbuttons from line calls helper method to avoid this edge disappearing if new source and dest same node
give up if we already on graph this bit inconistent with canaddnode above
see javax swing abstractaction abstractaction java lang string
link new extend relationship in to ends remember we draw from extension use case to base use case
next line does give user home back but this not compliant with how project uri works and therefore open and save project as give different starting directories string directory globals getlastdirectory
correct activator value
see java awt window dispose
although we 've historically written out doctype dtd does n't actually exist and this line will get stripped by uml file persister
see javax swing plaf metal metaltheme getsecondary
remember to change this if you change number of mes with source path settings
see java awt event mouselistener mouseentered java awt event mouseevent
put at right side of activation if needed
see java awt event mousemotionlistener mousemoved java awt event mouseevent
make sure there minimum gap above message being drawn
make sure there minimum gap below message being drawn
actions toolbar
see javax swing listcellrenderer getlistcellrenderercomponent javax swing jlist java lang object int boolean boolean
get region as first region in state if there no region in statemachine then create one
see org tigris gef graph mutablegraphmodel addedge java lang object
create layer
create renderer
if we 're not provided namespace then get it from diagram or root
force line width to since figgroup that contains stereotype may want to show border but we do n't
link previousnext reference of swimlanes according to order
catches mouseevent and calls mysingleclick and mydoubleclick if tab clicked which selected see java awt event mouselistener mouseclicked mouseevent
graphmodel implementation
make space clarifier vertical symmetry margin between text and border
mutablegraphmodel implementation
contructors
event processing
see org argouml model modelimplementation getstatemachinesfactory
fig accessors
see org tigris gef graph graphlistener edgeremoved org tigris gef graph graphevent
ca n't have connection between interfaces get 'other' end type
only work associations
use asize to build up minimum size start with size of name fig and build up
see org tigris gef graph graphedgerenderer getfigedgefor org tigris gef graph graphmodel org tigris gef base layer java lang object java util map
see javax swing event menulistener menudeselected javax swing event menuevent
our angle theta arctan oppositeadjacent because increases going down screen positive angles clockwise rather than counterclockwise
if we dest and call action create activation but do n't add it until height set
if we destination of create action create entire activation
if we target of destroy action figlifeline ends here and we add activation
if we source of return action activation ends here
see java util list remove int
we do nothing no call to parent
compares obj and obj sorting by user object type then name diagrams sorted first then packages then other types sorts by name within type groups nulls sorted first names see java util comparator compare java lang object java lang object
we do n't recalculate activations just move them
if classifier role it must return all related messages
comments from anywhere in model allowed
argument can be instanceof fig which we ignore
all other types of elements must be in this namespace
test that properties correctly initialized
this not correct location to set cursor commented out code illustrates calculation of coordinates see java awt dnd dragsourcelistener dragover java awt dnd dragsourcedragevent
no problem if this association role
we initialize coordinates
limit our retries in case its too hard to get free
we do nothing
do string compare of names of uml objects comparison case insensitive using primary strength collator in user 's locale see java util comparator compare java lang object java lang object
manage if cursor less than lastx
see javax swing event listselectionlistener valuechanged javax swing event listselectionevent
manage if cursor more than lastx
manage changes of direction
alternatively we could reduce height of fig by height of this one hidden compartment but that would not be possible width so we better return to minimal dimensions overall
have no direction yet
see org tigris gef base pathconv applyoffsetamount java awt point java awt point int java awt point
we move down or up messages that downward broom
we recalculate all activations
we draw cross
see org tigris gef presentation fig getminimumsize
we do n't let user move messages horizontally
see org argouml uml cognitive critics cruml predicate java lang object org argouml cognitive designer
if edge near bottom of classifier roles we enlarge all figclassifierroles in diagram
we need edge to be complete
initial left side of activation
see org argouml model modelimplementation getusecasesfactory
if coordinate inside head must be in border of headfig
see org tigris gef presentation figgroup addfig fig
see java awt dnd droptargetlistener dropactionchanged java awt dnd droptargetdragevent
see org tigris gef presentation fig setboundsimpl int int int int override setbounds to keep shapes looking right
use different notation as messages on collaboration diagram
see org tigris gef presentation fig setfilled boolean
operations
see org tigris gef graph graphlistener nodeadded org tigris gef graph graphevent
todo add logging but this will never happen and handled
if possible we determine this by checking destination and source figs same if this not possible because edge not yet connected then we check model
we update activations
see org tigris gef presentation fig setboundsimpl int int int int
this call seems not very robust yet to determine cause
override setbounds to keep shapes looking right classifier and state figs nicely centered vertically and stretched out over full width to allow easy selection with mouse fig can only be shrunk to half its original size so that it not reducible to few pixels only see org tigris gef presentation fig setboundsimpl int int int int
this constructor needed pgmlstackparser to load saved diagrams it does nothing because pgmlstackparser will call setpoints later
todo support commentedges todo support associations to self see java awt event actionlistener actionperformed java awt event actionevent
vertical resizing
set up target and its model element variant
return true if given object valid edge in this graph see org tigris gef graph mutablegraphmodel canaddedge java lang object
return all ports on node or edge see org tigris gef graph graphmodel getports java lang object
return all edges going to given port see org tigris gef graph graphmodel getinedges java lang object
there no regions so create one and place vertex there
see javax swing table tablemodel setvalueat java lang object int int
see org argouml uml diagram ui fignodemodelelement removefromdiagramimpl
insets new insets
see org tigris gef graph graphnoderenderer getfignodefor org tigris gef graph graphmodel org tigris gef base layer java lang object java util map
see org argouml uml ui sourcepathcontroller getallmodelelementswithsourcepath
in this event we do nothing only stop drawing broom
return true if two given ports can be connected by kind of edge to be determined by ports see org tigris gef graph mutablegraphmodel canconnect java lang object java lang object
remember current message paths
reposition and resize nodes
do nothing
now reposition messages based on their original position
compute initial center position of cr
name of meta type class name after last and before next or end of class name
horizontal resizing
compute final center position of cr
create graph model
position of new cr should match existing crs position
see org tigris gef graph basegraphmodel getowner java lang object
init sequence diagrams from module
debugging and looking at fig headfig figs currtext can see that it 's working but how to test it \?
operations that work on elements
see org tigris gef graph graphmodel getinedges java lang object
operations that work on classes of objects
box compartments somewhere inside outside bounds
see org tigris gef graph mutablegraphmodel canconnect java lang object java lang object
object getimportedpackage object element
object getincludingcase object handle
javadoc reviewed above this point tfm
object getimportingnamespace object element
override setbounds to keep shapes looking right see org tigris gef presentation fig setboundsimpl int int int int
object createstereotype
adiagramelementproperty delegate methods
see org omg uml diagraminterchange adiagramelementproperty add org omg uml diagraminterchange diagramelement org omg uml diagraminterchange property
see org omg uml diagraminterchange adiagramelementproperty exists org omg uml diagraminterchange diagramelement org omg uml diagraminterchange property
easy interface to properties
just swap order of arguments to get to new form
here follows interfaces that contain enums of different kinds in uml meta model
flow not in uml do n't implement
additional support tagged values
see java awt event actionlistener actionperformed java awt event actionevent
see tudresden ocl parser analysis depthfirstadapter casealistexpressionlistorrangetail tudresden ocl parser node alistexpressionlistorrangetail
public methods
end class uuidmanager
see java awt dnd droptargetlistener dragexit java awt dnd droptargetevent
write out something us to read back in
now read it and check results
see org tigris gef presentation fig isselectable
silently ignore anything specified by caller attempt to continue
create empty file and try to read it
if user double clicks on any part of this fignode pass it down to one of internal figs this allows user to initiate direct text editing see java awt event mouselistener mouseclicked java awt event mouseevent
depends on implementation
verify that equivalence test works
maybe next test going to change in future
todo
netbeans saxparser sets line number and column number to
xerces saxparser sets line number and column number to
updates modelelement container if fig moved in or out another fig if this fig does n't have enclosing fig anymore namespace of diagram will be owning modelelement if this fig moved inside another fignodemodelelement owner of that fignodemodelelement will be owning modelelement see org tigris gef presentation fignode setenclosingfig org tigris gef presentation fig
not true in general but should be true our test models
todo
necessary since gef contains some errors regarding hit subject see org tigris gef presentation fig hit rectangle
if region changed to another region then we make sure that delete event not fired as result non nls
need to 'arm' rerouting capability with mousedragged do n't arm if edtior 's current mode figedge create mode because once new edge has been created it not deselected therefore on next create unwanted reroute performed see java awt event mousemotionlistener mousedragged java awt event mouseevent
see org tigris gef base selectionbuttons getnewnode int
makes sure that edges stick to outline of fig see org tigris gef presentation fig getgravitypoints
in uml message could have action in uml it never does
see java beans propertychangelistener propertychange java beans propertychangeevent
no body found
see javax swing listcellrenderer getlistcellrenderercomponent javax swing jlist java lang object int boolean boolean
oops we already have body
return handle stringvalue
see java awt event mouselistener mouseclicked java awt event mouseevent
public collection getextendedelements object handle
see javax swing text document render runnable
perform recursive search of subtree rooted at 'node' selecting all nodes which have userobject matching one of our targets
gone from uml throw new notimplementedexception
get all relationships that this model element has and filter everything that not import
ca n't be done in general case of federated repositories but at least get what we can find current resource set
should be element not eobject really
see org argouml kernel delayedvchangelistener delayedvetoablechange java beans propertychangeevent
classifier powertype
todo signal receptions association not navigable in this direction
usage differs from uml
transitions can have multiple triggers now
gone in uml
see javax swing tree treecellrenderer gettreecellrenderercomponent javax swing jtree java lang object boolean boolean boolean int boolean
actionstate callstate and subactivitystate have been replaced in uml by explicitly modeled actions
see java awt event actionlistener actionperformed java awt event actionevent
todo double check tfm
this method overridden in order to ignore change of coordinate during dragging see org tigris gef presentation fignode supertranslate int int
todo gone in uml
see propertychangelistener propertychange propertychangeevent
todo gone in uml
we have already confirmed connection valid
mdr classes may have uml or uml prefix which should be removed
todo double check tfm
below uml compatibility
todo changed uml
has stereotype
action handle get
here we actually violating test independance since we keep detailspane from test to test reason to do this to make it possible to run tests with less memory requirements hopefully someone might eventually fix detailspane so that it garbage collected properly and this no longer needed see junit framework testcase setup
not in uml
ok so that did n't work out just ignore any problems and do n't set name in constraint body better had log it
even though this not relevant uml we have code calling this that expects it uml and we must handle it gracefully
return redefinableelement handle isroot todo one part of uml spec says that this as above but it appears to be gone tfm
all of applicationlistener methods void return null regardless of what happens
place in middle of line and ensure line dashed add arrow with open arrow head remember that extends relationship arrow points to base use case but because of way we draw it that still destination end
lifeline setrepresents prop
see org argouml cognitive critics critic initwizard org argouml cognitive ui wizard
associationend now property owned by association
see org argouml uml ui umlcomboboxmodel addelement java lang object
throw new notimplementedexception this not uml element non nls
see java awt dnd droptargetlistener drop java awt dnd droptargetdropevent
jmenuitem cutitem edit add actioncut getinstance setmnemonic cutitem cut setaccelerator cutitem ctrlx jmenuitem copyitem edit add actioncopy getinstance setmnemonic copyitem copy setaccelerator copyitem ctrlc jmenuitem pasteitem edit add actionpaste getinstance setmnemonic pasteitem paste setaccelerator pasteitem ctrlv edit addseparator
see org tigris gef presentation fig getclosestpoint java awt point
todo exception has been removed uml just return signal now tfm
gone in uml just classifier now
only association end has aggregation option box
todo not really same thing but close
delete collaborationinstancesets where this last participatinginstance
name of meta type class name after last and before impl or end of class name
todo gone in uml return place holder now
source of transition choice
todo no separate syncstate in uml tfm
see org argouml ui clarifier settodoitem org argouml cognitive todoitem
actionsequence class
comment out when we ready to release undoredo jmenuitem undoitem edit add projectactions getinstance getundoaction setmnemonic undoitem undo shortcutmgr assignaccelerator undoitem shortcutmgr action undo jmenuitem redoitem edit add projectactions getinstance getredoaction setmnemonic redoitem redo shortcutmgr assignaccelerator redoitem shortcutmgr action redo edit addseparator
classifierinstate class
find target in project browser we can only do anything if its use case
argument class
close window shortcut alt actually ca n't be registered as shortcut because it closes configuration dialog
attributelink class
access should be fast
detach any edges such as comment edges already attached to figassociation before figassociation removed they 'll later be re attached to new fignodeassociation
iteration should be fast
literalspecification
only reset text if two not same fig has moved rather than we 've just edited text when settargetbbox will have made them same note that stylebounds could be null so we do test this way round
eventtype notification remove
begin andromda code
implements commandstack
not in uml or metatypes type additem predicatemtype create model getmetatypes getactivitygraph
list add opaqueexpression
subtract offset of click to take account of user having not initially clicked in centre
literalspecification list add literalnull when other ok
if default action voided then we have to save it
list add literalinteger when other ok
if edge from circle to circle between use cases we have our own implementation overriding gef which attempts to keep edges perpendicular if edge already close to perpendicular
list add literalunlimitednatural when other ok
list add instancevalue
return node or edge that owns given port see org tigris gef graph basegraphmodel getowner java lang object
todo else exception
delete messages which have this as sender or receiver
ca n't be changed
rewrite it after change setexpression \?
as write in uml specification we have size bodies size langs we must have tabvalues length
ca n't be set
see org netbeans lib jmi xmi xmicontext getreference java lang string java lang string
suggest that actors may not connect see javadoc comment about this
link assocation in uml
we need method operation implementation to store method body
arg version of this method depends on this ordering do n't change it
maybe this operation already has method that fits our purpose \? in this case try to reuse it instead of creating new implementation
checkstyle off ignore too many parameters since api fixed by mdr
check if we have to create new implementation
create new implementation
this will contain figs that we do not need anymore
and set specification to current operation
add it to operation 's methods
look if there 's already java implementation
job done
todo get default output directory from user settings project projectmanager getmanager getcurrentproject getprojectsettings setgenerationoutputdir path
it seems there no implementation of our current target language so we just add one
compare path of two elements in reverse order inner to outer using primary strength text collator this will collate together but not eliminate non identical strings which collate in same place return equivalent of list compareto list
we cannot set body of this model element type
removed from uml
see guisettingstabinterface handlesettingstabrefresh
also parse or etc
warning this has containment side effects eclipse uml will move property from classifier to association when navigability changed
param item todo item param reason reason todo use it return true if argument component of this list false otherwise throws unresolvableexception unable to resolve
non nls non nls
uml only
machine state has got new name
where there more than one supplier or client take first element in each case there really ought to be check that there some here safety
other xmi files with further namespaces
boundary box as held in target fig and as listed in boundary box style field null if we do n't have anything valid
eclipse namespaces
uml files in eclipse jar files we need this
only add mof elements not primitive datatypes
todo verify this iiuc then this triggers compountstatefig to draw itself correctly hence there reason to wait this long to make state concurrent
notation events likely to cause gefswing operations so we dispatch them on swing event thread as convenience so that receiving notationchanged methods do n't need to deal with it
we clear save required flag on swing event thread in hopes that it gets done after any other background work listener updates that being done there
not needed currently uml
make result inmediately visible in case of apply
error that can be corrected by user so no stack trace but instead explanation and hint how to fix
create proxy object around this handler that can be reflectively added as apple applicationlistener
there various details panes all of which could hold different tabs pages according to users settings place each pane in required border area
final object scope
remove old project first it 's wasteful to create temp empty project but too much of argouml depends on having current project
targetlistener methods implemented so notified when selected diagram changes used to update window title
nothing to do
mvw indeed intention of constructor parameter to prove that there valid uml object to bind notation to so next statement should fail on null parameter and on anything that not object of which we can retrieve multiplicity
see org argouml model umlhelper getsource java lang object
prptodo createproperty label todo pane positions tabtodo class prpproperties createproperty label properties pane positions tabprops class prpdocumentation createproperty label documentation pane positions tabdocumentation class prpstyle createproperty label style pane positions tabstyle class prpsource createproperty label source pane positions tabsrc class prpconstraints createproperty label constraints pane positions tabconstraints class prptaggedvalues createproperty label tagged values pane positions tabtaggedvalues class property propertylist new property prptodo prpproperties prpdocumentation prpstyle prpsource prpconstraints prptaggedvalues arrays sort propertylist top add new jscrollpane new propertytable propertylist panecolumnheader positioncolumnheader borderlayout center
initialize module loader at least plug ins that provide profiles need to be initialized before project loaded because some of these profile may have been set as default profiles and need to be applied to project as soon as it has been created or loaded first instance of project needed during gui initialization
create anonymous class as kind of adaptor cognitive system to provide proper translationi
in uml we model method as behavior initially opaquebehavior
extent ignored euml implementation required netbeans mdr
add listener to get notified when active diagram changes
we need to verify that ns package if not find its parent package otherwise this causes exception when creating sequence diagram classifierrole
see org argouml model extensionmechanismshelper getcommontaggedvaluetypes
see java beans propertychangelistener propertychange java beans propertychangeevent
also apply subprofiles
see org argouml profile internal ocl modelinterpreter invokefeature java util map java lang object java lang string java lang string java lang object
eliminate classifiers which already have unnamed role
this needs to iterate to fill entire output raster if implemented return image copydata outraster
now let 's check if new line already present in old list of internal transitions if it then mark old one to be retained do not create new one if it n't continue with parsing
we only need to add classloader once and if and only if there at least profile in jar
commontaggedvaluetypes add org eclipse uml uml resource umlresource
remove base class by destroying extension
consider property multiplicity
no state with given name found so we have to reject complete user 's input
or getdefaultvaluefor prop \?
search all attributes found to those expected if any do n't match then turn off found flag so that we search next matching tag
too bad we choose to take first value
ready to set value finally
todo isstatic in uml
in case of tagged value type should n't be set here
also unapply subprofiles
also define subprofiles
associationrole class classifierrole class
constraint
because we 're listening stereotypes being added and removed but we 're really interested in their owned tag definitions default implementation wo n't work us
link class instance class transition class statevertex class
message class classifierrole class
end class startcritics
note uml aggregation ends swapped
in uml subsystem component with stereotype so this must occur after metatypes getcomponent case
initialized in static initializer block below
find passed in container in validcontainmentmap
determine if metatype valid element container
this double 'for' loop may be optimised as follows use arrays in stead of set bases have second loop start from element after base but chose not to do this since gain small and this only used lazily filled combo btw this also used by notation
see org tigris gef graph graphfactory makeedge
this class represents all diagrams within argouml it based upon gef diagram it adds namespace and capability to delete itself when its namespace deleted todo mvw am not sure of following namespace of diagram used when creating new elements that shown on diagram they will have their namespace set according this it not necessarily equal to owner mvw doubt all following namespace of diagram used to register listener to uml model to be notified if this element removed which will imply that this diagram has to be deleted too hence namespace of collaboration diagram should be represented classifier or in case of represented operation classifier that owns this operation and namespace of statechart diagram should be namespace of its statemachine
constructor link figclass during file load parent link org argouml uml diagram ui fignodemodelelement will have created main box link getbigport and its name link getnamefig and stereotype link getstereotypefig this constructor creates box attributes and operations properties of all these graphic elements adjusted appropriately main boxes all filled and have outlines todo which wrong since bigport filled too param element model element to be represented by this fig param bounds rectangle describing bounds param settings rendering settings
valid elements profile to contain
see org tigris gef base selection draghandle int int int int org tigris gef presentation handle
specifies valid elements class to contain
specifies valid elements classifier to contain
specifies valid elements signal to contain
specifies valid elements actor to contain
specifies valid elements component to contain
see org tigris gef presentation fig removefromdiagram
specifies valid elements node to contain
test case above code draw class create stereotype it by clicking on prop panel tool and name it remove class from diagram drag class from explorer on diagram select stereotype in explorer and change its name in prop panel to something longer longer name does not make class fig wider unless above code added
if there n't rd column then this represents connection of elements of same type
if there rd column then this represents connection of between different types of element
see org tigris gef presentation fig damage
if array has n't been flagged to indicate otherwise swap elements elemnts and add again
specifies valid elements datatype to contain
see guisettingstabinterface handlesettingstabsave
valid elements action to contain
trying to get built in standard profile from eclipse uml
removed from uml
start interception ui interactions
perhaps something like following would workd if not then traverse up component hierarchy to multeditorpane rectangle drawingarea globals cureditor getjcomponent getvisiblerect
only interested in ownedelement property either something has been added to namespace this model or removed in latter case something will be in old value of property which collection of owned elements and new value will be element import describing model element and model from which it removed
roll back transaction to remove any partial results read
methods that implement mutablegraphmodel interface
if we can find nested sax exception it will have information on line number etc
see org tigris gef presentation fig setlayer org tigris gef base layer
ignore if extent never got created or has been deleted
pce propertychangeevent rxdevent getsource asserttrue wrong event name pce getpropertyname equals diagramappearance key default shadow width getkey string value string pce getoldvalue int integer parseint value asserttrue wrong old event value asserttrue wrong new event value string pce getnewvalue equals
inputsource xformedinput chainedtransform transformfiles pis
todo next text copied to adapt sets target if old target uml element it also removes model from element listener list of target if new target uml element model added as element listener to new target this function called when user changes target hence this shall not result in any uml model changes this function looks lot like one in umlcomboboxmodel as possible future extension we could allow listening to other model elements param thenewtarget new target
see org argouml model xmireader getxmiuuidtoobjectmap
this comment included in previous version before of test which had this assertion commented out interaction should not be removed when removing classifierrole maybe if last message removed from interaction but even then it 's doubtfull since it will probably lead to backward compatibility problems in save formats but my reading of uml specification that interaction without at least one message definitely illegal so mdr doing right thing by removing it in this case where we only have single message which then gets deleted tfm
set up source style sheet
create set up temporary output file
in uml there no metaclass named method but we use 'method' association of behavioralfeature
if action comes in with no modifiers it pure keyboard event spacebar so do it anything else probably mouse event so ignore it mouse events dealt with by mousepressed instead see bottom of page
create filter each style sheet and chain to previous filterreader
jcontentpane add getjchbbold gridbagconstraints jcontentpane add getjchbitalic gridbagconstraints
create transformer and do transformation
set up next iteration
we presume stream encoded using default char encoding
delete old extent first
log log level warning unable to find extent extent
connect to repository
find and add all subdirectories
create extent and read in our metamodel model
create and start event pump first so it 's available all others
see org argouml model modelimplementation getdiagraminterchangemodel
see javax swing table tablemodel setvalueat java lang object int int
see org argouml model modelimplementation getfacade
see javax swing table tablemodel getcolumnname int
see org argouml model modelimplementation getmodeleventpump
see org argouml model modelimplementation getdirectionkind
see org argouml model modelimplementation getactivitygraphsfactory
default puts icons too close together
if name too long or multi line comments then we reduce to first line or chars
if we 've got streaming input copy it to make sure we 'll be able to rewind it if necessary
to rupdate diagram set stimulus name again todo explain that this really works also in mdr case linus sceptic
if uml file attempt to upgrade it to uml
save project at slightly lower priority to keep ui responsive
roll back transaction from first attempt start new one
clear associated id maps reset starting collection
see javax swing table tablemodel getcolumncount
datatypes next so it 's available kinds modelmanagement extensions
initialize remaining factories and helpers but defer heavyweight ones until needed
end class crdisambigstatename
create default extent user uml model this will get replaced if new model read in from xmi file
see org argouml model modelimplementation getcollaborationsfactory
see org argouml model modelimplementation getorderingkind
see javax swing event treeselectionlistener valuechanged javax swing event treeselectionevent
see org argouml model modelimplementation getcorefactory
as long as they n't both null or really rare identical string pointer
see org argouml model modelimplementation getdatatypesfactory
saveposition prptodo tabtodo class saveposition prpproperties tabprops class saveposition prpdocumentation tabdocumentation class saveposition prpstyle tabstyle class saveposition prpsource tabsrc class saveposition prpconstraints tabconstraints class saveposition prptaggedvalues tabtaggedvalues class
alphabetic order
see org argouml model modelimplementation getmodelmanagementfactory
see javax swing abstractlistmodel fireintervalremoved object int int
see javax swing table tablemodel getvalueat int int
see org argouml model modelimplementation getstatemachineshelper
see org argouml model modelimplementation getumlhelper
see org argouml model modelimplementation getusecaseshelper
see org argouml model modelimplementation getchangeablekind
see org argouml model modelimplementation getaggregationkind
see org argouml model modelimplementation getscopekind
see org tigris gef presentation fignode hitport int int
see org argouml model modelimplementation getconcurrencykind
see javax swing table tablemodel getrowcount
elements created after file load wo n't have index entries
private constructor common work needed by both public constructors
end our transaction
see javax swing plaf metal metaltheme getwindowtitlefont
see org argouml model extensionmechanismshelper getallpossiblestereotypes java util collection java lang object
end class crinvalidsynch
there nothing to do in uml
loadposition prptodo tabtodo class loadposition prpproperties tabprops class loadposition prpdocumentation tabdocumentation class loadposition prpstyle tabstyle class loadposition prpsource tabsrc class loadposition prpconstraints tabconstraints class loadposition prptaggedvalues tabtaggedvalues class
forbid instantiation
loop through all ends comparing name against those already seen ignoring any with no name no problem if there no connections defined we will fall through immediately
if this not overridden it will revert to old behavior all internal subclasses have been updated but this if compatibility of non argouml extensions
see org argouml model metatypes getabstraction
delete stimulii which have this as their dispatchaction
delete messages which have this as their action
override paint so we can set flag first time we 're called and notify any waiting threads that splash screen has been painted see java awt component paint java awt graphics
delete linkends
create event other end of association
delete attributelinks where this value
ask to be notified of any changes to tagdefinitions so that we can track new ones name changes etc
binary link
see java awt datatransfer transferable gettransferdataflavors
delete all sendactions which have this as signal
and change event that end
delete all signalevents which have this as signal
these steps only needed cases indicated with below
see javax swing plaf metal metaltheme getsecondary
text stored in name in uml
will always be null
delete interactioninstancesets where this last participatingstimulus
to be able to remove dep 's later
updates button if current row changes see javax swing event tablemodellistener tablechanged javax swing event tablemodelevent
this does n't support or multiple states but it 's just default
partitions composite elements and will get deleted implicitly partition contents do n't need to be deleted or checked
specifies valid elements enumeration to contain
see org netbeans api xmi xmireferenceprovider getreference javax jmi reflect refobject
well formedness rule compositestate there have to be at least two composite substates in concurrent composite state if this broken by deletion of substate then we delete other remaining substates
look existing reference matching our mofid
only add all if there some to add
probably redundant just in case
helper interfaces and methods
see javax swing tree treenode isleaf
checkstyle on
specifies valid elements associationrole to contain
shorthand notation convenience
quick exit if it 's transaction event we get lot of them and they all ignored
interactioninstancesets will get deleted automatically because they associated by composition
see javax swing plaf metal metaltheme getsecondary
if this only message contained in interaction we delete interaction
object from different file register with superclass so it can resolve all references
if model url has suffix of zip' or jar' get suffix without it and store it in urlmap
several tries to construct url that really exists
if systemid publicid previously mapped from systemid try to use systemid
see javax swing abstractlistmodel fireintervaladded object int int
try to find suffix in module list
see javax swing comboboxmodel getselecteditem
search classpath
ignored we only care about openclosing
give up and let superclass deal with it
todo probably really want to cancel editing figtexteditor focusowner cancelediting
we 've got profile read pending handle it ourselves now
see javax swing comboboxmodel setselecteditem java lang object
should n't happen
see javax swing table tablemodel getcolumnclass int
otherwise if it 's not something we 've already read just punt to super class
unfortunately mdr super implementation throws debugexception with just message from causing exception rather than nesting exception itself so we do n't have all information we 'd like
specifies valid elements callstate to contain
specifies valid elements actionstate to contain
transition use indirection through target statevertex
todo we do n't have any settings that can change per fig currently so we can just use default settings settings new diagramsettings rendersettings
get all uml metaclasses
see org tigris gef ui istatusbar showstatus java lang string
object args typename elemname misc name element import imported return translator localize misc name element import args
although this only handles one level of package it ok uml because of clustering get right uml package in extent
return metatype proxy
we must find out if activator itself does not have message as it 's activator
called when user has pressed cancel performs cancel in all tabs
activator ca n't also be predecessor of message
association can only have single unnamed classifierrole so
if we unnamed eliminate all classifiers which already base of some role
wfr
no initialization currently
context instanceof collaboration context instanceof model
see org netbeans lib jmi xmi xmiheaderprovider writeheader java io writer
see java beans propertychangelistener propertychange propertychangeevent
note provided us
not implemented in mdr
if user selects action that already selected in sticky mode double clicked then we turn off sticky mode and make sure no action selected
see org argouml model abstractmodeleventpump addmodeleventlistener java beans propertychangelistener java lang object
see org argouml model abstractmodeleventpump removemodeleventlistener java beans propertychangelistener java lang object
see org argouml model abstractmodeleventpump addclassmodeleventlistener java beans propertychangelistener java lang object java lang string
clean up index entries
see javax swing text document gettext int int
see java beans propertychangelistener propertychange java beans propertychangeevent
create change event corresponding property
see org tigris swidgets orientable setorientation org tigris swidgets orientation
empty implementation we only care about keytyped
no longer abstract to allow subclasses to remove so we provide null default implementation
return all edges going from given port see org tigris gef graph graphmodel getoutedges java lang object
create change event associated property
see javax swing text document getdefaultrootelement
cut down on debugging noise
see javax swing listcellrenderer getlistcellrenderercomponent javax swing jlist java lang object int boolean boolean
unregister deleted instances after all events have been delivered
if we do n't have fig this uml object we 'll need to add one we set bounds but they will be reset later
any given listener only called once even if it registered multiple relevant matches
this will include all subtypes registered
log isdebugenabled
put all bits together suppressing bounds calculations until we 're all done efficiency
debugging you probably want either this or logging every event which fired not both
this enforces following well formedness rule well formedness rule compositestate there have to be at least two composite substates in concurrent composite state if this broken by deletion of substate then we change parent composite substate to be not concurrent
log isdebugenabled
todo need named tags and constraints compartments here addfig tagsfig addfig constraintsfig
fetch key before going in synchronized mode
log log level fine class name has subtypes names get name
temporary start private static final color color array color red color blue color cyan color yellow color green private int nextcolor temporary end
convert classname to refobject
if we do n't have mofclass see if we can get one from instance
if we still do n't have mofclass something 's wrong
throw new illegalargumentexception property attribute does n't exist in metamodel
save model current
if operationreception abstract then text will be set to italics
see org argouml model changeablekind getaddonly
lookup primary key creating new entry if needed
see javax swing text document getlength
if there no subkeys register using our special value to indicate that this primary key only registration
see java beans vetoablechangelistener vetoablechange java beans propertychangeevent
create new tagdefinition if none found
clear target so that multiple copies have no effect other than inefficiency
todo add tags constraints addmenu add targetmanager getinstance getaddattributeaction addmenu add targetmanager getinstance getaddoperationaction
delete all taggedvalues with this type
used by copy functions do not call this function directly param source stereotype to copy from param target object becoming copy
element
todo check name validity
effect will get deleted automatically by mdr unlike guard
although usage permission dependencies they need to be include separately because of way lookup works
following specifically realizations
see abstractaction actionperformed actionevent
next restrictions abstraction seem to be argo specific not something uml spec requires tfm
see org argouml uml ui umluserinterfacecontainer formatelement java lang object
specifies valid elements model to contain
see org tigris gef presentation figedge setdestfignode org tigris gef presentation fignode
see org argouml uml diagram state ui figstate getinitialheight
ignored we just skipped inserting it in our document
specifies valid elements operation to contain
specifies valid elements event to contain
operation specificationpath results in set containing all surrounding namespaces that not instances of package specificationpath set namespace specificationpath self allsurroundingnamespaces select ocliskindof subsystem or ocliskindof class
update text labels see org argouml uml diagram ui fignodemodelelement modelchanged java beans propertychangeevent
see org argouml uml ui abstractactionnavigate navigateto java lang object
specifies valid elements state to contain
since this complex polygon there 's no easy way to resize it
see org argouml uml ui umluserinterfacecomponent targetreasserted
specifies valid elements subactivitystate to contain
last one needs extra space below it
remove commentedge if there more then one comment edges between objects then delete them all
supports implementation of some special elements not supported by buildnode
note although wfr in section usecase of uml spec says usecase cannot contain any classifiers ocl actually self contents isempty which would seem to imply it ca n't contain any elements tfm
list of namespaces to return
modelelement
get list of valid model item pairs given connection type
structuralfeature
if base not changed then only set name
begin transaction we 'll do bunch of reads first to collect set of elements to delete then delete them all
dependency
no else here to make sure classifier with its double inheritance goes ok
no else here to make sure associationclass goes ok
behavioralfeature
no else to handle multiple inheritance of linkobject
if we get this with repository locked it means our root model element already deleted nothing to do
our wrapped version of same error
additional operations in
if there no owned elements then return empty list
we do n't care about value just want to see if it throws
recurse into ourself each parent
if test fails this element should not be in result set
following should always be true
if we handed classifier to start this must be classifier
add given node to graph if valid see org tigris gef graph mutablegraphmodel addnode java lang object
we have to follow arrows
ns instanceof usecase see comment below
made following changes from ocl in uml section collaborationinstance collaborationinstanceset stimuli stimulus
see java awt event focuslistener focuslost java awt event focusevent
uml wfr no aggregation ary associations
get classifiers in namespace
next line needed so that we have right dimension when drawing this fig on diagram by pressing down mouse button even before releasing mouse button
profile special package having stereotype which can only contain following types
modelelement instanceof statemachine
profile special package having stereotype
only build namepace if needed with
methods that implement graphmodel itself
check whether model element contained in given namespacecontainer
return struc getowner getnamespace getownedelement contains struc gettype
override setbounds to keep shapes looking right see org tigris gef presentation fig setbounds int int int int
supplier oclastype generalizableelement allparents oclastype namespace ownedelement select elementownership visibility public includes participant or
supplier oclastype package allimportedelements select elementimport visibility public includes participant
get namespace hierarchy each element
traverse lists looking last innermost match
uml wfr
if we made something aggregate make sure other ends conform to uml wfr no more than one aggregate end
there actually do n't appear to be any restrictions on namespace generalization uml wfr refers to generalizableelements not generalizations tfm
all text stored in name field in uml
returns nothing
boolean string integer long float double etc
this method cpu intensive and therefore needs to be as efficient as possible
additional operations in
remove any elements not in requested namespace
parse boundary box text null returned if it empty or invalid which causes no change otherwise we tell gef we making change make change and tell gef we 've finished
select those features which behavioralfeatures
should these also be deleted \?
this silly but backward compatibility
todo this nd part of this method
wellformednessrules and preconditions
equal
update listeners to match desired set using minimal update facility
greater
less than
link does not exist in uml link represented just as association
binary association
delete linkends which have this as their associationend
delete attributelinks where this attribute
see org argouml model modelimplementation getmetatypes
delete createactions which have this as their instantiation
see org argouml uml ui actionsetmultiplicity setselecteditem java lang object java lang object
see org argouml model activitygraphshelper findclassifierbyname java lang object java lang string
methods that implement vetoablechangelistener interface
delete dependencies where this only supplier
delete callactions which have this as their operation
if we drop out there no clashes
delete callevents which have this as their operation
nothing more to do
see java util enumeration nextelement
consistency with attribute and operation give it default name and location
copy all features
see java util enumeration hasmoreelements
used by copy functions do not call this function directly todo template parameters default type todo constraining elements todo flows dependencies comments bindings contexts \? \? \? todo contents residences \? \? \? param source source me param target target me
namefig and stereotypefig handled by parent
nothing more to do do n't copy owned elements
see org tigris gef presentation figgroup hitfig java awt rectangle
copy raised signals
set name so that superclasses can find newly created element in model if necessary
search our current target language
note that if we 're copying this element then we must also be allowed to copy other necessary objects
do n't explicitly check if element null
unfortunately fig and it 's associated commentedge will not be fully initialized yet here if we 're being loaded from pgml file remainder of initialization will happen when set dest source fignode called from pgmlstackparser attachedges
return multiplicity empty string
convert to instead of
according wfr in case of activitygraph only
delete extends where this base
delete includes where this addition
test multipe items registered single key set
and its enumerationliterals
remove with null item should remove all entries key
see org tigris gef graph mutablegraphmodel addnode java lang object
if we get here then we did n't get default diagram
need to copy lists since we will be moving elements one by one
see org tigris gef util predicate predicate java lang object
deleting source here would probably delete parameters
advance currenty to where start of body box remembering that it overlaps next box by pixel calculate size of body box and update pointer past it if it displayed
only set name if it differs from text
get assocations and connections no problem there separate critic if this not binary association or association role
need to copy lists since we will be moving elements
this not necessarily current diagram
remove old fig from diagram so we can draw new one in its place
create new figtext instance based on given mouse down event and state of parent editor
movetotrash source
made following change from ocl in uml section collaborationinstance collaborationinstanceset
see org argouml model umlhelper deletecollection java util collection
elements which will be deleted when their container deleted do n't get added to list of elements to be deleted but we still want to traverse them looking other elements to be deleted
technically this legal but structuralfeature should probably only ever have owner instead of namespace tfm
enumerationliterals should get deleted implicitly since they associated by composition
uml only
list add literalreal uml end literalspecification
have we handled uml here \?
see java awt event actionlistener actionperformed java awt event actionevent
hypotheses no time expression only invariants
see javax swing abstractaction abstractaction
todo gone in uml it now instancespecification with association as its classifier
get all classifiers in all top level packages of all profiles
supplier oclastype namespace ownedelement select elementownership visibility public includes participant or
see java awt event actionlistener actionperformed java awt event actionevent
uml only
we got passed unmodifiable list copy it and sort result
see java awt event mouselistener mousereleased java awt event mouseevent
now resize all sub figs including not displayed figs start by name we override getminimumsize if it less than our view pixels hardcoded add in shared extra plus in this case correction
this does n't work in uml both owner and property needed
set up property panels uml elements
todo in uml classifierrole associationrole and associationendrole have been replaced by internal structure of collaboration
todo restructured in uml
delete stimuli which have this as sender or receiver
iterator call we should provide variables expression to be evaluated on each step lambda evaluator to evaluate it
todo unimplemented return property handle gets
figpoly located at right of name text namefig size increased so that it fits its text and figpoly next to text all within boundaries of namefig
if we do not set it to null first then we get mdr debugexception
see org argouml uml ui umlcomboboxmodel isvalidelement object
self allconnections forall self namespace allcontents includes participant
see org argouml uml ui umlcomboboxmodel buildmodellist
removed from uml and deprecated in model api so we wo n't implement it throw new notimplementedexception we do not throw exception because argouml still uses this
see javax swing comboboxmodel setselecteditem java lang object
warning when changing implementation of this method be warned that sequence of if then else tree does matter most notably do not move setnamespace method any level up in tree
this can throw exception if target has been deleted we do n't want to try locking repository because this called from event delivery thread and could cause deadlock instead catch exception and leave model empty
see org argouml uml ui umlmodelelementlistmodel buildmodellist
if child component resizable then we do n't know it 's actual size yet it will be calculated later as proportion of available left over space now this flagged as zero
see testcase teardown
see javax swing abstractaction abstractaction java lang string javax swing icon
see org argouml model modelimplementation getextensionmechanismshelper
end class crnonaggdatatype
see org tigris gef base selectionbuttons paint java awt graphics
see org argouml uml ui umlcomboboxmodel isvalidelement object
fire all of status events
see org argouml uml ui umlcomboboxmodel getselectedmodelelement
todo if namespace with sub classdiagrams deleted then confirmstr translator localize optionpane remove from model will remove subdiagram doask true
do nothing by design
simply use name as it
allow null
see org argouml uml ui umlcomboboxmodel buildmodellist
restricting types tagged values
classifier way too much in uml
minimum set of standard types
keep them sorted
we assume profile contained in single extent
see javax swing event documentlistener removeupdate javax swing event documentevent
see org argouml cognitive ui wizard canfinish
see java awt event actionlistener actionperformed java awt event actionevent
make copy of modelelements
see junit framework testcase runtest
if list does not exist add code generation and good practices profiles as default
see junit framework testcase setup
see org argouml uml ui umlcomboboxmodel isvalidelement java lang object
see org argouml uml ui umlcomboboxmodel buildmodellist
see org argouml uml ui umlmodelelementlistmodel isvalidelement java lang object
selected operation
see org argouml uml ui umlmodelelementlistmodel settarget java lang object
make sure we know it when classifier added as base
see targetlistener targetremoved targetevent
see tudresden ocl parser analysis depthfirstadapter casearelationalexpressiontail tudresden ocl parser node arelationalexpressiontail
see targetlistener targetadded targetevent
so we found classifier that not classifierinstate and at least one state has been selected well let 's correct that
todo we just need to get someone to re render single line of text which represents element here but i'm not sure how to do that tfm todo bob replies we should n't be interested in this event here figfeature or its notation should be listen change and figfeature should be update from that
see org argouml uml ui umlcomboboxmodel removeothermodeleventlisteners java lang object
builds initialized stereotype with no namespace stereotype must have namespace so this method unsafe use buildstereotype string object param text name of stereotype return initialized stereotype
do not use custom icon titles of buttons default button title
base already set to this assoc
see guisettingstabinterface gettabpanel
or self allconnections forall self namespace allcontents excludes participant implies self namespace clientdependency exists oclistypeof permission and stereotype name 'access' and
see tudresden ocl parser analysis depthfirstadapter caseaifexpression tudresden ocl parser node aifexpression
just in case existing selected element from elsewhere make sure it in list
set properties of stereotype box initially not set to be displayed but this will be changed when we try to render it if we find we have stereotype
select current type in combobox
selected value may be to clear represented classifier
get implementations of this operations and look opaquebehavior
init profiles defined in jar files
private boolean mustrefresh
mustrefresh true
return list of namespaces enclosing this element list ordered outer to inner it starts at root model
this should not happen
see org argouml uml ui actionadddiagram creatediagram object
if it has no language then we assume it not instance of opaqueexpression so we leave it null and handle elsewhere
build field
create body that reacts to double clicks and jumps to diagram
add field to panel
click on already selected value must not call setvalue
allconnections exists type ocliskindof actor and
radios have only one information
update model and then notify
we silently ignore requests which conflict with uml wfr no aggregation ary associations
when call by contructor no one selected
see javax swing plaf metal metaltheme getname
expressions datatypes not independent model elements be careful not to reuse them
we need to to this otherwise there no notification and diagram n't change
scopekind visibilitykind pseudostatekind etc does n't include boolean though despite what uml spec says
needed notification
because we map both ends of association we 'll see many names twice log log level fine duplicate property name found new object typename propertyname
this expensive method that we should ensure called rarely hence info level to track easily
see org argouml model modelimplementation getcommonbehaviorfactory
see org argouml uml ui umlcomboboxmodel isvalidelement java lang object
language has changed
translator localize button move down
fill list with items
see org argouml model modelimplementation getcollaborationshelper
specifies valid elements objectflowstate to contain
commit our transaction
in uml target already expression opaque
see org argouml model directionkind getinoutparameter
see java util list lastindexof java lang object
add diagram as listener to namespace so that when namespace removed diagram deleted also
see javax swing event documentlistener insertupdate javax swing event documentevent
simulates uml getting aggregation from opposite end
see org argouml model corehelper clearstereotypes java lang object
see observable notifyobservers
see org argouml model visibilitykind getpublic
see org argouml model extensionmechanismsfactory createtaggedvalue
build all other elements using existing buildnode
this calls getters to fetch actions even though action variables defined instances of this class this because any number of action getters could have been overridden in descendant and it action from that overridden method that should be returned in array
let 's create class with given name otherwise user will not understand why we refuse his input
see java util collection iterator
todo all of following can be broken if we have multiple targets selected
if not it control and must be labeled
see org argouml model visibilitykind getprivate
see org argouml model scopekind getinstance
see org argouml model pseudostatekind getjoin
see org argouml model pseudostatekind getinitial
destroy it
disable button since no row will be selected now
title because already done optional
frank in case of exception delete name and mv name back to name if name exists this rollback to old file
nothing to do we get all events automatically
force parent to redraw
test if given namespace valid namespace to add diagram to todo this method created to facilitate merge of this class with actionadddiagram param ns namespace to check return returns true if valid
see org argouml model abstractmodeleventpump removeclassmodeleventlistener java beans propertychangelistener java lang object java lang string
see org argouml model modeleventpump flushmodelevents
see org argouml model extensionmechanismshelper getstereotypes java lang object
see org argouml model concurrencykind getsequential
see org argouml model modeleventpump removemodeleventlistener java beans propertychangelistener java lang object
see org argouml model umlhelper move java lang object
see org argouml model modeleventpump addmodeleventlistener java beans propertychangelistener java lang object java lang string
see org argouml model modeleventpump removeclassmodeleventlistener java beans propertychangelistener java lang object java lang string
see javax swing listmodel getsize
see org argouml cognitive critics critic addsupporteddecision org argouml cognitive decision
see org tigris gef presentation fig classnameandbounds
end andromda code
see org argouml model changeablekind getfrozen
if we 've found module model log it and place it in map so we do n't have to find it if we need it again
see org argouml model usecaseshelper getallusecases java lang object
although not represented in ocl or our java english text of wfr of section in uml spec more restrictive collaboration may only contain classifierroles and associationroles generalizations and constraints between them and actions used in collaboration 's interactions
just returns descr param see org argouml cognitive poster expand java lang string listset
returns list
see java awt event windowlistener windowclosing java awt event windowevent
find bases of connected classifierroles so that we can see what associations between them if there bases then associations between those bases form possible bases otherwise bases formed by all associations in namespace of collaboration
note this may be called from different thread so we need to be careful of threading restrictions imposed by abstractdocument mutators to be sure we do n't deadlock
list of path item attributes this container list populated during parsing them processed at endelement private list pathitemattrs new arraylist
because we get metatype class stripped of its reflective proxies we need to jump through hoop or two to find it in metamodel then work from there to get its proxy
see org argouml uml ui abstracttestactionadddiagram getvalidnamespaceclasses
see org argouml uml ui umlcheckbox buildmodel
see java beans propertychangelistener propertychange java beans propertychangeevent
copy current in previous
see javax swing table tablemodel setvalueat java lang object int int
sanity check returned path item placement strategy should match one in uml if it does n't it could be that uml created with older argo version and new argo version use different placement strategy if they do n't match just use default
super new labelledlayout
get list opaqueexpression literalstring
by default first value of combobox selected
get current initialvalue
see org argouml cognitive critics critic critique java lang object org argouml cognitive designer
see org argouml model statemachineshelper getsource java lang object
default opaqueexpression set to test
see org argouml cognitive poster getsupporteddecisions
see org argouml cognitive poster expand java lang string listset
see org argouml cognitive poster supports org argouml cognitive decision
see org argouml cognitive poster supports org argouml cognitive goal
create body and language field
see org argouml cognitive poster containsknowledgetype java lang string
create other panel element
create panel containing previous field
see org argouml cognitive critics critic isactive
see org argouml cognitive critics critic isenabled
see org argouml uml cognitive critics cruml getcriticizedmetatypes
compare type of parameters if any of types null then we have match
there no composite states so this will work
does not do anything see org argouml cognitive poster fixit org argouml cognitive todoitem java lang object
copy in memory current
see org argouml cognitive poster unsnooze
see org argouml cognitive poster snooze
see org argouml cognitive poster fixit org argouml cognitive todoitem java lang object
copy next value in current
see org argouml ui tabtarget shouldbeenabled java lang object
see org argouml ui targetmanager targetlistener targetremoved targetevent
selected value may be to clear represented operation
see org argouml ui targetmanager targetlistener targetadded targetevent
see org argouml application events argogeneratoreventlistener generatorremoved org argouml application events argogeneratorevent
see targetlistener targetremoved targetevent
see java util list listiterator int
copy current in next
temporary until simplelistmodel used all
create popup tool if we have single row
create add and remove buttons if needed first
pushing this to end of awt thread seems to be only way to get this to update correctly
class to display graphics uml link in diagram underlined association name shown next to middle of path todo show more notation as described in standard rolename may be shown at each end of link association name may be shown near path if present it underlined to indicate instance links do not have instance names they take their identity from instances that they relate multiplicity not shown links because they instances other association adornments aggregation composition navigation may be shown on link ends
todo gennavigableclasses \?
see targetlistener targetset targetevent
see org argouml notation notationname getconfigurationvalue
utility function to add listener array of property names and remember registration param element element to listen changes on param property array of property names strings to listen changes of see org argouml model modeleventpump addmodeleventlistener propertychangelistener object string
utility function to remove element listener and adapt remembered list of registration param element element to listen changes on see org argouml model modeleventpump addmodeleventlistener propertychangelistener object string
get features owned by those classifiers
now we construct zig zag inheritance line getunderlyingfig
main component label panel langage panel with button textarea
translator localize button delete
copy previous element
classifier operation allcontents returns set containing all modelelements contained in classifier together with contents inherited from its parents allcontents set modelelement allcontents self contents union self parent allcontents select elementownership visibility public or elementownership visibility protected where parent defined generalizableelement as operation parent returns set containing all direct parents parent set generalizableelement parent self generalization parent
copy next element
see org argouml notation providers notationprovider updatelistener java beans propertychangelistener java lang object java beans propertychangeevent
translator localize button move up
copy previous value in current
self associations special cases no need to let maze runner find way
component textfield and list
extract icon that used by tree control current look and feel
add new entry in list and select it translator localize button add
see org argouml notation providers notationprovider parse java lang object java lang string
todo make use of constants defined in todoitem class
handle itemuid in container contents
profile section dealing with profiles in different states
this should not be needed if above correct but let 's be sure
copy todo items after model and diagrams so that any model elements or figs that todo items refer to will exist before creating critics
java notation we also need to listen to leaf changes since they shown as final on diagram
no text \? remove attr
this needed junit tests otherwise assert initialized would suffice
let 's make it bit more difficult by setting target
we need to set namespaceowner of new attribute before parsing
see org argouml ui guisettingstabinterface handlesettingstabcancel
if anything goes wrong return stack trace as string so that we get some useful feedback
this item copy \? see java lang object equals java lang object
once one criticism found exit
create new menu item if it does n't exist this class
collaboration operation allcontents results in set of all modelelements contained in collaboration together with those contained in parents except those that have been specialized allcontents set modelelement allcontents self contents union self parent allcontents reject self contents name include name parent here generalizableelement definition
constructor
see org argouml model modelimplementation getxmireader
user interface
retain previous project file even when save operation crashes in middle also create backup file after saving
criticism control
see java util collection clear
issue resolutions
default parameter name
critiquing
critiquing thread should wait if disabled
why \?
if menus do n't containt menu item necessary this class create it
see javax swing jcomponent paintcomponent java awt graphics
constructor and singeton methods
used by copy functions do not call this function directly todo generalizations specializations \? param source source generalizable element param target target generalizable element
getautocritique
delete dependencies where this only client
do n't clear everything here breaks loading
do n't let transient error kill thread
see org argouml uml notation notationprovider getparsinghelp
decision model listener
end class childgendmelements
todo all todos in docopyfoo methods below inherited from nsuml implementation and do not reflect new issues one additional thing which does need to be dealt with copying of any attributes which have been added since this code implemented uml
used by copy functions do not call this function directly todo actions \? instances \? collaborations etc \? param source source classifier param target target classifier
todo this should be name of designer that created todoitem not current username
log log level fine predicate returned true creating todoitem
corrective automations wizards
check param types only some connections legal uml connections
in this case either container not set or it not contained in statemachine
we 'll put association in namespace of whichever end not navigable and writeable if they both we 'll use namepace of
mstatevertex
see org argouml application events argonotationeventlistener notationremoved org argouml application events argonotationevent
if wizclass not subclass of wizard print warning
return getcriticname
design feedback
end interface poster
use this fast fail instead sacrificed complete fail mst throw new unresolvableexception unable to create itemuid class obj getclass
todo values
delete extends which have this as their only extensionpoint
end class goal
see java awt event windowlistener windowopened java awt event windowevent
check if we using supported java version
implements java io serialization
see org argouml application events argonotationeventlistener notationproviderremoved org argouml application events argonotationevent
end class curdecisioncm
as soon as we 've created notation and have registered it listener force event to go to listener so it draws first time
end class standardcm
see org argouml persistence saxparserbase handlestartelement org argouml persistence xmlelement
end class compositecm
end class enabledcm
end class notsnoozedcm
end class andcm
end class designgoalscm
end class orcm
register our last chance exception handler
see java awt component getlocale
get splash screen up as early as possible
we have to do this to set laf splash screen
main initialization happens here
see org argouml persistence abstractfilepersister issaveenabled
tooltipmanager sharedinstance setinitialdelay
force configuration to load
synchronize startup directory
then print out some version info debuggers
set locale
set properties application behaviour
now let 's print it
nothing else to do \?
see org argouml persistence xmltokentablebase setuptokens
we must have project open before continuing create if necessary
perform one command
now create new object
set namespace to that of base as first choice or that of addition as second choice
initlogging
make projectbrowser
next one defaults to true to stay compatible with older argouml versions that did not have this setting
end class main
end class postload
we do n't care if optional modules n't found
end class loadmodules
all tabs added at end except tabtodotarget
end interface guisettingstabinterface
editor editor globals cureditor graphmodel gm editor getgraphmodel layerdiagram lay layerdiagram editor getlayermanager getactivelayer
skip pos we know it 's not valid char from above
store in user configuration and let gef know also
use configuration if it exists otherwise use what gef thinks
param pc see org argouml profile profilemanager applyconfiguration org argouml kernel profileconfiguration
failed to clone
see org tigris gef base selectionbuttons paintbuttons graphics
remark code in projectsettings init currently presumes that nobody using this event
calculate higher and lower figs
note this package scope to force callers to use resourceloaderwrapper
see java util observable notifyobservers java lang object
end class resourceloader
validity checking thread should wait if disabled
if element has been deleted it 's no longer valid
history thehistory additemresolution item no longer valid todoitem item resolve no longer valid notifyobservers removeelement item
notifications and updates
see org argouml profile internal ocl oclexpressionevaluator evaluate java util hashmap org argouml profile internal ocl modelinterpreter java lang string
skip any identical items already on list
cat debug checking inhibitors rc
see org argouml ui tabtarget refresh
history thehistory additemresolution item reason
see org argouml profile internal ocl uml bag count java lang object
see org argouml profile internal ocl modelinterpreter getbuiltinsymbol java lang string
returns target of this tab see org argouml ui tabtarget gettarget
do nothing
enable buttons when selection made see java awt event actionlistener actionperformed java awt event actionevent
here we located new classifier with its operation
end class argojmenu
eventlistenerlist add synchronized so we do n't need to synchronize ourselves
refresh text of tab see org argouml ui tabtarget refresh
end of block
end interface clarifier
set checkbox on or off according to selected value of action if no selected value found then this defaults to true
extra care to be taken since alloffenders can be reset while this method running
these blue in metal default theme
cached expansions
these gray in metal default theme
see org argouml application api progressmonitor iscanceled
set icon this poster
eventlistenerlist remove synchronized so we do n't need to synchronize ourselves
mvw
todo add double click listener
event related stuff
see javax swing icon geticonwidth
end class crnwayagg java
see org argouml application api progressmonitor notifymessage java lang string java lang string java lang string
end class checkmanager
now lets search
end class tabchecklist
we found it
see org argouml ui targetmanager targetlistener targetremoved targetevent
enter class to speed up next search
see org argouml ui targetmanager targetlistener targetset targetevent
this explained by wfr of structuralfeature type of structuralfeature must be class datatype or interface see org argouml uml ui umlcomboboxmodel isvalidelement object
accessors
instance varables
constructor
see org argouml uml ui umlcomboboxmodel propertychange java beans propertychangeevent
tablemodel implemetation
see org argouml application api progressmonitor close
see org argouml uml ui umlmodelelementlistmodel addothermodeleventlisteners java lang object
see java util list addall int java util collection
in past milliseconds after january gmt
report progress to progressmonitor window see org argouml persistence progresslistener progress org argouml persistence progressevent
by default double snooze interval each time
end class snoozeorder
wizard actions
this changes complete structure of table so we need to set column widths again
todo do all following steps todo resolve item from todolist
end class actionopencritics
set initial sorting on critic headline
critics table
instead of making new list decrement index return when found and index
see org argouml application api progressmonitor notifynullaction
critic details panel
case
tablemodel implemetation
todo
no maximum set so it will stretch
and advanced mode
this check needed otherwise setbase below gives exception
set tablesp 's preferred height to so that details height used in pack
gridy gridx jlabel prilabel new jlabel priority gb setconstraints prilabel mainpanel add prilabel
gridy gridx jlabel lowlabel new jlabel low gb setconstraints lowlabel mainpanel add lowlabel
gridy gridx jlabel twolabel new jlabel ad gb setconstraints twolabel mainpanel add twolabel
gridy gridx jlabel fourlabel new jlabel asd gb setconstraints fourlabel mainpanel add fourlabel
gridy gridx jlabel highlabel new jlabel high gb setconstraints highlabel mainpanel add highlabel
see org argouml ui targetmanager targetlistener targetset org argouml ui targetmanager targetevent
other methods
see java util list get int
see org argouml ui explorer treemodelumleventlistener modelelementremoved java lang object
treemodel implementation todo specific stuff
class variables
general icons poster
see java lang runnable run
specialised icons designer
end class todotreerenderer
public static decision decisionuncategorized new decision uncategorized
end class todobydecision
see org argouml ui explorer perspectivemanagerlistener removeperspective java lang object
if control panel add it
gridx gridy gridheight gridbagconstraints remainder spacerpanel spacer new spacerpanel gb setconstraints spacer mainpanel add spacer
see org argouml ui targetmanager targetlistener targetremoved org argouml ui targetmanager targetevent
image setmargin new insets
see org argouml ui targetmanager targetlistener targetset org argouml ui targetmanager targetevent
end class wizsteptextfield
end class wizdescription
end class wizstepcue
stopstart creating more critics
end class actiongotocritique
does nothing
end class actionautocritique
stopstart cleaning up invalid todoitems
reuse opaque just set it 's attributes
otherwise parent must be offending design material
end class actionopengoals
\? inform
if visibility already changed this class respect it
see org argouml uml ui umlmodelelementlistmodel isvalidelement java lang object
see java util collection add java lang object
target of description will always be set directly by tabtodo
mouselistener implementation
new umlvaluespecificationpanel model propertyname
end class wizstepconfirm
see org argouml uml ui umlcombobox doit actionevent
next line coming from projectbrowser
itemlistener implementation
treeselectionlistener implementation
not needed in uml
prepare typing in rationale field when window opened see java awt component setvisible boolean
only interrupt one todoitem
end class actionopendecisions
blinks \?
add perspectives to list combobox
decslide setpaintlabels true
firetreenodeschanged this path childindices children
todo this looks
todo make new history item
cat debug bad decision
cat debug bad goal
end class dismisstodoitemdialog
our comparator will throw invalidelementexception if old list contains deleted elements eg after new project loaded so remove all old contents first
finally apply profile configuration to model
see org tigris gef graph graphnoderenderer getfignodefor org tigris gef graph graphmodel org tigris gef base layer java lang object java util map
text frozen
end class wizstep
actions
do n't allow instantiation
node which association either ary association or class part of associationclass
actionlistener implementation
documentlistener implementation
targetlistener implementation
instance variables
end class configurationfactory
log log level info configuration saved to url
text frozen false
check older properties file and copy it over if possible
only allow one load
add first point twice
initialize band buffer bounds
log log level fine getdata rectangle clip
create new graphics context so we start with fresh transforms
get all classifiers in our model todo we need property panels to have some reference to project they belong to instead of using deprecated functionality
fill with our background color
ask gef to print band of diagram translated clipped
make sure it n't caching anything that should be written
assert initialized guitestactionopenproject fails over this
retain original one
internal initialization method handles initialization which common to both public methods
flag command as to whether it first in chain
end class delayedchangenotify
end class crconflictingcomposites
default diagram settings
default notation settings
generation preferences
next one defaults to true to stay compatible with older argouml versions that did not have this setting
next ones defaults to true to stay compatible with older argouml versions that did not have this setting
this notation not available
always put model at top
otherwise add diagram at start
register with save action with other subsystems so that any changes in those subsystems will enable save buttonmenu item etc
see org argouml ui explorer weakexplorernode subsumes java lang object
end interface delayedvchangelistener
then any new buttons
profile initially has no applied profiles we go bottom up
skip leading underscores
todo should just be directory to write
preferences with project scope
argouml version with which this project last saved
if diagram added successfully add member too
adding todo member removes any existing one
got past veto add member
send indeterminate new value instead of making copy of vector
hence diagram name saved in project that we loading so we use this name to retrieve any matching diagram
see org tigris gef presentation fig hit java awt rectangle
use first diagram
if there no diagram at all then use first uml model
we do n't need this hashmap anymore so free up memory
can not delete model
can not delete profile
see java lang object finalize
see javax swing table tablemodel getcolumncount
see javax swing table tablemodel getcolumnname int
note no longer separate type in uml
see javax swing table tablemodel getrowcount
make topmost diagram that not one being deleted current
trash related methods
fire event some anyone who cares about diagrams being removed can listen it
there 's just one profileconfiguration in project and there 's no other way to add another one
tab settings dialog that makes it possible to select modules that to be enabled todo header table author linus tolke
see java util collection retainall java util collection
do nothing these buttons not shown
do nothing next time we refresh we will fetch values again
access methods modules that need to query about status of other modules
access methods gui that user uses to enable and disable modules
access methods program infrastructure
catch all exceptions and errors however severe
todo huntformodulesfromjavawebstart
we expect all extensions to have manifest even though we can operate without one if necessary
look our specification
add this to search list properties done both modules localized property file sets
we hav n't found it add it
called after notation default property gets changed see java beans propertychangelistener propertychange java beans propertychangeevent
following check should have been satisfied before we instantiated module but double check again
if it did n't have loadable module class and it does n't look like localized property set warn user that something funny in their extension directory
since there no way to compare objects as equal we have to search through list at this point
remark there also java like notation which also part of argouml core distribution
nsuml does this \? model getfacade setguard trans
this needed case when default notation not loaded at this point
build final string
static workers dealing with notation names
see org tigris gef base diagram initialize java lang object
no valid field above notationlanguage it 's valid if not null
we also show stereotypes
see org tigris gef presentation fignode isdragconnectable
we also show type of which name may change
we also show tagged values derived
see org tigris gef presentation fig getenclosedfigs
and when operation replaced
see org tigris gef presentation fig translate int int
we not interested in name
and parameter names and values
and arguments
we also show parameters
we also show types of parameters
listen to modelelement itself
convenience methods
register events from all modelelements that change name and body text when callaction replaced
and when owner replaced unlikely operations and when operation changes name
removed stereotype
register events from all modelelements that change text when transition replaced
new stereotype
register doactivity etc
register internal transitions
see java lang object hashcode this will result in rather bad performance but at least we will not violate contract together with link equals object
return parsing java help attribute
return parsing help fig association end name
todo initial value
skip spaces
name itself
check name validity
pick out return type
handle multiplicity here since we need type actually api of generator buggy since to generate multiplicity correctly we need attribute too
strip any trailing semi colons
name and params
constructor
check more attributes separated
remove bases that n't there anymore
notation findnotation java
initialize notationutilityuml
copy ca n't iterate modify live collection while iterating it
when nothing generated omit space
loop through all base classes building comma separated list
yes there more
no non whitechars in text \? remove attr
if st attribute static then new ones too
handle derived
handle visibility
fix loading bad projects
show types defaults to true to stay compatible with older argouml versions that did not have this setting
element deleted while we processing it
no instantiations
construct bases string comma separated
no text \? remove op
no non whitechars in text \? remove op
check more operations separated
end while loop
do n't create stereotype on reception but create any other parsed stereotypes as needed
lets concatenate it to resulting string genstr
see org tigris gef graph graphmodel getoutedges java lang object
parameters
returnparameters
model element deleted while we working on it
else we remove only extra
see org argouml uml util namespace namespaceelement getnamespaceelement
query state
remove last
see org argouml uml util namespace namespace setdefaultscopetoken java lang string
end of block
string of form name
see java util collection removeall java util collection
this message uml object
supported format predecessors number action parts of string to generate
see java util collection contains java lang object
mmessage
this may return null
activatorintno now guaranteed not null
list args null
get ordered list of immediate successors
condition or iteration expression recurrence
see java awt event componentlistener componentresized java awt event componentevent
now apply changes to model
windowopen state will be changed when window activated
disconnect message from call graph make copies of returned live collections since we 're modifying
find preceding message if any on either end of association
do not set name
mclassifierrole
connect message at new spot
case
if no variable name given then retain one in model
see javax swing tree treemodel valueforpathchanged javax swing tree treepath java lang object
if no function name given then retain one in model
store guard condition or iteration expression in recurrence field of action
if there no action yet create callaction
things strange if there more than one candidate root it has no obvious interpretation in terms of call tree
we can do nothing if we do n't have both use case and extension point
parse string to creat new extension point
build new extension point
empty string return null
this case bit different because of parameters if event already exists parameters ignored
if we given null string return immediately so that extensionpoint removed
string of form name location discard middle token
read past colon
string to build
get fields we want
put in name field if it 's there
put in location field if it 's there
first we decode string
and rd we adapt model
same class other operation
other class
we found classifier now go find operation
see org argouml uml util namespace namespace peeknamespaceelement
text frozen true
case
should we be getting this from gui \? bt aug
no type defined yet
see org argouml uml util namespace namespace iterator
this automatically pulls in tagdefinition from profile
tv existed but maybe it not true
todo uml check if type of tv string
generate all existing internal transitions so that we can compare them as text with newly entered ones
allow concatenation order and separator to be localized
parameter etc
in default
in
return nothing
it can still be null if uml element did not have multiplicity defined
see org tigris gef graph mutablegraphmodel connect java lang object java lang object java lang class
let 's not be picky about brackets just remove them
get classifier
state of classifierinstate removed so let 's reduce it to classifier
strings
see org argouml uml util namespace namespace getbasenamespace
remove states that did not match
model changed our job done
no state named found so we have to reject user 's input
finally do adaptations
then normal classifier uml states
see org argouml ui explorer rules abstractperspectiverule getchildren java lang object
let 's create new classifierinstate with correct links
this updates diagram hence as last statement
case
mtransition
if no classifier has been set then entering state not useful so user 's input has to be rejected
todo if next line trows exception then what do we do with remainder of parsedto be parsed lines \?
add this new one and mark it to be retained
wfr transitions omg uml
process final list of internal transitions and hook it to state
do n't forget to remove old internals
make next accesses to this instance predictable
and hook in new ones
actionexpression
let 's look timeevent changeevent callevent or signalevent
operation paramlist
part after when there 's nothing between
it safe to give null to next function since statemachine always composed by model anyhow
else empty will do
return ith element from collection param collection collection to get element from param index index of element to be returned return object
case and
language
when
signalname
and parse parameter list
and hook it to transition immediately so that exception can not cause it to remain dangling
do nothing
see javax swing event menulistener menuselected javax swing event menuevent
just change time expression
we have event without expression
it 's time event now but of another type before
just change changeexpression
create new expression
we can distinguish between cases trigger given none exists yet trigger present and it same type or different type and its text changed or same trigger not given none exists yet name of trigger present but removed reaction in these cases should be find referred trigger issue or create new one and hook it to transition rename trigger nop unhook and erase existing trigger
parsed text describes change event but model contains another type
just change name and linked operation
todo change linked operation
just change name and linked signal
case and
do not check if parameters match
no text we may remove literal
no non white chars in text \? remove literal
heuristic algorithm do not show stereotypes if there no name
great class already existed just use it
if no base typed then only set name
only set name if base found
get associationrole name
only instantiate when we need it
if base already set to this assoc then do not set it again this check needed otherwise setbase below gives exception
jaap branderhorst from here made visibility etc configurable
get base association name
and not association classes
end of oclevaluator
look associations
massociationend
mparameter
see org tigris gef graph graphlistener edgeadded org tigris gef graph graphevent
ocl toolkit does not like void return types
event handlers mouselistener and mousemotionlistener implementation
see org argouml cognitive critics critic todoitem java lang object org argouml cognitive designer
mclassifier
first search appropriate attributes
moperation
see org argouml uml diagram ui figedgemodelelement getsource
and not incompletely imported
query checking added sz
end class oclexpander
skip first parameter return type
see org argouml uml diagram ui fignodemodelelement getnotationprovidertype
only look at classes
abstract classes hardly ever singletons
if there attribute which not static no problem
only look at classes
check singleton stereotype uninitialised instance variables and outgoing associations as per javadoc above
found no such attribute
we only look at singletons
end class crsingletonviolatedonlyprivateconstructors
note historical reasons true hide so we need to invert sense of this
end class cremptypackage
at this stage during loading diagrams not created yet so we have to store this name later use
pw close
prevent no changes
project setfile file
andromda profiles
see org argouml uml diagram ui fignodemodelelement updatelisteners java lang object java lang object
give parser map of model elements keyed by their uuid this used to allocate figs to their owner using href attribute in pgml
create it here opaqueexpression which first choice note that if we edit initial value in diagram double clic it replaced by opaqueexpression
if we get nd error just ignore it
we have to give message to user and set system to unsaved
should never happen something 's really wrong
see org argouml uml diagram ui umldiagram getumlactions
main parsing methods
see java io inputstream close
boolean upgraderequired checkversion fileversion releaseversion
upgrade in way uml projects so we turn it off in that case
load argo project descriptor
see org argouml cognitive todoitem select
load rest
there possibilities either we follow traditional notation philosophy and set tagged value to false or we restore to pristine situation and delete taggedvalue whatever value chose latter mvw
first read argo file from zip
keep reading till we hit tag
get version from tag
skip lines
loop round loading diagrams
private eventlistenerlist listenerlist new eventlistenerlist
keep reading till we get left bracket of opening tag
compare each following character to see that it matches tag we want
we also want to match with right bracket of tag or some other terminator
read name of child tag and then reset read position back to that child tag
skip any whitespace till we should be on equals sign
skip any whitespace till we should be on quote symbol
see org argouml uml cognitive critics wizmename doaction int
no other uses of string in pgmlhandler
see org argouml uml ui abstractactionaddmodelelement getdialogtitle
handle other uses of contents
if any of values null ignore element
model null
class to display graphics uml objectflowstate in diagram fig of this modelelement may either represent following umlelements objectflowstate with classifier as type or objectflowstate with classifierinstate as type in both cases and fig shows underlined name of classifier and in latter case it shows also names of states of classifierinstate in examples in uml standard this written like purchaseorder approved in lines first line underlined to indicate that it instance object fact that first line underlined and nd not reason to implement them in separate figs todo allow stereotypes to be shown author mvw
match to be found it has to have same owner and same long class name
see org argouml ui clarifier hit int int
create new diagram wide settings block which backed by project wide defaults that we passed
ignore non private elements within fignode groups
discard class name
owner should always have already been set in constructor
happens when 'is' comes from zip file
continue with null stream readdiagram will take care of it
todo localize these
this would be solution model getextensionmechanismshelper setdatavalues taggedvalue new string false
if there no dot then this must be top level fig and can be assumed to be fignode
fignodemodelelements should match here
figedgemodelelements should match here they have no bounds
not used in current implementation
see org argouml uml ui abstractactionaddmodelelement getchoices
try catch only jarfile instantiation so we do n't accidentally mask anything in argojarclassloader or processjarfile
fall back to gef 's handling if we could n't find appropriate constructor
mywriter
empty constructor
see org argouml cognitive critics critic todoitem object designer
compatibility with older format
see org argouml cognitive critics critic predicate java lang object org argouml cognitive designer
write out header section
note we assume members ordered correctly already
let 's initialize progressmgr
run through any stylesheet upgrades
see org argouml uml cognitive critics wizmename makepanel int
do n't use systemid here or it will get opened in preference to inputstream
uml files could also contain profile model try again with uml profile as main tag
log log level fine finding children getclass
let 's update progress
if we 're trying to load file from future version complain and refuse
see org argouml uml cognitive critics umlwizard getnumsteps
to be really sure let 's add operation that linked to action in model too if it not listed yet we need this incase operation moved out of package or maybe with imported xmi
buffer containing characters which have been decoded from bytes in inbb
regex pattern xml declaration and optionally doctype backslashes doubled up one java one regex
convert from bytes back to characters
rewind our character buffer
remove anything that matches our pattern
see org argouml ui explorer treemodelumleventlistener modelelementadded java lang object
remove null characters at end
reencode remaining characters as bytes again
and write them to our output stream
skip \? xml first line
nop
this expected to be safe do n't add try block here
cat debug added todoitem headline
see org argouml ui explorer perspectivemanagerlistener addperspective java lang object
see org xml sax contenthandler startelement java lang string java lang string java lang string org xml sax attributes
see org xml sax contenthandler endelement java lang string java lang string java lang string
see org xml sax contenthandler characters char int int
test creating modelelements from given notation and then re generate notation string again and check if they equal some of these tests not very usefulll since they may fail on white space differences todo white space should best be ignored
these strings match xml element names in argo tee exactly
following deprecated but can never be removed to preserve backward compatibility with old project files
protected methods
empty constructor
abstract methods
non abstract methods
org argouml uml generator ui classgenerationdialog poseidon jar
end class saxparserbase
stop ui interception
jaap branderhorst added next lines to link parameters and operations to figs that represent them
possibly use following instead memberfilepersister persister new diagrammemberfilepersister
class methods
end class xmltokentablebase
these file formats know about
make sure this setting exists in configuration file to facilitate changing
see javax swing event menulistener menucanceled javax swing event menuevent
row at top of screen \?
if current property occurs second time in given list of properties then skip it
filefilter api
this check files without extension
end class xmlelement
andromda
tested with fabricated xmi ok
see org argouml uml ui behavior state machines actionnewevent createevent java lang object
thin bar to show current used
make sure contents match what we expect
load profile name
changing sequence only
yes scroll up one row
get list of uml metaclass names from xmi document though some of dom methods such as getattributes may return null values under other conditions in context of this test and assuming valid xmi file none should occur hence there no special checking those abnormal cases allowing test to fail simply with nullpointerexception with this comment indicating that either input data incorrect or test needs to be improved
testing works ok
if there only one package in model we should suppose it 's profile model if there more than one we take ones marked as
now we have to see if any state in any statemachine of classifier named name if so then we only have to link state to
load profile dependencies
set up property panels critics
we have our own uml profile but it not used instead by following line build in eclipse uml standard profile and primitive types implementation used
missing wfrs
association class
behavioral feature
todo partly overlaps croppendvsattr
see tudresden ocl parser analysis depthfirstadapter casealogicalexpressiontail tudresden ocl parser node alogicalexpressiontail
usecase
classifier
generalizableelement
datatype
actor
namespace
general
usecase
actor
tested ok except in some cases depending on sequence of eps probably implementation of forall does not cover all combinations
usecase
usecase
if there more than one suitable operation then we pick first one
actionstate issue
no default type uml
uml profile always present and default
register built in profiles
if exception raised file unusable
this profile could have not been loaded when default profile configuration loaded at first so we need to do it again
nothing to delete if we could n't get packages
if we found old style name update it to new package name
clean up our model and extent that we read profile in to
make sure names did n't change again
if element associationend use namespace of containing association
if one side null compare with equality operator
xxx hypotheses afeaturecall fwd op val head
xxx hypothesis no time expression inv
see tudresden ocl parser analysis depthfirstadapter caseaconstraint tudresden ocl parser node aconstraint
see tudresden ocl parser analysis depthfirstadapter caseaclassifiercontext tudresden ocl parser node aclassifiercontext
these operations ok lists too
log log level fine ocl feature call subject type feature parameters
xxx this should be done in collectionsmodelinterpreter but it ca n't trigger another invokefeature
logger private static final logger log logger getlogger defaultoclevaluator class getname
log log level fine ocl ocl
propagate
although operation and signal peers in uml type hierarchy they share attributes isroot isleaf isabstract and specification concurrency not shared and specific to operation
if test ok this element should not be in result set
these operations ok bags too
abstraction
association
additional operation
associationend
see org argouml uml ui actionadddiagram isvalidnamespace object
additional operation
attribute
binding
class
classifier
todo specifiedend \? \?
comment
show types defaults to true to stay compatible with older argouml versions that did not have this setting
component
additional operation in
no scroll down one row
elementownership
enumeration
enumerationliteral
feature
end class crtoomanytransitions
additional operation in
generalizable element
method
avoiding null names
as extended by
additional operations in
node
operation
method
parameter
programminglanguagedatatype
set icon
see javax swing icon geticonheight
see java awt component getminimumsize
if location null here position of new fignode set after in org tigris gef base modeplace mousepressed mouseevent
generates string representation provided attribute string representation will be of form visibility name multiplicity type expression initial value property string depending on settings in notation visibility multiplicity type expression initial value and properties shownnot shown
templateargument
templateparameter
end class crtoomanyoper
usecase
associationclass
operation allconnections results in set of all associationends of associationclass including all connections defined by its parent transitive closure
if curhandle index or adjacent region previous region but if it or adjacent region next region curhandle index show which corner of bound we dragging
stereotype
stereotypeconstraint \?
tagdefinition
taggedvalue
see org argouml kernel projectmember repair
add adapters that do nothing keyboard and mouse actions
discard event if its source not from correct type
guard against error conditions if climb search n't successful
sets mouse cursor to hourglass mode
start receiving all events and consume them if necessary
activate glass pane capabilities
stop receiving all events
parameterlist guaranteed to contain at least
deactivate glass pane capabilities
sets mouse cursor back to regular pointer
no initialization required
end class spacerpanel
if dm top state of statemachine then it not supposed to have outgoing transitions
see java awt datatransfer transferable gettransferdata java awt datatransfer dataflavor
see java awt datatransfer transferable isdataflavorsupported java awt datatransfer dataflavor
end class clclassname
see org argouml uml cognitive critics umlwizard setsuggestion java lang string
called when user has pressed save performs save in all tabs
climb component hierarchy until rootpanecontainer found or until very top
end class splashpanel
see org argouml cognitive ui wizard cangonext
add settings from settings registry
keep track of visible window associated wthe component useful during event filtering
updates stereotype setting adds all children per treemodel 'build on demand' design see javax swing event treewillexpandlistener treewillexpand javax swing event treeexpansionevent
show chooser dialog file name only xmi allowed
if drop out we 're ok
if toolbar requested create empty one
make sure we got what we started with
increase width to accommodate all tabs on one row
todo localize
end class tabtext
see org argouml uml ui umluserinterfacecontainer formatnamespace java lang object
if recursive call from setvisible just return
we have to tell settings tab in which project settings reside
see org argouml ui targetmanager targetlistener targetadded targetevent
see java util list indexof java lang object
we only request focus first time we become visible
use case
see org argouml uml ui umlmodelelementlistmodel isvalidelement object
handle same as explicit cancel
defer work until fetchedvisible
actor
rule management
slope of line we 're finding normal to slope and normal negative reciprocal slope so recip
name
all rules
todo factor out param rule rule to be added
see javax swing event treeexpansionlistener treecollapsed javax swing event treeexpansionevent
put current pane in scroll pane
end class stylepanelfigtext
see org argouml uml ui umluserinterfacecontainer getprofile
note these must stay in this order to match rendering styles
we n't able to resize neither top bound from first region nor bottom bound from last region
boundary box as held in target fig and as listed in boundary box style field null if we do n't have anything valid
change fill colour
change line colour
ca n't do anything if we do n't have fig
get text in field and do n't do anything if field empty
how to handle empty target lists \? probably tabprops should only show empty pane in that case
parse string as if possible
ignored will never be called
add preloading progress bar \?
jasonsthemes
todo src visibility tag does n't appear to be created anywhere by argouml currently
todo lets pass in project as constructor argument
listen to name changes in path useful package
make up default
lafclass null
set to default laf
top left bottom right
set custom laf
see javax swing jtree firetreecollapsed javax swing tree treepath
see javax swing jtree setmodel javax swing tree treemodel
it looks better if height increases too
model changed job done
todo and found by trial and error calculate them
pack
not localized
end class aboutbox
these positions of child figs inside this fig they must be added in constructor in this order now name must not be last as this would force zero width lines until gef fixed
saves project
return true if given object valid node in this graph see org tigris gef graph mutablegraphmodel canaddnode java lang object
mvw we should use default font sizes as much as possible btw this impacts only width and reduces readibility
setfont lookandfeelmgr getinstance getsmallfont
stereodim has height even if it empty hence below
this enables tooltips tree this one wo n't be shown
methods that override jtree methods
with name
look stereotype
use default formatting any other type of uml element
event source stub state 's referenced state or one of referenced state 's path
other methods
labels at left
and when class changes name
and fields at right
user 's full name
get ends from association we know there two and types associated with them
user 's email
project description
this non editable field shows version of argouml that last saved this project
there no default description
defer all work until we 're actually needed
see org argouml cognitive critic getcriticizeddesignmaterials
class accessors
todo following can be used when we drop java support or when imageio gif writer plugin bundled cmd new savegifaction translator localize action save gif
leave logging commented out by default efficiency log debug determine rendering value log debug show icon showicon
see org tigris gef base cmd undoit
see org argouml application api progressmonitor setmaximumprogress int
accumulate bounding box all figs in group
private jcheckbox jchbbold null
see org tigris gef graph graphlistener noderemoved org tigris gef graph graphevent
private jcheckbox jchbitalic null
initialize font faces list
end class actioncreatepseudostate
most of this code originates from actionopenproject
initialize font sizes list
see org argouml uml ui sourcepathcontroller deletesourcepath java lang object
mouselistener implementation
keep even or odd just like line width
see org tigris gef graph graphlistener graphchanged org tigris gef graph graphevent
see org argouml uml ui umlmodelelementlistmodel buildmodellist
load project at slightly lower priority to keep ui responsive
see java util collection isempty
end class projectbrowser
see org argouml uml reveng importcommon iscreatediagramschecked
see org argouml uml diagram ui figedgemodelelement getdestination
keylistener implementation
listselectionlistener implementation
diagrams not placed in search results
no related
now remove ones already applied
todo tabs class state usecase help
load of new project just reuse of actionopen object
empty implementation we only handle mouseclicked
south panel always has tabs but they added later elsewhere
remove element from available list
loads project
see java awt event windowlistener windowiconified java awt event windowevent
default tab todo
special case backward compatibility
add path of model to search path so we can read dependent models
select prop panel if current panel not appropriate selected target
see org argouml persistence xmifilepersister issaveenabled
not visible any more so remove as listener
update previously selected tab
other tabs need to be updated depending on selection
if center points close enough we just adjust endpoints of line little bit otherwise we add jog in middle to deal with offset todo epsilon currently fixed but could probably be computed dynamically as of width of narrowest figure or some other value which visually not noticeable
we could check base class of stereotype but condition normally covers it all
todo quick return here target null \? tfm
see org argouml uml ui sourcepathcontroller getsourcepath java lang object
see org argouml uml diagram ui umldiagram setnamespace java lang object
remove duplicates and take care of getowner and remove nulls
if there outgoing association no problem
listener management
since there no buttons on this panel we have to set size of buttonpanel otherwise title would not be aligned right
tree structure
see getvalue setvalue
see org argouml uml diagram ui stereotypecontainer setstereotypevisible boolean
create timer
mount glasspane on component window
see org argouml uml diagram ui figsinglelinetext propertychange java beans propertychangeevent
keep track of glasspane as instance variable
name width same as cover height default text of name will be centered by default in same place as stereotype since at this stage stereotype not displayed being classifier role it underlined
end class stylepanel
see org argouml persistence memberfilepersister save org argouml kernel projectmember java io outputstream
getcontentpane add menubar borderlayout north
calculate insets jtree not viewport tree in this makes it bit messy see java awt dnd autoscroll getautoscrollinsets
allows me to ask do you want to save first \?
ok we 've been told to scroll because mouse cursor in our scroll zone see java awt dnd autoscroll autoscroll java awt point
add listener project changes
see org argouml model modelimplementation getxmiwriter java lang object java io writer java lang string
add listener to focus changes rationale reset undo manager to start new chain
load modules specified by system property modules specified by system property running modules from within eclipse and running from java web start
we get many many events why \? so let 's filter
create todopane
if we delete figedge or fignode we actually call this method with owner not fig itself however this method called by actiondeletemodelelements primitive figs without owner
see javax swing jframe getjmenubar
see org argouml persistence saxparserbase iselementofinterest string
see java awt component setvisible boolean
toolbar boundary area between menu and status bar it contains workarea at centre and toolbar position north south east or west
see org argouml uml diagram ui pathcontainer setpathvisible boolean
add target listeners details panes
see java awt dnd dragsourcelistener dragenter java awt dnd dragsourcedragevent
convenience methods to return saved width and height values
in theory there can be multiple details pane work in progress it must first be determined which details page contains properties tab bob tarling dec
override setbounds to keep shapes looking right see org tigris gef presentation fig setbounds int int int int
end class windowcloser
project changed
north south west east south west
designer thedesigner gettodolist removeallelements
update all panes
this method invoked from several places so we have to check whether if project uri set or not
does file really exists \?
project file does n't exist let 's pop up message dialog
see org xml sax entityresolver resolveentity java lang string java lang string
and let 's ask user whether he wants to save actual project into new file or not
eclipse uml implementation classes end with impl non nls
save action has been cancelled
see org argouml application events argonotationeventlistener notationadded org argouml application events argonotationevent
prompt user new name
let 's call real save method
repair any errors in project
operation if pce getsource modelelement event propertyname parameter if event instanceof addassociationevent get parameter instance from event newvalue call model to add listener on parameter on change of name type else if event instanceof removeassociationevent get parameter instance from event oldvalue call model to remove listener on parameter on change of name type end if end if
notification of menu bar
simulate some errors to repair replace with junits bob
change to true to enable testing
fig with null owner
fig with null layer
fig with removed model element
let 's save this project in mru list
defer initialization until we 're visible
see java awt dnd dragsourcelistener dropactionchanged java awt dnd dragsourcedragevent
let 's save this project as last used one in configuration file
uri persistencemanager getinstance fixuriextension theprojecturi
see org argouml persistence progresslistener progress org argouml persistence progressevent
this temporary load project should create new project with its own undomanager and so there should be no command
make sure save action always reinstated
see org argouml application api progressmonitor updatemaintask java lang string
filled in later
see org argouml uml reveng importsettingtypes uniqueselection setselection int
setup similar to super implementation
see javax swing tree treecellrenderer gettreecellrenderercomponent javax swing jtree java lang object boolean boolean boolean int boolean
make this change persistant
see targetlistener targetadded targetevent
if there persistant state this toolbar respect it or add it to persistance data
queue to event thread to prevent race during close
test unknown file
add toolbar
register popup menu with toolbar
these settings needed to make progressmonitor pop up early
see java awt event windowlistener windowdeiconified java awt event windowevent
see org argouml notation notationname samenotationas org argouml notation notationname
see org argouml application events argogeneratoreventlistener generatorchanged org argouml application events argogeneratorevent
see org argouml uml ui sourcepathcontroller setsourcepath java lang object java io file
see org argouml uml reveng importsettingtypes uniqueselection getdefaultselection
see org argouml uml reveng importcommon getimportlevel
todo concatenate \? tfm overwrite now
see org argouml uml reveng settingstypes booleanselection isselected
end class stylepanelfigrrect
let parent do its refresh
see org argouml uml reveng importcommon isdiagramlayoutselected
lets redraw box
see java awt component getpreferredsize
gridy gridx jlabel threelabel new jlabel asd gb setconstraints threelabel mainpanel add threelabel
called when user selects tab by clicking or otherwise see javax swing event changelistener statechanged javax swing event changeevent
see org argouml uml reveng importcommon ischangedonlyselected
we do n't know what thread events will be delivered on so make sure we run swing methods on swing thread
this instead of label \? \? \? displaypane setborder new titledborder translator localize display
eclipse uml implementation classes often start with uml non nls
add in front of others add label in front of pane
and finally adjust scrollbars to show fig
see javax swing event treewillexpandlistener treewillcollapse javax swing event treeexpansionevent
thresholds bar color changes
record changes in instance variables of our parent tell gef and trigger edges to reconsider themselves
making it possible to jump to modelroots
readonly class no generalization no association to self
timer action method periodically update our stats and force repaint
see org argouml cognitive ui wizstep settarget java lang object
virtual memory heap stats
thin bar to show current allocated heap size
gridy gridx jlabel offlabel new jlabel off gb setconstraints offlabel mainpanel add offlabel
todo assumes public user pref default visibility \? do have to check namespace here \? toby
how to handle empty target lists \? probably multieditorpane should only show empty pane in that case
todo qualifiers const todo stereotypes
private jpanel constraintstab new jpanel
child sometimes not found when tree being updated
private jtabbedpane tabs new jtabbedpane
tabs setminimumsize new dimension
see org argouml uml reveng importsettings iscreatediagramsselected
private jpanel modifiedtab new jpanel
activitygraph
private jpanel tagvalstab new jpanel
open space at gridy
mainpanel add north borderlayout north
see org argouml uml reveng importsettingsinternal isdiagramlayoutselected
any type
see java awt event actionlistener actionperformed java awt event actionevent
see java util list listiterator
if this fails then there problem dthompson it seems that returned value irrelevant here so assume that purpose of this call just to throw exception in case of problem
this text developers it does n't need to be localized
see org argouml uml diagram ui figedgemodelelement modelchanged java beans propertychangeevent
these should n't really be instead of elements but lines all get run together when pasted into browser window
initconstraintstab tabs addtab translator localize tab constraints constraintstab tabs setenabledat false
see tudresden ocl check types type navigateparameterized java lang string tudresden ocl check types type
inittagvalstab tabs addtab translator localize dialog find tab tagged values tagvalstab tabs setenabledat false
secondly we check previous model structure
end class finddialog
if we got back null we interpret this as meaning delete reference to extension point from use case otherwise we set fields of extension point to values in newep
name in dname
string of form location this will be confused by string so we pick this out as instruction to clear both name and location
set name and icon
help tab
dialog box to list all critics and allow editing of some of their properties todo supported goals critic network
end rungc actionperformed
end class predicatemtype
follow well formedness rule class determine owning namespace statemachine
end updateinfo
end class navigatorpane
end copy actionperformed
end class systeminfodialog
clean history
see org argouml cognitive poster expand java lang string org argouml cognitive listset
but exclude elements that enclose others since their algorithms to calculate minimum size does not take enclosed objects into account
super translator localize action size to fit contents
see org argouml uml util namespace namespace getcommonnamespace org argouml uml util namespace namespace
unsupported
see org tigris gef base modecreatefigpoly createnewitem java awt event mouseevent int int
only resize elements which user would also be able to resize
see org argouml uml reveng importsettingsinternal ischangedonlyselected
set name
if location non null convert to rectangle that we can use
let 's load default shortcut every action
end class actionfind
see org argouml uml diagram ui figedgemodelelement getnamebounds
generate menu
it should never go here
view menu
file menu
see java util collection toarray
align submenu
edit menu
create menu
arrange menu
see org argouml uml diagram ui fignodemodelelement updatelisteners java lang object java lang object
help menu
this id used as default id
end class actionaboutargouml
distribute submenu
see org argouml cognitive critics critic addsupportedgoal org argouml cognitive goal
end class actionpagesetup
skip lines
trap focus traversal keys also
let 's add key printing logic
both lists have same length
we 've found matching tag but do we have correct instance with matching attributes \?
if we drop out here there no match and we have no problem
if not default current shortcut added then we have to save it
see org argouml uml diagram ui figsinglelinetext removefromdiagram
if actual not going to be saved then try to remove it as it could have been cancelled
this pair of params where same lets check next pair
no modifiers let 's check if key valid
method collect data and assign later in endelement method hashtable ht new hashtable ht put classname classname ht put figclassname figclassname ht put ownerhref ownerhref ht put angle angle ht put offset offset pathitemattrs add ht
middle of shortcut
add last recently used list before exit menu
see tudresden ocl parser analysis depthfirstadapter outaemptyfeaturecallparameters tudresden ocl parser node aemptyfeaturecallparameters
keystroke keystroke getkeystroke keyevent vk
and exit menu entry starting with separator
this used to be deferred but it 's only msec of work
now let 's set up selected action container
get all features giving up if there none then loop through finding all operations each time we find one we compare its signature with all previous held in collection operseen and then if it does n't match add it to collection
generate add actions generateweb
add help menu item
if pathitemplacement unknown leave diagram with default settings
see java awt event windowlistener windowclosed java awt event windowevent
create edit toolbar based on menu all menuitems that have icon presumed to be based upon action and these actions used in toolbar
sethelpmenu help
this code has to go within startelement block after strings have been matched
component or action
set maximum length of menu entry
see org argouml application events argonotationeventlistener notationprovideradded org argouml application events argonotationevent
jmenuitem item filemenu add new actionreopenproject filename
see org argouml uml diagram ui figedgemodelelement textedited org tigris gef presentation figtext
text used by event handler opening project
create all nessessary configuration keys lru
holds file menu
text short tooltip long
read existing file names from configuration
empty entry stops reading last line
this recent count
delete all existing entries
see java io filefilter accept java io file
add new entry as first entry
add other existing entries but filter just added one
save count
and store configuration props
see org argouml model umlhelper addlistenerstomodel java lang object
end class actionexit
box setlocationrelativeto jframe
see org argouml model modeleventpump removemodeleventlistener java beans propertychangelistener java lang object java lang string
end class actionhelp
instantiation not allowed
end class actionprint
let 's add table inside jscrollpane
init from config read number write result as new default and prepare keys
get already existing names from menu actions real file names not action names
see org argouml model modeleventpump addclassmodeleventlistener java beans propertychangelistener java lang object java lang string
let 's enable radiobuttons container
amount to increment position by each node placed we pack them densely on assumption that user going to split them into at least two swimlanes
updating radiobuttons container 's title
let 's select correct radio button
see org argouml model modeleventpump removeclassmodeleventlistener java beans propertychangelistener java lang object java lang string
no shortcuts none
current shortcut default default
customized shortcut custom
update values
let 's reload shortcuts
see org argouml model corehelper clearstereotypes java lang object all methods below similarly override methods in corehelper
saving shortcuts
if id does not look like top level fig then we can assume that this id of figedgeport inside some figedge so extract figedgeport from figedge and return that as fignode
if shortcut has been select then we have to check if actual action in conflict with other ones
see org argouml model modeleventpump startpumpingevents
blanking old action 's shortcut and now refreshing table
re selecting old row without changing target and without throwing another listselectionevent
give priority to standard documentation tag
let 's change target
we looking first to match with different constructor types we would not expect fig to have any mix of these any constructor other than these should be deprecated so we look these first fig diagramedgesettings diagramsettings fig object rectangle diagramsettings fig rectangle diagramsettings
duplicate shortcut not found let 's check duplicates
there 's duplicate let 's recheck if there conflict
see org argouml model pseudostatekind getdeephistory
updating shortcut field
see org argouml model concurrencykind getconcurrent
updating table data
see org argouml model aggregationkind getcomposite
shortcut has already been assigned to another action
verify snoozeorder starts off not snoozed
if given object keystroke instance then we ca
let 's update also actions array
see org argouml model changeablekind getchangeable
see org argouml model pseudostatekind getchoice
see org argouml model directionkind getoutparameter
default nr of rows but since we have perspectives by default now setting to nicer
in uml name only place to store text in uml there body as well but some tools still seem to use name
check if multiple items selected
noneditable applied profile
just no item added in this case
designgoalscm checks if critic isrelevanttogoals of designer this value always true critic base class so designergoal should always return true in this condition
editable unapplied profile
see org argouml uml diagram ui abstractactioncheckboxmenuitem togglevalueoftarget java lang object
end of profile section
todo these should get replaced immediately by creating initialization code but make sure we 've got default just in case
ca n't delete last top level model
check that model initialized with one goal
determine if only diagrams in target list
see org argouml model concurrencykind getguarded
nodes and edges
extra care to be taken since allposters can be reset while this method running
test if this element can be contained by target
see org argouml model orderingkind getordered
iterate through all possible model elements to determine which valid to be contained by selected target
end class actionaddexistingrelatednode
otherwise we select item below mousepointer
dialog modal
unimplemented we only care about expanding
end class explorermouselistener
fire all of profile events
does nothing
need to update selection state
get elements
block added by bobtarling jan set checkbox on or off according to selected value of action if no selected value found then this defaults to true in order to remain compatible with previous versions of this code
scan visible rows duplicates of this elem and select them
check which targetmanager method to call
see org argouml uml diagram ui pathcontainer ispathvisible
we must call correct method on targetmanager each added or removed target
we have to give message to user and set system to unsaved
we ca n't remove targets in one go we have to do it one by one
settargets getnewtargets
at top right bottom left bottom
override superclass to do nothing fill property cannot be changed
sortjlistmodel rulelibrarylist
see org argouml model orderingkind getunordered
see org argouml model directionkind getreturnparameter
see org argouml model activitygraphshelper findclassifierbyname java lang object java lang string all methods below similarly implement methods from activitygraphshelper
remove ones already selected if perspective selected
see org argouml model aggregationkind getnone
add them
see org argouml model scopekind getclassifier
see org argouml uml reveng importsettings getimportlevel
update label which shows number of rules
see org argouml model pseudostatekind getfork
must add editable list of new explorerperspective 's to list model so that original ones not changed in case of cancel action by user
see org argouml uml reveng importsettings isminimisefigsselected
set newly selected item in library list
see org argouml model aggregationkind getaggregate
name of umldiagram represented by this node has changed
uml model events
notation events
handle remove non uml elements diagrams
get selected targets uml modelelements from targetmanager
to persist to and from zargo zipped file storage containing seperate xmi argo plgml and todo zip entries author bob tarling todo review use of this against zargofilepersister bob
project events
namespace
get one of default profile dirs if available as default value following save dialog
save profile
register it as user profile
if laf metal either set explicitly or as default
load user perspectives
get perspective name
make sure there some rules
get rules
get rule name
create rule
rule name but no rules
this method can be called only if there 's valid selection so go ahead and remove whatever 's selected
add perspective
no user defined perspectives
one last check that some loaded
see org argouml uml diagram ui figeditablecompartment getnotationtype
works both statediagram as activitygraph
enter here go rules only relevant uml empty now
drag gesture recognizer fires events in response to drag gestures in component
specifies valid actions
see org argouml ui targetmanager targetlistener targetset org argouml ui targetmanager targetevent
eliminates right mouse clicks as valid actions
get cell renderer which jlabel path being dragged
layout manager would normally do this
see java awt dnd dragsourcelistener dragdropend java awt dnd dragsourcedropevent
get buffered image of selection dragging ghost image
now paint gradient under ghosted jlabel text but not under icon if any
log log level fine slope theta math pi pi theta math pi
make gradient ghostlike
remember path being dragged because if it being moved we will have to delete it later
see javax swing table tablemodel iscelleditable int int
we pass our drag image just in case it supported by platform
implements source path controller note if requested in future this could be returned from language modules todo update this to use uml tagdefinition mechanism instead of uml string type tag types tagdefinition can be made more specific so that it just applies to components with stereotype or something similar tfm author euluis since
if destination not namespace then abort
see org argouml uml ui actionnewdiagram creatediagram
if destination datatype then abort
see java awt event actionlistener actionperformed java awt event actionevent
we sure dest namespace now
see org tigris gef util childgenerator gen java lang object
let 's check all dragged elements if one of these may be dropped then drag valid others will be ignored when dropping
remove rule from library list
empty implementation not used
figure out which row we 're on
if we not on row then ignore this autoscroll request
see org argouml ui explorer relocatable relocate java lang object
now decide if row at top of screen or at bottom we do this to make previous row or next row visible as appropriate if at absolute top or bottom just return first or last row respectively
set up hover timer so that node will be automatically expanded or collapsed if user lingers on it more than short time
isrootpath
set timer to one shot mode
this class temporary wrapper around gef undomanager this will be changed when gef modified to create commands and provide observer interface argouml to receive them todo how does this relate to link org argouml kernel defaultundomanager \? author bob tarling
log log level fine dragover
see javax swing action getvalue java lang string
next condition becomes false when dragging in something from another application
if drag image not supported by platform then draw my own drag image
rub out last ghost image and cue line
access methods program infrastructure
just rub out last cue line
in any case draw over ghost image if necessary cue line indicating where drop will occur
retrieve existing glasspane if old one already exist or create new one otherwise return null
and include cue line in area to be rubbed out next time
types can probably contain operations but we should not nag at them not having any
to prohibit dropping onto drag source
this element can be contained add menu item that allows user to take that action
if destination not namespace then reject
prevent hover timer from doing unwanted expandpath or collapsepath
clear ghost image
get new parent node
log log level fine adding resolution getclass cancreate
get model elements that being transfered
conflict detected showing warning to user instead of saving shortcuts
only accept copy or move gestures ie link not supported
we can not remove this and have application manage things directly based on font since only names should be bold
do this if you want to prohibit dropping onto drag source
make sure correspondence that we depend on does n't change
remove dependent modelelements such as statemachine statechartdiagram
end class
deployment diagram not just any namespace will do we need package
remove references gc
strip all characters out of that could not be part of valid java identifier return either given string if all characters valid or new string with all invalid characters stripped out this allows automatic conversion of strings containing punctuation and spaces to resource name that can be looked up
this should only be helpful old garbage collectors
avoid doing this too early in initialization process
see org tigris gef base modecreatepolyedge mousereleased java awt event mouseevent
avoid recursively updating same child
if one or other null or they not equal
types do n't need constructor
null elements represent new constraints which will be added to target first time any actual editing takes place this done to ensure syntactical correctness of constraints stored with target
see javax swing tree defaulttreemodel removenodefromparent javax swing tree mutabletreenode
enumerate current children of node to find out which now sorts in different order since these must be moved
avoid our deinitialization here node will be added back to tree again
each reordered node find it 's new position among current children and move it there
avoid our initialization here
collect current set of objects that should be children to this node
handle weakexplorernodes
remove node from removeset
remove obj from weaknodes and newchildren
we need to fill whole pane so that description field can take all available space
add any remaining nodes
it combo order
order new children dependencies cannot and need not be ordered
only refresh tab if bounds propertychange event arrives see org argouml ui stylepanel refresh java beans propertychangeevent
todo what \?
see org argouml ui stylepanelfig settargetbbox
newly selected tab may have stale target info so generate new set target event it to refresh it
tabresults has really large preferred height so divide in half to reduce size of dialog which will be sized based on this preferred size
responsibility of determining if given target correct one this tab has been moved from detailspane to member tabs of details pane reason this that details pane configurable and cannot know what 's correct target some tab
see org argouml ui stylepanelfig refresh
abstractions represented in inheritance node
only return once per diagram so we do n't example find class as diagram element and also as child of package which on diagram
jtabbedpane tabs new jtabbedpane mainpanel add tabs borderlayout center tabs addtab all diagrams alldiagrams
name of this instance of diagram
fig designed to be child of some fignode or figedge to display stereotypes of model element represented by parent fig currently multiple stereotypes shown stacked one on top of other each enclosed by guillemets minimum width of this fig largest minimum width of its child figs minimum height of this fig total minimum height of its child figs owner of this fig uml element that extended with stereotypes we listening to changes to model addition and removal of stereotypes this fig supports showing one keyword as first stereotype in list there no way to remove keyword fig once added todo allow uml style display where all stereotypes displayed in same guillemet pair and delimited by commas style should be changeable by calling getorientation orientation swidget orientation class can be used this author bob tarling
tree nodes
needs to happen after initialization done modules loaded
see org tigris gef persistence pgml handlerfactory gethandler handlerstack object string string string attributes
string log configuration same string found in link org apache log configuration default configuration file but if we use reference then log configures itself and clears system property and we never know if it set if it set then we let static initializer in link argo perform initialization
in uml some elements not to be shown
reason gui initialized before commands run that some of commands will use projectbrowser
do n't show profile application
do n't show element imports in profiles
do n't show extensions in profiles
model getfacade isaproperty
do n't show base properties in stereotypes
notify user that modules in list that selected but not enabled not possible to enable and that not selected that we cannot disable currently we just log this todo we could eventually pop up some warning window
na or nodes and edges
also show unattached sequence diagrams
subclass of jpanel that can act as tab in detailspane or multieditorpane added functionality spawning when tab double clicked this jpanel will generate separate window of same size and with same contents this almost like tearing off tab todo spawning of windows disabled in spawn title this jpanel keeps track of its own title icon this jpanel keeps track of its own icon arrow pointing to panel that it gives details of orientation this jpanel orientable cloning this jpanel may be cloned this class used to be named tabspawnable renamed since it not tab but panel and being spawnable not any more its main purpose
see tudresden ocl parser analysis depthfirstadapter caseafeaturecall tudresden ocl parser node afeaturecall
transition
disabled since it gives various problems toolbar icons get too wide also default does not give new java looks swingutilities updatecomponenttreeui swingutilities getrootpane this
todo what \?
todo what \?
see org argouml model visibilitykind getprotected
org argouml ui tabtable tabmetrics tabjavasrc tabsrc tabumldisplay tabhash
if nothing selected go to last selected target
see java awt component getsize
needed argo startup
targets contains target
targets remove target
jpanel north new jpanel north setlayout new borderlayout north add tabs borderlayout center
utilities usually do not require constructor either
some subclasses will try to use this
let 's load current shortcut from configuration as string
implement set like behaviour same element may not be added more then once
cannot break here since object can be multiple times in history
figclass calls setboundsimpl before we set stereotypefigprofileicon
commentedge owner of figedgenote
write any left over bytes in input buffer perhaps from partially decoded character
check if there new elements in list if old and new list of same size set oldtargets to correct selection
if not found try parent namespace
listen removal of diagrams from project
see tudresden ocl parser analysis depthfirstadapter outaenumliteral tudresden ocl parser node aenumliteral
figs on diagram without owning model element
end class documentationmanager
todo needs localization
end class childgenrelated
adds all stereotypes defined at top level namespaces
and now remove them
creation of actual gui elements deferred until they actually needed otherwize we have problems with initialization
collect to be removed stereotypes
we preserve current multiple selection if we over part of it
name of this type of diagram
add stereotypes
loop through each element in namespace recursing
check to see if all targets classifiers before adding option to create association between them all
instance
all other model elements return any elements associated in any way
target may appear multiple places in tree so we do n't stop here but it 's expensive to search whole tree tfm targets remove break
adds all stereotypes defined at profiles applied to current project
tablemodel implementation
name of this type of modelelement
see org tigris gef presentation fig getclosestpoint java awt point
name of this instance of modelelement
name of parent diagram instance
not safe to presume destination comment
this also sets target as convenient side effect
notationprovider classifierrole syntax uml baselist base base classifierrole name role baselist name instance name not used currently see classifierrolenotationuml details this syntax compatible with uml specification
this tooltip of comment link
see java io filefilter accept java io file
class
\? \?
see javax swing event treeexpansionlistener treeexpanded javax swing event treeexpansionevent updates selection state
association
attribute
if we have no source and dest connector then we assume this load of old uml diagram from before this data saved in pgml uml we can assume source first connection and destination last connection stored in repository this association
state
first argument component to associate target with second argument droptargetlistener
operation
interface
link
see java lang throwable printstacktrace
umlreserved add document
if requested height equals needed height then do nothing it fits exactly
replace all occurances of offender with name of first offender
ask cell renderer to paint itself into bufferedimage make image ghostlike
check all uppercase andor mixed with underscores
umlreserved add file
umlreserved add node
mvw these wfrs datatype datatype can only contain operations which all must be queries self allfeatures forall ocliskindof operation and oclastype operation isquery datatype cannot contain any other modelelements self allcontents isempty imho we should enforce these wfrs here so it still possible to copy or move query operations hence we should allow this
umlreserved add send
modelelement must have been deleted ignore this it will pass
umlreserved add destroy
self allconnections forall ar ar participant self
end class crcircularassocclass
see org argouml uml diagram ui visibilitycontainer isvisibilityvisible
mattribute
clear out queues
copy returned parameters because it will be live collection mdr
see java awt dnd droptargetlistener dragenter java awt dnd droptargetdragevent
if name only underscores
this somewhat inconsistent with design of constructor that receives root object by argument if this okay then there may be no need constructor with that argument
see javax swing icon painticon java awt component java awt graphics int int
see org argouml uml diagram ui visibilitycontainer setvisibilityvisible boolean
see javax swing tree defaulttreemodel insertnodeinto javax swing tree mutabletreenode javax swing tree mutabletreenode int
umlreserved add copy umlreserved add create
end class clattributecompartment
remember that children not treenodes but userobjects
check whether constant constants often weird and thus not problem
why we here \?
if classifier does not have name then no problem model not finished anyhow
added by eric lefevre mar we must check if figtext attributes drawn before drawing things over it
abstract elements do not necessarily require associations
see javax management notificationlistener handlenotification javax management notification java lang object
added by eric lefevre mar we must check if figtext operations drawn before drawing things over it
see tudresden ocl parser analysis depthfirstadapter outastringliteral tudresden ocl parser node astringliteral
special cases use cases extending use cases and use case that being included not required to have associations
use cases we need to check extendincludes actors cannot have them so no need to check
association that triggered critic its just possible association no longer there in which case we return null
end class cloperationcompartment
now create five options
in uml we do n't want to see element imports in profiles
get names of two ends if there none they currently anonymous use argouml convention of anon names
default any other step to return nothing
set appropriate aggregation on each end
see org argouml uml diagram ui figedgemodelelement updatelisteners java lang object
start composite aggregation of end
start shared aggregation of end
end composite aggregation of start
end shared aggregation of start
no aggregation
see org argouml uml diagram ui fignodemodelelement addenclosedfig org tigris gef presentation fig
someone took our association away
first get collection of elementresidence
ca n't finish if our parent ca n't
can finish if it 's step
can finish if we 're on step and have actually made choice
otherwise we ca n't finish
todo wfr does n't restrict this to classifiers tfm
performs critique asap see java beans propertychangelistener propertychange java beans propertychangeevent
see java awt dnd droptargetlistener dragexit java awt dnd droptargetevent
model getfacade getmodelelement
if script of action empty or only specifies arguments and no method name then we generate string based on different model element
umlreserved add initial umlreserved add final umlreserved add fork umlreserved add join umlreserved add history
check if there no ocl end if so critic expression not correct and can not be expanded
see org argouml uml diagram layout layoutededge layout
thestereotype setstereotype \? \? \?
display related methods
create different client to bind to same supplier
end class crinterfaceallpublic
return original string if no replacements made
types can probably have associations but we should not nag at them not having any utility namespace collection also not strictly required to have associations
if we drop out there no problem
see org argouml uml diagram static structure layout classdiagramnode isstandalone
only look at associations
see org tigris gef graph graphfactory makegraphmodel
end class crcrossnamespaceassoc
todo different critic packages consisting only of references to elements of other packages \?
next associationend and its classifier check classifier in namespace of association if not we have problem
original class not abstract
see tudresden ocl parser analysis depthfirstadapter caseaunaryunaryexpression tudresden ocl parser node aunaryunaryexpression
nothing to do
see if there already element with same name
see org argouml uml diagram static structure layout classdiagramnode getweight
end class crclassmustbeabstract
end class cruselessabstract
see org argouml uml diagram static structure layout classdiagramnode getrank
mclassifier
found concrete subclass
see org argouml uml diagram static structure layout classdiagramnode gettypeordernumer
end class crtoomanyassoc
end class cruselessinterface
end class crcomponentinstancewithoutclassifier
check that parameter lists match
end class crtoomanyclasses
utility namespace collection also not strictly required to have operations
see org tigris gef base diagram setname java lang string
we do n't consider secondary stuff
see org tigris gef graph mutablegraphmodel containsnode java lang object
newedge setdielement graphchangeadapter getinstance createelement gm edge
end gef methods
not allowed
return
todo comments on element in uml
there constructor
create diagram this arg version only internal use 'namespace' argument deprecated and not used in new apis
see profilemodelloader loadmodel profilereference
this should n't be possible but just in case
end class crtoomanystates
create uml connection of given type between given model elements default aggregation none
commentlinks comments iterate over all comment links to find comment and annotated elements
connection not valid unless both nodes in this graph model
yeah right we do n't have operation and thus no
important these must remain in order
check that names match
singleton no instantiation
special value null used internally to indicate that default value should be inherited from next level of settings
both lists have same length
repeat until no faults fixed
diagram appearance settings with project scope
if array has n't been flagged to indicate otherwise swap elements elements and add again
some cached fonts based on above settings
if we 've got local uninherited font name or size or if we 've got no parent to inherit from recompute our cached fonts
types can probably have variables but we should not nag at them not having any
listen name changes so we can veto them if we do n't like them
see org argouml model modeleventpump stoppumpingevents
get all classes from diagram
only classes with name need constructor
see org tigris gef base command execute
report
if we find instance variable that not constant we have succeeded
de selects fig minimising layout if we not creating diagrams
we can give up looking if we 've hit both criteria
end class crnoinitialstate
if we drop out we did n't meet both criteria and all well
make sure that all figs visible
create chooser objects we to import old style modules get to provide their own although do n't believe any of them do while new style modules get chooser provided by us which matches what abstract class fileimportsupport used to provide
make sure all figs in diagrams layer refer back to that layer
maybe we have modelelement that part of some other fig
register notification of any global changes that would affect our rendering
make sure all fignodes and figedges have owner report
make sure all figedges attached to valid fignode report
make sure all fignodes and figedges have valid owner report
do nothing override in subclass
if we have n't succeeded in getting namespace then abort
this should always be true but just in case
diagram to be laid out
point at which to start layout initial state goes here coordinate must be greater than half width of widest figure to be placed because figures centered on this location
finalstate element activitydiagram
find our initial state
place all nodes
place final state last with little separation
get first editable extent which ok unless there more than one editable extent
if we 're trying to set namespace to existing value then do n't do any more work
figclone seperator figline it next
needed project deletion
we want to maintain minimum size partition
todo midpoints side handles
we removed last partition so now remove pool too
no action required in case of veto on setname
this test needed project deletion
todo side handles
listen to activitygraph deletion delete this diagram
actions toolbar
no action required
namespace of activitygraph changed
getactionsubactivitystate
space between text figs padding see org tigris gef presentation fig getminimumsize
model getactivitygraphshelper isaddingactivitygraphallowed base
todo we may return following when relocate has been implemented
todo we may return something useful when relocate has been implemented
register events from type
create map of partitions keyed by coordinate
sort coordinates into order
state name
if layer null then most likely we being deleted
do n't listen to all property names we only need to listen to its type and remove
height of blank space above and below text figs
and listen to name changes of submachine
both have same settings
both have same owner
add them back to front
let our superclass sort itself out first
add listeners to newowner
set up property panels activity diagrams
overrule single line name fig created by parent
setblinkports false make port invisible unless mouse enters
todo do we need to clone stereotype \?
mgeneralization
width needs to be height
todo \?
mclassifier node setnamespace collab getnamespace
add given edge to graph if valid see org tigris gef graph mutablegraphmodel addedge java lang object
stereotype width same as cover height its default since font not yet set text should be centered
throws propertyvetoexception
getstereotypefig setfilled false
end class collabdiagramgraphmodel
in rather unlikely case that we have no name we give up
big port color of big port irrelevant
cover
at least one stereotype visible
remember where we at present so we can tell gef later then check we as big as minimum size
set bounds of bigport and cover
work out padding each side depending on whether stereotype displayed and set bounds accordingly
singleton
this one behaves differently hence seperated
end class figassociationrole
figs that make up this group
first getx first gety
set up property panels collaboration diagrams
this neat
elementordering figures
set up property panels deployment diagrams
getters plugin modules
so it still looks like cube
bigport setbounds
nothing extra to do currently
end class predisstartpackage
end class statediagramgraphmodel
do n't do it comment
melementimport
mtransition
if uml object found you can not remove selected elms
check parameter types
if nothing selected then not allowed to remove it
returned list of figs sorted according layout from top to bottom
if only figs without owner selected then you can remove them
end class predisfinalstate
this presumes that layer set after owner
we only handle case where region has been removed
if it concurrent and contains concurrent regions regions resized
none of menu items below apply when multiple modelelements selected
do we need to
event source owner stub state
end class figcompositestate
event source submachine state
targetmanager getinstance addtargetlistener this
ignored fixed rendering
event handlers
submachine has got new name
this indicates change in association not name tfm
all states in new reference state 's path added as listeners
source referenced state that has got new name
ignored rendering fixed
old submachine container deleted as listener
referenced state or one of his path 's states has got new name
new submachine container added as listener
all states in old reference state 's path deleted as listeners
translate any old style sequence diagrams
translate any sequence diagrams create with any previous svn work in progress
get first existing fignode and if it exists set position and height of pers to be same as it
ignore mouse clicks
this assert fails testpropertypanels file guitestpropertypanels zargo
assert
machine state has been deleted from model
ignore and from here on
leave some space below include
file loadsave gets done on background thread so we 'll probably have to queue this to swing event thread
see org tigris gef graph graphedgerenderer getfigedgefor org tigris gef graph graphmodel org tigris gef base layer java lang object java util map
and parameter of its operations
noop fixed rendering
there no regions so create one and place vertex there
setblinkports false make port invisble unless mouse enters
there can only be one
group must be resized if text field exceed bounds
concurrent region cannot have incoming or outgoing transitions so incoming or outgoing transitions redirected to its concurrent composite state container
cat debug note todoparser handlestarttag getname
see java awt event mousemotionlistener mousedragged java awt event mouseevent
or just owner \?
listen to machine deletion to delete diagram
this in case we being deleted
namespace of statemachine changed
model getstatemachineshelper isaddingstatemachineallowed base
set up property panels statechart diagrams
mmodelelement modelelement elementimport getmodelelement
top of hierarchy me
then generalizable element
then classifier package
navigable only want incoming
then classifier
cast params
set new end type
rerouting destination
rerouting source
empty at moment
move down
move more right
move left
use left and right up and down
amount of sidestep
currentedge setbetweennearestpoints false
log debug result node this node node
split split null split isstandalone \? node split
xoffset curw
element allowed but only namedelement can return nonempty list
end class actiongotodiagram
link does not exist in uml
text group to contain name stereotype
end class figlink
stereotype covers namefig
compartments from top to bottom
by default do not show operations nor attributes
we 're going to change name immediately so just use
todo place comments near connected classes todo place from middle towards outer edges \? or place largest groups first
boolean haspackages false todo move package in row to noderow
initpreinitialize initializesubsystems new simpletimer null argoframe getinstance setvisible true
since uml this must appear before isaclass clause
this rectangle marks operation section all operations inside it
nd compartment so adjust appropriately
visibility
collect set of model elements that we want to listen to
check if any stereotype defined
and its features
modifier
add
there boxes showing lines tab and body
this populates stereotypes area
else nothing changed
on uniprocessors wait until we 're sure splash screen has been painted so that we n't competing resources
we got at least one stereotype
user wants to hide them
if we have any number of stereotypes displayed then allow some space that only width height included in namefig
take into account tab not as wide as body
we want at least some of package body to be displayed
and now asize has answer
save our old boundaries needed later and get minimum size info asize will be used to maintain running calculation of our size at various points
new size can not be smaller than minimum
now sort out stereotype display if stereotype displayed move upper boundary of name compartment up and set new bounds name and stereotype compartments and stereolineblinder that blanks out line between two
pixel overlap
set bounds of big box
figpoly located at right edge of namefig namefig size such that it at least fits its text and figpoly next to text making package bigger causes figpoly to stick to right edge
now force calculation of bounds of figure update edges and trigger anyone who 's listening to see if bounds property has changed
only show menuitems if they make sense
save first
while
and its stereotypes
try to create new class diagram
if package
if doubleclicks
change prefix
end class figpackage
end class stylepanelfigpackage
in deploymentdiagram there no generalizations
self association n't draggable
end class stylepanelfiginterface
no generalizations on deployment diagram
use super because not fully init 'd
and now add listeners to them all
next line needed so that we have right dimension when drawing this fig on diagram by pressing down mouse button even before releasing mouse button
set bounds of figure to total of above
if moved into package
testing add parameter to operation on interface does interface fig adapt its width \?
set up property panels class diagrams
figure that holds text of note
get size of text field
parse text that edited
resize text figure
resize fignode to accomodate new text
not used do nothing
resize big port around figure
text element has no border so line color does n't matter
text always opaque
\? line width \?
see org tigris gef graph graphnoderenderer getfignodefor org tigris gef graph graphmodel org tigris gef base layer java lang object java util map
make seamless integration of text in note figure
user interaction methods
accessor methods
if we have stereotype displayed then allow some space that width and height
and add gaps around textfield to get minimum size of note
just move corner to it 's new position
internal methods
all connected edges
only adjust stereotype height if we not newly created this gets round problem of loading classes with stereotypes defined which have height already including stereotype
whatever happened we no longer newly created so clear flag then set bounds rectangle we have defined
end class stylepanelfigclass
todo get tip string from comment
this one still usable so let 's retain it
see org tigris gef presentation figedge setsourcefignode org tigris gef presentation fignode
element will normally be null when called from pgml parser it will get it 's source destination set later in attachedges
unimplemented
alternatively we could just return null here so that you can not create comment just linked to comment this way which bit uncommon but not illegal so consistency we better allow it
return null
class to display stereotype declaration figure using classifier box notation todo this just place holder right now tfm this needs to show tags and constraints
add
show
register tagdefinitions
todo constraints
see javax swing abstractaction isenabled
avoid gef calcdrawingarea bug when nothing in diagram
no generalizations in deployment diagrams
diagram image data
copy gif image to clipboard
hide grid otherwise ca n't see anything
bigport setfilled
background color
pixel padding after compartment
set up hide all show all
perform action
only bigport may be filled
\? line width \?
see parent
we remove all of them
but its position may have been changed
bounds not relevant here but am perfectionist
we need to set new notationprovider since notation language may have been changed
add it again but now in right sequence
now put text in we must handle case where text null
find compartment fig this umlobject
override superclass to do nothing line width cannot be changed
override superclass to do nothing line width property cannot be changed
aggregation
end class actionsrcmultonetomany
todo set font \?
to circumvent too many registered listeners
this shortcut already been assigned to another action let 's pop up message user
ending editing
used by pgml tee
actually return figedge that figedgeport part of
throw new illegalargumentexception
updating actions
here actions to divide region
st region has invisible divider line box always invisible
throw out any previous elements that enclosed but not concurrent region let 's move them onto first region
linewidth \?
divider line should be visible so no need to change its color
make composite state region higher
look dashed edge
we have dashed edge now find opposite fignode
prevent triggering too many events by setname
not \? \? \?
do nothing
do nothing
consume to stop other modes from trying to take over
marker interface only
or vice versa \?
provide feedback to user that their name not accepted
do not show border line make transparent
cleanup of unused figtext 's
todo this does n't do anything special with keywords they should probably go first
there one fig more in group than stereotypes keyword
keyword fig already exists
bounds not relevant here
stereotype fig already exists
remove all stereotypes that have graphical icon
todo check
set new bounds all included figs
stylepanelfigclass relies on getpaneltarget to return figcompartmentbox
get class box because we will set it 's bounding box
get class box because we will set it 's bounding box in text field
keyword fig does not exist yet let 's create one
keywords which look like stereotype have no owner
if there no stereotypes we return preventing double lines in class see issue
end class stylepanelfigassociationclass
constructors
main methods
create singleton if it does not exist and then return it
when new target selected we have to check if it 's use case then icone add extension point have to become enabled
create new extension point and make it browser target then invoke superclass action method
end class actionaddextensionpoint
if there bits of association class then remember their location and path
create new fignodeassociation and locate it
add association ends to graph model
add edges such as comment edges that on old figassociation to our new fignodeassociation and make sure they positioned correctly
see java awt dnd droptargetlistener dragenter java awt dnd droptargetdragevent
see java awt dnd droptargetlistener dragover java awt dnd droptargetdragevent
see java awt dnd droptargetlistener dropactionchanged java awt dnd droptargetdragevent
multiplicity
end class modecreateassociation
umldiagram dia doesaccept dtde getsource
new height can not be less than name height
system err println nullpointerexception ignored
end class spfigedgemodelelement
system err println nullpointerexception ignored
get all our sub figs and hit them with big stick too
only show path item when there owning namespace
enumerate all selected figures and update their path accordingly
compartments
add
height of name fig \?
line width \? or extra padding \?
set properties of stereotype box
namefig transparent since this box and fill color drawn by bigport
use asize to build up minimum size start with size of name compartment and build up
only take into account stereotype width not height since height included in name fig
add height of all compartments if there any and check their minimum width
save our old boundaries so it can be used in property message later
now new namefig height will include stereotype height
check uninitialised instance variables and constructor
calculate minimum needed height all compartments
increase height of fig
finally set bounds of big box and border fig
hide compartment
hiding one compartment means that fig returns to minimal dimensions
see org tigris gef base pathconv stuffpoint java awt point
see org tigris gef base pathconv setclosestpoint java awt point
show compartment
forcerepaintshadow
update diagram and other users of these settings
jve decl index visual constraint
find point offset on line that gives correct offset
default angle deg
boundary condition in gef make sure this less than not equal
check collision between our computed position and edge
increase offset by px at time
get points representing poly line our edge
increase offset by increments until we 're clear
if we timed out give it one more try on other side
count limit
log log level fine final point count result offset of scaledoffset
segment size computing slope
if our position clamped try to make it up on other end
ca n't get slope of point just return arbitrary point
this should n't happen because of our line segment size check
we 're going vertical goose in top gun
arctan only returns pi to pi handle other two quadrants and normalize to pi
quadrant ii iii
quadrant iv
set following some backward compatibility with old algorithm
add displacement angle to slope
transform to pi range if we 've gone all way around circle
compute our deltas
load standard colour just add alpha channel
should never get here if we do return inner point
called by propertychange
this does calcbounds
see org tigris gef base diagram getclassandmodelid
following default implementation diagrams of which owner namespace
source source position destination destination position number of objects to be copied
unnamed
different lengths
todo should update to size of diagram contents
next statement gives us clone jgraph but not cloned toolbar
see org tigris gef event modechangelistener modechange org tigris gef event modechangeevent
remains selected
old selection
target might not have been initialised yet
add to selection
assuming target some model element
how to handle empty target lists \? probably tabdiagram should only show empty pane in that case
any swing work done here needs to be queued to awt thread since we do n't know what thread our event will arrive on
redrawmanager lock
getlayermanager getactivelayer paint
this makes text not touch text border line
certain types of fixed text figstereotype with keyword may not have owner
now we link it to modelelements which represented by fignode
update all tools' enabled status
remember fig later
let 's build comment first unlinked
prevent associationclasses from being added trice
select new comment as target
create node fig comment itself and draw it
create comment links and draw them
if we 're drawing from edge
non nls
user made false start
so target massociationrole
mvw this not correct way but it allows connecting commentedge to it see actionaddnote correct way testcase select message click comment tool
end class actionaddmessage
let 's use groups to construct different text sections at association
this only happens if model change events arrive before we completely constructed
equation of circle
max distance set at pixels rsquared
east
see org tigris gef presentation fig propertychange java beans propertychangeevent
end class figassociation
no need to listen to these property changes notationprovider takes care of this
new string name visibility stereotype
these list of arrow types
added to arrow type navigable
finished editing parse text that edited only role editable hence
figedge showhelp role getparsinghelp role settext
pass everything else to superclass
end class actionnavigability
fonts and colors should get updated automatically contained figs
there none
only initialized to prevent warning
not supported this target
make space clarifier margin between text and border
add listener changes to any property
used as instancespecification see umldeploymentdiagram
be careful here since subclasses could have overridden this with assumption that it would n't be called before constructors finished
this rectangle marks whole modelelement figure everything inside it
clone this figure after base clone method has been called determine which child figs of clone represent name stereotype and port todo enclosedfigs encloser and eventsenders may also need to be cloned see java lang object clone return cloned figure
idem here clone stereotypefig figstereotypesgroup clonefig
figclone polygon polygon polygon clone
utility function to unregister all listeners registered through addelementlistener see addelementlistener object string
see org tigris gef presentation fig getenclosingfig
add stereotype view submenu
node 's been placed on diagram
set namespace of enclosed model element to namespace of encloser
find all elementresidences between class and component
there no elementresidence yet so let 's create one
node 's been placed within some fig
there elementresidences strange case
there already correct elementresidence
owner already linked to component
we getting events we do n't want filter them out
only update bounds if they change
resize fignode to accommodate new text
todo should this not be assert \?
west
south
convert null to empty string and clear help message
it done
this enables direct text editing sub figs of figgroup object
either layer or owner null
default to do nothing
this test needed figpool
get model listeners removed
todo state vertex independent classes in uml
todo assert modelelement null \? \? \?
default name and stereotype no border
use diagraminterface to add classes to diagram
actionaddallclassesfrommodel
situation
we have edge uml modelelement
computeroute this recomputes route if you reload diagram
in case someone turns it on
do not allow fill to change we should see through text to color of main fig background
now force minimum dimensions text
now add areas around text to return complete size
calculate source and dest figs to self assoc
reset pointindex
check pre conds
set up
fig that under mouse when it released
and find fig
last top fig
check intermediate post condition
delegate re routing to graphmodels
set it to invalid number by default to make sure it set correctly
figpoly setfillcolor col
north
do nothing until code reviewed
todo do nothing until code reviewed
message
classifierrole classifierrole
simulate press of mouse above calculated point
calculate drop location and place every th element at offset proportional to
simulate release of mouse
make sure file does n't exist so user will get prompted to choose new name
overridden in order to implement pathcompartmentcontainer
do nothing by default
do n't allow drag outside of bounds of diagram
if user has selected modeplace either by diagram tool or addtodiagram then we do n't want to show clarifiers
remember what handle clicked case where drag released over empty space
transparent cyan
yellow
translucent green
super modecreatepolyedge class edgeclass model getmetatypes getassociation name
set this to true on to enable debugging figs
anchor position
todo uml does not seem to define this name or it \?
serialversionuid generated by eclipse
uml spec generalizations does n't call name
name stereotypes get updated by superclass
show it
fig calcbounds
we only take filename not whole system path
does not work getfoldername does not work getmessage getuid
todo key ca n't be null
bug fdietz cc should be in cc instead of to tolist addall arrays aslist rfcheader getcc
todo check if we have to manually set folderuid in message controller to make this work
bug fdietz cc should be in cc instead of to
fixme this not correct
fixme correct year calculation
fixme check if id correct file name
todo newuid generate correctly formatted date string
todo fix doctype
todo fix parser exception
fixme author fdietz no locking of folders currently implemented author frd
todo author fdietz should be removed if we only use streams
fixme author karlpeder proper version of html to refer to \?
this hack multiline column
todo author tstich do something
todo author fdietz
fixme remove method toolbarpane add
todo author fdietz
todo author hubms copied from frederiks search builder
real stupid recreation of whole list model replace with id based listmodel update
todo author karlpeder extend handling of special entities as in restorespecialcharacters
transforms email addresses into html just as substituteemailaddress string but tries to ignore email addresses which already links if ignore links flag set this extended functionality necessary when parsing text which already partly html fixme can this be done smarter directly with reg expr without manual parsing \? \? param input text param ignorelinks if true link tags ignored this gives wrong result if some mail adresses already links but uses reg expr directly and therefore faster return text with email adresses transformed to links
todo return content encoding according to mime part in mail
todo return content type according to mime part in mail
hack to support dockable view title update todo replace with listener pattern
todo stop polling thread \?
todo author hubms bad if there icon it tagged or not
todo categoryenumeration
hack if start and end time at it all day event
register interest on store changes todo dependency should be other way around
todo fix layout to look good even if there 's not enough information provided
fixme ugly cast to contactmodel
todo dont use deprecated method
todo must get polling interval from config file
todo reactivate when feature supported
if this folder has children add them todo in future we should try to fetch additional children on demand when tree of dialog opened
todo author fdietz add more special entities accenture chars such as \?
todo author waffel encrypt and sign dosn work message always only encrypted we need function that knows here encrypted and signed message thus first encyrpt and then verifysign message if this message signedencrypted we have to use gnupg to extract decrypted bodypart multipartencrypted multipartsigned
transforms urls into html just as substituteurl string but tries to ignore urls which already links if ignore links flag set this extended functionality necessary when parsing text which already partly html fixme can this be done smarter directly with reg expr without manual parsing \? \? param input text param ignorelinks if true link tags ignored this gives wrong result if some urls already links but uses reg expr directly and therefore faster return text with urls
todo author fdietz ensure that we do n't fetch individual headers to reduce clientserver roundtrips
\? \? \? bad to have release hardocoded here fix later right
todo open stream from mime part specified by contentid of currently viewed mail
something very wrong here
its maybe better to leave this option out of dialog make it configurable in xml file anyway
todo make this hack more compatible
todo move resources to resource file
todo use undoableeditevent to make this really work
todo should we take some action to ensure signature valid html \?
xxx should this be fired by different thread \?
todo add configuration of cache size
command executes search in case new result results arrive it ensures that all interested listeners notified from inside edt fixme fdietz no locking of folders currently implemented todo fdietz create new command every provider to introduce real parallel search author fdietz
xxx this not thread safe though luck it n't supposed to be
todo author fdietz move this to abstractmessagefolder constructor
todo should this be renamed to cloc or something more appropriate than clock \?
todo author karlpeder guess that right thing to do to get height as getdrawingsize getheight since this should take top and bottom margin of this print object into account but height seems not to be set correctly in computepositionandsize karlpeder
we ca n't use systemclassloader here because that would n't work with java webstart resourcebundle uses its own internal classloader if no classloader given set classloader null
note we intentionally do n't remember internal plugins because we do n't want them to appear in plugin manager currently todo improve plugin manager dialog to support internal plugins which ca n't be removed etc
fixme calendar \?
todo author hubms have this flags until speed of entitymanager improved
cleanup remove port number file
todo there 's probably better way to do this hack
todo before inserting find out if there 's already menu item with same action command if so replace it otherwise insert new
todo author fdietz add import feature
todo author hubms implement custom menuitem renderer
todo author fdietz no paging used currently show only first results
real stupid recreation of whole menu model
todo throw illegalargumentexception in case variable null
todo author fdietz associate help with button and root pane
fixme this will most likely not work you want element removed if contents same not just if element reference same
author fdietz using shutdown manager wrong here because this automatically also calls framemanager which also starts second shutdown thread this leads into two parallel shutdown thread which why sometimes config files etc get messed up
author fdietz hackish way of creating search toolbar jtoolbar searchtoolbar new extendabletoolbar
command uses information provided from link defaultcommandreference to execute itself todo remove iframemediator dependency author timo stich
manually rewrite connection url because if there no rewrite database files created in starting directory we do n't want that
todo fix updateactions enableactions getcurrentowner
todo author hubms check what neccessary remove old filters searchfolder getfilter getfilterrule removeall add filter criteria searchfolder getfilter getfilterrule add
todo let attachmentviewer get focus so that this works
todo open in message frame todo handle also message attachments from openincomposer action
todo author fdietz add central place which keeps list of all possible colors and provides custom color configuration possibility
todo author fdietz implement custom menuitem renderer
fixme author fdietz do we need this implementation in tempfolder \? if not just put empty method here just like in virtualfolder
todo ristretto should handle logging of streams in another way
todo author fdietz all this code creating new imaprootfolder should be moved to folderfactory this way path would be handled in factory too parent directory mail folders example columbamail string path mailconfig getinstance getconfigdirectory getpath
turn of focus stealing workaround should be removed in future
wait if there active transaction todo author hubms retrycount
this regular expression should cover anything from pt or com to info permits usage of invalid top domains though bug fdietz added and as regular characters example mail toplevel mail de todo see if we can replace matching code with ristretto stuff
author fdietz this workaround generally contact dialog editor should ensure that all necessary fields available
todo replace view with more detailed info view
todo we should check if we need vector or better another list implementation checking also if list must be syncronized or not performance
fixme this correct
todo externalize string non nls
todo multiplicity checks
todo author fdietz until we can get all settings update immediately we just open message box telling user to restart
todo real im status here
fixme should we align menu to left instead \? menu show getwidth menu getwidth getheight
author tstich its better to call shutdownmanager since above called automatically from it shutdownmanager modified to allow one shutdown call only so we never should have multi shutdown problems again
todo should come up with better name menu item
todo author fdietz add export feature
since columba doing its own logging handlers we should not use handlers in parent logger
javahelp ca n't be added to borderlayout because it isnt' component this demo we 'll use embeded method since we do n't want frame to be created
author fdietz problem extensions do n't run using java webstart jws even though we assign all permission in our columba jnlp file this only applies to initial java webstart classloader but we create our own classloaders loading extensions these classloaders do n't have same permission settings anymore
what to do here \? we could start new server
workaround system setsecuritymanager null this call effectly disables sandbox mode and seems to work fine below use another way policy all classloaders set to all permissions do n't really know difference though
mac screenbarmenus to work this must be declared before any awt swing gets initialised do not move it to plugin init location because that too late
kids do n't do this at home
author fdietz following line not working just do n't know why main mainclassloader addurls url urllist toarray new url workaround modify system class loader instead horrible but it works
author fdietz workaround we simply append urls to existing global class loader and use same as parent note that we create new url classloader every class we instanciate we might want to support hot swapping of changed classes later
we ca n't use systemclassloader here because that does n't work with java webstart instead we use this getclass getclassloader which seems to work perfectly
todo author karlpeder if existing meta tags to be kept code changes necessary
todo create exception this
todo author javaprog better exception handling
todo author fdietz fix account info panel check
todo author fdietz move this to abstractmessagefolder constructor create filterlist datastructure
todo add javadocs
fixme this function needs documentation return boolean param xmlelement
fixme this function needs documentation return string param string name
todo author fdietz add proper description here
fixme this function needs documentation constructor
fixme this function needs documentation param out outputstream to print data to
fixme this function needs documentation constructor param name string param data string
todo create javadocs class
fixme this function needs documentation param attrs hashtable to use as attributes
fixme this function needs documentation return xmlelement param string path
todo add javadocs
fixme this function needs documentation return vector
fixme this function needs documentation return enumeration
fixme this function needs documentation constructor param string name param hashtable attributes
fixme this function needs documentation constructor param string name
not needed
todo author fdietz replace with regular expression
todo implement me
todo author fdietz implement
todo implement validation
create subject headerfield in using senders message subject and prepending fwd if not already there param header columbaheader which contains headerfields of message we want replyforward fixme author fdietz we need to this
todo finish marshalling of all available properties
todo finish unmarshalling of all available properties
todo implement
todo implement this
not implemented yet
create subject headerfield in using senders message subject and prepending re if not already there param header columbaheader which contains headerfields of message we want replyforward fixme author fdietz we need to this
todo author karlpeder implementation of undoredo missing
html quoting done by inserting div around message formattet with blue line at left edge todo author fdietz implement quoting font color stylesheet blockquote \? \? \?
todo author fdietz show error dialoghere
todo author fdietz add error dialog
todo show dialog
todo author fdietz make
todo author javaprog sizecombobox can be enabled as paragraphcombobox when implemented
todo add dialog to inform user that smtp server does not support authentication
todo author hubms show if there already virtual folder this tag
update status message todo author fdietz
todo author fdietz keep track of progress here
todo localize filter action names
todo author fdietz
todo implement clear
todo author fdietz implement action font size combo box
todo author fdietz
fixme threaded view auto collapse
todo author fdietz implement test
test cases generating subject lines when replying andor forwarding messages todo re columba devel test subject author fdietz
todo test mac keyboard accelerator changes done here by mlivingstone shortcut key
fixme missing full tests leap year
todo fix testcase assertequals filter result true result
gets location of external commandline tool todo test this method param toolid id of tool return location of tool
get selected folder
create formlayout instance
setcolor fillcolor fillrect
no filterlist treenode found create new one
non nls
associate with javahelp
if it in scroll pane then we add to end of list
junit begin
try to get instance of filteraction
remove from header list
notify folder tree model
should never happen
id org columba example helloworld helloworldplugin
telephonetextfield
set component values
write text to file
cancel
user did n't select any folder make inbox default folder
fullnamebutton
all match any jcombobox
karlpeder added html support mimepart mp tree getfirsttextpart plain
remove xmlelement
check if firstname middlename or lastname contain only valid characters
string uservisiblename pluginhandler getuservisiblename id
filter description jtextfield
non nls non nls
gridx gridbagconstraints remainder anchor gridbagconstraints northeast gridbag setconstraints removebutton panel add removebutton
karlpeder remove html comments they not displayed properly in composer
get values from components
set source reference in composermodel when replying this original sender 's message you selected and replied to
int type action getactionint
calendarlabel
jcheckbox overwriteoptionscheckbox
date header we got date header store this fact later use
iterate through all foldertypes to find suitable ones
bufferedreader in new bufferedreader new inputstreamreader new fileinputstream file model getcharsetname
getting next node
ignore
add child to parent
do decoding stuff
table registers interest in tree selection events
enableddisabled
non javadoc see org columba core filter ifilterlist remove int
criteria setpattern string textfield gettext
textfield settext criteria getpattern
create config folder file file new file test config file mkdir new config file logging debug true logging createdefaulthandler init mail component new mailmain init new addressbookmain init now load all available plugins pluginmanager getinstance initexternalplugins
fall back to today
ensure tzid matches date time timezone parameter tzid dtend getparameters getparameter parameter tzid
create form builder
get root folder
wrong xml format
create mandatory imap inbox folder
titledborder etched javax swing borderfactory createtitledborder javax swing borderfactory createetchedborder login centerpanel setborder etched
private jlabel enabletextindexinglabel
taglist taglist new contacttaglist this jscrollpane taglistscrollpane new jscrollpane taglist taglistscrollpane sethorizontalscrollbarpolicy jscrollpane horizontal scrollbar never taglistscrollpane setborder borderfactory createemptyborder
could n't find folder associated with this uid open select folder dialog
mod switt redirecting feature if from value set take this as from else take identity
add custom color item
treepathbutton setmargin new insets
use mark as read as default fallback mechanism
set source reference in composermodel when replying this original sender 's message you selected and replied to
focus name textfield
columns non nls
add message to folder
associate inbox with root folder
author tstich added lucene gui element here builder add enabletextindexinglabel cc xy
where in drag image mouse clicked
which parents possible \?
select new item
create formlayout instance non nls
attachments found insert start and end html
return result as boolean value true or false
you need sound wav in your program folder
non nls non nls
convert condition string to int which easier to handle
public abstract iheaderliststorage getheaderliststorage
just simple example
parent directory mail folders example columbamail
logging log severe error parsing body attachments
create copy command
debug messages diagnostics
server does not support utf fall back to system default
adjust description field
if cause smtpexcpetion then only password wrong else bogus authentication mechanism
groups separated by at least one ws character
validation disable sebastian witt name isnt true which should root localhost valid but not with this check root also valid with local mailserver but not with this check
charset specified find it
setpreferredsize new dimension
add email addresses
logging log severe error while looking charset
buffer append getshortclassname record getsourceclassname buffer append buffer append record getsourcemethodname buffer append
roll correctly over years
non nls enablelabel setfont boldfont
bottom add box createhorizontalglue
user changed folder name
encrypt cleartext
enabletextindexinglabel setenabled false
create emptyborder between components and dialog frame
uimanager put label font mainfont uimanager put textfield font mainfont uimanager put textarea font mainfont uimanager put menuitem font mainfont uimanager put menuitem acceleratorfont mainfont uimanager put menu font mainfont uimanager put menu acceleratorfont mainfont uimanager put menubar font mainfont uimanager put tree font mainfont uimanager put table font mainfont uimanager put button font mainfont uimanager put checkboxbutton font mainfont uimanager put radiobutton font mainfont uimanager put combobox font mainfont uimanager put togglebutton font mainfont uimanager put checkboxmenuitem font mainfont uimanager put radiobuttonmenuitem font mainfont uimanager put tabbedpane font mainfont uimanager put list font mainfont
charset found from line not lcline not forced lower case
group
add components to panel
manipulatemodel tablemodelplugin structure change
ok
if no content type header found it necessary to construct new one outgoing msg eudora never includes content type html msg not shown correctly
jpanel panel new jpanel panel setlayout new borderlayout panel add resetbutton borderlayout east builder add panel cc xywh
test xmlelement string string
overwriteoptionscheckbox new jcheckbox overwrite global settings overwriteoptionscheckbox addactionlistener this overwriteoptionscheckbox setactioncommand overwrite
defaultshapefactory setshape ashapecreator createtraslucentshapehorizontal null
non nls non nls non nls non nls non nls
search across all providers
gridwidth gridbagconstraints relative
linkedlist testlist new linkedlist listfull listtools intersect testlist listfull asserttrue testlist equals listfull testlist new linkedlist listfull listtools intersect testlist new linkedlist asserttrue testlist size testlist new linkedlist listfull listtools intersect testlist listpart asserttrue testlist equals listpart testlist new linkedlist listfull listtools intersect testlist listpart asserttrue testlist equals listpart testlist new linkedlist listpart listtools intersect testlist listpart asserttrue testlist size
if there no search engine try default one
execute command use mock object class as worker which does nothing
read attribute value
save boolean headerfields compressing them to one int value
protected remotesearchengine searchengine
such header used by eudora to indicate attachments outgoing messages outgoing messages have no content type specified therefore content type header can be safely set here without risk of conflicts with modifications made above
ashape textshape new textashape text gridrow name textrect textashape type singe line font fgcolor atfraction center atstart start boolean false
only local folders have full text indexing capability
mainconstraints fill gridbagconstraints both mainconstraints insets new insets mainconstraints gridwidth gridbagconstraints remainder mainconstraints weightx mainconstraints weighty
todo close button
get unique boundary not checked against att list part but guess its ok
get column of list
if user cancelled task exit immediately
display status message
group item
parameters rest of string
enable lucene search index by default non nls non nls
save last message while loop terminated before last msg saved
non nls non nls non nls non nls non nls non nls
create header of multipart
logging log severe not enough tokens in datestr to create date header returning null
notify configuration changes listeners see org columba mail gui table util markasreadtimer
mixed or unknown multipart type to be treated as mixed this typically message with attachments eudora just stores links to them therefore we create new multipartmixed message with nd part html page with links to attachments
get list of all uids
notifytablelisteners new tablemodelevent this logmessages size
move message to trash if marked as expunged
iservicemanager getinstance createservice
ask user about destination file
do n't instantiate this class
register configuration changes
get headerfield to search in example subject
combobox setborder borderfactory createemptyborder
button panel
listener updates menu in case tags where changed
general
return chatmediator chatlist get index
notify listeners see org columba mail gui composer subjectcontroller
non javadoc see org columba core gui themes plugin abstractthemeplugin setlookandfeel
send notification event see org columba mail gui message textviewer
apply transparent icon
example fdietz jabber orgjabber client remove jabber client
replace with mylistcellrenderer simple one line renderer replace with mycomplexlistcellrenderer additional description line
notify listeners
mandatory string based attribute
gets platform specific default theme this in all cases but macos plastic theme on macos we use system
skip first column
selected buddy in buddylist
private void addstatus string tooltip imageicon icon jlabel label new jlabel icon label settooltiptext tooltip combobox additem tooltip
update list view
did n't find any group this buddy
set recipients from recipients vector
border border new compoundborder borderfactory createemptyborder border
if this unix based system check best known areas aspell binary
create new default options
add all groups as folder to jtree
add new element
update status information
remove all old elements
create to headerfield
author fdietz moved code updating mailfolderinfo to markmessage intentionally
some other version of constructor
guaranteed to return non null array
process listeners last to first notifying those that interested in this event
execute resyncing command
re select folder to make changes visible to user
update treenode
setup to references and account
composer
columns rows added dynamically no need to define them here
builder nextline
layout setrowgroups new int
re use identity type recipient list
set up color chooser setting quoted color
clear tooltip message previously displayed in status bar
tree has focus
convert criteria into int value
create chat connection if not available yet
private jcombobox loginmethodcombobox string loginmethod
create command
shadow
view model
modify card properties in folder
jpanel mainpanel new jpanel mainlayout mainpanel setborder borders dialog border
implement your own search engine here
if this last token check if last element same than in array
model view
test method 'org columba mail parser listbuilder createstringlistfromitemlist list
used by virtual folder only
counts how many messages has been processed date fetched from from \? \? \? \? \? \?
putvalue large icon imageloader geticon iconkeys document save as
get message body
html insertion of text before and after original message get necessary headerfields
create filter
create group containing first contact
if fnull because of deleted abstractmessagefolder fallback to inbox
get selected contactgroup card
top panel
user 's ca n't edit default account
centerpanel
check number of cached messagenodes assertequals model getmap size
create stream from string
toppanel setlayout
execute command use mock object class as worker which does nothing
if something goes wrong here fall back to mark as read
check number of cached messagenodes assertequals model getmap size
must go backwards or else list will remove wrong filters
columns rows added dynamically no need to define them here
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
fill gridbagconstraints horizontal
try to fill contact list
dragsource startdrag event new cursor cursor default cursor imageloader getimageicon contact small add getimage new point new stringselection contact this
top level structure
string to search
disabled imap folder tests as they require connection to remote imap server setup suite new imaptstfactory
cancel if headerfield does n't exist
non javadoc see org columba core profiles iprofilemanager getprofileforname java lang string
builder append showattachmentsinlinecheckbox builder nextline
finally add all external extension menu additions example hello world plugin
add all addresses
if in debug mode register context debugger view
getenddate getparameters add value date
create list of unsubscribed folders
create one list containing marked items which have to be unmarked and another list containing items remained to be marked
see if theirs match
check if mediator supports docking
decode headerfield
imaprootfolder parentfolder folderfactory getinstance createimaprootfolder account imailfolder inbox folderfactory getinstance createimapfolder parentfolder inbox
get condition and convert it to constant as defined in filtercriteria
cache clear
folders have same root folder example two imap folders on same server this means we use server side copying which much faster than using inputstreams here also used local folders which saves some parsing work
process personal namespaces
create command every action of this filter create compound object which encapsulates all commands
deactivate this vfolder because changes about to happen and search needs to be redone
vertical light gray column separator line
first sort so that events from one folder stick together
end because draw should be correct
create default namespace
if line does n't start with from or line length save everything in stringbuffer
something wrong sync again
now we have subscribed folders in subscribedfolders and unsubscribed folders in unsubscribedfolders next step create treestructure
get message header
register text selection changes controller geteditorcontroller addobserver this
bottom add box createhorizontalglue
set initial enabled state of combo boxes xmlelement optionselement mailconfig getinstance get composer options getelement options xmlelement htmlelement optionselement getelement html string htmlelement getattribute enable false boolean enablehtml boolean valueof booleanvalue
inbox always subscribed
handling of paragraph combo box select item in combo box corresponding to present format
headeritem items new headeritem selection length items selection headeritemdndmanager getinstance setheaderitemlist items
formlayout layout new formlayout default dlu default dlu default dlu default dlu default dlu default dlu default dlu default dlu default dlu default dlu fill default panelbuilder new panelbuilder this layout cellconstraints new cellconstraints add paragraphcombobox cc xy add sizelabel cc xy add sizecombobox cc xy add boldformatbutton cc xy add italicformatbutton cc xy add underlineformatbutton cc xy add strikeoutformatbutton cc xy add leftjustifybutton cc xy add centerjustifybutton cc xy add rightjustifybutton cc xy
this can throw changedcharsetexception
can be only one
get selected search criteria
get list of all filter actions
add stream to folder
removeelement
this action disabled when textplain editor used so its safe to just cast to htmleditorcontroller here
select search folder
interate through all filter actions
check three entries
message size should be at least kb
karlpeder method signature changed to take abstracteditorcontroller instead of texteditorview as parameter since view no longer directly available
name used to load plugin
defaultitem item new defaultitem element item set header enabled getstate
jscfdrivermanager registerjscfdriver new gpgdriver jscfconnection con jscfdrivermanager getconnection jscf gpg pgpitem get path
builder append ssllabel builder nextline builder append disablesslconnectionradiobutton builder nextline builder append enablesslconnectionradiobutton builder nextline builder append enablestarttlsextensionradiobutton builder nextline
plain text components do n't fire these events
check new files in scripts directory
oldflags setrecent true oldflags setflagged true oldflags setexpunged false
no match with link tags
enabledisable textfield in dependency of selected criteria
register configuration changes html enableddisabled state
show all search results
small icon menu putvalue small icon imageloader getsmallimageicon configure mail png
create command reference
encapsulate bodytext in html code
get inputstream of this message from folder
view headerlist in message list viewer
create filter criteria based on selected type
else set it to
header item
karlpeder changed handling of dates previously columba date header used now we use date header instead
execute custom search
setborder selectedborder
type cast here safe
assertequals copied message should be marked as recent true flags getrecent assertequals copied message should be marked as flagged true flags getflagged assertequals copied message should be marked as not expunged false flags getexpunged
set criteria search folder
set source folder uid
remove old filters
synchronize complete folder
add search to history
non javadoc see org columba mail gui table model tablemodelmodifier remove java lang object
get search folder
tree selection event
choice btw text and html will be based on stored option
create selection handlers
following lines add cutcopypasteundoredoselectall actions support using columba action objects this means that we only have single instance of these specific actions which shared by all menuitems and toolbar buttons
directly execute search
resetting contents buffer assuming that tags either tag content or children not both this usually case with xml that representing data strucutures in programming language independant way this assumption not typically valid where xml being used in classical text mark up style where tagging used to style content and several styles may overlap at once
get currently selected folder
get command reference
if necessary decryptverify message
execute command use mock object class as worker which does nothing
public icontentpane getcontentpane return this
header columbaheader message getheaderinterface
add message eml as inputstream to folder
register alt up hotkey moving up folder when folder tree or table have focus
register hotkey renaming folder when folder tree itself has focus
register alt down hotkey moving up folder when folder tree or table have focus
set flags
folder based configuration
light gray line every day
simply demonstration of how to change docking title
update message list view title
private jtextfield textfield private jpanel leftpanel private jtabbedpane rightpanel private jbutton addbutton private jbutton removebutton private jbutton editbutton private jbutton upbutton private jbutton downbutton private jframe frame
show message content
update frame title
close columba if composer only visible frame
select node
message marked as draft \?
bottom add borderlayout center
get selected row
return super getlistcellrenderercomponent arg arg arg arg arg
edit message in composer
get inbox folder from pop server preferences
open message in new message frame
remember search folder show total results action
mail folder tree
contains headerfields which to be displayed
message list
focusmanager getinstance updateactions
if we have new messages add them to headerlist
this has to be set by themes setdividersize
tooltip text
overwrite this method
splitpane setdividersize setdividersize
small icon menu
add message eml as inputstream to folder
which bodypart shall be shown \? htmlplain
author fdietz never request focus requestfocus
add contact to addressbook
short cut key
some server have bogus apop try userpass to check if password correct
dark gray line at and
we do n't need any configuration here
new selection
year new jlabel add year
pass it along to parent frame
notify all interested listeners
putvalue large icon imageloader getsmallicon iconkeys folder open
exit immediately
delete all files in folder
copy selected url to clipboard as string
save previously selected folder options
create address from url
get current message list selection
map to new reference
create empty value
because of decrement in line removedlocaluids localuids size position
old command specific selection
link setfont link getfont derivefont font bold
login and get of messages on server
icons
second row showing minutes
register status events
append pass word passwordtextfield
ensure that there html part in email otherwise jtextpanel throws runtimeexception
select message in message list
jpanel bottom new jpanel bottom setbackground backgroundcolor bottom setlayout new borderlayout
getting current node under selection
this has to be set by themes splitpane setdividersize
splitpane resettopreferredsizes hideattachmentviewer
if node not null
update only if selection did not change
find missing uids loop
initialize file observer thread with reference to our beanshellscripts map
show selected message
set name of organization
create new search folder but re use old search folder
from email address
add command execution
create message value
fill semantic context
non nls recentlabel setfont boldfont non nls
display changes
non nls sizelabel setfont boldfont non nls
get messagecontroller of frame
set value
non nls totallabel setfont boldfont non nls
get flags
disable toolbar text
get selected message uid
check if message still exists or has been moved by filter
in case no attachment handler executed correctly fall back to default handler
test boolean equals object
empty line means new contactcard
if attachment ca n't be opened save it only
abort if nothing selected
substitute special characters like
if it in table then we need to insert it at selected position
decode filename
remove from old mediator 's listener list
create string from inputstream
updatebackground
reset progress bar
show context menu
sanity tests
rename part file to destination file
add initial messageframe treenode
get pop or imap account xml node
use global table options
create reference to this message
check if returned string has length
update observable null
just show encrypted raw message
messagecontroller setattachmentselectionreference local
subject test create filter configuration check if pattern
return null
call abstractfilter to do tricky part
init configuration
construct new message from decrypted string
example columba org columba mail
else we set body to string
first child must be signed part
add rest of original body and transfer back to body var
get selected message
second child must be pgp signature
update connection state
layoutcomponents isspam
determine whether there or names specified these names should be separated by spaces or commas if comma separates first two names assume that last name specified first otherwise assume first name specified first middle name always specified after first name
fall back to first account as default
create filter configuration
name of font
non javadoc see org columba mail imap iimapserver getstatus org columba mail folder imap imapfolder
parse email addresses and substite with html code
item and item should be two different objects
create filterlist datastructure
check if single entry selected
register interest on configuratin changes
create closing boundary
edges of poly shape
query provider
if we do n't use this here actions like reply would only work on encrypted message
insert document type decl
reply to headerfield n't specified try to use from instead
prepend
reset selection
cast to local abstractmessagefolder safe here
item and item should not be equal
if size than kb transform to mb
check if charset us ascii then there something wrong switch to utf and write to log file
charsetownerinterface mediator setcharset charset
add rest of body until start of
private file file
builder append quotedcolorcheckbox quotedcolorbutton builder nextline
builder append spelllabel spellbutton builder nextline
get array of source references
add smilies
how to retrieve mime part 's contentid string contentid url getref initialize stuff here
non javadoc see javax swing listcellrenderer getlistcellrenderercomponent javax swing jlist java lang object int boolean boolean
suggestionsjscrollpane setpreferredsize
does server support namespace extension \?
suggestionsjscrollpane setminimumsize new dimension
parse quotings and color darkgray
we done clear status message with delay
process other users namespaces
ipchelper executecommand externaltoolshelper getsalearn no rebuild spam single
get interval value
if of all characters digits
xmlelement printnode
paint right outside border setpaint
handle special case in which inbox has nil delimiter there might exist pseudo hierarchy under inbox delimiter
get outbox folder from reference
get text icon
add this message to frequency database
split hierarchical name with at delimiters
wait stream threads to die
do nothing
non javadoc see org columba mail imap iimapserver search org columba core filter filterrule org columba mail folder imap imapfolder
add filter criteria
update headerlist of destination folder this necessary to reflect changes visually but only do it if target folder still in sync
false if searchreplace currently working
double click mouse listener
expect different hashcode from newly created item
display resulting mimeparts
create mh folder use homedirectory as top level folder this has to be absolute path
set double click action attachment viewer
register hotkey renaming folder when message panel has focus
non javadoc see org columba mail imap iimapserver setfirstloginaction org columba mail imap ifirstloginaction
listen configuration changes
get tooltip icon
non nls non nls non nls non nls
public jcomponent getcontentpane jcomponent super getcontentpane return
load xml document
titletextfield
get message node at selected row
non javadoc see org columba core gui util iselectionlistener selectionchanged org columba core gui util selectionchangedevent
singleton
non nls non nls non nls
found match
definition of second
timer to use
non nls non nls non nls
add new renderer
does not occur
add headerfields which about to show up
make columba logger parent of macchiato logger
enabledisable smilies configuration
do not access inputstream after this line
public string marshall istructuretype type public istructuretype unmarshall string xmlstring
get composer controller get all account information from controller
super node folderitem super getdefaultitem imaprootfolder getdefaultproperties
\? something with could be \? but then pattern would match whitespace gt html encoded followed by anything or punc any punctuation \? or trailing end of string
top setbackground uimanager getcolor textfield background
apply additional handcrafted rules
shall we use html iviewer \?
which charset shall we use \?
check if this message already learned only add if this not case
get header from folder
validate command parameters at moment only checks if there any invalid email addresses
read stream in string
this html message
execute filter
strip html message remove all html tags
non javadoc see org columba chat jabber ibuddystatus getstatusmessage
xmlelement selectedbrowser messageviewer getelement optionsitem selected browser selectedbrowser addobserver this
init new renderer
same object
non javadoc see java util observer update java util observable java lang object
apply model
open connection to smtp server
parse key value lines
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
default
non javadoc see org columba mail gui config general mailoptionsdialog see java util observer update java util observable java lang object
this textplain message
now send message source
remove old renderer
settext body
use new viewitem
final url url extracturl ev
icon putvalue small icon imageloader getsmallimageicon apply filters png
some error in clientserver communication fall back to default login process
if have already suitable folder skip search
shortcut key no shortcut here because conflicts with system accelerator key putvalue accelerator key keystroke getkeystroke keyevent vk
return default account spamitem instead
non javadoc see org columba mail folder imailbox getmimepartsourcestream java lang object java lang integer
todo author fdietz this should be changed into real window
super gettablecellrenderercomponent table value isselected hasfocus row column
builder setdefaultbuttonbargapborder
non javadoc see org columba mail folder event ifolderlistener messageremoved org columba mail folder event ifolderevent
this
open context menu this has to happen in awt event dispatcher thread
non javadoc see org columba mail folder imailbox getattribute java lang object java lang string
scale image
synchronize local uid list with server uid list
private boolean pop
non javadoc see org columba api command command execute org columba api command worker
buf append title
non javadoc see javax swing table tablecellrenderer gettablecellrenderercomponent javax swing jtable java lang object boolean boolean int int
return default account imapitem instead
non javadoc see org columba ristretto message message setheader org columba ristretto message header
fetch date from from \? \? \? \? \? \?
vector add morebutton
non javadoc see org columba mail folder headercache headerlist count
create multipartmixed if necessary
insert head section with charset def
columns
parse line by line
custom headers
non javadoc see org columba core shutdown ishutdownmanager register java lang runnable
note if ssl possible we just need plain login since ssl does encryption us
remove body part if already shown in text viewer
concrete implementation of actions
set id on from address
update folder selection
wait seconds and check pending commands again this useful if command causes deadlock
todo help button
leave dialog empty if no source contact model specified
can no longer assume that sendmessagedialog has been displayed
getting current uid
true if last search successful position of word after last search ivokation if nothing found position of word after last replace ivokation if nothing replaced
send as texthtml
create search folder
button setborder borderfactory createemptyborder
non javadoc see org columba core filter ifilteractionlist remove int
compose message body as textplain
non javadoc see org columba api gui frame idock registerdockable java lang string java lang string javax swing jcomponent javax swing jpopupmenu
setup filter configuration
important cancel
add section
non javadoc see org columba api gui frame idock dock org columba api gui frame idockable org columba api gui frame idock region float
write charset to header
message does n't contain this headerfield
builder append contextbutton builder append providercombobox
remove bodypart if any
non javadoc see org columba core filter ifilterlist indexof org columba core filter filter
karlpeder also location restored
if message size bigger skip download of this message
button addmouselistener new linkmouselistener
non javadoc see org columba core filter ifilterrule setcondition java lang string
button setopaque false
non javadoc see org columba addressbook gui table model tablemodeldecorator getrowcount
to allow empty messages
create search criteria
non javadoc see org columba core filter ifilterrule add org columba core filter filtercriteria
init mime header with default values textplain
skip if filter disabled
karlpeder tags stripped if model contains html message since we composing plain text message here
replace section
specifically want this here to ensure that directory exists and this method never returns null any files that in observation list have already been previously removed by checkfiles
reset row height
putvalue large icon imageloader getimageicon mark as important png
add signature if defined
non javadoc see org columba addressbook facade igroupitem getcontactcount
update tree node renaming new folder
non javadoc see com miginfocom calendar datearea activitydragresizelistener activitydragresized com miginfocom calendar datearea activitydragresizeevent
get message with uid
start parsing line
set default charset or selected
message belongs to which account \?
setup xml that to be written
some error in clientserver communication fall back to default login process
insert link tags urls and email addresses
backwards compatibility
text comparisons
multipart content types we need to take action if boundary nonexistent eudora stores content type multipart even though message not really multipart because attachment already has has been decoded by eudora
tests if list substracted with empty list equal to itself
if parent virtual folder search cannot be applied directly look correct uids by finding first non virtual folder
retrieve actual search result data
headerfield empty
correct token data
date
server message numbers start with whereas list numbers start with always increase fetch number
init mime header with default values texthtml
non javadoc see org columba core filter ifiltercriteria setcriteria int
compose text part
make sure this mailbox selected
attachments
on first try check if we need to show password dialog not necessary when password stored
compose html part
panel
copy flags
substitute special characters like
if cause imapexcpetion then only password wrong else bogus authentication mechanism
now we can search this folder since no mail from this folder will come in list
from this point we have username and password from configuration of from dialog
change subject column renderer back to default
set attachment flag
get value of subject from or to header
get all mimeparts
url check whether its already link
return if not clicked on any column header
if same message still shown mark it as read
search closing bracket separately to account attributes in tag
if tooltip null removes any tooltip text
button addmouselistener new labelmouselistener
contains comma character
color backgroundcolor uimanager getcolor textfield background
current position in
email adress found check whether its already link
super dock messageviewerdockable idock region center
combine results in one array
maps tablecolumn objects to tooltips
create attachment component with text icon tooltip context menu and double click action
current column whose tooltip being displayed this variable used to minimize calls to settooltiptext
if closing mark after mark do not insert link
karlpeder use default account as fall back
at any time get here uids of length if this so we should return and do nothing
getting last selection
retrieve event from store
awt event thread
make sure that we have message id
rfc header
and or or \? and implicit or must be specified
remove from script list
move
contains not
quote according model type texthtml
start at word boundary \? \? user pass construct prot protocol and any match literaly anything \? until we find whitespace or end of string
get list of plugins
just look if first character alrady so can use this mailaddress as correct address
plain text
it 's script responsability to define metadata by invoking setname setauthor and setdescription
unsupportedflavorexception ioexception
non javadoc see org columba core gui frame focus focusowner selectall
load plugin handler used columns
abstractmessagefolder destfolder abstractmessagefolder treeview getdroptargetfolder
example beenthere columba devel lists sourceforge net
create html element if it does n't exist
at moment we only supporting gpg so let us code hard here gpg driver
shortcut key
karlpeder and space handled also
select all rows
int getrow messagenode node
we save only first item in cc list
expand all rows
non javadoc see org columba core filter ifilteractionlist addemptyaction
changing selection to first row
process events
load plugin
only do checking if we in online state
if there entries in table
tests if listpart substracted
author fdietz never request focus requestfocus
getting node
update status message
if subject does n't start already with fwd prepend it
folder in which update occurs
enable if more than zero treenodes selected
scrolling to first row
re select folder
scrolling to first row scrollrecttovisible getcellrect row false requestfocus
fall back to global resource loader
do n't clear selection
remove ending separator and whitespace if any exist
init threaded view model
ensure tzid matches date time timezone parameter tzid dtstamp getparameters getparameter parameter tzid
remove all columns column model
pass tree to model used by threaded view
make it translucent
init sorting model
fill formatted textfield
if subject does n't start already with re prepend it
notify observers sorting state submenu
if address contains comma enclose display name portion in double quotes
get translation
karlpeder added handling of html messages
init view
one easiest case
column ids all lower case
create new event with new uuid
assign tooltip each of columns
unregisterregister as folder listener
clear model
substract uids on server from downloaded uids headeruids uids that have been removed from server
register interest on folder events
make selected row visible again
we do n't need to issue additional noop here since ensurelogin call above ensures also correct status in min idle interval timeframe
if message removed from jtable
get current selection
get inputstream of message body
example re this subject
skip if user did n't specify search term this criteria
test boolean not equals object
non javadoc see org columba mail imap iimapserver recentchanged java lang string int
get configuration
case workerstatuschangedevent finished setvisible false break
messagenode getmessagenode object uid
non javadoc see org columba core gui frame focus focusowner undo
remember selected node
loginmethod string loginmethodcombobox getselecteditem
when marking messages do n't touch selection
non javadoc see com miginfocom calendar datearea activitymovelistener activitymoved com miginfocom calendar datearea activitymoveevent
update infopanel gray panel below toolbar showing totalunreadrecent messages count
non javadoc see org columba calendar ui calendar api icalendarview recreatefilterrows
re select previous selection
non javadoc see org columba calendar ui calendar api iactivityselectionchangedlistener selectionchanged org columba calendar ui calendar api activityselectionchangedevent
only re select if only single row formerly selected
non javadoc see org columba calendar ui calendar api icalendarview getview
enabledisable cutcopypasteselectall actions focusmanager getinstance updateactions
non javadoc see org columba core gui frame focus focusowner isredoactionenabled
load options of newly selected folder
implemented completeness time out clearing text ignored here
select row
non javadoc see org columba addressbook facade igroupitem setcontacts java util list
remember previously selected folder
non javadoc see org columba core gui frame focus focusowner ispasteactionenabled
if new columns added we have to initialize tooltips
string definitions charsetnames note these also used to look up menuentries from resourceloader
member variables
remove all columns from table model
non javadoc see org columba api command iworkerstatuscontroller removeworkerstatuschangelistener org columba core gui statusbar event workerstatuschangelistener
selected nodes
non javadoc see org columba core taskmanager itaskmanager removetaskmanagerlistener org columba core taskmanager taskmanagerlistener
expand all unread message nodes
non javadoc see org columba core filter ifilter setname java lang string
test hashcode
non javadoc see org columba core filter ifilterlist moveup org columba core filter filter
non javadoc see org columba core filter ifilterrule get int
messagenode getrootnode
non javadoc see org columba core filter ifilterlist addall org columba core filter filterlist
non javadoc see org columba core filter ifilterlist add org columba core filter filter
clear messagenode cache
let us hard coding gpg each connection later we should support also other variants like smime
repaint table header
non javadoc see javax swing event listselectionlistener valuechanged javax swing event listselectionevent
notify model to sort table sorter sort column
non javadoc see org columba api gui frame iframemediator savepositions
non javadoc see org columba core gui frame iframemanager openview java lang string
abstractfolderoptionsplugin getplugin string name
non javadoc see org columba api gui frame idock dock org columba api gui frame idockable org columba api gui frame idockable org columba api gui frame idock region float
non javadoc see org columba core print cparagraph print java awt graphics
simulate charset changed to initialize selectedmenuitem
setenabled false
non javadoc see javax swing table tablecellrenderer gettablecellrenderercomponent javax swing jtable java lang object boolean boolean int int
tableview getview
int column view convertcolumnindextomodel viewcolumn int column view convertcolumnindextoview viewcolumn
disable every icon set appropriate icon selected column
non javadoc see org columba mail folder rootfolder getinbox
view message under new node
non javadoc see org columba mail gui table model tablemodelmodifier set org columba mail message headerlist
getting from next node uid
non javadoc see org columba mail folder foldertreenode addsubfolder org columba mail folder foldertreenode
user struct
select folder again after move operation
locate body start and end tags
use resourcebundle 's internal classloader
test method 'org columba core tagging tagmanager getalltags
non javadoc see org columba mail folder headercache headerlist update java lang object org columba mail message icolumbaheader
test if size of self substracted list
xp xp xp yp getheight yp getheight yp getheight setcolor color white drawline xp yp xp yp drawline xp yp xp yp setcolor color gray drawline xp yp xp yp
non javadoc see org columba mail folder headercache headerlist clear
there no parent
non javadoc see org columba mail folder headercache headerlist remove java lang object
test int hashcode
non javadoc see org columba mail folder headercache headerlist containsvalue java lang object
select it
uncomment to enabledisable action
set default html or text based on stored option can be overridden by setting composer model
getbyname
check if node not null
loop until signing sucessful or user cancels passphrase dialog
and set this to actual ref
non javadoc see org columba core filter ifilterrule getcondition
test method 'org columba core tagging tagmanager addtag string
non javadoc see org columba mail folder imailbox addmessage java io inputstream
non javadoc see org columba mail folder imailbox getflags java lang object
create config folder
non javadoc see org columba core filter ifilterlist insert org columba core filter filter int
mailframemediator framemediator registertableselectionlistener this
non javadoc see org columba mail folder imailbox getmimepartbodystream java lang object java lang integer
non javadoc see org columba mail folder event ifolderlistener folderadded org columba mail folder event ifolderevent
remove configuration directory
non javadoc see org columba mail folder imailbox getheaderfields java lang object java lang string
saving last selection current folder
non javadoc see org columba mail imap iimapserver connectionclosed java lang string java lang string
non javadoc see javax swing listcellrenderer getlistcellrenderercomponent javax swing jlist java lang object int boolean boolean
multiplicity one default
non javadoc see org columba mail gui composer abstracteditorcontroller setviewtext java lang string
default value pixel int pos viewitem getintegerwithdefault splitpanes attachment
icons putvalue small icon imageloader geticon folder delete png putvalue large icon imageloader geticon folder delete png
test getcolor
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
toolbar text
non javadoc see org columba core gui selection iselectionlistener selectionchanged org columba core gui selection selectionchangedevent
add profile to profiles xml
icon toolbar
non javadoc see org columba core gui util iselectionlistener selectionchanged org columba core gui util selectionchangedevent
find all possible plugin directories
warn user in any other cases
clear message list selection
non javadoc see org columba core gui util iselectionlistener selectionchanged org columba core gui util selectionchangedevent
clear message list
necessary message frame only
icon menu
officetextfield
test clone
clear message viewer
get selected stuff
set toolbar text
now instanciate folder classes
karlpeder method signature changed to return abstracteditorcontroller
if tree in dnd action then we dont need to update all listeners since this only temporary folder selection
message contains list of attachments
non javadoc see org columba mail imap iimapserver checksupportedauthenticationmethods
non javadoc see org columba mail imap iimapserver copy org columba mail folder imap imapfolder java lang object org columba mail folder imap imapfolder
shortcut key
non javadoc see org columba mail imap iimapserver subscribefolder java lang string
non javadoc see org columba mail imap iimapserver append java io inputstream org columba ristretto imap imapflags org columba mail folder imap imapfolder
message body
do not only update tag search result when click on different tag also do refresh of same tag when double click on it
getting prev node
non javadoc see org columba mail imap iimapserver getallheaders java lang object org columba mail folder imap imapfolder
non javadoc see org columba mail imap iimapserver fetchflagsliststartfrom int org columba mail folder imap imapfolder
non javadoc see org columba mail imap iimapserver getmimetree java lang object org columba mail folder imap imapfolder
date range start time end time definition
non javadoc see org columba mail imap iimapserver markmessage java lang object int org columba mail folder imap imapfolder
add result panel as listener new search results
multiplicity zero to one default
non javadoc see org columba mail imap iimapserver getmessagefolderinfo org columba mail folder imap imapfolder
shortcut key
non javadoc see org columba core gui themes plugin abstractthemeplugin setlookandfeel
get list of messagenode objects of first hierachy level
non javadoc see org columba mail imap iimapserver setobservable org columba api command istatusobservable
do search
non javadoc see org columba mail imap iimapserver update java util observable java lang object
date time timezone definition
each element in message header reference or in reply to headerfield find container whose message id matches and add message otherwise create empty container
non javadoc see org columba mail message headerinterface getflags
do n't prompt user if composer should be closed
shortcut key strg mod switt
non javadoc see org columba ristretto message message setheader org columba ristretto message header
toolbar text usually bit shorter mod switt
tooltip text mod switt
platform maintainers add your platform here
icons putvalue small icon mailimageloader geticon email edit png putvalue large icon mailimageloader geticon email edit png
non javadoc see org columba chat ui roaster iroastertree getselected
pass command to scheduler
non javadoc see org columba chat jabber ibuddystatus issignedon
mod switt
if height of view exceeds paperheight there should be no break before since it will be impossible to fit it in anywhere infinite loop we do n't have access to pageheight here therefore educated guess made no breaks inserted before views starting within first chosen to avoid round off errors of available space given by actbreakheight if view starts after first break inserted and view will start at top of next page withing first this time
identity definition
non javadoc see org columba chat ui conversation iconversationcontroller addchat java lang string
folder getconfiguration set property enable threaded view enablethreadedview
non javadoc see org columba chat jabber ibuddystatus setpresencemode org jivesoftware smack packet presence mode
if this set to true we use local selection instead of using table selection
non javadoc see org columba mail folder mailboximport defaultmailboximporter getdescription
setjmenubar menubar
privatezippostalcodelabel
non javadoc see org columba core gui plugin abstractconfigplugin updatecomponents boolean
clear statusbar message
calculate new break height according to contents possibly smaller to break before some content not to break in middle of something
cancel command executionupdategui methods if folder selection has been modified
karlpeder only enabled when message selected
abstractmailframecontroller framemediator registertableselectionlistener this
default signature
shortcut key putvalue accelerator key keystroke getkeystroke keyevent vk
uncomment to enable action
putvalue large icon imageloader getimageicon drafts png
look default view settings if not found null returned
shortcut key putvalue accelerator key keystroke getkeystroke keyevent vk braceleft
create panel with all buttons of window columns rows
move messages to trash
register as observer
remove color add color selection to reference
putvalue accelerator key keystroke getkeystroke keyevent vk toolkit getdefaulttoolkit getmenushortcutkeymask
createsubmenu
karlpeder columns may be null first time we visit folder \? idefaultitem item new defaultitem xmlelement
toolbar text usually bit shorter
close window
composer options xml
optional string based attribute
create referenc
putvalue small icon mailimageloader geticon email open png
load all internal addressbook plugins
putvalue small icon imageloader getsmallimageicon redirect small png putvalue large icon imageloader getimageicon redirect png
add color selection to reference
create virtual folder each criteria
get original folder
should be virtual
icons mod switt
if all messages tagged with tag then return true else false
putvalue large icon imageloader getimageicon reply small png
some weird reason table loses its inter cell spacing property when changing underlying column model setting this to again
trash folder selected delete message
listener updates selection status when ever message selection changes
if this message viewer frame viewing message only window should be closed too
init table model
turn off ssl future
no specific renderer found use default renderer
necessary message frame only
add array to vector
tc setcelleditor new customtreetablecelleditor
view message list
mark as bold if message unseen
builder setvalidation true
setup and load constructor
public jcomponent getcomponent jpanel panel new jpanel panel setlayout new borderlayout panel add messagecontroller borderlayout center return panel
get language configuration
setpreferredsize list getpreferredsize
sort all results
if header contains more fields than cached header
open composer
this rootnode root parse createmissingelements
otherpoboxlabel
shortcut key putvalue accelerator key keystroke getkeystroke keyevent vk braceleft
create view more button responsible opening attachment viewer popup jbutton morebutton createattachmentmorebutton
only update table if this folder same as currently selected
non nls namelabel setfont boldfont
fixme setpos
writer interface
fetch headerlist
karlpeder
register as configuration change listener
reopen port
parse urls and substite with html code
clear message list viewer
this needed to be able to open attachments of decrypted message
large icon toolbar
if pgp mode active we should get decrypted part
register as selectionlistener to track selection of tree
end class xmlio
add every header from headerlist to table as messagenode
settext accountname
write to temporary file
important replacing this character must happen first
update treemodel
notify tree getrealmodel gettreemodel nodestructurechanged getrootnode
only import vevent and vtodo now
save every messagenode in hashmap later reference
add this node to cache
init bottom panel with ok cancel buttons
create messagenode
get unique id
ensure tzid matches date time timezone parameter tzid dtstart getparameters getparameter parameter tzid
if no message id available create bogus
rrule freqyearly count interval rrule freqweekly until interval bydaytu rrule freqyearly interval
create tree structure
putvalue large icon imageloader geticon iconkeys folder open
get header
junit end
int index locationtoindex new point setselectedindex index
do sorting
load profile config file
last element direct parent
save every message id in hashtable later reference
send from address and recipient list to smtp server all addresses have to be normalized
table empty just display empty table
return if selection change in flux
save every message in list
immediately update text and progress bar updategui
check if there messages marked as recent in case underline parent node
has children
observable connects sorting table with sort menu view sort messages
collapsible getcontentpane setbackground color white
recent found
bottom setborder new singlesideetchedborder swingconstants top bottom setlayout new boxlayout bottom boxlayout axis bottom add box createhorizontalstrut
filterlist new vector
go through whole tree and sort siblings after date
getting folder info
define false true
error
non nls locationlabel setfont boldfont non nls
load file this what starts things off
treepath path tree getpathforrow row
use local date settings
setopaque true must do this background to show up
matchcombobox additem matchcombobox additem not matchcombobox additem begins with matchcombobox additem ends with
first find beginning element
create xml reader xr xmlreaderfactory createxmlreader
private boolean isbordered true
karlpeder columns may be null first time we visit folder \?
set contenthandler xr setcontenthandler this
model setsignmessage signmenuitem isselected model setencryptmessage encryptmenuitem isselected
add command to compoundcommand
settext
create virtual folder with all messages holding this tag
maximum data to put on one liner
setforeground color red
default constructor public xmlio
saving last selected message to folder
setborder nofocusborder
make sure this configuration also visually working immediately
setborder borderfactory createemptyborder
frame listview update
setforeground color blue
fall back if error occurs
top level element used to hold everything else
color bgpaint new color
etetextforeground color blue
string uservisiblename pluginhandler getuservisiblename id
maybe plugin n't loaded correctly use default row new markactionrow this action
current element you working on
protected xmlelement createdefaultconfiguration string id xmlelement child super createdefaultconfiguration id xmlelement splitpanes new xmlelement splitpanes splitpanes addattribute main splitpanes addattribute header splitpanes addattribute attachment child addelement splitpanes return child
attachment controller does n't support paste actions
create uri representing contact
current path parent of current element
user still manipulating selection
private adapternode actnode
store id
add account to mail checking manager
abort if not in debugging mode
block transfer to self
third column jcheckbox column
settext
setforeground color red settext
notify all observers
setbackground list getselectionbackground setforeground list getselectionforeground
this node category folder do n't make it editable
no rows selected
print all collected profile data
topborderpanel setborder borderfactory createemptyborder
should be mutabletreenode
dateareabean setactivitydepositorycontext dateareabean getdatearea setactivitiessupported true
current time
this profiling point parent of next one
create virtual folder
plugin n't correctly loaded
if there nothing selected return
enableddisabled checkbox must be editable
update message list
enabledisable plugin string id currentnode getid maininterface pluginmanager setenabled id booleanvalue
ensure that we currently in mail component
todo re enable feature following code violates our design accessing folders only allowed in command execute
attachment controller does n't support redo operation
create new menu
copy copymessagecommand command new copymessagecommand result commandprocessor getinstance addop command
get salutation if one specified
remove title and preceding comma
disable max occurrences
remove salutation
setborder borderfactory createemptyborder
if fifo could not be restored initialize it
jpanel innerpanel builder getpanel formdebugutils dumpall innerpanel setlayout new borderlayout add innerpanel borderlayout center
initialize title strings
authenticationcombobox addactionlistener this
public filtercriteria getcriteria int index return filtercriteria list get index
public calendaritem getselected int row getselectedrow return checkableitemlisttablemodel getmodel getelement row
search in subfolders recursively
taglist taglist new calendartaglist this jscrollpane taglistscrollpane new jscrollpane taglist taglistscrollpane sethorizontalscrollbarpolicy jscrollpane horizontal scrollbar never taglistscrollpane setborder borderfactory createemptyborder
skip if message does n't contain requested headerfield
get first selected message
save expanded state
body untouched
concate full name of new mailbox
must do this background to show up
save authentication modes
do nothing if we hovering over root node
get configuration from tree xml file
recursivly expand all children
expand folder
warn user
match all matches
safe to cast to imailfolder here because only those visible to user
re add all top components like recipient editorsubject editor
no sorting
if rootfolder not cached traverse tree
if window maximized ignore window size properties otherwise use window size property but ensure that window completly visible on desktop
create temporary folder in mail
check default ports
check if it contains comma character
get headerfields
focusmanager getinstance delete
ok pressed
putvalue small icon imageloader geticon script png
note we negate expanded state because this will expandcollapse listener
attributpanel add imappanel borderlayout center
box setbackground new color jscrollpane pane new jscrollpane box pane setborder null
calculate mailbox size in background worker
search all criteria in specific provider only
register at shutdownmanager when closing columba this will automatically save all folder data
associate ui component with focusowner
icon menu putvalue small icon imageloader getsmallimageicon configure folder png
set parent folder uid
cast to folder
create composer model
centerpanel add box createrigidarea new java awt dimension centerpanel add box createrigidarea new java awt dimension
only use first selected folder
tell frame model that frame closing if this frame has n't been opened using framemanager methods framemanager close does nothing
test if there trailing html tag
homepagebutton
mailframecontroller framemediator registertreeselectionlistener this
it safe here to cast to abstractmailframecontrolller
emailtextfield
close stream
cancel pressed
listview new filterlisttable filterlist this listview getselectionmodel addlistselectionlistener this jscrollpane scrollpane new jscrollpane listview scrollpane setpreferredsize new dimension scrollpane getviewport setbackground color white centerpanel add scrollpane
save old framemediator in cache use containers 's old id
try to set selection
folder folder abstractmessagefolder getfolder
select node in jtree
initialize completer
show error message
implement this
get global sorting state
mailinterface treemodel nodestructurechanged parentfolder
bugfix but do n't know why that bug occurs
sorting enabled
drag resize interactions
layout center panel
we have special command vfolders
apply sorting state
successfully connected and autenthenticated to smtp server
sorting disabled
if no exception happened we have successfully logged in
tstich someone added tags here this not right place
xmlelement filter new xmlelement filter defaultelement addelement filter
set subject
initperspective this perspective
if mediator contains sortable treemodel
set tooltip text
need to be called before searchreplace to set up all states we need
make sure there nothing within root dockingport
make sure we logged in
show first time account wizard
skip first column builder setleadingcolumnoffset add components to panel
if it isnt message folder then it must be root and those should not be sorted
if no date header found it necessary to contruct new one this case outgoing messages from eudora
setting default values setfont plainfont settooltiptext
set label text
check if frame controller has been registered else do nothing
end of text reached begin at start
name of folder
retrieve contact model from folder
non javadoc see org columba mail imap iimapserver getdelimiter
register as listener to selectionmanger to check selection changes
create message
lastreplaceposition lastfoundposition replacewith length
add selection listener
find backwards
riyad prefs api cannot be used to read window 's registry it coded to use registry if available as backing store on in softwarejavasoftprefs registry keys hkey current user and hkey local machine paths have seen few java apps that use windows registry and they all required native lib to do it
default selection local inbox
component strut box createrigidarea new dimension gridbaglayout setconstraints strut eastpanel add strut gridbaglayout setconstraints defaultbutton eastpanel add defaultbutton
transferable interface methods
select normal entry as default
constants
name textfield gettext
set width height and image type
try again but ignore charset specification in html
systemcolor controllthighlight
create graphics context this buffered image
need to change selection set ignore flag
convert to inputstream
lastreplaceposition lastfoundposition
if not specified return empty iterator
only update if timestamp equal
non nls unreadlabel setfont boldfont non nls
match whole word
result append
append recent message count using blue font
comments not displayed correctly in composer
do n't care
draw folder name and unseen count using bold font
non javadoc see org columba core filter ifilteractionlist get int
if imap selectable folder lightgray font color and italic
table should be updated when tree selection changes
login always supported
send cancel event to worker
register model changes to enabledisable when user switches between html or text plain mode
intern variable which used text replace purposes
close mailbox if it selected
bottom add box createhorizontalstrut
register interest on tree selection changes
set readonly flag
we generate most buttons using actions already instanciated
quote original message different methods text and html
use wrapper class easier handling of references array adapter new foldercommandadapter mailfoldercommandreference getreferences get array of source references mailfoldercommandreference adapter getsourcefolderreferences
private jtextfield logintextfield
user logintextfield gettext
and getting uid this node
private jframe frame
jbutton buttons new jbutton
create element
bottom setlayout new boxlayout bottom boxlayout axis
use reply to field if given else use from
bottom add box createhorizontalstrut
create imap protocol
just use default as fallback
stick with default charset
capas say that ssl not supported
if capa not support just give it try
shall we switch to ssl \?
start new search clear all previous search results
make sure we already logged in
top setbackground titlebackground
remove 'auth'
layout row and column grid
used to control state in which automatic updated mechanism
auth \?
capa not supported
add to folder
combine them to one string
create in reply to references headerfields
login loop until authenticated
register interest on tree selection changes
auth
test method 'org columba core tagging tagmanager removetag string
no response means zero
user pressed ok
user cancelled authentication
if none selected select this folder instead of getting status
convert to mailboxstatus
save or clear password in configuration
login failed \?
here we get new mailboxinfo folder
check if mailbox already exists subscribe only
disabled imap folder tests as they require connection to remote imap server setup suite new imaptstfactory
this exception not because wrong username or password
number of headerfields
copy every headerfield original message contains
build message orginal mod switt
load database from file
entry does not exist on server add nothing
notify configuration changes listeners see org columba mail gui message textviewer
create mailbox on server
store intermediate results in list
bottompanel setborder new wizardtopborder border border bottompanel getborder border margin borderfactory createemptyborder bottompanel setborder new compoundborder border margin
sync subscribed folders if this first login in this session
subscribe to new mailbox
if mnemonic first character of this string
fill sizes string array with numbers from to
dont forget rest
divide in packs
uids start uidnext till uidnext uids length
string checked composercontroller getcomposerspellcheck checktext composercontroller geteditorcontroller getview gettext
update progress
non javadoc see org columba api command command updategui
non javadoc see javax swing table tablemodel setvalueat java lang object int int
non javadoc see org columba calendar ui calendar api icalendarview viewtoday
strip remaining tags
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
get list of user defined headerfields
one or many arguments \?
add it to headerlist
remove leading or trailing whitespaces
now state of procotol more certain correct
setborder borderfactory createcompoundborder borderfactory createemptyborder borderfactory createcompoundborder new roundedborder new color borderfactory createemptyborder
return result
non javadoc see org columba calendar store api istorelistener itemchanged org columba calendar store api storeevent
non javadoc see org columba calendar store api istorelistener itemremoved org columba calendar store api storeevent
something else wrong
view setselecteditem model getheaderfield priority
use caching mechanism this
composerinterface composercontroller savewindowposition composerinterface composercontroller hidecomposerwindow
update this point of time as last communication since every functio calls this before communicating with server
clear existing attachments from view karlpeder added to avoid dupplicating attachments when switching btw html and plain text
after
pass contact data along to addresscombobox
and simply create list of arguments
view addlistselectionlistener this
search mnemonic
non javadoc see com miginfocom ashape interaction interactionlistener interactionoccured com miginfocom ashape interaction interactionevent
also set delimiter
non javadoc see org columba calendar ui calendar api icalendarview getselectedactivity
non javadoc see org columba calendar ui calendar api icalendarview setviewmode int
or arguments must be glued by or searchkey
non javadoc see org columba calendar ui list api icalendarlistview getselected
non javadoc see org columba calendar ui calendar api icalendarview viewprevious
re select folder
add jpanel with useful html related actions
remove all items
only prompt user if composer contains some text
split keyvalue pairs
make sure that jframe not closed automatically we want to prompt user to save his work
titlebar setmidcolor inactive mid color titlebar setfillcolor inactive fill color titlebar settitlecolor inactive label color inactive mid color false
check if totally out of range
shutdownmanager getinstance register this
non javadoc see javax swing event listselectionlistener valuechanged javax swing event listselectionevent
remove duplicates or mail address from receiver account
create scrollapen
account id
getcontainer setcontentpane this
restart timer
set small icon menu putvalue small icon imageloader getimageicon stock convert png
register interest on account changes
non javadoc see org columba calendar ui calendar api icalendarview setvisibledaterange org columba calendar model api idaterange
select account this mail received from
update all component according to new model
set display text possible with mnemonic defined using
get list of all accounts
this method called whenever month or year changes it 's job to repaint labels and determine whether any selection range limits have been reached
very unlikely to happen
figure out how many blank spaces there before first day of month and calculate coordinates of first drawn cell
ietf variant
int index list size remove index
private pop servercollection popserver
ask user to kill pending running commands or wait
only create new subfolders if we used default search folder
offline go online
mnemonic found and not at end of string which does n't make sence
each account that enabled and in fetchalllist
if last selection current folder null then we show firstlast message in table and scroll to it
do not allow empty name
tableview view tablecontroller getview
create tag vector
search src folder with src uid array
system beep
add this header to list later searching
lmonth setfocuspainted false lmonth setopaque false lmonth addactionlistener this
each account
check if parentfolder remote we online
remove whitespaces
ensure root exists
re select folder
found matching account
increase minimum height by line height and line spacing
remove this account
notify model
new message
check if we online
do parsing
non javadoc see org columba addressbook facade igroupitem getcontacts
remove bodypart from mimeparts that added to attachment viewer
wait seconds until dialog openened
message colour should be black as default
this message actually copied \?
uid
or add file in case there no used
check if optional value exists
check internet connection
check if columba default mail client
new newmessageaction actionperformed null
non javadoc see org columba core gui frame focus focusowner getcomponent
init map
single os identifiers window window
activate all virtual folders
check if contact tagged
skip
remove double quote characters from around addresses in string
next token token with whole mailaddress
non javadoc see org columba api command istatusobservable getcancelled
use default account
copy commandline from client info to classes mailto entry
non javadoc see org columba core gui frame focus focusowner isselectallactionenabled
debug output
non javadoc see org columba core gui frame focus focusowner iscopyactionenabled
create emtpy header back off
non javadoc see org columba core gui frame focus focusowner isdeleteactionenabled
no more matches append rest of string
non javadoc see org columba mail imap iimapserver alertmessage java lang string
first token irrelevant
abstractfolder mailinterface treemodel getroot add cyrusroot abstractfolder mailinterface treemodel getroot getconfiguration getroot addelement cyrusroot getconfiguration getroot mailinterface treemodel nodestructurechanged cyrusroot getparent
stream finished before header completely read
example columba org columba contact
check if its group item
non javadoc see org columba core gui frame focus focusowner redo
found contact item in contact component
method not needed by imap
found url with links it same \?
if we online sync subscribed folders on first connection
initialisation
convert to messageoptions
nothing to do
replace with double newline
something really got wrong here show error dialog joptionpane showmessagedialog null getmessage
replace and with newline
save last message because while loop aborted before being able to save message
due to bug ca changed return email pattern matcher replaceall
form of entities must be regexp
collapsible getcontentpane setbackground color white
initial check of input
choose addressbook
non javadoc see org columba core filter ifilter getfilteractionlist
replace br and heading tags with newlines
remove header
non javadoc see org columba api command icommand execute org columba api command iworkerstatuscontroller
try to re use already instanciated class
sb append nbsp
non javadoc see org columba core filter ifilter getfilterrule
convert ws in row to tab
first replace all special entities
non javadoc see org columba api command icommand updategui
remove characters after tag
non javadoc see org columba core filter ifilter getenabled
insert surrounding html tags
non javadoc see org columba addressbook model iemailmodel getaddress
non javadoc see org columba core filter ifilteraction getuid
striphtmltags called with true br newlines
protected void layoutcomponents setlayout new borderlayout leftmainpanel new jpanel leftmainpanel setlayout new borderlayout jpanel taskpanel new jpanel taskpanel setlayout new borderlayout border border getdefaultborder border margin new emptyborder taskpanel setborder new compoundborder border margin taskpanel add taskbutton borderlayout center leftmainpanel add taskpanel borderlayout west jpanel labelpanel new jpanel labelpanel setlayout new borderlayout margin new emptyborder labelpanel setborder new compoundborder border margin margin new emptyborder labelpanel add label borderlayout center leftmainpanel add labelpanel borderlayout center add leftmainpanel borderlayout center mainrightpanel new jpanel mainrightpanel setlayout new borderlayout jpanel progresspanel new jpanel progresspanel setlayout new borderlayout progresspanel setborder new compoundborder border margin progresspanel add progressbar borderlayout center jpanel rightpanel new jpanel rightpanel setlayout new borderlayout rightpanel add progresspanel borderlayout center jpanel onlinepanel new jpanel onlinepanel setlayout new borderlayout onlinepanel setborder new compoundborder border margin onlinepanel add onlinebutton borderlayout center rightpanel add onlinepanel borderlayout east add rightpanel borderlayout east public border getdefaultborder return uimanager getborder tableheader cellborder
check missing tag
non javadoc see org columba core filter ifilterrule count
error
non javadoc see org columba core filter ifilteraction setaction java lang string
check missing tag
non javadoc see org columba core filter ifilteraction setuid java lang string
shall we insert link \?
non javadoc see org columba core filter ifilteraction getaction
do not take existing link tags into account
no java task running start background tasks
enabledisable button too
non javadoc see org columba core filter ifilterrule remove int
rafter user saved file and closed external text editor we read new text from file
check if it closed
already handled
non javadoc see org columba core filter ifilterrule getconditionint
found email address with links it same \?
not same
non javadoc see org columba mail imap iimapserver fetchflagsliststartfrom int org columba mail folder imap imapfolder
css body font family name font size size pt color blue text decoration underline font quoting color
found open link
no match with mailto link tags
non javadoc see org columba mail imap iimapserver deletefolder java lang string
open composer view
non javadoc see org columba mail imap iimapserver renamefolder java lang string java lang string
do same xmlelement node
simply all all group items to list
ensure map can be used by multiple threads
execute search
return body
contact
same url just append and continue
add signature
non javadoc see net javaprog ui wizard step preparerendering
add pgp specific content parameters we take as default hash algo sha
non javadoc see net javaprog ui wizard abstractstep createcomponent
add mimepart that will be signed
notify all listeners see org columba core gui util fontproperties see org columba mail gui message textviewer see org columba mail gui composer text texteditorcontroller
create header and body of multipart
create boundary to separate mime parts
non javadoc see org columba core gui frame iframemanager getactiveframemediator
locale definition
check type
non javadoc see net javaprog ui wizard abstractstep createcomponent
delete message from server
transaction needed underlying jpa architecture
non javadoc see junit framework testcase setup
notify all listeners that new search results arrived
non javadoc see org columba api gui frame idock registerdockable org columba api gui frame idockable
add controlmimepart
save passphrase in hash map
add pgp specific content parameters
getting path to gpg
notifylisteners new modelchangedevent modelchangedevent added server
add encrypted mimepart
con getproperties put userid pgpitem get id
add status information observable
non javadoc see org columba core profiles iprofilemanager getcurrentprofile
notifylisteners new modelchangedevent modelchangedevent removed
query using all criteria
set headercache dirty flag
hashcode value should be buffered
folder selection changed
public object getobject ilocator locator public istructurevalue getchild ilocator locator
store complete stream in source so that we can parse it
non javadoc see org columba core profiles iprofilemanager getprofile java lang string
substract uids that we already downloaded newuids contains all uids to fetch from server
descriptionlabel setfont descriptionlabel getfont derivefont font italic
set dirty flag
update cache
we only use first message
return uids that new
if mouse button pressed twice times
message already deleted from server
remove memorized search folders
create element if it does n't exist yet
non javadoc see java net urlclassloader findresource java lang string
single sender re use identity type
we need place to store color jlabel should be returned to after its foreground and background colors have been set to selection background color these ivars will be made protected when their names finalized
open port to server
build remote lists of messages that unseen flagged deleted junk
taskbutton new jbutton taskbutton seticon imageloader getimageicon group small png taskbutton settooltiptext show list of running tasks taskbutton setrolloverenabled true taskbutton setactioncommand taskmanager taskbutton addactionlistener this taskbutton setborder borderfactory createemptyborder
apop \?
get parent
set new calendar id
non javadoc see org columba core shutdown ishutdownmanager shutdown int
first create bucket each provider
non javadoc see org columba core search api isearchresult gettitle
always enable menuitem again getpop servercontroller enableactions true
create top level configuration directory
fill with nulls
non javadoc see org columba core search api isearchresult getlocation
userpass always supported
non javadoc see org columba core search api isearchresult getdescription
put size at specified place
compatibility using sortstring internally
non javadoc see org columba mail message headerinterface count
only download new messages
non javadoc see org columba mail message headerinterface getflags
now search through all buckets
comma separated category list value value value
apop not supported
initialize progressbar with total number of messages
jpanel new jpanel setlayout new flowlayout flowlayout left top add east lyear new jbutton ryear addactionlistener this ryear setmargin kiwiutils emptyinsets ryear setfocuspainted false ryear setopaque false ryear addactionlistener this add ryear
get first item
value value
logout cleanly
display downloaded message count in statusbar
super node folderitem
non javadoc see org columba ristretto message message setsource org columba ristretto message io source
value value value
not needed anymore
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
download message
delimiter found recursively create all necessary folders to create final folder
fire up search command
since junk non system flag we have to set it with addtitional store command
try to authenticate
more than one year
if result already in hashtable remove from result set
non javadoc see org columba mail folder rootfolder gettrashfolder
gc draw drect xp yp cellsize cellsize true if cell selected fill it with highlight color
check if its contact component
non javadoc see java util iterator next
in case of error fall back to swing 's built in jtextpane
timer start
move message to trash
message marked as spam
score message and mark as spam or not spam
non javadoc see org columba mail folder headercache headerlist getuids
synchronize local uid list with server
non javadoc see org columba mail folder abstractmessagefolder loadmessagefolderinfo
this method called just after new entry has been added
value value
apply filter on message
non javadoc see org columba core gui util iselectionlistener selectionchanged org columba core gui util selectionchangedevent
mark message as recent
find out if interpreter already registered
non javadoc see org columba mail folder headercache headerlist add org columba mail message icolumbaheader java lang object
any errors that may occur cannot stop other scripts from running
non javadoc see org columba mail folder headercache headerlist keyset
check if string number
non javadoc see org columba mail folder headercache persistantheaderlist persist
remember request id search in results
value
searchfolders remove searchrequestid
value
user cancelled sending operation open composer view
non javadoc see org columba mail folder rootfolder getinbox
ask password from user
non javadoc see org columba mail folder imailbox getmimepartsourcestream java lang object java lang integer
non javadoc see org columba mail folder folder isinboxfolder
oh oh casting to specific implementation here
get first one
non javadoc see org columba mail folder imailbox getmessagesourcestream java lang object
select invisible virtual folder
optional parts
create virtual folder criteria
abstractfolder append also automatically removes folder from its parent
return empty result in case criteria does n't match search term
non javadoc see org columba mail folder abstractmessagefolder save
non javadoc see org columba mail folder idatastorage saveinputstream java lang object java io inputstream
non javadoc see org columba mail folder idatastorage getfilesource java lang object
non javadoc see org columba mail folder imailbox getheaderfields java lang object java lang string
scripting xml configuration file should reside in
this search request covered by query engine
no esmtp use pop before smtp instead
value
non javadoc see org columba core gui selection selectionhandler getselection
seconds
find index of largest local uid
non javadoc see org columba mail folder imailbox addmessage java io inputstream org columba ristretto message attributes
get outbox folder
init values user 's email address
select activity before opening context context menu selectedinternalactivitiy getstates setstates genericstates selected bit true
memorize total result count
multicast bit
start login procedure
shapegradientpaint bgpaint new shapegradientpaint new color new color false
remove all memorized search folders
retrieve tagcategory to be selected
ensure we in existing result range
non javadoc see org columba mail folder imailbox getmimepartbodystream java lang object java lang integer
compose message suitable sending
non javadoc see org columba mail folder event ifolderlistener folderpropertychanged org columba mail folder event ifolderevent
close port
activity belongs to calendar id \?
no authentication available
there seems to be no username set in smtp options use username from pop or imap options
process all events collected until now
non javadoc see org columba mail folder event ifolderlistener messageflagchanged org columba mail folder event ifolderevent
turn off authentication future
non javadoc see org columba mail folder imailbox addmessage java io inputstream org columba ristretto message attributes
authentication not supported
vertical grid lines
fallback to securest login method
non javadoc see org columba mail folder imailfolder removefolder
ehlo not supported auth not supported
authentication successful save namepassword
add default plain login as fallback
get sendablemessage object
textashape setattribute ashape report hit shape boolean true
sent folder
start with week view
icon
load default headerfields as defined in rfc
skip message if there 's no account available to send it
placerect bgabsrect new absrect new atstart new atstart new atend new atend null null shadowinsets
start command
featherashape shadow new featherashape shadow filledshadow new color shwsi
use default account
workstateprovincecountylabel
get uid list of messages
non javadoc see org columba core gui util iselectionlistener selectionchanged org columba core gui util selectionchangedevent
send all messages
trigged if activity moved or daterange modified
move all successfully send messages to sent folder
fetch these uids and compare them to local list
start move command
sent folder
find messages that have been deleted
string invalidrecipient null
mark message as answered
non javadoc see javax swing event listselectionlistener valuechanged javax swing event listselectionevent
close composer view
defaultdatearea localdateareabean getdatearea addactivitymovelistener this
enable selection
open connection
non javadoc see org columba core gui selection iselectionlistener selectionchanged org columba core gui selection selectionchangedevent
find out if we already loaded needed resourcebundle object in hashtable
collect uids one folder
non javadoc see org columba core gui selection selectionhandler setselection org columba api command defaultcommandreference
check if script directory exists
non javadoc see java util observer update java util observable java lang object
unchanged
all other local mails deleted
save message in sent folder
set all tagscategories to be not selected
send message
update tree model
value
mark as read
this internally used headerfields can be of every basic type including string integer boolean date etc
nothing to dispose yet
this needed to update titlebar
check current file list changes
in case of stop start
start pooling thread
setbackground item getcolor
should not occur otherwise static initializer should have thrown runtimeexception
overwrite old bundle
recoverable inputs
private checkableitemlisttablemodel model
retrieve new bundle use resourcebundle 's internal classloader
unrecoverable inputs
maininterface addressbookinterface
delete all data in directory
create directory mailspamdb
close send message dialog
save composer window state
show attachment panel
do not prompt user if composer should be really closed
sort uid list
mark message as not spam
month view test
does not occur
private imapoperator operator
get headers
new vis range start sep am raw dst end nov pm raw dst time zone null locale null new vis range start oct am raw dst end nov pm raw dst time zone null locale null should be new vis range start oct am raw dst end nov pm raw dst time zone null locale null
private treeview treeviewer
using default english language shipped with columba
non javadoc see org columba core gui util iselectionlistener selectionchanged org columba core gui util selectionchangedevent
use default account as fallback
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
get stream
cleanup db remove old tokens
gota go now
put headers in list
non javadoc see org columba mail imap iimapserver ensureselectedstate org columba mail folder imap imapfolder
get new inputstream
label
this ok
we use sortdecorator because indices sorted
only save if changes exist
public selectfoldertree tree
message already exists correct token data
message already exists
adapternode name adapternode uid adapternode type adapternode rootnode
xmlelement printnode item getroot
check if this message already learned
methods called by variable parsers
city
insert space btw double newlines
train message as spam or non spam
non javadoc see org columba mail imap iimapserver issupported java lang string
does not happen
see testcase teardown
try to get account using email address
get source folder
register interest on tree node changes
check if user entered valid data
non javadoc see org columba mail imap iimapserver logout
initialize progress bar with total number of messages
ensure that text does not start with newline
non javadoc see org columba addressbook gui tree addressbooktreenode getname
getheight to return right value
non javadoc see org columba mail imap iimapserver append java io inputstream org columba mail folder imap imapfolder
train message as ham
check if contact with given email address exists already
get array of message uids
non javadoc see org columba mail imap iimapserver getheaders java lang object java lang string org columba mail folder imap imapfolder
strip tags body parser striphtmltags decodedbody true body parser restorespecialcharacters body
skip if contact item not valid
margins
non javadoc see org columba mail imap iimapserver list java lang string java lang string
sizepolicy
orientation
headers
mark non spam messages
example columba org columba contact
mark spam messages
non javadoc see org columba mail imap iimapserver createmailbox java lang string org columba mail folder imap imapfolder
convert to lower case
retrieve all contact items and add those to list only
break before start of view
this addressbookmodel addressbookmodel
non javadoc see org columba mail imap iimapserver unsubscribefolder java lang string
save current location statically next time
add group items
if already detected before
public addressbooktreenode string name super name this name name
text fields
non javadoc see org columba mail imap iimapserver getmimepartbodystream java lang object java lang integer org columba mail folder imap imapfolder
train message as spam
non javadoc see org columba mail imap iimapserver fetchnamespaces
calculate break height child and use updated value in further processing
non javadoc see org columba mail imap iimapserver fetchuids org columba ristretto imap sequenceset org columba mail folder imap imapfolder
do n't need this
spam found
create list containing all contact item of this folder
non javadoc see org columba mail imap iimapserver parseerror java lang string
no rebuild option deprecated in recent spamassassin versions
non javadoc see org columba mail imap iimapserver setflags java lang object org columba ristretto imap imapflags org columba mail folder imap imapfolder
contact does n't exist in parent folder anymore remove it
check if sender already in addressbook
if next node null end of list return
skip if null
view starts on page and exceeds it
start parsing line by line
view can be broken
non javadoc see org columba mail imap iimapserver getmessagesourcestream java lang object org columba mail folder imap imapfolder
we compare three classes plain md and popbeforesmtp
sasl mechanisms
non javadoc see org columba mail imap iimapserver fetchsubscribedfolders
model which decorated
create open file dialog
new dimension suggestionsjscrollpane getpreferredsize width
get selected contactgroup card
buttons
add components to panel builder append defaultaccountcheckbox builder nextline
non javadoc see org columba mail imap iimapserver getindex java lang integer org columba mail folder imap imapfolder
pluginmanager getinstance setenabled id boolean value booleanvalue
workzippostalcodelabel
other components
non javadoc see org columba mail imap iimapserver existschanged java lang string int
suggestionsjscrollpane setmaximumsize new dimension integer max value integer max value
smtp
overall dialog box
remember last selected folder treenode
setsize getpreferredsize height
if user pressed ok button
protocol defined mechanisms
non javadoc see org columba mail imap iimapserver warningmessage java lang string
default
table has focus
skip
non javadoc see org columba mail imap iimapserver setupdateflagaction org columba mail imap iupdateflagaction
non javadoc see org columba ristretto message message getmimepart int
create cdata section label
setcellrenderer new addressbooklistrenderer
create if it does n't exist
test self equality
non javadoc see org columba mail imap iimapserver setexistschangedaction org columba mail imap iexistschangedaction
first account item
whitespace detected
non javadoc see org columba mail imap iimapserver getitem
columns rows added dynamically no need to define them here
non javadoc see java util iterator hasnext
junit end
create contact card
expect different hashcode item and item
second account item
read vcard file into string buffer
component strut box createrigidarea new dimension gridbaglayout setconstraints strut eastpanel add strut gridbaglayout setconstraints killbutton eastpanel add killbutton
third item bit different from first
should have same hashcodes
update table
non javadoc see org columba ristretto message message getbodypart
item and item should be equal
non javadoc see org columba ristretto message message setsource org columba ristretto message io source
workcitytextfield
departmentlabel
non javadoc see org columba core gui plugin abstractconfigplugin createpanel
non javadoc see org columba ristretto composer mimepartrenderer render org columba ristretto message streamablemimepart
non javadoc see org columba chat ui conversation iconversationcontroller get int
account imap account change root folder name
remove contactsgroup cards from folder
editor movecaretposition cursor pos
remove folder from parent
setborder selectedborder
get message attributes
non javadoc see org columba core gui themes plugin abstractthemeplugin setlookandfeel
super str set menu text incl mnemonic if specified
managertextfield
from alice mail org create filter configuration check if pattern
companytextfield
departmenttextfield
mailingaddresspanel
officelabel
add to options if possible so it will be saved
item should not be equal to newly created item or null
karlpeder fixed minor flaws to be able to print text messages further more added support html messages
scrollpane
privatecountrylabel
notestextarea
columns rows added dynamically no need to define them here
privatecitylabel
shortcut key putvalue accelerator key keystroke getkeystroke
workaddresslabel
it html try to find out which charset from meta tag nb seach charset below very simple it assumes that meta tag to find on its own line meta can be found at beginning of line and all content of tag found on same line could be better but this first shot
no childs we have leaf view with contents
workpoboxlabel
buttonbar
child got removed stay at this position to get next
imtextfield
workcountrylabel
othercitylabel
system beep
gettext non nls non nls
remove all children
focusowner lost focusowner map get event getsource
settext non nls non nls
non javadoc see org columba core gui plugin abstractconfigplugin createpanel
add children
scrollpane setpreferredsize new dimension
get header of message
true if action enabled false otherwiese
skip this message if it does n't exist in source folder
get message source stream
calculate scaling and return it
current lost
register status events
sourcefolder new cachedmhfolder test cachedmhfolder foldertsthelper homedirectory folders
overwrite method to maintain line breaks when copying messages form messageviewer author aoki see javax swing text html htmldocument getreader int
retrieve list of all group members
scrollpane
mainpanel add topborderpanel borderlayout north
destinationbutton settext destinationfolder gettreepath
get body of message depending on user preferences
view starts on page print it
create remainder
headeritem items new headeritem selection length items selection headeritemdndmanager getinstance setheaderitemlist items
setborder unselectedborder
non javadoc see org columba core gui frame iframemanager switchview org columba core gui frame icontainer java lang string
this happends if there 's nothing left next page
modify this to start where remainder ends
non javadoc see org columba core gui frame focus focusowner iscutactionenabled
return possibly updated value
substitute special characters like
non javadoc see org columba api gui frame idock getdockableiterator
non javadoc see org columba api gui frame iframemediator loadpositions
non javadoc see org columba api gui frame iframemediator isinitialized
does user prefer html or plain text \?
ensure contents layed out properly
set renderers columns
return new defaultheaderrenderer controller getsortdecorator name
get inputstream of mimepart from folder
return item getuid
resize jtextpane component to calculate height and get it
use wrapper class easier handling of references array adapter new foldercommandadapter mailfoldercommandreference getreferences get array of source references mailfoldercommandreference adapter getsourcefolderreferences
compare both messages
no component has focus disable all actions
foldertreenode node tree getselectednode folderitem item node getfolderitem
non javadoc see org columba api gui frame idock dock org columba api gui frame idockable org columba api gui frame idock region
register as focus owner
options xml
non javadoc see org columba api gui frame iframemediator getcontentpane
init addressbook plugin handlers pluginmanager getinstance addhandlers orgcolumbaaddressbookpluginpluginhandler xml
fall back to email address
calculate size and return it
fall back to formatted name
height of content top margin bottom margin height corrected scaling
value
get flags of message
value value
close streams
this property ignored under java
width unchanged
value
value
value value value value value
handle child view by recursive call
non javadoc see org columba api gui frame idock setsplitproportion org columba api gui frame idockable float
close inpustream
scale graphics
in future it will be possible to also add new addresses
mark message as read
backwards compatiblity its not possible anymore to create contact model without email address
get flags of message
tstich ca bugfix
create folders etc
translate to line up with origin of print area trans
non javadoc see org columba core taskmanager itaskmanager addtaskmanagerlistener org columba core taskmanager taskmanagerlistener
list repaint
public string getagent return agent
create command reference
setbackground uimanager getcolor textfield background
create command reference
parse header
translate graphics object back to original position and reset clip and scaling
create command reference
return string representation of cipher text
individual digit number
child views exist operate recursively on these
do not start second time
if folder message folder todo author fdietz there should be interface instead of abstractmessagefolder class
following java guidelines i'm setting this to low priority this should make gui more responsive because background worker has low priority whereas gui worker has normal priority
delete folders
this no integer value
set size of mpane according to available width and fetch root view
karlpeder introduced scaling
ask user
get origin size information height as total height minus current pos
views xml
disable plugin
reset starting position in direction
register at shutdown manager this will save all configuration data when closing columba
non nls non nls non nls non nls
okbutton
add message eml as inputstream to folder
end public class xmlelement
calling copymessagecommand execute here super execute worker
this headeritem from autocompletion
otherstateprovincecountylabel
font getfont setfont new font getname font bold getsize
label
otheraddresslabel
private jbutton lyear ryear lmonth rmonth
determine what day of week first day of month falls on it 's too bad we have to resort to this hack java api provides no means of doing this any other way
otherzippostalcodelabel
save message stream to file
builder addfixednarrow jbutton rightbuttonvector get
draw horizontal lines
mark as spam as not spam each message
check new messages
make sure to close all file handles to currently cached message necessary windows to be able to delete local file
othercountrylabel
block mouse moves to underlaying component wo n't restore cursor
update tag list if mode changes
if spam filter not enabled return
add some messages
gpg windows executable only download fortunately there windows registry file included in download and has this as default installation path in it while users will probably install gpg into many other places this atleast best guess start
add message eml as inputstream to folder
destfolder firemessageadded uids
try to get account using account id
optionsitem optionsitem mailconfig getinstance getoptionsitem string selectedbrowser optionsitem getstringwithdefault optionsitem messageviewer optionsitem selected browser default
privatepoboxlabel
model should contain data
different border recurrent events activityinteractor setstaticoverride ashapeutil default outline shape name ashape stroke new overridefilter public object getoverride object subject object defaultobject return activityview subject getmodel isrecurrent \? new basicstroke basicstroke cap butt basicstroke join bevel new float defaultobject
check success
group of given parent
on startup there 's should n't be any recent messages we simply remember recent messages here property addattribute recent
each jcombobox item
this probably means that configuration wrong change this to sane default value
ok now tool initialized correctly
time consuming tasks you need to create your own command
create command reference
uses framemanager instance in maininterface to open new addressbook window
privateaddresslabel
just ignore unknown people
set folder changed flag if not header cache would n't notice that something has changed and would n't save changes
next new folder will get this uid
close method manipulates viewlist so we have to remove existing element and fill in our temporarily stored ones
load docking settings from last user session
textashape titletext new textashape default title text shape name starttime endtimeexcl timezoneshort titletextabsrect textashape type singe line textfont textpaint new atstart new atstart gfxutil aa hint on
map historymap searchhistorylist getinstance gethistorymap
icon we ca n't use seticon method this time as it relies on border being set
label
execute command use mock object class as worker which does nothing
scrollpane
privatecitytextfield
privatestateprovincecountylabel
non javadoc see org columba core gui plugin abstractconfigplugin updatecomponents boolean
accountlist list mailconfig getinstance getaccountlist list addemptyaccount pop
only used by virtualfolder
check number of jtree rows
birthdaylabel
check number of jtable rows
non javadoc see org columba core filter ifilterlist move int int
transform string to date representation
columns table
we need to sort uids in order to have correct association between new and old uid
putvalue small icon imageloader getsmallimageicon mail new png
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
scrollpane
create sample headerlist
notify listeners see org columba mail gui table action forwardaction
check number of tree nodes
noteslabel
test with empty list
size see org columba mail folder cache cachedheaderfields complete list of possible attributes
jar file found
managerlabel
remove messagenode with uid
extend existing menu
create new class loader using global class loader as parent
iaccount account object getaccount
get plugin handler filter actions
all java plugins package their class files in plugin jar
fields on this object in fact represented in xml structure found as getroot therefore super equals should do job
save to profiles xml
use our global class loader
use user 's config folder in hisher home folder all plugins reside in plugins
workcitylabel
remove all options
remove plugin from view
check at least whitespaces
create group with two contacts
modify listmodel
test with null list
non javadoc see org columba core filter ifilterlist movedown org columba core filter filter
plugin instanciatejavaclass classname arguments
does exactly same thing as editpropertiesaction when contact table focused
url decode
disable extension
non javadoc see org columba core filter ifilterlist move org columba core filter filter int
first group contains first contact item
non javadoc see org columba core filter ifilterrule setcondition int
use default java classlodaer
if this worked remove it from tree xml configuration too
test with all kinds of input data
non javadoc see org columba core filter ifilterlist remove org columba core filter filter
add contact to roaster nickname groupnull
border border borderfactory createcompoundborder new shadowborder borderfactory createemptyborder jpanel getcontentpane setborder border
we only interested on subscription requests
mock folder class only returns folder id
must create exceptionprocessor
public abstract ichatmediator getchatmediator
register as focus owner
public abstract void setchatmediator ichatmediator mediator
mock object folder facade only returns folder list
add to uncategorized node
non javadoc see org columba chat ui roaster iroastertree updatebuddypresence org columba chat api ibuddystatus
parse plugin metadata
non javadoc see org columba chat ui conversation iconversationcontroller closeselected
set message body
add list of attachments if applicable
non javadoc see org columba chat jabber ibuddystatus getname
non javadoc see org columba chat jabber ibuddystatus setstatusmessage java lang string
contacts item
add all contacts as leafs of group folders
non javadoc see org columba chat ui conversation iconversationcontroller getselected
non javadoc see org columba ristretto message message getmimepartcount
persist changes on exit
updatetimer start
non javadoc see org columba chat jabber ibuddystatus setchatmediator org columba chat api ichatmediator
and add it to buddylist
non javadoc see org columba chat jabber ibuddystatus getchatmediator
add uncategorized note
non javadoc see org columba chat jabber ibuddystatus setsignedon boolean
non javadoc see org columba ristretto message message getsource
buddy already exists
non javadoc see org columba mail message headerinterface set java lang string java lang object
non javadoc see org columba mail message headerinterface count
get presence
non javadoc see java util iterator remove
add to global buddy list
non javadoc see java util iterator next
found group buddy
non javadoc see org columba ristretto message message getheader
create new buddy
open stream to file
use selected buddy
load properties from stream
create account object
use keyvalue properties file
non javadoc see org columba core filter ifiltercriteria getcriteria
if external plugin we need directory of it
non javadoc see org columba mail imap iimapserver flagschanged java lang string org columba ristretto imap imapflags
create stream to file
save properties to file
store account data in properties
add contact to folder
fonts
prompt jabber id
register interest on contact selection changes
skip non matching elements
non javadoc see org columba core filter ifilterrule removelast
skip if no element found
do n't search in subfolders recursively
register interest on table selection changes
if user cancelled action
add new group to folder
checkbox additem custom message null checkbox additem leave
get selected folder
could n't find correct constructor
non javadoc see org columba mail imap iimapserver search org columba ristretto imap searchkey org columba mail folder imap imapfolder
passwordtextfield settext account getpassword
tempfolder new addressbookfolder null addressbookinterface
protected addressbookfolder tempfolder
check if this buddy belongs to group
non javadoc see org columba core filter ifilterlist count
non javadoc see org columba mail imap iimapserver isselected org columba mail folder imap imapfolder
if extension n't already registered
found new token
skip if it does n't exist
if no plugin directory exists return
see testcase setup
clear text box
search in packs beginning from newest to oldest in most cases this should save us lot of uid fetchings to find deleted messages
load configuraation
header file found
dateformat format dateformat gettimeinstance dateformat short green color
create message object
remove node
dateformat format dateformat gettimeinstance dateformat short
remove xml config
notify that new worker available
create new client and try to connect to server
private sendbuttoncontroller sendbutton
public string getpassword return passwordtextfield gettext
karlpeder old code accidentially \? modifying attachment list of model this affects composing when called second time saving message after sending
passwordtextfield new jpasswordfield
addseparator account options
non javadoc see org columba core filter ifilterrule removeall
connect to server new connectaction this actionperformed null
non javadoc see org columba mail imap iimapserver fetchheaderlist org columba mail message iheaderlist java util list org columba mail folder imap imapfolder
seticontextgap setverticalalignment jlabel center
register all extensions
non javadoc see org columba core filter ifilterrule addemptycriteria
private jpasswordfield passwordtextfield
fire new message event to interested listeners
iaccount account object getaccount
non javadoc see org columba mail imap iimapserver expunge org columba mail folder imap imapfolder
messagecontroller createpopupmenu
non javadoc see org columba api command iworkerstatuscontroller addworkerstatuschangelistener org columba core gui statusbar event workerstatuschangelistener
failure
non javadoc see org columba api command iworkerstatuscontroller gettimestamp
parse plugin xml file
todo
clear list and collect uids new folder
force that last line in buffer does not have newline
private file addressbookfile
create new contact card
we got this from headerfieldtree
set clipping graphics object
private jtable logtable
non javadoc see org columba api command icommand getreference
load all internal core plugins
update timer event
non javadoc see org columba core filter ifilter clone
kpo n' appended
public abstract class getdefaultchild
right max dlu pref dlu
set bean properties
notifytablelisteners new tablemodelevent this logmessages size logmessages size tablemodelevent all columns tablemodelevent insert
non javadoc see org columba core filter ifilter getname
following methods override defaults performance reasons
copy all internally used headerfields
make sure we get all log info as fast as we can get ahold of it
non javadoc see org columba core filter ifilter setenabled boolean
navigate to treenode text
non javadoc see org columba core gui util selectionhandler getselection
open configuration file
non javadoc see org columba core filter ifilterlist get int
bottompanel add closebutton
found new message
stateprovincecounty
this should never happen since superclass object
create config folder file file new file test config file mkdir new config file logging debug true logging createdefaulthandler init mail component new mailmain init new addressbookmain init now load all available plugins pluginmanager getinstance initexternalplugins
open file
non javadoc see org columba mail folder mailboximport abstractmailboximporter importmailbox java io file org columba api command iworkerstatuscontroller
non javadoc see org columba core gui frame focus focusowner paste
non javadoc see org columba core gui frame focus focusowner delete
non javadoc see org columba mail imap iimapserver getmimepartsourcestream java lang object java lang integer org columba mail folder imap imapfolder
if line does n't start with from \? \? \? \? \? \? or line length save everything in stringbuffer
view model write configuration given data user entered in gui
changing divider border visibility
non javadoc see org columba core gui frame focus focusowner copy
menu add new cmenuitem new opennewmailwindowaction null menu add new cmenuitem new opennewaddressbookwindowaction null menu addseparator menu add new cmenuitem new aboutdialogaction null menu add new cmenuitem new showhelpaction null menu addseparator menu add new cmenuitem new exitaction null
model view read configuration and set gui elements appropriately
non javadoc see org columba core gui frame focus focusowner isundoactionenabled
non javadoc see org columba core gui frame focus focusowner cut
header
strip 's
if there existing lock then it must be from previous crash remove it
replace with modified classpath
non javadoc see org columba mail imap iimapserver fetchuid org columba ristretto imap sequenceset org columba mail folder imap imapfolder
step past spaces find position of or which end of charset name
automatically generate help statement
boundary parameter
reset new message
we reached from start of new message
edge values
divide message into headers and body
end of method importmailboxfile
non javadoc see org columba mail gui table model tablemodelmodifier modify java lang object
end of method getdateheader
invalid date format not enough tokens in it
set background of scrollpane in case list smaller than dockable
day of week month day of month time year
load all internal calendar plugins
add all native jars
setup path platform maintainers add your platform here see also initplatformservices method
boundary not found content type must be changed
non javadoc see org columba chat jabber ibuddystatus getpresencemode
no attachments found just insert content type header extra header necessary attachments header replaced
handle header
parse content type
attachments found
do not exit
no attachments found just convert it to textplain or texthtml
just convert it to textplain or texthtml
extra header necessary attachments header replaced
testdatagenerator generatetestdata
store port number in file
jscrollpane tablescrollpane new jscrollpane navigationcontroller getview tablescrollpane setborder borderfactory createemptyborder
port in use try next
monthlyactivityashapebean new activityashapebean
logging log severe error while looking charset
public adapternode addemptyfiltercriteria adapternode filterrulenode element child createelementnode filtercriteria element subnode createtextelementnode headeritem subject addelement child subnode subnode createtextelementnode criteria contains addelement child subnode subnode createtextelementnode pattern pattern addelement child subnode subnode createtextelementnode type subject addelement child subnode filterrulenode domnode appendchild child return new adapternode child
end of method convertandsavemessage
update progressbar
we have now added such header
save message to destination folder
non javadoc see org columba addressbook facade igroupitem addcontact org columba addressbook facade icontactitem
end of while loop over headers
logging log severe error saving converted message
should throw exception as attribute type name not defined in type structure
initialize tagging
end of method dividemessage
unique boundary found
implementation of replace function it returns always position of next replaced word
create full msg from headers and body
private hashtable table new hashtable
nb this savemessage method def in defaultmessageimporter
lines not starting with from \? \? \? \? \? \? part of message headers or body
and save it
color bulletpaint new color
end of method savemessage
setcolor edge bottom drawline right drawline ovalheight
put properties that should be copied from parent here
initial guess
make sure file deleted automatically when closing vm
build new message body
text which we looking or want to replace replaced text which we want to have text where we make search searchreplace case sensitive searchreplace matches whole words only searchreplace works backwards on text
hide splash screen
seticon imageloader getimageicon stock down png
handle attachment by creating link
restore frames of last session
element name
we using this inpustream multiple times istream will be closed by clonestreammaster
tstich reduced to because all need to be search when activated on startup we only want subfolders if more children exist remove them
set application wide font
meta tag with content definition found
patch submitted by forum user turbo chen fixed user n't able to enter chinese text in composer subject textfield
init all components
virtualmessage new virtualmessage uid index
now load all available plugins pluginmanager getinstance initexternalplugins
easier search matching
need to be called after searchreplace to make some changes in states
only accept client from local machine
this will terminate loop
ignore this yet
initialize platform dependant services
non javadoc see org columba chat jabber ibuddystatus getjabberid
we found what we looking
init plugin handler
it html or plain text
karlpeder set model to html or text based on body specified on command line this done using simple check does body contain and
loop over headers and modify them as needed
non javadoc see org columba ristretto message message getheader
end of method guessbodycontenttype
end of while loop
no attachments found should in fact have been checked by caller
show splash screen
init controllers different parts of composer
register protocol handler
send all unsent messages found in outbox
through reflection
use heavy weight popups to ensure they always on top
check if there columns which need to be saved
jmenu options jmenu menubar add new jmenu options options setmnemonic 'o'
keep track of active windows used by dialogs which do n't have direct parent
can be email address in link bug ca fix that with looking open link in same line before on way from left to current position of email at find last open link
enable debugging of repaint manager to track down swing gui access from outside awt event dispatcher thread
enable time pickers
initialize configuration with selected profile
if message it not yet seen
it has to be set
memorize all urls
more than tokens assume last token last name and take rest of names as first name this handles names like this sue gene stark
we trigger update only when exists changed which should be equal with recent change
draw outline of cell gc setcolor metallookandfeel getprimarycontrolshadow
use global class loader to bootstrap columba
no attachments found
base encode photo byte to string
build new body part
if user does n't overwrite logger settings with commandline arguments just initialize default logging logging createdefaulthandler
prompt user profile
initialize global class loader
gets fired if configuration has changed see org columba mail gui config general mailoptionsdialog see java util observer update java util observable java lang object
insert header attachment list
non javadoc see java io inputstream read
create random port number within range
use static variables so date only updated once during runtime
do nothing here just continue
non javadoc see java io inputstream read byte int int
everything up and running start services
private jtextpane textpane
select charset of original message
part of body
differnt outline color selected
insert start and end html
this necessary because getarglist returns path in square brackets
run garbage collector
runs on event dispatching thread
end of method createattachmentlistfromheader
non javadoc see javax swing event caretlistener caretupdate javax swing event caretevent
namespaceaware false
force object finalization
remember parent path this necessary imaprootfolder sync operations
set global class loader to null
this method delivers next line
line with buttons
date area grid line
horizontal grid lines
non javadoc see org columba ristretto message message getmimepart int
start command which adds message to folder and calls apply filter on this specific message
get folder item configuration
this method frees given string from comments defined in rfc
setup and load constructor public xmlio string filepath currentelement null
get first provider isearchprovider provider searchpanel getsearchmanager getallproviders next isearchcriteria defaultcriteria null searchbar this searchpanel searchincriteria textfield gettext provider gettechnicalname provider getdefaultcriteria textfield gettext gettechnicalname searchinsidecheckbox isselected
horizontal light gray column separator line
north header cell decorator
end of class eudoramailimportfilter
define activity layout
showing week number
non javadoc see org columba calendar store api istorelistener itemadded org columba calendar store api storeevent
end of method createattachmentlistfromattachmentconverted
xmlelement printnode getroot
activity setup
get title if one specified
wrap with observable stream progress bar updates
non nls non nls non nls non nls non nls
test if our to headerfield contains or contains not search string
get cc headerfield from header
non javadoc see org columba core profiles iprofilemanager getprofiles
get header of message
set initial value height where this print object should be broken in points without scale
get to headerfield from header
since indices on pop server start with we add dummy null element in list
do same cc headerfield and or results
non javadoc see org columba addressbook facade igroupitem removecontact org columba addressbook facade icontactitem
return parts
really delete file
parse urls email adresses and substite with html code html htmlparser substituteurl html html htmlparser substituteemailaddress html
non javadoc see org columba addressbook facade iheaderitem setid java lang string
author fdietz disabled this testcase as it does n't really fit into this category of message operations it fails because we would have to create folder hierarchy including parent folders to execute move
unchanged no breaks before this view
display error message
treecontroller treecontroller treecontroller treeviewowner framecontroller gettreecontroller treeview treeview treecontroller getview
use local tests only string cmd spamassassin string cmd spamc
correct starting position if printing should not start at top
byte
map selection to this temporary message
do not scale up no scale factor above
get columba 's top level configuration directory
no server running start our own
titlelabel setbackground uimanager getcolor label background
columns rows added dynamically no need to define them here
if we stopped at line break increase array index pointer
we ca n't just load first constructor go find correct constructor based based on arguments
setup file logging
non javadoc see org columba mail folder event ifolderlistener folderremoved org columba mail folder event ifolderevent
if already in roster
non javadoc see org columba mail folderoptions abstractfolderoptionsplugin restoreuisettings
init font configuration
loop through all extensions this plugin uses search corresponding extension handler register extension at extension handler
must do this background to show up
append new date header
non javadoc see org columba mail folder event ifolderlistener messageadded org columba mail folder event ifolderevent
mock objects contact facade only returns getcontactitem and getallgroups
protected charsetmenuitem selectedmenuitem new charsetmenuitem null
init console handler
define allocation rectangle starty used to compensate different start point if printing shall not start from top
if line does n't start with from or line length save everything in stringbuffer
karlpeder in main view only enabled when message selected
never mind
do nothinh here use finalclose
only if tempfile corrupted
non javadoc see org columba mail folder imailfolder getrootfolder
logging stuff
add welcome message to new account inbox
public ichatmediator getchatmediator return mediator
delete any cached information
add some new messages and remove same number of old messages
empty worker list until one left
list sethorizontaltextposition jlabel leading
system setproperty javax net debug ssl handshake data trustmanager init java net ssl debugging
setresourceroot
loop through all extensions this plugin uses
attempt
non javadoc see org columba calendar ui list api icalendarlistview getview
ensuredirectory
we only update changes events currently
commandline arguments which ca n't be handled by core passed along to other subcomponents
non javadoc see javax swing table tablemodel iscelleditable int int
url classloader getsystemresource path
getresourcestream
builder addseparator full text indexing builder add enablelabel cc xywh builder add enabletextindexingcheckbox cc xywh
download any cids in html mail
get source reference of message when replying this original sender 's message you selected and replied to
rmonth setfocuspainted false rmonth setopaque false rmonth addactionlistener this
non javadoc see org columba mail folder imailbox getattribute java lang object java lang string
taglist taglist new mailtaglist this jscrollpane taglistscrollpane new jscrollpane taglist taglistscrollpane sethorizontalscrollbarpolicy jscrollpane horizontal scrollbar never taglistscrollpane setborder borderfactory createemptyborder
setcolor bg fillrect fillrect fillrect
non javadoc see org columba mail folder folder getuids org columba api command iworkerstatuscontroller
open output file
cancel command executionupdategui methods if folder or message selection has been modified
close stream
stylesheet created dynamically because user configurable fonts used
do n't instantiate this
default encoding plain
get position of pattern in text
open zip file
cancel question dialog and do n't close composer
transfer bytes from zip file to output file
trigger synchronization of selected folder
by using instance of synchtmleditorkit html should load synchroniously so everything loaded before printing starts
get first entry
non javadoc see org columba mail folder imailbox getflags java lang object
there no charset info default system charset used
we done clear status text with delay if this not done initial text will stay in case no messages sent
name of helpset resource
selected rows before updating model used later to restore selection
mark found pattern text grabfocus
append tooltip
private border unselectedborder null private border selectedborder null private color background private color foreground
could not find it
maybe based on hs \?
set whether model should handle html or plain text
enable timer
if user currently changing selection do n't do anything wait until final selection available
delete marks unselect
doctype doctype factory doctype icalendar ietfdtd xcalicalendar xmlen doc setdoctype doctype
set ui manager properties here that affect quaqua
non javadoc see org columba mail imap iimapserver search java lang object org columba core filter filterrule org columba mail folder imap imapfolder
non javadoc see java util iterator remove
replaceall action performed
private string body private url url
non javadoc see org columba mail message icloseableiterator close
text grabfocus
non javadoc see java util iterator hasnext
create panel with border and options columns rows
non javadoc see org columba mail folder idatastorage getmessages
delete marks
attachment controller does n't support undo operation
if html stripping enabled
we do n't need to check running commands here because there n't any shutdown plugins only use this thread
non javadoc see org columba mail folder imailbox getmessagesourcestream java lang object
non javadoc see org columba mail folder folder save
look and feel
set allocation defines print area together with clipping and translation made above and print
non javadoc see org columba mail folder folder istrashfolder
read configuration from options xml file create css stylesheet string set font of html element
non javadoc see org columba mail folder rootfolder gettrashfolder
update popup menu with search term before its made visible textfield addpopupmenulistener this
non javadoc see org columba ristretto composer mimepartrenderer render org columba ristretto message streamablemimepart
setborder uimanager getborder table focuscellhighlightborder
add toolbar panel add toolbar borderlayout north
non javadoc see org columba mail folder headercache headerlist keyiterator
small icon menu putvalue small icon imageloader getsmallimageicon stock about png
non javadoc see org columba mail folder headercache headerlist headeriterator
view setleadselectionpath path view setanchorselectionpath path
textfield showpopup textfield requestfocus
non javadoc see org columba api command command execute org columba api command worker
add message eml as inputstream to folder
non javadoc see org columba mail folder headercache headerlist get java lang object
vertical grid lines
temporary hashtable to check duplicated
riyad even though we do n't do anything with this value what it doing setting up selection colors and such as implemented per default cell rendered
implement content hander methods that will delegate sax events to tag tracker network
if character found shows user error message
replace action performed
type of dnd object being dragged
non javadoc see org columba addressbook model iemailmodel gettype
we ca n't just load first constructor go find correct constructor based on arguments
select current day
checkbox setborder borderfactory createemptyborder
we 're always doing move and this handled in exportdone method
we use attributes and flags from cache but parsed header from parsed message
non javadoc see org columba ristretto message message getsource
find action performed
get list of uids on server important use clone of list since we must not change it
comments not displayed correctly in composer
overwrite look and feel font settings
switch restoring last session of columba if true restores all windows
one line added to header each attachment which has filename defined
get plugin id
integer priority integer valueof pattern return priority
emailtextfield
userpass worked this indeed bogus server
non javadoc see org columba ristretto message message getmimepartcount
resync search engine this only needed lucene right now
initialize services before dismissing splash screen
do something with arguments
professionlabel
handle commandline arguments of modules
documentparser parser new documentparser decode message body with respect to charset
maininterface processor addop
clear message viewer tablecontroller valuechanged new listselectionevent this false
layout setvisualdaterangerounder new boundaryrounder daterangei range type day true false false daterangerounder allday events
load user customised language pack
availables actions
first remove all headers that in headerlist but not folder
until
just in case that someone who developers on plugin adds plugin files to his classpath we try to load them with default classloader
convert special characters
create virtual folder
set start to
get current classpath from sysloader through reflection
if end on round it to
if collapsible collapsed we do not want its border to be painted
font font maininterface columbatheme getcontroltextfont
search request n't covered by query engine fall back to default search engine
found email address
putvalue abstractcolumbaaction large icon resourceloader getimageicon new appointment png putvalue abstractcolumbaaction small icon resourceloader getimageicon new appointment png
there still more messages to update issue another fetch messages command
get source reference of message when replying this original sender 's message you selected and replied to
init plugins
color shadowpaint new color
non javadoc see org columba ristretto message message getbodypart
deprecated config file support
bgashape addsubshape maintext
non javadoc see org columba mail folder foldertreenode getname
non javadoc see org columba mail message headerinterface set java lang string java lang object
setfloatable true
register component as focusowner focusmanager getinstance registercomponent this
to mark text in jtextpane
toolbar buttons always need icon
just animation if there more than zero workers running
all day events
re open composer view
calculate message score
openwithbrowser getlink
this save because only shutdown plugin to stop this server configuration n't touched
ashapeutil addresizeboxes root swingconstants horizontal
we assume user cancelled search remove cached command
must go backwards or else filters will swap places with each other
get size of content width height size without scaling scaled size
should not occur otherwise bundlepath would not be in hashtable
public virtualfolder folderitem item super item headerlist new memoryheaderlist ensurevalidfilterelement
small icon menu putvalue small icon imageloader getsmallimageicon sign png
public int type
bottom setlayout new boxlayout bottom boxlayout axis bottom add box createhorizontalstrut
try system aqua look and feel
instanciate theme
create list of search requests
close connection to server
get plugin handler
add all existing tags to menu
user may have changed hostname use dialog settings instead of stored settings
fire callback to remove all tags from selected items
changing selection to specified row changeselection row true false
also register interest in tree seleciton events updating title
no charset specified automatic mode try to determine charset based on content parameter
karlpeder columns may be null first time we visit folder \?
create view more button responsible opening attachment viewer popup
table empty just display empty table
fill list model with tags
http proxy
folder trash abstractmessagefolder maininterface treemodel gettrashfolder trash folder has uid
get account information from message
author fdietz never request focus view requestfocus
popup menu
folder showfilterdialog abstractmailframecontroller getframemediator
imap folder specific this folder selectable does it contain messages \?
minimal unchecked time seconds in ms
remove old activity
to lower case
initialization
compare if item starts with str
treepath path tree getselectionpath
jpanel add addactionbutton cc xy
initialise protocol layer
remember last message
update text and progress bar
passive if not initialized do it now
exit immediately nothing more to do
remember if look and feel has been changed
com miginfocom util licensevalidator setlicensekey cufrederik dietz ncoopensource ndmfalse nex nsignature fdb afead ebfbdd ad cb
enabled event firing
we currently only support single category per activity
version
init update timer
persist modified calendar
update startend time
update store
load configuration from persistence
make sure configuration saved when exiting
retrieve subject
generate default unique id
copy all attributes
layoutcomponents
java util calendar stamp event getdtstamp
create recurrence
search finished enable search button again
no recurrency so nothing in string
do layout again
private jbutton taskbutton
remove everything which not za
build string
if complex use last search folder
gather result results
non javadoc see org columba calendar store api icalendarstorefactory getlocalestore
mouselistener sorts table when clicking on column header
rrule freqweekly count interval bydaytu th rrule freqmonthly until interval byday we rrule freqyearly interval rrule freqyearly interval byday su bymonth rrule freqyearly interval byday su bymonth
save contact to outputstream
skip if uid dtstart or dtend not defined
if there no string given return number
sort string
found category
element child getparentelement getchild icalendar categories list list child getchildren
find property in rrule string
generate new uuid if it does not exist yet
remove old data
generate xml document
add new data to local store
builder setvalidation true
filename uuid xcs
remove xcs
icalendarstore store icalendarstore next getsource
create new activity
copy activity
enable all menuitems
retrieve selected activity
disable this calendar 's id
this should not happen templates seem to be missing
get selected calendar id
get selected calendar
create search history
recurring event
this calendar component and only used internally
contentpane add dockingport borderlayout center
background
documentlistener methods
paint right inside border setpaint
create all individual search criteria this provider
select first item
glocal grid line colors
activityashapebean new activityashapebean
general grid size if we do n't set this property there wo n't be vertical scrollbars
west header
first row showing hour
north header background
first header showing day info
update popup menu based on searchterm
dark gray line every hour
light gray line every min
select nodes
bold outline if selected
paint outer border setpaint outer
color titlebgpaint null new color
color selectedtitlepaint new color
color textpaint new color
even
first left tab
second right tab
fallback shape small sizes
resize events
static example shape creation
ashapeutil addmousefireevent outlineashape trigger defaultdatearea ae category drag pressed false false button
states
fillashape filledshadow new fillashape shadowshape new roundrectangle bgabsrect new color gfxutil aa hint on
slicespec shwsi new slicespec new insets slicespec type tile cut slicespec opt border
absrect textrect new absrect new atstart atstart start new atend atend end
root addsubshape shadow
check value after
root addsubshape textshape
root addsubshape outlineshape
root setattribute ashape report hit shape boolean true
animations text
toolbar container
title
content
outline
build tree
color mooutlinepaint new color
private themedateareacontainer view
every year \?
leap years
log severe no number
save header and attributes copy flags
prepend from line
fillashape filledshadow new fillashape shadowshape new roundrectangle bgabsrect new color boolean true
drawashape outlineshape new drawashape bgfill new rectangle absrect fill outlinepaint new basicstroke boolean false
sizeconstraint sconstr new sizeconstraint new atfixed new atfraction
sizeconstraint sconstr new sizeconstraint new atfixed new atfraction
define filter rule
builder append morebutton
get reference
save message source each selected message
addenterexitoverride outlineashape outlineashape ashape paint mooutlinepaint false true
setting lastselection srcfolder to null
builder append searchbutton
which kind of mark \?
update progress bar
retrieve new selection
reset progress bar
save each message
searchinsidecheckbox setenabled false
save message
user pressed search button
check if happens in calendar but not on activity
end of loop over uids to save
create new
restore original clip
parse urls email adr and substite with html code
message composed of headers and body
skip search all
its always possible that no folder currenlty selected
ignore columba date used instead
all headers should be included
add from to date subj so they last elements
get destination foldedr
intersect this with existing clip
non javadoc see org columba calendar ui calendar api icalendarview viewnext
cancel if source equals destination folder
get messgae uids
mark all messages as expunged
to enable button again after search finished
it will not be done correctly if first statement omitted
get filter
new folder fire to old folder
timespan span activitylist get
add child to this node
table put item getid item getname
perform other database configurations
show search dialog
true if message has attachments false otherwise
to
on return start seach
junk flag
we need imapflags
list of nick names
apply filter if enabled
fall back to english version
disable time pickers
check noselect flag
first remove all subfolders recursively
setborder unselectedborder
show docking view
init result view createcontextstackedbox
analyze filter
get source folder reference
disable button
no end
row count
this message does n't exit in this folder anymore
disable date picker
enable until
calendar list
check if this folder overwriting global options
description
location
date range
default button title
execute background search
save changes
private imageicon image null private imageicon image null
set body text
clear autocomplete hashmap
skip empty strings
addrightcomponent taskbutton
checkbox setbackground item getcolor
create command reference
disable text in toolbar
category filtering disabled as default
add mimepart to model
setup charset and html
two column
add attachment
open composer frame
model view update
query only single provider
create visual container result panel
store reference to source message
add to search panel
clear previous search results
add tag id as last
set focus to editor pane and set cursor to top
show search docking view
setborder borderfactory createemptyborder
builder add panel cc xy
enable when implemented
update composer
update calendar viewer
end public externaleditor string editorcommand
create big size font to display in composer textfield
set old font properties
end public boolean startexternaleditor
plain text components do n't fire these events
query all criteria of all providers
non nls
defaultaccountcheckbox setenabled false
disable components
update signature will notify all listeners that signature changed
mainpanel setborder borderfactory createemptyborder
repaint box
builder setleadingcolumnoffset
builder nextline
nextline append loginlabel logintextfield
add previously fetch authentication modes
if securest write default
that expected case
normal cases
accountitem getpopitem
typecombobox setenabled
builder append alwaysencryptcheckbox builder nextline
query with only single criteria
remove toppanel
create command reference array command
restore settings
process shared namespaces
fire in edt
private titledborderlabel titledborderlabel new titledborderlabel private titledborderlabel titledborderlabel new titledborderlabel
needs to be private so that subclasses wo n't forget calling firecharsetchanged
create identity value
clear message viewer
add message to temporary folder
second child must be encrypted message
make quotes font color darkgray
search across few specific search criteria at once
only show view if message marked as spam
mark as not spam
encapsulate bodytext in html code
append
transform headers if necessary
todo attachments label
search individual provider and individual criteria
copy
disable subject column renderer use tree cellrenderer instead
set name of column
logging log info setting size size
which menuitem selected \?
all headerfields lowercase in property file
search individual provider
mark messages as deleted
select message in message list
iconlabel setopaque true
get active charset necessary to decode msg saving
private searchresultview searchresultview
remove all children from tree
add node to tree
createdefaultstackedbox
skip all non mail component items
stuff
open search dialog
init components
private stackedbox box
append unseen count to folder name
if imap selectable folder
dataflavor javajvmlocalobjectmimetype
box new stackedbox
bottom setlayout new boxlayout bottom boxlayout axis
register interest on status updates
try to determine delimiter
show password dialog
popupmenu getselectionmodel setselectedindex
try to get password from configuration
ensure that we logged in already
iconlabel setbackground titlebackground
if mailbox not already selected select it
top setopaque true
still not ready exit
disable logging startup
non ascii
link setbackground titlebackground
start jpa entity manager
if this also does not work fall back to no charset specified
recreate menu
calculate rest
menuitemtoolbar button action
system peep on new messages
generate label menuitem
recreate name of menuitem
popupmenu getselectionmodel clearselection
timer action
popupmenu setfocusable false popupmenu setrequestfocusenabled false
nothing to do yet
icon we ca n't use seticon method this time as it relies on border being set
check default mail client
we save only first item in to list
remote double quotes
shutdown hsql
if database not started do n't do it
if config folder really empty delete folder
remove extra whitespace
tag stripping can leave some double spaces at line beginnings
theme selection changed
sleep minutes
strip tags
replace other entities
test if task already running
same email adress just append and continue
add anewpattern to take place of aoldpattern
correct limits if body tags where not found
remove comments
get uids from headercache
init pgp
register interest on status bar information
delete old message from server if feature enabled
setcolor bordercolor drawline height width height
check if we online
which uid should be downloaded next
check if message n't too big to download
now download message
reset startidx to just after current match to see if there any further matches
apply spam filter
controller
non javadoc see org columba core taskmanager itaskmanager unregister org columba core util swingworker threadvar
see getvalue setvalue
it already locked from locker \?
check if locked
wake up others
exception handler should handle all error handling stuff
new value used to pass on delay
we support up to phone entries
create cipher non nls
we support up to email addresses
import message in columba
use preselected profile
table model stuff
private jlabel iconlabel new jlabel
list model stuff
do something with link
fall back to default profile
contentpane
we support up to im
non nls non nls non nls
tabbedpane
delete all directories
non nls non nls
sort in with respect to priority and synchronize commands with higher priority will be processed before commands with lower priority if there command that of type synchronize do n't put this command in front
we support up to phones
we have to process this command first break here
location still existing \?
load config file from disk
final string key string keys next
initialize default view options
tstich default values set in loadpostions method
non javadoc see org columba core config iconfig getconfigdirectory
create profile config file
get current list selection
use commandline specified location
private jbutton enablebutton private jbutton disablebutton
ca n't delete currently running profile
if everything worked out all right we copy tmp file to destination file
try directory
non javadoc see org columba core profiles iprofilemanager getselectedprofile
document definition
user 's ca n't delete default account
create directory if it does n't already exist
create profile
single attachment
delete all files
try built in mime table
contactpanel
defaultbutton setenabled enabled
add to listmodel
if win platform prepend cmd exe necessary system environment variables usage
panel
action addattribute class org columba mail filter action markmessageasreadfilteraction
picturebutton
condition match all and match any or private adapternode conditionnode
adapternode filterlistnode getfilterlistnode adapternode node mailinterface config getfolderconfig addemptyfilternode getfolder getnode filter filter new filter node add filter return filter
list add
if folder creation failed do n't update tree ui
nicknamelabel
action addattribute class org columba mail filter action markmessageasreadfilteraction
add panel borderlayout center
java enumeration
rename profile in profiles xml
fileunderlabel
private jlabel date year month
asupport new actionsupport this
fill gridbagconstraints horizontal
get notified if search result arrived to update view
allow out of range selection selecteddate set calendar date selectedday
ryear setenabled
repaint calendar pane
categoriesbutton
set clip rect to exclude border insets
find out how many days there in current month
set pen color depending on weekday or weekend and paint day number in cell
protected jbutton defaultbutton
topborderpanel setborder borderfactory createemptyborder
mainpanel add topborderpanel borderlayout north
top panel
set display text
toppanel setlayout
no mnemonic found just set text on menu item
draw gray squares overlapping white background squares
add default colors items
accessing properties
constructor
get plugin directory
extract plugin
insets top spacing insets bottom spacing
add component 's border insets to our minimum dimension
if plugin has config extension point
put them into array
plugin directory plugins
toolbar
language
this just folder disable all actions
get theme plugin handler
set language config based on selected item
columns
path to plugin xml descriptor file pluginsplugin xml
use collapseexpand icons from jtree ui
third line with lists
builder addstrut sizes pixel
unknown category found just add this plugin to uncategorized
try name first
jpanel add addcriteriabutton cc xy
jpanel new jpanel setlayout new flowlayout
start search
tree must be editable otherwise you ca n't collapseexpand tree nodes
emailtextfield
modal jdialog
notify tree model
make new node visible
centerpanel setborder borderfactory createemptyborder
this plugin does n't define category to which it belongs
make version column fixed size
this method called when editing completed it must return new value to be stored in cell
make enabled column fixed size
defaulttreemodel model gettree getmodel setasksallowschildren true
message
int iconoffset gethorizontalalignment geticon geticonwidth
model view
modal dialog
emailtextfield
get plugin handler handling frames
close every open frame
enabledisable tree node
fall back to default image
return configured component
search through defaultviews to get settings given id
removed previous default values
save in cache
this last frame so store its data in viewlist
can we use java way to maximize window
this method called when cell value edited by user
create menu
register statusbar at global taskmanager
update content pane
add to new mediator 's listener list
default toolbar
karlpeder now also location stored
remove old content pane
contentpane remove mediator getcontentpane
add new componnet
getcontentpane validate
hide window
do n't do anything
preferhtmlcheckbox
add action to menu
scroll window to beginning
make window visible log finest setvisible
public columbamenu getmenubar return menu
remove old toolbar
first column tree
register change of frame mediator
telephonetextfield
opens new mail window using framemanager instance in maininterface
small icon jmenuitem
set javahelp topic id settopicid cancel
focusmanager getinstance setdeleteaction this
telephonetextfield
telephonetextfield
imtextfield
personalinfopanel
create menuitems all registered new items
create menuitems all registered frame extensions
framemanager getinstance storeviews
border
webloglabel
homepagetextfield
panel
textpane setmargin new insets
setup base url in order to be able to display images in html component
weblogbutton
weblogtextfield
we insert new menus between edit and utilities help menu
make sure that we do n't end up with two separators
do nothing
configure component with specified value
freebusytextfield
freebusybutton
panel
professiontextfield
add node
freebusylabel
cancelbutton
calendarbutton
titlelabel
companylabel
delete plugin from disk
calendartextfield
close all open frames which leads to exiting columba
protected jbutton defaultbutton
delete directory recursivly
check if this management frame instance if so create submenu to switch perspectives otherwise do n't create submenu
show profile choosing dialog
remove profile xml element
toppanel add iconlabel borderlayout west
generalpath path generatepath setcolor fillcolor fill path path generatetoppath gradientpaint painter new gradientpaint startcolor midcolor setpaint painter fill path path generatepath setcolor uimanager getcolor controldkshadow draw path
defaultbox removeall
create new stacked box
add window listener
paint text and icon
enabledisable search bar during search
big icon jtoolbar
if only one task left
stop update timer
set text
clear text with delay
clear label
stop clear timer
disabled kill button because feature not supported
fall back
force repaint
update menu if tags changed
do n't want to have two separators
mark tag if current selection tagged with it
if no theme available set plastic as default
apply theme
set quaqua look and feel in uimanager
uimanager setlookandfeel lafname
no text
non javadoc see java lang thread run
javahelp support
apply transparent icon button setdisabledicon imageutil createtransparenticon icon
deprecated config file support skip creation of cancel button
tray icon not supported on mac
titlelabel setalignmenty
columns rows
if some action performed
setup finder
mark found pattern
grant all permissions
load window position loadpositions getviewitem
get text where to find pattern
getcontentpane validate
find pattern
add search bar to main toolbar in case its managed frame mediator
savestringinfile
shutdown columba
deletedirectory
emptydirectory
throws java io ioexception
searchbar install searchtoolbar
getresourceurl
copyfile
getcontentpane remove this toolbar
copyresource
try to restore from previous session
try again after shutdown
do nothing here
add new inputstream to read from
searchtoolbar addseparator
delete tempfile immedietly
create logging file in log
do n't use standard xml formatting
jscrollpane scrollpane new jscrollpane tree scrollpane sethorizontalscrollbarpolicy jscrollpane horizontal scrollbar as needed add scrollpane borderlayout center
enable flexdock ghost preview
register shutdown manager
register cleanup
non nls
first load all extension handlers
load core extension handlers
load addressbook extension handler
load mail extension handler
load all internal mail plugins
now load all external plugins residing in plugins directory
find all native jars
add old classpath
initialise system dependent stuff
remove directories which do n't contain plugin
protected static classloader loader classloader getsystemclassloader
we have plugin handler this kind of extension
try to load all plugins
try all possible version of readme files
retrieve inputstream from resource
remember plugin metadata pluginmap put id pluginmetadata
try to load extensin handlers of all plugins
this constructor has correct number of arguments
skip if no element found
retrieve jdom document from inputstream
if available load cached instance
ok we found matching constructor create correct list of arguments
external plugin
use external java url classloader
remember instance
append urls to global classloader
plugin directory
save window position
showhide new toolbar
add animated icon to right hand side corner of menubar
retrieve metadata
example configuration tree xml
default core menu
it n't possible to undo whatever script did
indent number attribute causes illegalargumentexception under
scripts should reside in scripts directory
contentpane setborder borderfactory createemptyborder
setborder borderfactory createemptyborder setborder borderfactory createemptyborder
if so remove it
retrieving instance first time creates instance in extensionhandler subclass instance reference kept in hashmap automatically
create toolbar
memorize location uri
used to temporarily store values while original viewlist gets modified by close method
ensure this called in edt
notify that search finished
retrieve total result count
add statusbar
set icon and title
create uuid
we support up to im entries
do n't wait just continue shutdown procedure commands will be killed
load xml configuration will be automatically saved every couple of minutes and on shutdown
this will overwrite old tag with same id
private hashtable properties new hashtable
createmenubar
constructor class
create pattern
create new default frame controller
implementation of search next function it returns always position of next found word
implementation of replace all function
jpanel panel jpanel this getcontentpane
convert region enum to flexdock string
do nothing
private static final string salutations mr mrs ms dr congressman congresswoman senator president chancellor minister prime minister
private static final string titles phd ph phd esq esquire
initialize salutation strings
we cannot use iterator here because close method manipulates list
treat null name input string same as empty input string
assume last name only
store profiling point data
writing out data indent each level
this file
we can use java way to maximize window
attr name
accumulate contents into buffer
store shutdown
menuitems use this to display string in statusbar
init selection handler
shutdown columba if no frame exists anymore
store current view settings
turn on floating support
create test userlist data
create rounded clip larger than comp
test method 'org columba core tagging tagmanager gettag string
if defaultviews does n't exist create it backward compatibility
nothing to save
create frame controller this view view null defaults specified by frame controller used
messagenode getmessagenodeatrow int index
example columba users re this subject
found cached instance re use this instance and remove it from cache
cancel if we show already correct frame mediator
create frame controller this view
create new instance get frame controller using plugin handler found above
if reply to headerfield n't specified try to use from
get enable attribute
get element from view list
if this windows check default installation location gpg exe binary
get location of executable
reply to
merge mimeparts and return
should not occur
add encoding if necessary
init component before querying sourcefile
list mimeparts model getattachments
compose message body as multipartalternative
send as multipartalternative
load all frames from configuration file
if id not currently set example in security panel in account config
if not we have n't actually closed frame leave viewlist as
size
add supported account formats here
create if not available
return default account identityitem instead
fields on this object in fact represented in xml structure found as getroot therefore super hashcode should do job
store every open frame in our temporary list
search securityitem based on to headerfield
path to account templates pop imap
found mail component frame
get plugin id
if this unix based system check best known areas gpg binary
apply initial version information
dismiss char
exit loop
set configuration of this plugin
show error dialog with exception message and stack trace dialog also provides button user to easily report bug
get date
check configuration
create reference
create xml node
case '' sb append apos break
check if messagefolderinfo sane
if message with uid does n't exist skip
remove message
start configuration wizard
sanity checks
get handler
could n't find anything so return null and let wizard ask user
folderitem wraps xml configuration from tree xml
root folder cache
public mailfoldercommandreference getcommandreference mailfoldercommandreference return
do same xmlelement of child
if this windows check default installation location aspell exe binary
delete folder from your harddrive
get mimepart
abstractlocalfolder destfolder setflags destuid flags getflags uids clone
setcontentpane mainpanel
menu setvisible true
dockingmanager dockableview this
process exception show error dialog to user
print stacktrace to our log file
setmargin new insets
notify tree
checkbox pressed
if this unix based system check best known areas aspell binary
buttonbarbuilder builder new buttonbarbuilder buttoneastpanel builder addglue
label setfont uimanager getfont label font derivefont font plain
cache old color set white color draw square reset old color
first line with labels
buttonbarbuilder builder new buttonbarbuilder buttonwestpanel
builder addglue
this contentpane comp
second line with names
string envfonts genv getavailablefontfamilynames
we support up to address entries workprivateother
line with preview
line with previewlabel
spacings
buttonpanel add reportbugbutton
formlayout layout new formlayout default default default icontainer getcontentpane setlayout layout cellconstraints cc new cellconstraints add createcenterpanel detailsbutton isselected cc xy add bottompanel cc xy
centerpanel add label cc xywh
link setbackground titlebackground
switch to new theme
set fonts
notify frame to update
select locale in combobox
get config plugin handler
id of configuration plugin of this theme plugin
draw line
check line breaks
do n't override update get default clear
length if no item selected
instance creation
rgb values discovered using zoomin
draw vertical lines
enable javahelp support if topic id defined
dimensions
draw white squares first so gray squares will overlap
set mnemonic
seticontextgap setverticalalignment jlabel center
setbackground new color
get minimum size of component
set text possibly with mnemonic if defined using
settext treenode getname seticon getfoldericon treenode expanded
figure out which day mouse click on
asupport fireactionevent date change cmd
mouse listener
get preferred size of component
draw all day cells
advance to next cell position
paint border
draw weekday headings
copy relevant portions of date
lyear setenabled
lyear setenabled true ryear setenabled true
disable anything that would cause date to go out of range this logic extremely sensitive so be very careful when making changes every condition test in here necessary so do n't remove anything
asupport addactionlistener listener
year settext string valueof selecteddate get calendar year
fill clipped area setpaint light gradient
asupport removeactionlistener listener
asupport fireactionevent lmonth rmonth \? month change cmd year change cmd
paint inner border setpaint inner
set display text possibly with mnemonic defined using
let 's at least make half assed attempt at conforming to metal plaf colors
add month
top setborder borderfactory createetchedborder
right
cedric not used right now
private actionsupport asupport
top
augment
paint original first
augment
bottom
left
drawrect
repaint width height
setfont uimanager getfont textfield font
wait stream threads to die
load profiles xml
check if there 's already instanciation available we can reuse here
settextvalue conditionnode
following internal components plugin registration
xmlelement printnode getroot
we need this focus manager
folder uid does n't exist create default value
example configuration tree xml
public filtercriteria getcriteria int index return filtercriteria list get index
check if service registered
condition
retrieve service instance
load instance of service
wait external editor to quit
list of additional names middle names
replace parameter with file argument
titlebar addbutton new pinicon new pinaction this getpersistentid borderlayout east titlebar addbutton new maximizeicon new maximizeaction this getpersistentid borderlayout east
set title
list of attachments
notify all listeners that have new search result ensure this called in edt
icons putvalue small icon imageloader getsmallimageicon mail read png putvalue large icon imageloader getimageicon mail read png
notify all listeners
load xml configuration from file
item setselected checkbox isselected
setborder borderfactory createemptyborder
initialize context
notify all listeners that search finished
create empty list
create empty structure value
check if default value exists
remove old
contains already single element
create initial version from default configuration file
return plain document
callback
options xml
set display text stored here to empty string cleared non nls
retrieve plugin manager instance
fall back to default path
xmlelement child getroot getelement pathtoelement return child
make deep copy
imtextfield
remove bogus operation
create workers
no attachments only show bodytext editor
return string representation of cipher text non nls
this final folder subfolder addimapchildfolder parent info subchild
our cleartext as bytes non nls
public static jbutton createanimatediconbutton imagesequencetimer button new imagesequencetimer return button
fire event
this executed on shutdown store all open frames so that they can be restored on next start
else keep waiting
init event
propagate
initialize cipher encryption
our cleartext as bytes
delete source message
non javadoc see org columba core taskmanager itaskmanager register org columba core command worker
startidx and idxold delimit various chunks of ainput these chunks always end where aoldpattern begins
threadvar
register interested on changes in running worker list
list of suffices
formatted name
birthday
get tree like structure of mimeparts
final chunk will go to end of ainput
platform identifiers windows linux mac os
check no property
return true new files
contentpanel setborder new lineborder active border color
more than one item very strange duplicate entries remove all
grab part of ainput which does not include aoldpattern
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
refers to entry in persistence xml
one second ms
shutdown entity manager
no item exists in table nothing todo
creates shallow copy of this object
if path startswith skip
should we really overwrite look and feel font settings
restore log level
start hsqldb
set console handler to off
print attributes
add all suffixes
needed hibernate
create config folder
string getproperty string name void setproperty string name string value hashtable getproperties
imtextfield
make renderer reappear
now load all available plugins
delete all mails in folder
new config file
iterate over all type elements
toppanel setbackground uimanager getcolor textfield background
class under test headeritemlist getheaderitemlist
class under test object add contact
remember search result
does n't support search inside yet
setborder borderfactory createemptyborder
delete folder
mark found pattern select text grabfocus
valid inputs
create default root nodes and
search in specific criteria
close db
now change all global categories
get source reference
score message
if message spam
mark all activities with tag
url to websitehomepage
address list
not that editor ui only supports max of addresses to edit
create new one
printstacktrace
this expected cases
mark it as selected
event normal event
event all day event
event anniversary
check if calendar item tagged
calendar selected as default
get calendar ui component depository
check if its calendar component
monthlywestdateheaderbean setlabelrotation textashape type singe line rot ccw
showing month number
no grid lines
setintercellspacing new dimension
setborder borderfactory createemptyborder
do not show header
scrolling to selected row
startup columba
stop server when shutting down
we add every jar file in lib too plugin directory
name of organisation
dummy address
summary
frequency
disable other
disable all
maximum occurrences
enable all radio buttons
client n't from local machine
end date
enable button
store html in jtextpane container reset starting position in direction
panel
in case we have to add another
scrollpane setborder null
create list of contact folders
decode using default charset
click on this button will open recurrence dialog
create jpim contact instance
both values okay so create correct time
no correct value
there no
custom renderer to convert from calendar id to calendar name
correct value
check value before
set look feel
builder addfixednarrow jbutton leftbuttonvector get builder addstrut sizes pixel
regexp correct timestamp
double click on empty calendar mediator firecreateactivity null
clicked on calendar not activity
homepagelabel
handle commandline parameters
update modification timestamp
add tray icon to system tray columbatrayicon getinstance addtosystemtray framemanager getinstance getactiveframemediator getframemediator
tooltip setforeground color dark gray
java methods return nice week of year we need hard facts
mouse hovers over activity
check if happens on selected activity
remember selected activity
sizeconstraint sconstr new sizeconstraint new atfixed new atfraction
shapegradientpaint titlepaint new shapegradientpaint new color new color false
call poststartups of modules check default mailclient
sizeconstraint sconstr new sizeconstraint new atfixed new atfraction
we done clear progress bar
generate uid new message
skip if account information not available
check if message already cached
remove mail checking stuff
retry copy
this message already cached
parse message from datastorage
get header from cache
create output stream
get references
message does n't exist this should n't happen here
message n't cached just return header from cache
update messagefolderinfo
remove message from disk
firemessageremoved uid getflags uid
must be out of sync
cached headerfield list
check if still consistent
oops something went wrong
header cache stored in headerlist subfolder
write message source to file
each message in folder
get message source from folder
add check box incl of headers
close output stream
append newline
each message
increase progressbar value
mark messages
un mark messages
no configuration available create default config
train bayesian filter
vfolder showfilterdialog abstractmailframecontroller getframemediator
cancel here if user requests
skip if user did n't enable this option
execute command
set columba color flag
move message to user configured folder generally junk folder
create new locale xml treenode
which kind of color \?
add source to destination folder
get references to selected folder and message
define criteria
no message selected
uid messages to save
classloader classloader getsystemclassloader
set properties virtual folder default inbox if parent null
get sender
get folder that going to be moved
register status events
get destination folder
save headercache
add sender to addressbook
skip if no reference available
end of loop over selected messages
show dialog
setup save dialog
save message source under selected filename
file exists user needs to confirm overwrite
remove source folder
get charset from message
get name of folder
setup filters and filename file chooser dialog
mark message
saving last selected message to folder
execute command
rename folder
determine type of body part
system getproperty line separator
get source references
expunge folder
store whether all headers should be incl
add default extension if no extension given by user
use body as
list of prefixes
default value
first determine which charset to use
mark quotings with special font
test on extension
read configuration from options xml file
create header table
create css stylesheet string
create array and return
loop over all headers
process header value
add toolbar button between last button and cancel button
print each message
decode message body with respect to charset
check if virtual folder if yes do not use these uids use real uids instead
uid messages to print
every message
selected folder
selected messages
header
header key date field
footer
setup print document message
ignore leading weekday name mon since this seems to give problems during parsing
special handling dates
karlpeder setting headerkeys to lowercase lookup
add header information to print
create print object and return it
add body of message to print
end of loop over uids to print
fall back to use date header contents directly
print print document message
create new local xml treenode
try to fix broken html strings
create temporary file and save validated body
if we have result
true scaling allowed
class under test void remove object
search all messages which match this filter
stop background manager so it does n't interfere with shutdown manager
if msg has been read import it into columba
setting lastselection to null
each filter
we done clear status message after delay
clear
initialize progressbar
get filter list from folder
fetch headers of new messages
if there still parent remove it
ca n't happen
if automatically apply filter selected there new messages
perform other environment configurations
update unnecessary
add command to scheduler maininterface processor addop command
parse all message files to recreate header cache
size of message
we done
truefalse
headerlist clear
priority as integer value
this message already fetched from server \?
message flags
host from which this message downloaded
properly decoded subject
short from containing only name of person
message color
pop message uid
these cached by default
return
cc
update list of new and local uids
save default headerfields as defined in rfc
save other internal headerfields of non boolean type
internally used headerfields these all boolean values which saved using single int value
load boolean headerfields which compressed in one int value
if value does n't exist use false as default
load other internal headerfields non boolean type
compute number of new messages
trigger synchronization
only called by folderfactory
next position in local uid list
if creating new folder
ensure sizes correct
check if mailbox has changed
seems to be no change
compare inner loop
still not found do binary search
check if all local uids have been deleted
removedlocaluids localuids size position
all messages new
fetch pack outer loop
number of deleted messages computed from exists on imap and local newmessages
copy header
and set flags
first deleted all local uids that larger than largest remote uid
fire message added updates
number of deleted messages computed from exists on imap and local newmessages
pack size min max else mailboxsize
build list of new uids
non javadoc see org columba mail folder folder getobservable
imap folders have no own lock but share lock from root to ensure that only one operation can be processed simultanous
get imap rootfolder
we found uid of deleted message remove it from headerlist
check if maybe no message at all got copied in this case we finished here
implementation of search function it returns always position of first found word
update local flags and ensure that mailboxinfo correct
get header with uid
update headerlist
parser header
reenable updating mailbox
locking mechanism
match any
find colum
if folder does n't exist already
remove of lock did n't work delete by hand
no delimiter found this already final folder if folder does n't exist already
recursively go on
create and tag all subfolders on server
maybe remove this folder
private filter filter private jdialog dialog
check noinferior flag
buffer collecting data from characters sax event
find special
first clear all flags
search folder thats on imap account first try to find local translation of special
this fixes strange behaviour of courier imapserver which sets noselect flag on inbox
trigger synchronization of imapfolder
trigger any pending flag syncs
reenable action
has imap account no trash folder using default trash folder
find old numbers
create reference of newly arrived messages
get new numbers
this necessary to do
line contains evolution mbox style or import message in columba
check if index consitent with mailbox
match all
line contains mozilla mbox style import message in columba
we support address types workhomeother
enable lucene search index by default
update message starts of following messages
could not delete file possibly someone has lock on it
delete file containing message in file system
add all found virtual uids to result
selecting message
pass work to imapstore
filter disabled
delete it when columba exists instead
list of all files that seem to be messages only numbers in name new object list length
worker setdisplaytext search result notdefaultengineresult size messages found in system currenttimemillis starttime ms
check new headers
result mergefilterresult uids match only debugging purpose printlist result
we found suitable folder set it
match any
clear status bar message now we done with delay
return searchmessages filter null
this list reduced because most search requests can be answered anyway using locally cached headerfields
find all virtualfolders and rewrite folderreference
super removefolder do nothing
search again
generally we can just use same login both servers
set sort stringdisplayname
show neat error dialog here
find body text part
convert src uids back to virtual uids
if no flags filter seach still valid
only called by foldertreemodel createdirectories and foldertreemodel add
copy all properties to subfolder
create default configuration
redo seach flags criteria
if creation failed
lets find good name our new vfolder
create new subfolder
update tree view
create src uid array
check if all uids still exisiting
change to new folder
fire updates
remove from virtual folder
remove from source folder
not supported
we need to get locks of all folders
gradientpaint painter new gradientpaint midcolor brighter midcolor setpaint painter fillrect new gradientpaint midcolor color red setpaint painter fillrect
first try to get lock of virtual folder
columbaheader header columbaheader headerlist get uid header getattributes put key value
deactivate folder
copy rest
update virtual header
if no folder passed as argument use global options
global option
not supported by virtual folder
validates hostname mail myhost com mail us myhost com
add column to jtable column model
create element if not available
use folder specific options
add columns
only local options have overwrite attribute
use global options
use folder based options
save width
remove all child nodes
should we re use last remembered selection \?
tc setmodelindex position
these items enabled as default
resize column width
no messages in this folder
changing selection to firstlast row based on ascending state
sorting order
row count empty table
if lastselection this folder set getting last selected uid
enable max occurrences
if we search in messageconroller
viewitem viewitem getviewitem
use global settings
listen to changes in subject to update title bar of message composer window
remove disabled column
check new messages
get message controller
check if we should use folder based configuration or global table configuration
menu edit findagain tooltip replaceall
init model defaults to empty plain text message
global
if no account exists return
author erich schaer dmytro podalyuk
selectedmenuitem setcharset getcharset
east europe
west europe
automatic generation of groups
seticon imageloader getimageicon stock font png
composer can either edit in html or plain text mode listen configuration changes
if message contains attachments
east asian
hack to ensure charset set correctly at start up
add splitpane to center
init controller editor depending on message type
set model based on configuration
create default element if not available
ignore this
remove all components from container
west asian
show signature viewer
email addresses and phone numbers
create splitpane containing bodytext editor and attachment panel
set first name
show attachment panel if necessary
update panel
re paint composer view
enabledisable html toolbar
update composermodel based on user changes in composerview
return istoolbarenabled accountinfopanel
default plain text
setup dnd text and attachment list control
convert body text to comply with new editor format
sync model with current old view
retrieve command of filter action
switch editor and resync view with model
change ui container
sync view with new update to date model
save charset
close composer
hide signature viewer
save html state
display error \? as it inmutable
original za za za
non javadoc see org frapuccino addresscombobox patternseparatedautocompleter acceptedlistitem java lang object
remove leading space after separator character so that it not removed from text component 's document below
more initialization
set message
clear view
notifylisteners
if this no uri
fill hashmap with all available contacts and groups
surround selected element with double quotes if necessary
view table getmodel addtablemodellistener this
model setheaderfield priority string view getselecteditem
remove from view
get tooltip icon
setcellrenderer new listrenderer
remove from model
setmodel listmodel
font configuration
add attachments mimeparts from view to model
encryptmenuitem setselected model isencryptmessage signmenuitem setselected model issignmessage
transfer attachments from model to view
set formatted name
transfer attachments from view to model clear existing attachments from model
add attachments mimeparts from model to view
attachment controller does n't support copy actions
currently used font
attachment controller does n't support copy operation
size of font
view setselectioninterval view count
name of font
add listener to changes
hideshow attachment panel
methods necessary to hide view from clients
if account selection changes reload signature file
register interest on configuration changes
use default font settings
textpane setenabled false
subjectdialog dialog new subjectdialog composerinterface composerframe
check if we currently editing draft message
remove listener from old account selection
get drafts folder of account
view data model
get selected account
we need to replace old message
message already cached try to compare headerfield count of actually parsed message with cached headerfield count
need revalidate if node root but why \?
get mimeparts
get list of all selected folders
composercontroller geteditorcontroller getview settext checked
shortcut key
we need to parse get message with uid
mark as read mark as draft
update view accordingly
small icon menu putvalue small icon imageloader getsmallimageicon send later png
private maininterface maininterface
required swingworker
initialize mimeheader as rfc compliant message
getframecontroller close
composermodel model composermodel composercontroller getframecontroller getmodel
add all attachments
add all attachments
build quoted message
skip if bodypart already added as quoted text
builder setleadingcolumnoffset
store header after processing
text addition of before each line
add addresses to addressbook
get answer from template
choose template
retrieve headerlist of tempate folder
template folder has uid
add all recipients to collected addresses
user pressed ok
get bodytext of template message
remove duplicates
from which account this mail \?
set subject mod switt
non nls
dialogpane
html
we only need first message
setrowmargin
get message flags
get selected messages
set from redirecting new switt
text take org message mod switt
html insertion of text before and after original message
action buttons moving contacts
skip if message not marked as spam
stick with default charset
addressbook list
recipient lists
models addressbookrecipients lists
labels
nextline
public iheaderitemlist getheaderitemlists return headeritemlist
tolistmodel clear cclistmodel clear bcclistmodel clear
paragraphcombobox setenabled enablehtml
get color from factory factory shares color objects to save memory
mark message as spam
cellconstraints cc new cellconstraints
register changes to editor type text html
register changes to editor controller addcontainerlistenerforeditor this
create virtual folder attached to parentfolder
builder add paralabel cc xy
view editor getview
private jtextpane view
selection in paragraph combo box
clear ignore flag
only do something if ignore flag not set
enable controls if we not in html edit mode
int selectedindex sizecombobox getselectedindex
if no text specified we done now
set paragraph formatting according to selection
this does n't handle changedcharsetexceptions correctly view settext text
other ioexceptions than changedcharsetexception
delete old contents
clear existing text
load contents into document
select menu item corresponding to present format
get list of all folders
set paragraph formatting according to given action
register text cursorcaret and formatting changes to selectdeselect action
view addcaretlistener this
reset
centerpanel setlayout new boxlayout centerpanel boxlayout axis
dialog getcontentpane setlayout new boxlayout dialog getcontentpane boxlayout axis
end public externaleditor
ensure that we currently in contact component
remember old font properties
set last name
add all additional names middle names
end public class externaleditor
set new text
execute application enabling blocking
centerpanel add box createrigidarea new java awt dimension
each jcombobox item
jpanel panel new jpanel panel setlayout new boxlayout panel boxlayout axis panel add hostlabel centerpanel add panel
first print quote
do we have to insert quoteprefix \?
here
columns rows added dynamically no need to define them
author fdietz
update tree label
update configuration
two different root folders get inputstream from source folder and add it to destination folder as inputstream moving of raw message source works also copying from local to imap folders etc
create file
size create filter configuration check if pattern
setup dialog title active filter and file name
add all nicknames
add all prefixes
disable selected item
let exception handler process other errors
string value string thelist getselectedvalue
reactivate
private configframe frame
disable actionlistener this period to avoid unwanted port check
update port
default port
insert into message right after
this frame frame
private configframe frame
pop imaps
set websitehomepage
pathbutton setmargin new insets
append selectsignaturebutton
typecombobox setmargin new insets
enablecheckbox setenabled false
dateformat
bug we should rely on xmlcalendar to normalize dave value to ensure that all date value fields taken into account
this error \? \? \?
fb wo n't compile with vaj or no jikes fb object adapter adapterfactory adapt mapping
eatm must fix isset bits
line comments at end of annotations not part of range of annotation todo not including line comments at end of annotations bug \?
eatm in jdk there will be indexof on stringbuffer
todo factor up into genbaseimpl
eatm call deprecated method which does same thing but might have override in older code
unused \?
todo factor up into genbaseimpl \?
call workaround
todo deprecate since getpluginclass no longer called
ensure that this race condition thread safe it does n't matter who wins race
todo this assumes we only get set notification which n't good assumption
dms handle this well
fb tbd can we come up with better algorithm choosing default label feature \?
dms should we let this exception out \?
dms what if eclipse running but invalid facade has been specified \? we still should format code use encoding
dms do better job with specific exceptions \? just use chained runtimeexceptions \?
if delegate uri can be handled as file we 'll hope that renaming it will be really efficient
dms why not this \? new subprogressmonitor progressmonitor
assume that it 's attribute now it willcould become reference if type resolves to eclass
do nothing now and avoid propagating exception how should builders handle cancel \?
this fall back however this should never be called
todo fix space above
todo remove this bogus empty line
todo handle class cast exception better
do n't know if we should be run this deferred because we might have to give editor chance to process viewer update events and hence to update views first
this big festering hack to make images right size from start
eatm demand create metadata needs to depend on processing mode
todo this really quite attrocious since there code that will assume iterator that returns strings
tbd return user selected subset \? of referenced packages that contain super classes of classes in this package
call workaround
tbd rethink where exactly some of following methods belong genmodel or genpackage
if there multiple variables in declaration separate this variable fragment into separate declaration
eatm this would be wrong
revisit remove this code
label not used
motif kludge we would get something random instead of null
todo so what should be etype be now \?
this runs operation and shows progress it appears to be bad thing to fork this onto another thread
eatm kind of hacky
this kludge to deal with enumerators which crash doswitch
this copied from itemprovideradapterfactory
eatm this might be better written as single loop eobject case \?
second alternative should be getmodelproject \?
todo hack that should be removed
todo specialize this to return resource locator messages specific to this validator ensure that you remove generated or mark it generated not
todo i'm concerned that folders will often return or even so should we consider something to exist even though access if unauthorized or forbidden \?
only file scheme uris will be re encoded if uri decoded in workaround above and platform resolve did n't return file scheme uri then this will return decoded uri
this functionality should eventually go away as it replaced by model exporters we 'll just delegate to deprecated genpackage method monitor n't used so we wo n't pass it
eannotations and egenerictype possible containment references we 'll move them instead of copying
note registry based authority being removed from new spec uri which would obsolete rfc if spec added to xml errata processing of reg name needs to be removed mrglavas
temporary structure to hold node 's attributes namespaces in scope
hack reading encoding
because of old factoring approach in create method it might be case that state of old value has changed by time we get here and in that case we do n't want to duplicate removals in this code
revisit remove this code store port value as string instead of integer
todo this faster than many charat calls
revisit do we really need to support block names as in unicode or we can just create all names in isblockname format xml schema rec \?
bubble sort why \? in many cases this ranges has few elements
per schema it not clear if result returned should be valid uri future if we plant to support iris then it better not to massage initialvalue we should thought consider where would be best way to validate anyuri values el
note that way they sorted values of index always increase so objects added from right to left in list eatm todo we could make this more efficient by grouping adds when indices increment by one so that single grouped notification would result
todo deprecate since no longer used by geteditpluginclass geteditorpluginclass gettestsuiteclass
if there multiple variables in declaration separate this variable fragment into separate declaration
dms factor this into method \? use non static subclass \?
dms this does n't really produce nice output
fb tbd filter out volatile and other inappropriate links \?
do n't know if this should be run this deferred because we might have to give editor chance to process viewer update events and hence to update views first
todo processing instructions not sent to recordvalues
todo comments not sent to recordvalues
todo ignore now
todo handle situation when astjnode removed compilationunit null
tbd return super classes of classes in this package that come from delegate package
if current char comma insert line break after it we should be able to find comma because range enum constants includes all trailing comments up to separator if targetsourcerangecomputer of astrewrite changes this logic should change to skip comments see org eclipse emf codegen merge java facade ast commentawaresourcerangecomputer getenumconstantsourcerange astnode
todo translation
todo binary incompatibility old override must override putall
this runs options and shows progress it appears to be bad thing to fork this onto another thread
we should be able to find comma because range enum constants includes all preceding comments up to previous constant if targetsourcerangecomputer of astrewrite changes this logic should change to skip comments see org eclipse emf codegen merge java facade ast commentawaresourcerangecomputer getenumconstantsourcerange astnode
todo we should generate this
todo what about instance type name and fact that we should be matching its type argument structure \? if they match so far we must assume they okay and then check all arguments
dms this totally untested
todo update this after old tests pass and then update old tests to reflect this change
set of options that we want to control
get end position of range previous node
adding 'at' allows distinguish annotations from other members inner class verses annotation of class
get adapter from factory
no methods added
ignore
javadoc copied from interface
add trailing comments if necessary
if target read only we can ask platform to release it
do nothing
if entries do n't have same feature feature maps n't equal
attribute
merge with existing file
walk up superpackages collecting package names because empty packages ommitted from genmodel we need to walk up epackages
empty block
any features that delegate to features in this package
see java lang class getname javadoc explanation of array encoding
additional useful character classes including characters valid in certain uri components and separators used in parsing them out of string ucschar escaped
calls casexxx each class of model until one returns non null result it yields that result return first non null result returned by casexxx call generated
if target read only we can ask platform to release it and it may be updated in process
find start position of farthest preceding comment
details button pressed \?
set up tree viewer
process children of unittreenode recursively
create code formatter this compilation unit if needed
if name n't qualified it might be primitive or from java lang otherwise assume it 's in current package and use nsprefix qualified package name
determine base url by looking plugin properties file in standard way
notification this list being thrown by delegating list
make sure our popups work
remove type insert enum
we need to screen out duplicates in unlikely event that we have two features with same class qualified name we 'll only generate one property string in that case and let user add second one manually if necessary
build mapping from classes to list of features that use them
this runs options and shows progress
no paths keep query only
select root object in view
else absolute path keep it and query
listen to selection so that we can handle it special way
algorithm order of features in this list should never change also fact that new list created whenever contents change something else that should never change there clients who rely on both these behaviors and they will need to agree to any change so that they can adjust their own code
this ensures that we handle selections correctly
create adapter factory that yields item providers
get current time in milliseconds since epoch and adjust it to match epoch required by specification
get first selected element
otherwise path needs only remaining segments
log error ignore change and continue
absolute path or no path absolute path
do base conversion by turning every bytes into base characters
create composite with standard margins and spacing
source method return type array getexceptions target not array addexception
and we need to set it on any cached genmodels holding special ecore and xml packages
calls validatexxx corresponding classifier of model generated
this page tree viewer
empty last segment trailing separator
refresh necessary state
set command without feature sets value of this wrapper hence replacing it with new wrapper so we need special command wrapper that selects this new wrapper as affected object
cc
maintain weak hash set on type parameter of all referencing generic types
force project to be setup properly
javadoc copied from interface
wizardcontainer variables
return getprefixedname editorplugin
eparameter
retrieve source node corresponding to target
ignore
create default jetsettings file file
subclasses may overrride
save resources to file system
set selection to widget
etypeparameter
save only resources that have actually changed
this only at avoid needing suppresswarnings unchecked on emfobservablelist
this method that gets invoked when operation runs
ignore this since we will throw exception when all else fails
fill of value byte
enum constants use special range
etypedelement
so if resolved object also present
ecorepackage
subclasses may override this method
create resource
something went wrong that should n't
create package meta data objects
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
getobjectstodetachgen should be changed only if required
if newline from previous character data remains add generator it
obtain or create and register package
remove node
initialize simple dependencies
fill of value byte
obtain other dependent packages
if intersection empty no ancestor in mapping
create classes and their features
continue with different approach
initialize created meta data
if this mapping n't parent it 's children definitely wo n't be either
set bounds type parameters
make sure collections n't identical
initialize enums and add enum literals
add supertypes to classes
eobjecttochangesmapentryimpl
fb used to check parent null need to find top most model object not including resource parent instanceof eobject only checks trees in model object space
featuremapentry
do work within operation because this long running activity that modifies workbench
resourcechange
isolating new objects
featurechangeimpl
set features and properties
cache result
this page list viewer
insert line break and comment out first line if needed note that first line might move backward beyond node start if comma of previous enum constant has been commented out
resourcechangeimpl
if we change to pattern defaults will have to specify plain suffix in no main package case
feature instance of eattribute
different than edit and editor projects this method invoked while generating model plugin xml
make sure that all old values cached
include only non duplicate namespace declarations
edatatype
create command stack that will notify this editor as commands executed
changedescriptionimpl
try to select items in current content viewer of editor
caches list value
set editors selection based on current viewer 's selection
changefactory
set of options that we want to copy from current definition
sorting only genmodels
we need to be careful that we do n't end up requiring no namespace package just because feature unqualified
register package validator
we must have qualifier attribute that needs qualified
changeadapterfactory
system err println debug fixed only this fixedstring
cached already \?
see if prefix already exists in current context
initialize classes and features add operations and parameters
default implementation does nothing
initialize package
walk up super types until we reach root
changeswitch
try to select affected objects
continue with no instanceclass
unwrap collection
case notification remove many
case notification remove
look matching element in classifier 's package but do n't bother with xml type package 's document root
create data types
egenerictypeimpl
return econtainer
internal this specialized method to add attributes toproot element
create containment one
it 's intentional to keep going
initialize data types
nothing to do
do n't really unset it
estringtostringmapentryimpl
etypeparameterimpl
stop only on cancel
system bar
continue to try different approach
produce supplemental character as entity
keep trying until all else has failed
if we ca n't determine it by reading file look at preferences instead
etypedelementimpl
since we 're invoking plugged in code we must be defensive against cycles
subclasses may override
combine two lists
ecorefactoryimpl
we not sure encoding supports this code point so we write it as character entity reference
keep trying until all else false
no property
switch that delegates to createxxx methods generated
eparameterimpl
identifies file type absolute uri
only handle classifiers from this package
changedescription
featurechange
if it unqualified name we will assume it refers to type parameter since we do n't support default package
mark meta data to indicate it ca n't be changed
we effectively passed null to look up general content feature
egenerictype
insert line break at first line if there something before node start and beginning of line
ecorefactory
eatm leave this disabled now
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
give all generator adapters chance to do setup work
remove any non java dependencies from being added
this should never happen
clear old values
we ca n't update any properties via just url connection
trim off segments corresponding to package nesting
ignore any exceptions and assume class n't available
archive uri check plugin properties in archive
create iv password generation algorithm
opening detail area
documentroot
we do not want to diagnose any errors that have already been diagnosed by super type although we ignore all first super 's features there may be mixin classes that still would result in duplicates
loop all commented out nodes
we need to be careful that proxy may be resolved while we attaching this adapter we need to avoid attaching adapter during resolve and also attaching it again as we walk econtents later checking here avoids having to check during addadapter
non nls non nls
produce different levels of diagnostic depending whether names exactly same or only matching
switch to new selection provider
look duplicates among generic super types
keep trying other member types until all have failed
match against every other operation but this one
fake selection changed event to update menus
referencing generic type must be contained to be in scope
check type of specified child object and return proper feature to use adding see link addcommand it as child
if none of generic super types bounded then we 've failed
append extra dimensions since they not stored in type object
check if bound specifies classifier
trim off bin or runtime segment
classifier of attribute 's generic type must be data type
compact results to remove unmatched objects
if neither approach finds contradiction we must assume they okay and then check all arguments
if we did n't find plugin properties in usual place nor in archive
type arguments of generic super type must not be wildcard
if we can open input stream then plugin properties in folder and we have good base url
if we still do n't have good base url complain about it
consider classifiers in special way to take into account fact they they often acts as wrappers instance type names and that two classifiers that wrap same instance type name should be considered equal
create mapping domain with special command stack
content outline just tree
if we still on root mapping itself
if type also specifies classifier
yield that mapping create stack record it as next one to prune and add it to stack
classifiers considered equal if they wrap same non null type
consider instance type names they wrap to see if they non null and equal
get top iterator retrieve it 's result and record it as one to which remove will be delegated
if result about to be returned has children
record iterator as next one to prune and add it to stack
then eobject must be that match
there will be no iterator to prune
while current iterator has no next
if given class subclass of enum and node of subclass of type
only if feature kind unspecified should we return match otherwise we might return attribute feature when element required or vice versa this also can be controlled by xmlresource option lax feature processing
pop it from stack
if stack empty we 're done
pop it off stack
generate bit node identifier this alternative to ieee host address which not available in java
get next one down and then test it has next
itemprovidernewchilddescriptorsattributedelegatedfeature override javajetinc
if there iterator to prune
javadoc copied from source
you can only prune once
undo preparation previous and continue
we do n't create iterator stack until root mapping itself has been returned by next once after that stack should be non empty and top iterator should yield true hasnext
printadapters
keys that will be used to record visibility accessors
if that iterator still at top of stack
if referenced eobjects n't equal feature maps n't equal
allow bit shift of growth
if eobject has been compared already
keep popping stack until iterator that has next at top
feature maps must be equal
conditionally create data
first case most common case it slightly cheaper to call add without index since index will be range checked
modcount
if we find match make this generic type be this type parameter and then stop whole process
clockseq low
guard no data
system clock has been rewound so clock sequence must be incremented to ensure that duplicate uuid not generated
suppress default constructor noninstantiability
modcount
ensure that anything can be handled even if it 's not recognized
non javadoc see org eclipse emf ecore xmi domhelper getvalue org dom node
strip off array indices if any
entity handler best place to resolve and deresolve uris since it can do it there just once to produce entity so most often entity handler will be uri handler as well and when used as uri handler will be identity handler
create page set title and initial model file name non nls non nls non nls non nls non nls
mappingrootimpl
prepare createsibling item addition or removal non nls non nls
fill of value byte
ignore it if we 've already set generic versions of these
non nls
exception printstacktrace
string getpackageid
emfedit generation
returns whether this class implements any of given features
non nls non nls
ignore rules nodes of different class
remember static instance
testcasesetgenfeature annotations insert javajetinc
hgd firenotifychanged msg getnotifier msg geteventtype msg getfeature substituteoldvalue substitutenewvalue msg getposition
classgenfeature override javajetinc
create command to do parentmapping getnested remove mapping subcommands appendandexecute new removecommand domain parentmapping parentmapping epackagemapping getmapping nested mapping
path segments cannot contain or since pchar production not changed by rfc
fill of value byte fill of value byte fill of value byte
todo
processing unknown feature with xsi type xmi type
classimplementedgenoperation override javajetinc
bidirectional references need to use this less efficient approach because some or all of changes may already have been made from other end
returns package in which this enum literal defined returns name of enum literal get method in package interface
if proxy holder can hold many values it may contain duplicate that resulted when other end processed as idref and hence did both sides of bidirectional relation
data
javadoc copied from interface
pretend there xmlns because we really need to ensure that null prefix n't used to denote something other than null namespace
do not add new line if there one
fill of value byte fill of value byte fill of value byte fill of value byte
excise new root from document root
do n't hold onto duplicate reference to last object
if processschemalocations specified treat these as xml schema locations
give it all back to garbage collector
there only whitespace after enum constant on same line do not add line breaks
write capacity
this happens when processing element with simple content that has elements content even though it should n't
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
record node 's attributes
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
there 's eobject on stack already
fb following method copied from com ibm etools util stringutility fb because mapping framework cannot have dependency on what we really fb need to do get methods like this moved to vabase so that everyone can fb use them change all occurrences of oldpat to newpat
if it changing
test same document reference that would usually be handled as idref
check scheme which must be before '' \? or also handle names with dos drive letters 'd so character schemes not allowed
need not to call setsource because caller can not access this match instance
only creates other pages if there something that can be edited
create listener on demand
pattern contains fixed string engine checks with boyer moore whether text contains fixed string or not if not it return with false
handler unparsedentitydecl name publicid systemid notationname
ignore close since we do n't want to let parser close stream when it 's done
we 'll try adding shallow copy of clipboard contents instead of full copy note we ca n't just try adding clipboard contents itself because copy may be different type then what 's on clipboard ejb field rdb column
pattern has only fixed string engine uses boyer moore
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
handler notationdecl name publicid systemid
edate far too often overridden to provide different mapping and therefor default somewhat obscure so it 's best to delegate to factory
this seems to be pretty sweet formula that supports good growth adding object to list will create list of capacity which just about average list size
convert attribute values to amp to lt to quot to to xa to xd
caching parser does not parse nd file in same way javadoc of package example hence new parser created every time this method called
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
this should be transparent
ucschar escaped
modifierop charop char backreference capture anchor
fill of value byte
non javadoc see org eclipse emf codegen merge java facade ast astjnode addchild org eclipse emf codegen merge java facade ast astjnode
process estructuralfeatures association end role
string
xsi nil xsi type xmlns xsi xsi schemalocation xsi nonamespaceschemalocation
non nls non nls non nls
look substitution group feature in feature 's containing class' containing package
it 's intentional to keep going
check which directive it
iri iri containsnonascii fragment
check if it 's anonymous type
range or nrange
we only get here if we should do this
reader reset start return false
write all entrydata there will be size of them
empty
fill of value byte
overlapped src sub sub sub sub
restore capacity if there any
read all size number of entrydata
this just represents going back to unset state but that does n't affect contents of list
string parsing implementation
create page selection tree view
generatecolor
this ranges sorted and compacted
fill of value byte fill of value byte fill of value byte
create annotations
src src res reuse src
interpret body of nested ownedcomment as comment type and assign it as eannotation source of parent
this setlocale locale getdefault
xx xx \? \? \? \?
processinginstructiontypeimpl
internal bootstrap uses literals constants so we must force initialization this inner interface first
iri iri containsnonascii device
open editor on new file
trying to match following productions hexseq hex hex hex hexdig
checks whether expression starts with
parse attr val pairs
skips
create field initializer from enum constant 's arguments and body
saves current position to avoid zero width repeats
off next of
different scheme need complete absolute uri
apply change
straightforward matching
delete change information because it invalid now that objects have been changed
static initializer archiveschemes
apply change and reverse change information
compute url where classes this project will be located
this iri iri
backsolidus posix character class such as alnum
public regularexpression createregex string regex int options throws parseexception token tok this parse regex options return new regularexpression regex tok this parennumber this hasbackreferences options
compute urls all output folder of all project dependencies
tok dumpranges
define class loader that will look in urls first and if it does n't find class there uses emitter 's loader
single character za za literal string \? \? \? \? and \? \? \? \? ims ims \? yes no
define class loader that will look up class in bundle and if it does n't find it there will look in parent
class rosetoken
strip off trailing and load that class
since granularity of time in java only milliseconds add adjustment so that time represented in of nanoseconds version number multiplexed into most significant hex digit
check that class actually different from one that 's directly visible to jetemitter
filtered property keys to remove duplicates
javadoc copied from base class
'' \? \? \? \? \? \? in character class \? \? \? in character class
kick of java build if not already in build
src sub res empty reuse sub
add new entries including source jre container and added variables and classpath containers
this will deal with all subcommands to modifying root mapping tree
skips
number of bits in `int'
construct proper url relative lookup
src src res reuse rest of src
create proper feature map entry
set original node of annotations to allow get methods to work correctly
determine all bundles that this project depends on
if it 's not ascii character break here and use utf encoding
this call should get files checked out from version control if project 'team' project
like isstringtype but still returns true even if multiplicity many
reverse objects to attach and detach lists
this offset points next of \? modifiers imsw imsw \?
make sure changed values of bidirectional reference lists cached before we start to apply change
this case will be handled special during apply
if it does n't correspond to bundle then try to process it as project in workspace
system err println closure min max
must be in
closure
public string getimportedinstanceclassname return getgenmodel getimportedname org eclipse emf ecore eenumliteral
there only whitespace on this line no need line break
this handles rose format logical view javaexception
string
move all children to type converting enum constants to fields fields that created by conversion from enum constants must be inserted after last final field that used in constructors initializers
escape form feed line feed crriage return horizontal tabulation case 'v' break vertical tabulation
add jetbuilder
literal char xy za etc za etc or \? \? \? strings back references \? \? \? \? ims ims \? yes no
clone includestack without cloning contents
fc terminal fc any fc continue
create jetproperties file
mark bound as unspecified so that it wo n't be considered many but can nevertheless be recognized as being unspecified and perhaps still be treat as many
store current state in stack
if all objects n't used up by above then we ca n't do command
perl extension
new template container entryfield
if there 's no position list being cleared
gentypeparameterimpl
set new variables
if template path points at project with jet nature then we will assume that templates we want to use already compiled in this plugin java project
when we attached we have to recompute erasure of type parameter
build table of pf values
create key set that supports add
suppress default constructor non instantiability
get previous state in stack
ff
vaj kludge
result addrange regularexpression line feed result addrange regularexpression line feed regularexpression carriage return result addrange regularexpression carriage return regularexpression line separator result addrange regularexpression paragraph separator utf max return
make sure we have something to pop
map to eclass eenum or einerface note that we do not map structure and primitive type class
register file and read its content
system time has n't changed so add some increment of of nanoseconds to guarantee uniqueness
stack created \? will happen if jet file we 're looking at missing
tr
use alternate if we ca n't write to this one
and delegate call
method not structural feature so it 's modeled as operation
continue with established base url
consume open quote
do allow existing build properties to be overwritten since it may have been created as part of empty emf project use existence of plugin xml as guard against overwriting in project that has already been generated
restore parser state
filter out explicit eobject from super types except in ecore package itself or if it appears in model supertypes
check equal sign
non nls non nls non nls non nls
get attribute value
insert line break if there non whitespace before end of line
error like pad cdx cxd cxx where non data
do n't do any of other normally dynamic jetemitter project processing
non javadoc see org eclipse ui iworkbenchwindowactiondelegate dispose
get existing classpath and remove project root if necessary any new non duplicate entries will be added to this
schema rec datatypes punctuation pi initial quote pf final quote
note hierarchical authority null
end of usebean tag
represents at least one bit group of zeros
emf editor generation
xmlesque close tags
parse as attributevalue
we can create removecommand uncontrol but we must defer creating addcommand to control until run when user specifies target resource
tests generation
while
reached eof
resolve relative uri to base uri see rfc section in some cases it might make more sense to throw exception when scheme specified string spec and base uri also specified example but we 're just following rfc specifications
create annotations
map to eclass
until encoding can be specified within template we need to assume encoding capable of working with any character set
fb tbd different objects ecore model
check end of quote skip closing quote
ff
note absolutepath hierarchical
get attribute name
attempt to parse authority if section empty string this valid server based authority so set host to this value
delete actioncontributionitems with matching action
search backwards starting from character before
do n't remove adapter if object in different resource and that resource and hence all its contents being cross referenced
if second character n't in order to be valid remainder of string must match ipv address and we must have read exactly bit groups
skip derived features
include succeeded so if there alternative and we 're not skipping we need to start
check authority rfc if we found host then we 've got network path so we 're done
include derived relations only if they wo n't also come from mixed or group
remove ending where complete path segment
if this just proxy being resolved
rfc states that hostnames take form described in rfc section and rfc section according to rfc hostnames limited to characters
force raw type to be resolved so we do n't resolve this endlessly
rightmost domain label starting with digit indicates ip address since top level domain label can only start with alpha see rfc section
update classifier and hence raw type as normal
rfc only allows and to appear in opaque part
ff
map to eclass
look end of comment or end of tag
we 've either reached end of string address ends in ipv address or it invalid scanhexsequence has already made sure that we have right number of bits
section not allowed without preceding include with alternative
to encode special characters in anyuri by using hh to represent special ascii characters '' etc and non ascii characters whose value
xml schema anyuri specific information
expression with more that will break sun and ibm javac compilers
if newline from previous character data remains leave it around to be processed as if it appeared in included file
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
include failed so if there alternative we do n't skip it
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
at development time real factory may not be available just return null
this pop safe because section could n't have been started without include that pushed
non javadoc see org eclipse emf codegen merge java facade facadehelper doconverttonode java lang object
ff
cannot start with or end with
process this first
ignore this now
do n't overwrite exising file
register our directive
create import manager this compilation unit
ignore it if there multiple comments
do nothing
ff
three arguments expected xml jcontrolmodel uri source java uri and target java uri
interprets escaped characters according to java literal rules with one exception single taken literally not as error
fill of value byte fill of value byte fill of value byte
protected static final estructuralfeature containing feature new ereferenceimpl protected static final estructuralfeature container new ereferenceimpl
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
ff fff
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
non javadoc see org eclipse emf ecore util extendedmetadata getpackage java lang string
fill of value byte fill of value byte fill of value byte
entry entry new entry eobject container return internaleobject map get entry
fill of value byte
this should never be called
fill of value byte fill of value byte fill of value byte fill of value byte
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
check valid escape sequence
if there n't executable command we should maybe try link operation but only if we 're allowed and not doing link
return correctly sized result
eatm getdecoratedadapterfactory
fill of value byte fill of value byte fill of value byte
fill of value byte fill of value byte
fill of value byte fill of value byte fill of value byte
deprecated
non javadoc see org eclipse emf ecore xmi xmlresource xmlmap getfeatures org eclipse emf ecore eclass
fb fdff
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
econtainer newcontainer econtainerfeatureid newcontainerfeatureid
fill of value byte fill of value byte fill of value byte fill of value byte
when setting resource to null we assume that detach has already been called in resource implementation
fill of value byte
stop listening to old one
non javadoc see org eclipse emf ecore xmi xmlresource xmlmap getinfo org eclipse emf ecore enamedelement
ignore further most javadoc
create annotations
ff ffef
get what 's left of segments after trimming prefix
ff
added since this encoding only differs presentation
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
valid opaque part must be non null and non empty it may contain any allowed uri characters but its first character may not be
start listening to new one
add ascii letters and ascii hex numbers
create source and target jdoms
switch model 's inheritance hierarchy it supports call link doswitch eobject doswitch object to invoke casexxx method each class of model starting with actual class of object and proceeding up inheritance hierarchy until non null result returned which result of switch see org eclipse emf edit tree treepackage generated
add those manually ffffd private use fffd private use fff fffd specials
neither 'scheme or 'scheme fragment' valid uris
create pattern dictionary each
note segments length hierarchical
compute offset in sequence of bit patterns this feature id and then get bit pattern at that index
check to see if this current doc rfc note that this slightly different from rfc spec in that we do n't include check query string being null this handles cases where urispec just query string or fragment \? or see which identified this as bug in rfc
we expect this failure when running stand alone
use stack to accumulate segments
compute index within that bit pattern this feature id and fetch that bit at that index
initialize classes and features add operations and parameters non nls non nls non nls non nls non nls
isset we only need to check bit and return when bit
if value index set there 's no index to return
empty statement
return value null value length value charat segment separator validate value uric hi uric lo true true
this just notifies those things that affected by selection
no validation needed since all components from existing uris
if result not proxy cache it
server based authority
can check against path characters because set same except '' which we 've already excluded
initialize all fields from command parameter
check that port well formed if it exists revisit there 's no restriction on port value ranges but perform same check as in setport to be consistent pass in string to this method instead of integer
non javadoc see org eclipse jface window window close
ipv addresses bit so there can be at most eight sections
all eclipse dependent operations delegated to this class this pattern avoids any runtime failure due to missing dependencies in stand alone case
return value null validate value segment char hi segment char lo true true
non javadoc see org eclipse emf codegen merge java facade facadehelper insertsibling org eclipse emf codegen merge java facade jnode org eclipse emf codegen merge java facade jnode boolean
count just bits up to this one note that shifting bits no op
this might be invalid or ipv address if it 's potentially ipv address backup to just after last valid character that matches hexseq
determine index feature and return value at that index if index assigned
fill of value byte fill of value byte fill of value byte fill of value byte
determine if index assigned
determine index
switch model 's inheritance hierarchy it supports call link doswitch eobject doswitch object to invoke casexxx method each class of model starting with actual class of object and proceeding up inheritance hierarchy until non null result returned which result of switch see org eclipse emf codegen ecore genmodel genmodelpackage generated
if it 's newly allocated add new value and indicate there no previous value
non javadoc see org eclipse emf codegen merge java facade ast astjabstracttype getchildren
do n't use 'cotinue' this loop single range from to range subtraction
initializing character flag array code generated by xmlchargenerator
forward interned value
we 'll assume that copy command can execute and that adding copy of clipboard same test as adding clipboard contents itself
if it 's parameterized type
both prefix if any localpart must be valid ncname
instance class name erasure
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
if name n't qualified name and n't primitive type it 's assumed to denote some arbitrary type parameter
fill of value byte
be sure to pick up any trailing brackets
if bundle ca n't be found normal way try to find it as base url if that also does n't work rethrow original exception
first character special character something other than \?
note isrelative hierarchical
returns null if specified value null or would be valid path segment array of uri otherwise value of first invalid segment
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
it start of source uri of annotation \?
recompute read only state
return value null validate value segment char hi segment char lo true true
refresh any actions that may become enabled or disabled
go through class super types to catch constraints from other packages
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
empty
fill of value byte fill of value byte
note authority null hierarchical authority null device null absolutepath scheme null
fill of value byte fill of value byte fill of value byte
if node less than line long but its contents replaced by multiple lines comment out each line in it
fill of value byte fill of value byte fill of value byte fill of value byte
find closing
non javadoc see org eclipse emf ecore util basicextendedmetadata isfeaturekindspecific
cause syntax error
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
decode all encoded characters
if that fails determine url class itself url will be of one of following forms so there few good places to consider looking plugin properties plugin xml with runtime common jar jar file sandboxunpackage eclipsepluginsorg eclipse emf commoncommon jar orgeclipsecommoncommonplugin class plugin xml with runtime runtimecommon jar jar file sandboxunpackage eclipsepluginsorg eclipse emf commonruntimecommon jar orgeclipsecommoncommonplugin class plugin xml with runtime where plugin jarred jar file sandboxunpackage eclipsepluginsorg eclipse emf common jar orgeclipsecommoncommonplugin class plugin xml with runtime where plugin not jarred file sandboxunpackage eclipsepluginsorg eclipse emf commonorgeclipseemfcommoncommonplugin class running in pde with bin on classpath file sandboxunpackage eclipsepluginsorg eclipse emf commonbinorgeclipseemfcommoncommonplugin class
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
check count followed by number
look trailing count
look matching named element
return econtainerfeatureid
find uppermost class loader in hierarchy that can load class
fill of value byte fill of value byte fill of value byte
jcontrolmodel class used with classnames that not found
fill of value byte fill of value byte fill of value byte
register with upper most class loader that 's able to load class
fill of value byte fill of value byte
this let 's us test whether string exists as file if not we try as uri
or if it 's wildcard or group feature also make it featuremap typed
first try to see if this class has einstance
try and get resource selection to determine current directory file dialog
remember file
do work within operation
no authority use base 's
create resource set
non javadoc see org eclipse emf ecore util extendedmetadata getnamespace org eclipse emf ecore epackage
get uri of model file
returns true if given value archive scheme as defined by org eclipse emf common util uri archiveschemes system property by default jar zip and archive considered archives
if feature bidirectional reference with multiplicity many reverse composite reverse or multiplicity reverse that already set on value then we 'll switch things around and execute this command little differently because otherwise it 's not undoable
add initial model object to contents
if sibling has been specified add best index possible to each commandparameter
save contents of resource to file system
there attributes to handle
make sure file ends in ecore
genpackage can be broken proxy
create page set title and initial model file name
we never directly set multiplicity many feature to list directly instead we remove old values values move values that remain and insert new values if all old values removed we 'll still set it to empty list or unset it as appropriate
get resource
this gives us directory
set this container
if relative path empty or ends in empty segment parent reference or self reference add trailing separator to non empty path
this returns name like employeenumber formatted like 'employee number' this returns same as getcapname unless it starts with in which case stripped this returns name to be used in accessor method names it 's same as getcapname unless this key or value of map entry which typed prepended this returns name of get array based accessor method list feature this returns name of get accessor method feature either or get prefixed to getaccessorname
many to many association command can only be undoable if value or owner last in its respective list since undo will include inverse add so if value last but owner not we create undoable compound command that removes from opposite end and then inserts new value
evirtualindexbits offset newindexbits
if there no list to add to no collection or empty collection from which to add or index out of range
evirtualvalues newvalues
this package so check package information if this in cat file if it then load cat file into tree thereby traversing it otherwise just traverse tree
no device use base 's
add listener to set most recent command 's affected objects to be selection of viewer with focus
setting at index make sure index valid type valid and value n't already in unique feature record old value
since base must be hierarchical and since non hierarchical uri must have both scheme and opaque part complete absolute uri needed to resolve to non hierarchical uri
make sure it 's okay
if other end many then we should remove owner from old value 's opposite feature so that undo will put it back
look likely plugin name
create type parameters
if found no data just return null
if it 's platform plugin uri include it in map
keep track of all entry features that already in feature map and that will be added excluding xml text cdata and comments if we 're in mixed type
else keep authority device path and query
determine values to be added and add them at right position
note it 's okay two uris to share segments array since neither will ever modify it
find fragment root so that we can generate to right location by default
returns base portion of dynamic template path
non nls non nls non nls non nls
non javadoc see org eclipse ui iactiondelegate run org eclipse jface action iaction
remember it
either delegate call or return nothing
now we could check that adapter implements interface itableitemfontprovider
it 's okay there not be precompiled template so fail quietly
we do n't need to encode here because only platform resource uris in map projects whose names same as corresponding plug in ids and hence never need to be encoded see ecoreplugin computeplatformresourcetoplatformpluginmap
there must be at least one match
non javadoc method declared on dialog
gentypeparameter
this implements following order of preference full refresh and update full refresh add update if necessary refresh element with update refresh element if necessary update element
gentypedelement
trycatch provides backwards compatibility with old resource key ui createchild label and should be removed at next release when we can expect users to regenerate
eatm color startcolor display getsystemcolor swt color list selection
genruntimeversion
these will be children belonging to this feature
genmodelpackage
there no executable command so we 'd better nix whole deal
this returns either attribute attribute list reference or reference list
do encoding
getfirstfileextension \?
get target object from item widget and mouse location in it
add variable fragment to new declaration
determine if we can create valid command at current location
load resource through editing domain
non javadoc see org eclipse emf ecore util extendedmetadata gettype org eclipse emf ecore epackage java lang string
adapter factory model it provides adapter createxxx method each class of model see org eclipse emf mapping ecore xml ecore xmlpackage generated
otherwise source should be available now as event data and we can create command
either ieditingdomainitemprovider or itreeitemcontentprovider item provider interface can give us children
switch model 's inheritance hierarchy it supports call link doswitch eobject doswitch object to invoke casexxx method each class of model starting with actual class of object and proceeding up inheritance hierarchy until non null result returned which result of switch see org eclipse emf mapping ecore xml ecore xmlpackage generated
genmodelfactory
current document reference keep no path or query
ignore if there not substantial change
constructors
lower all except last upper case character if there more than one upper case characters in beginning xsdelementcontent xsdelementcontent however if whole string upper case whole string turned into lower case cpu cpu
look each unwrapped object as value of wrapper replacing it with first one found
genannotation
it must be unsettable feature to be empty and considered set
matching authorities and no device or path removal
always keep fragment even if null and use scheme from base no validation needed since all components from existing uris
check to see if container being put into contained object
new addcommand domain mapping mapping epackagemapping getmapping nested siblingstoreparent
static initialization
trick to import java util without warnings
do allow existing manifest mf to be overwritten since it may have been created as part of empty emf project use existence of plugin xml as guard against overwriting in project that has already been generated
if there n't executable command we should maybe try copy operation but only if we 're allowed and not doing link
type string must be qualified by its package uri dtd xmi dtdelement package uri used to look up package by calling refregister getpackage uri
this will be default return value
non javadoc see org eclipse emf mapping action addrootbottomaction getbottomstoadd
try again
otherwise we could check that adapter implements interface iitemcolorprovider
now we could check that adapter implements interface itableitemcolorprovider
this turns featureless set command into operation to create mapping this invoked during drag and drop
genenumimpl
we 've switch operation
select new file resource in current view
if type n't object we need to cast if it 's primitive we need to unbox
use stack to accumulate segments of base except last skip trailing separator and anything following it and of relative path
now we want to find all other objects with this same parent so we can collection siblings together and give parent control over their removal
we ca n't have null name in case we 're using emof serialization
determine object 's parent
if it 's interface then it will be treated as eclass
this returns either eattribute or ereference
eclass getesupertypes addall extend eclass getesupertypes addall unspecified eclass getesupertypes addall mixin eclass getesupertypes addall nonclass
continue to compute offset
defer handling of opposite
this guard extra security but should not be necessary
do this first better error message during seteparameterproperties
set properties
index counters into indices indices and indices
just remember it it 's encoded later during execution which more efficient
remove objects from owner list by index starting from end
genmodelfactoryimpl
we do n't want to insert object before or after itself
add iana to java encoding mappings
create code formatter this compilation unit if needed
this feedback we use to indicate drop on it will only be used if command executable
get resource parent if its file
we 'd like collection of replacements selected after this replace completes
repeatedly select lower index and corresponding object and advance past selected pair
wrap any new children and add them to map remove each current child from set of old children
ignore this soft dependency when it 's not satisfied
simply remove object from owner list
make up unique new name here
prepare createchild item addition or removal
check all siblings to see which if any should now be nested under this new mapping accumulated into list so that they can be removed as single command with single notification
has problems assigning null to class variable
always returns original value
use original to do add but only if it 's of same type as copy this ensures that if there conversion being done as part of copy as would be case cross domain copy in mapping framework that we do actually use converted instance
add added super interfaces to array
mappingroot epackagemapping getmapping outputs mappingroot epackagemapping getmapping inputs
special case reference to ecore to ensure that flag settings respected and set only ecore itself
not supported in jdom
testcaseunsetgenfeature annotations insert javajetinc
only fragment left revert changes
we 'll assume that all createcopycommand 's and initializecopycommand 's can execute
split performed
removecommand we will find owner by calling editingdomain getparent on object being removed
not supported in jdom
setresourcefactoryregister new extensiblecontextresourcefactoryregister eatm setresourcefactoryregister new contextresourcefactoryregister
name already contains unset on demand property
fill of value byte fill of value byte fill of value byte fill of value byte
three arguments expected xml getcontrolmodel uri source java uri and target java uri
lists maps and feature maps default many valued which can be overridden by upper bound declaration
if there no ecore representation or it 's invalid when used to omit specification then just use java representation
containers transient by default unless explicitly annotated otherwise
consider each genmodel location uri each required plugin
prepare createsibling item addition or removal
get extra icon and bounds first column of extendedtabletreeitem
force update because eclipse hides empty menus now
if notification iviewernotification it specifies how viewerrefresh should behave otherwise fall back to notifychangedtoviewerrefresh which determines how to refresh viewer directly from model notification
remove any menu items old selection
setcommand needs to go through setcommand create to ensure it can execute and undo
query new selection appropriate new childsibling descriptors
generate actions selection populate and redraw menus
draw ellipses offset if down
empty extension to limit effect of suppressing deprecation warning
protected command createsetcommand editingdomain domain object owner object feature object value return ieditingdomainitemprovider decorateditemprovider createcommand owner domain setcommand class new commandparameter owner feature value protected command createcopycommand editingdomain domain object owner copycommand helper helper return ieditingdomainitemprovider decorateditemprovider createcommand owner domain copycommand class new commandparameter owner null helper protected command createcreatecopycommand editingdomain domain object owner copycommand helper helper return ieditingdomainitemprovider decorateditemprovider createcommand owner domain createcopycommand class new commandparameter owner null helper protected command createinitializecopycommand editingdomain domain object owner copycommand helper helper return ieditingdomainitemprovider decorateditemprovider createcommand owner domain initializecopycommand class new commandparameter owner null helper protected command createremovecommand editingdomain domain object owner object feature collection collection return ieditingdomainitemprovider decorateditemprovider createcommand owner domain removecommand class new commandparameter owner feature collection protected command createreplacecommand editingdomain domain object owner object feature object value collection collection return ieditingdomainitemprovider decorateditemprovider createcommand owner domain replacecommand class new commandparameter owner feature value collection protected command createaddcommand editingdomain domain object owner object feature collection collection int index return ieditingdomainitemprovider decorateditemprovider createcommand owner domain replacecommand class new commandparameter owner feature collection index protected command createmovecommand editingdomain domain object owner object feature object value int index return ieditingdomainitemprovider decorateditemprovider createcommand owner domain replacecommand class new commandparameter owner feature value index protected command createdraganddropcommand editingdomain domain object owner float location int operations int operation collection collection draganddropcommand detail detail new draganddropcommand detail location operations operation return ieditingdomainitemprovider decorateditemprovider createcommand owner domain draganddropcommand class new commandparameter owner detail collection
iterate over all plugin ids to determine dependency closure list grows as plugins visited
look into subcontributionitems
else keep device path and query
if it 's really contained child return feature it
we 'll need to keep track of information we use to create command so that we can recreate it in drop
changes to parameters should also update label
returns true if non relative path includes segments that would be collapsed when resolving false otherwise if preserverootparents true collapsible segments include any empty segments except last segment as well as and parent and self references if preserverootsparents false parent references not collapsible if they first segment or preceded only by other parent references
shared instance
ignore unset notification ismany feature value boolean in this case
if necessary get command that replaces unwrapped values by their wrappers in result and affected objects
inputstream contents new bytearrayinputstream bytes
now we could check that adapter implements interface itableitemlabelprovider
if we have children to remove this feature create command it
create helpers to cache and supply information unique naming
genannotationimpl
create ok and cancel buttons by default
set error message text see
walk fields
index of first segment that different between endpath and startpath
if local transfer supports this data type switch to that data type
create options model
drop last segment from base as in resolving
treat empty base path as root absolute path
classunsetgenfeature override javajetinc
create enums
this backwards compatibility since constructor may have been overridden before it expected to set actiondelegate
etype instanceof edatatype
genmodelpackageimpl
determine required plugins
in column drop down indented past collapseexpand icon
does nothing
user rejects relative path keep absolute or no path
draw icons
assume that editorinput file object
matching devices and no path removal
clear import manager
classgetgenfeature todo override javajetinc
basicemap this removeentry index
order genpackages by putting firstgenpackage if non null first
remember viewer and listen to swt dragdetect to alert start of drag operation
genfeatureimpl
text new text composite swt single swt border text setlayoutdata new griddata griddata grab horizontal griddata horizontal align fill
if value null key referenced object
keep query and select relative or absolute path based on length
set from link ischildren children if unset and return value
ereversefeature isnavigable
handle creation of model from modelfile
debugging purposes may be removed in future
go through class super types to catch any from other packages
control case we need dialog to ask uri and obtain resource then we create command
support as proposed to be added to iana registry in
if we n't getting domain from workbench part this happens when this action used global popup action we try to get editing domain from one of objects in selection dms editingdomain null \?
scan feature lists those with multiple elements and return them
nothing more to do and we do n't want to do default stuff below
gentypedelementimpl
data type
else keep shorter absolute path
if we n't doing operation
eobject handled by default case
clean up command if there one if we need it again in drop we 'll recreate it from draganddropcommandinformation
changes to parameter types should also update operation 's label
convert to ereference
escaped unicode form
if we 've found thing with type parameters search them match
filter out types that n't permitted
we need wrapper not item provider to handle draganddropcommand move add remove etc commands that implement it will have their values unwrapped as usual
restore persistent command stack if need be
create generic super type with eclass as classifier each super interface in model representation
operation declared via kind property or backwards compatibility by specifying parameters though attribute or reference kind takes precedence
no index specified when removing all elements
classunsetgenfeature javadoc override javajetinc
check if name qualified
avoid allowing choices that will lead to duplicates
return getpresentationpackagename geteditorpluginclassname
emf edit generation
find modeled package import and look up name there
avoid allowing choice that will lead to duplicates
just to be helpful we 'll recognize type of org eclipse emf ecore util featuremap and convert it to efeaturemapentry this way datatype need not be specified but we wo n't do this if recorddemandcreateedatatype false so we do n't change instanceclass of new edatatype that 's implicitly being defined featuremap
ensure that there enough type arguments to match number of type parameters
wrappers from old command parameter must be considered in order cut and paste to work
you cannot add any children type parameter
look sibling value or equivalent in new child 's feature if it found child should immediately follow it
otherwise you ca n't make it child
testcaseissetgenfeature todo override javajetinc
let them choose type parameters as well
non nls non nls non nls
tbd
if it list type value
genpackageimpl
protected jetemitter extendeditemprovideremitter null
itemprovidernewchilddescriptorsattributefeature override javajetinc
iterate over all child references to factor each child to right reference
do n't care about plugin class we can generate model without one
subcommands appendandexecute new removecommand domain mapping mapping epackagemapping getmapping nested nestedmappings subcommands appendandexecute new addcommand domain parentmapping parentmapping epackagemapping getmapping nested nestedmappings
when value changed property sheet page does n't update property sheet viewer input before refreshing and this gets called on obsolete wrapper so we need to read directly from model object return value
genmodelimpl
otherwise we could check that adapter implements interface iitemlabelprovider
size of value
do not allow existing manifest mf to be overwritten as tests project originally generated from scratch
itemprovidernewchilddescriptorsreferencefeature override javajetinc
user demands relative path or absolute path longer
it 's definitely package if expected constants ename ens prefix or ens uri appear
putjava ianamapping string string
bottom label case
classgenoperation javadoc override javajetinc
this ensures that createcopycommand will be executed by strictcompoundcommand prepare
do not allow existing build properties to be overwritten as tests project originally generated from scratch
classdeclaredfieldgenfeature override javajetinc
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
handle eopposite specially
if this owned object equal to one from collection
class basicunsetgenfeature override javajetinc
itemprovidernewchilddescriptorsreferencedelegatedfeature override javajetinc
if there more than one exact match we must get index number
fill of value byte fill of value byte fill of value byte fill of value byte
filter out classes that n't permitted
genmodelvalidator
read all values into array
this ca n't execute if there no owner list or owner list does n't contain value being replaced or there not replacements
non javadoc see org eclipse emf mapping ecore ecore ecore ecoremapping getoutputepackage
genmodelswitch
genmodeladapterfactory
classsetgenfeature override javajetinc
itemprovideraddpropertydescriptor override javajetinc
now we 'll do recursive matchmapping we need to iterate over copy since we modify underlying list in loop
itemprovidergettext override javajetinc
this guard needed to ensure that clear does n't make resource become loaded
this done to ensure that this new copy treated as output by domain createmappingcommand will rely on this setting
if we have n't yet encrypted or decrypted generate key this key will only be used encryption decryption keys always derived from header of input stream itself
colormap put clr grad start clr
write header to output stream this has format delimeters not written pbe iv encryption iv encrypted key length encrypted key
we 'd like collection of things added to be selected after this command completes
classsetgenfeature todo override javajetinc
iterate over children to find owner
classgetgenfeature annotations insert javajetinc
handle same document proxies which may have problems resulting from other end of bidirectional reference being handled as idref rather than as proxy when we done with these we know that funny proxies now resolved as if they handled as idrefs
merges this uri 's relative path with base non relative path if base has no path treat it as root absolute path unless this has no path either
make up unique new name here non nls
removecommand removecommand create domain mappingroot mappingroot epackagemapping getmapping nested mappingroot getnested
non nls non nls non nls
we do n't want to move insert object before or after itself
cipheroutputstream shoudl n't close underlying stream
initialize above arrays
return getproviderpackagename geteditpluginclassname
classreflectivedelegation override javajetinc
non javadoc see org eclipse emf codegen merge java facade ast astjabstracttype remove org eclipse emf codegen merge java facade ast astjnode
editoradditemproviderfactories override javajetinc
absolute uri needs no resolving
note these assertions imply that neither this nor base uri has relative path thus both have either absolute path or no path
non javadoc see org eclipse emf codegen merge java facade ast astjnode insertsibling org eclipse emf codegen merge java facade jnode org eclipse emf codegen merge java facade jnode boolean
classgetgenfeature override javajetinc
simply add collection to list
classgetgenfeature javadoc override javajetinc
classbasicsetgenfeature override javajetinc
note device null hierarchical
classbasicsetgenfeature todo override javajetinc
classbasicgetgenfeature annotations insert javajetinc
valid fragment may be null or contain any allowed uri characters
classbasicgetgenfeature override javajetinc
returns dynamic template path ordered list of uris corresponding to locations under which to find templates
classbasicgetgenfeature todo override javajetinc
non javadoc see org eclipse emf codegen merge java facade abstractjnode computequalifiedname
classimplementedgenoperation todo override javajetinc
get utf bytes remaining sub string
ignore exception and return false
classissetgenfeature todo override javajetinc
getjava ianamapping string string
note query null hierarchical
classunsetgenfeature todo override javajetinc
classunsetgenfeature annotations insert javajetinc
classissetgenfeature javadoc override javajetinc
return value null validate value uric hi uric lo true true
classissetgenfeature annotations insert javajetinc
switch model 's inheritance hierarchy it supports call link doswitch eobject doswitch object to invoke casexxx method each class of model starting with actual class of object and proceeding up inheritance hierarchy until non null result returned which result of switch see org eclipse emf mapping mappingpackage generated
datatype
switch model 's inheritance hierarchy it supports call link doswitch eobject doswitch object to invoke casexxx method each class of model starting with actual class of object and proceeding up inheritance hierarchy until non null result returned which result of switch see org eclipse emf ecore change changepackage generated
switch model 's inheritance hierarchy it supports call link doswitch eobject doswitch object to invoke casexxx method each class of model starting with actual class of object and proceeding up inheritance hierarchy until non null result returned which result of switch see org eclipse emf ecore ecorepackage generated
classeunset override javajetinc
non javadoc see org eclipse emf ecore util extendedmetadata getname org eclipse emf ecore eclassifier
testcasegetgenfeature override javajetinc
we do not want to diagnose any error that have already been diagnosed by super type
creates model from editor input
testcasegetgenfeature todo override javajetinc
switch model 's inheritance hierarchy it supports call link doswitch eobject doswitch object to invoke casexxx method each class of model starting with actual class of object and proceeding up inheritance hierarchy until non null result returned which result of switch see org eclipse emf mapping ecore ecore ecore ecorepackage generated
testcaseunsetgenfeature override javajetinc
testcasesetgenfeature todo override javajetinc
first hex character if character needs to be escaped
testcaseunsetgenfeature todo override javajetinc
tests non null string value to see if it contains only ascii characters in set represented by specified bit bitmask as well as optionally non ascii characters xa and above and also optionally escape sequences of followed by two hex digits this method used new strict uri validation that not not currently in place
testcasesetgenfeature override javajetinc
if workbench part changes
testcasegenoperation annotations insert javajetinc
testcaseimplementedgenfeature override javajetinc
backward compatibility with old generated overrides
testcaseissetgenfeature annotations insert javajetinc
testcaseimplementedgenoperation override javajetinc
many to we use setcommand create to create command to remove opposite reference removecommand on its opposite will actually result
add all converted fields after last final field that used in initializers of converted fields
char buffer html data
if endpath shorter than startpath last segment of endpath may not be compared because startpath has been collapsed and had its last segment removed all preceding segments can be considered non empty and followed by separator while last segment of endpath will either be non empty and not followed by separator or just empty
ignore because we 'll rethrow original exception eventually
path form demands absolute path keep it and query
continue processing dynamically as normal
iterate over all operations but skip all operations in first super
feature maps test that entry feature valid type that entry value instance of it that there not already something in document root and that there not already something in single valued entry feature
pure obfuscated genius
match close
testcaseissetgenfeature override javajetinc
take care of quoting here
skip empty segments and self references push everything else
to many association doing set as remove and add from other end will make it undoable in particular if there existing non null value we first need to remove it from other end so that it will be reinserted at correct index on undo
close ncsa like attributes
non javadoc see org eclipse emf ecore util extendedmetadata getfeaturekind org eclipse emf ecore estructuralfeature
super called on converted node
convert selection to collection of selected objects
dumpnodecontents node
assume length will grow by average line length characters
ignore version
reached eof
close variable like attributes
xmlesque close tags
command line execution methods
dumpnodecontents node
compute map of resource location uris to logical namespace uris so that cross references will be resolved via package registry when deserialized
many to or to association if opposite reference on new value already set to something we need compound command that first explicitly removes that reference so that it will be restored in undo
push
check whether character in range
sweep
non javadoc see org eclipse emf codegen merge java facade abstractjnode getchildren
pull
referencedepackages list used to track packages which necessary to create stub genmodel so if epackage referenced by existing genpackage it does n't need to be added to referencedepackages
pull name targetpackage setname sourcepackage getname
if we 're not setting new resource attach it to old container 's resource
apply target parent pattern first
include each required plugin of starting project and exported ones of all required projects
do not crash when control model not set
clone and map
non javadoc see org eclipse emf ecore util extendedmetadata getname org eclipse emf ecore estructuralfeature
sort
we will create eattribute ereference or eoperation
read value until delimiter found
check whether there parameters special attribute and reference rules only apply case of no arguments
system err println warning cannot clone sourcenode getcontents
redo markup since nodes changed now
use new node from now on
look through imports of containing compilation unit
purpose using charset from 'targetfile' to encode in memory 'newcontents' object into bytes modifer wu zhi qiang date aug action first get charset from 'targetfile' then use it to encode 'newcontents' object into bytes
ignore exception
headless invocation
any entry that does n't correspond to plugin in running jvm compute url classes
we do n't want keytype and valuetype on map type specification in package interface but we also use qualified model information when defining feature with suppressed get accessor on interface and we do want to include these properties in that case
ignore char tokens
back up over whitespace
target method not addsuperinterface
by default nodes marked up
if parent not in target there no point on checking child
devanagari sign virama mn on bengali sign virama mn on gurmukhi sign virama mn on gujarati sign virama mn on oriya sign virama mn on tamil sign virama mn on telugu sign virama mn on kannada sign virama mn on malayalam sign virama mn on thai character phinthu mn on thai vowel sign phinthu tibetan mark halanta mn on tibetan virama
if flag will straddle two fields bump it to next one
fill of value byte
update containing map if necessary
we expect there to be at least one archive path
characters to use in escaping
if there provider base class from outside this class that has already been generated get create child references from it we 'll check any type compatible classes introduced in this package
not instantiable
private constructor use of static factory methods
non javadoc see org eclipse emf codegen merge java facade ast astjnode addchild org eclipse emf codegen merge java facade jnode
all nodes but some use default extended range
iri iri containsnonascii authority
if there multiple variables in same field declaration create declaration with only variable
private constructor use of platform factory methods
iri iri containsnonascii query
debugging method converts given long to string of binary digits
replace or append
returns upper half bitmask given acsii character
skip whitespace up to end of line
uri charat fragment separator implied
enable tracking nodes that have string content
apply header
enable tracking commented out nodes
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
previousnode getstartposition previousnode getlength
returns lower half bitmask given ascii character
return line number of start of node
mappingpackageimpl
revert all current edits this node
this line has been commented out return next line number
find appropriate parent mapping which at very least should be mapping root itself
if there anything after node on same line insert line break
separators parsing uri string
comment out all lines of node itself from firstline to last line
this tricky and done each object here rather than once owner of addcommnd we want to make sure object really part of conceptual tree induced by domain
next position checked as well
we ca n't blindly cache genmodel since we need to support moving genpackage to another container but cast expensive so we 'd like to do it no more than absolutely necessary
handle case when there replace edit that covers these lines
if it 's selection viewer then we want it to select same selection as this selection
if there any content after node on same line insert line break to prevent commenting out extra content
no op
skip all lines that replace edit covers
should not happen re throw exception
make sure that dummy edit not in tree
char at currentpos copied as well
it belongs to this package if delegate feature from this package or class from this package and either there no delegate feature or delegate feature from some used package
lastpos currentpos points at next chars that will be copied later
if there anything before node on same line create line break and comment out first line of node
copy last piece if any
set uris of epackage containing resources output resource to desired target uri and others to package namespace uris so cross references will be resolved via package registry when deserialized
if comma on line by itself comment it out but do not insert line break
non javadoc see org eclipse emf codegen merge java facade ast astjabstracttype insertsibling org eclipse emf codegen merge java facade ast astjnode org eclipse emf codegen merge java facade ast astjnode boolean
if previous node not commented out but all following nodes comment out comma constant separator
we need to filer out duplicates in unlikely event that we have two features with same class qualified name we 'll only generate one property string in that case and let user add second one manually if necessary
if previous node not commented out but all following
since we will do processing recursively we need to ensure we do n't stack overflow if there circular super type
fill of value byte fill of value byte fill of value byte
delete variable fragment from old declaration
cat unit file referenced by mdl file
classsetgenfeature javadoc override javajetinc
ignore features from first super type
classbasicunsetgenfeature annotations insert javajetinc
testcasegetgenfeature annotations insert javajetinc
second hex character if character needs to be escaped
resourcefactoryclasscreateresource override javajetinc
volatile
listrewrite remove astnode modifier null
uses cache to speed up creation of uri from string cache consulted to see if uri less any fragment has already been created if needed fragment re appended to cached uri which considerably more efficient than creating whole uri from scratch if uri n't found in cache it created using parseintouri and then cached this method should always be used by string parsing factory methods instead of parseintouri directly
fill of value byte fill of value byte
super collectnewchilddescriptors newchilddescriptors object
this could be method body example
primitive type can only be used as generic type of typed element
range to look comments
discard old editing domain
skip archive accessor to be handled by delegation to scheme in nested url
userinfo can contain alphanumerics mark characters escaped and ''
return eproperties
testcaseimplementedgenoperation todo override javajetinc
set javadoc
add java to iana encoding mappings fjava ianamap put us ascii \?
returns int value of given hex digit
loop 's condition finds separator
parse to count archive paths that must will be delegated to nested url based on number of schemes at start
fill of value byte fill of value byte fill of value byte
assume that we n't running
assume that node being moved to allow insertion after
mappingpackage epackage mappingroot object epackagemapping
and even if it contained it must not be forward reference etypeparameterindex index allowed when type parameter type argument of bound though
remove all existing modifiers
append extra dimensions if any
create new modifiers and add to rewrite
we can also optimize single valued reverse
adapter factory model it provides adapter createxxx method each class of model see org eclipse emf ecore ecorepackage generated
create proxy in correct way and pop it
null relative uri reference
ignore
handler skippedentity name
if ecore set enamedelement name
if it not warning or diagnostic then return diagnostic image
maintain list of classifiers looking up conflicts
only one example per wizard
ecore xmlfactory
xmlmap
append if it variable arity parameter see jls
xmlinfoimpl
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
anytype
no image good default
applicable only to hierarchical uri
apply redirection pattern if specified
create new node and replace it all by original contents
make all enum constants to be on separate lines
avoid unnecessary out write statements
set comment and initializer as strings
non javadoc see org eclipse ui iactiondelegate selectionchanged org eclipse jface action iaction org eclipse jface viewers iselection
set annotation contents
reg name unreserved escaped
non javadoc see org eclipse emf ecore xmi xmlload load org eclipse emf ecore xmi xmlresource org dom node java util map
update wrapped object map
non javadoc see org eclipse emf codegen merge java facade facadehelper getcontext org eclipse emf codegen merge java facade jnode
skip nodes in hierarchy that can not be converted to jnode variabledeclarationfragment
if there no root object we 're dealing with eattribute feature instead of ereference feature so create instance of simple any type and prepare it to handle text content
get rewriter
path everything up to query string or fragment
insert new declaration before this one
if there element with end position rangeendpos
computes default path given genmodel this previously implementation of gettemplatepath
extend range backward
we ca n't want to do encoding of platform resource uris by default yet
create map of field names to fields
create output stream to temporary file and input stream delegate url
boolean iri false
extend to include comment at same line as position
else there comment that ends exactly at rangeendpos
handle field declarations separately
previous element must have end position rangeendpos
last bits should be zero
else there comment that starts exactly at rangestartpos
commandparameter instanceof mappingcommandparameter
classbasicsetgenfeature annotations insert javajetinc
extend range forward
increments position to add white spaces
add trailing whitespace
set source
create label if there no children to force smaller layout
returning null here causes removecommand create domain mappedobjectitemprovider to be delegated to mappedobjectitemprovider createcommand and there we return command to remove mappedobject instead return null
mark node as moved if node has been removed
enable commenting out
initialization deferred until adapters attached to all objects of interest and we 're about to ask them to generate
counter number of bit sections read in address
disable commenting out
determine inverse map from plugin ids to their registered genmodel locations
cache of uris keyed by strings from which they created fragment of any uri removed before caching it here to minimize size of cache in usual case where most uris only differ by fragment
mark node to be removed
we 'll rethrow original exception not this one
if dealing with original not cloned node
celleditor setvalue calls iscorrect to validate value that about to be set we doing conversion between value and corresponding string and we would usually like to validate string because setvalue final we cannot do that conversion there so we need to record what we 're trying to validate and work around problem in iscorrect
stringvalue not null nodevalue null
if this link isiri iri converts it to strict ascii uri using procedure described in section of iri draft rfc otherwise this uri itself returned this unused code included possible future use
insert new values
convert only fields of same type as parent
move all children to enum converting some fields to constants
set type to create
include line comments following end of nodes into range
move annotations
set arguments and body
update wrapped object
unable to set arguments or body
check if there just whitespace between position and start of comment
create field declaration with variable declaration fragment
debug system err println isregisternonxs name
record part
replace type by enum
insert nodetoinsert after targetnode
convert enum constants and add to list of converted constants
db
move node
set initializer
set arguments
set whole initializer
set body
update last field that used
set arguments to constructor
perform split if there more than fragment
return whole declaration contents not just variabledeclarationfragment
set rewritten node to be original
not overlapped src src res empty reuse src
check number of fragments
this class provides encodedecode rfc base as defined by rfc freed and borenstein rfc multipurpose internet mail extensions mime part one format of internet message bodies reference available at this class used by xml schema binary format validation this implementation does not encodedecode streaming data you need data that you will encodedecode already on byte array author jeffrey rodriguez author sandy gao
create copy of declaration
set annotations contents
create temporary file where existing contents of archive can be written before new contents added
system err println logged throwable throwable printstacktrace
ensure correct indentation top level attribute elementnames add mark
new template container label
container specification group
since
xmlns declaration example example example
jetnature settemplatecontainers newtemplatecontainers
convert element values to amp to lt to quot to line separator should be escaped to xd
will point at character after to octal digits
create xml processor that aware of xml schema specified param schemauris uri link org eclipse common util uri which point to xml schema
classbasicunsetgenfeature todo override javajetinc
return original uri
just print error message
title
ignore exception and return original uri
assume class not available
just return default
do not insert line break if there only whitespace after comma
this just marker interface
this case happens when ide brought up with editor already open
archive uri check path in archive
classgenoperation annotations insert javajetinc
continue processing if file does n't exist so that we try create new empty one
set lexical handler
if we did n't find path in usual place nor in archive
loop resolves cross references by visiting them
if they do n't have same class they ca n't be equal
this may be called directly on eobject case of containment
assume that it 's not available
preload
no new methods
listen to title changes getviewpart addpropertylistener this
listchangeimpl
wrap current input as zip stream and record it loop based recursion
return getprefixedname editplugin
changepackage
if generic type different wildcard it does n't match
turn password into aes key
public string getextendeditemproviderclassname return getprefixedname itemprovideradapter
process documentation info and create eenumliteral each line
eannotation
create new or replaced entry and continue processing remaining archives
getlist entry clear
subclasses must override this function
return evirtualindexbits offset
return minimumcapacity
return evirtualvalues
non javadoc see org eclipse emf ecore xmi xmlresource load org dom node java util map
continue and return null
changepackageimpl
ignore exceptions
changefactoryimpl
ensure that cached epackage forgotten
eannotationimpl
listchange
if attribute set record it 's old value
force this to be initialized as well
ignore exception since we will throw one when all else fails
ecorevalidator
if we did n't detach it from old resource already detach it from old container 's resource
classissetgenfeature override javajetinc
titlelabel setbackground workbenchcolors getactivegradient workbenchcolors getactivegradientpercents titlelabel setforeground titlelabel getdisplay getsystemcolor swt color title foreground
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
eoperation
create page parent tree view
check to make sure that every object in collection has ancestor that contained in this mapping
generate key
record them as generic streams to record state during loop that emulates recursion
if we can open input stream then path there and we have good url
continue and try to close
adapter factory model it provides adapter createxxx method each class of model see org eclipse emf mapping ecore ecore ecore ecorepackage generated
non javadoc see org eclipse emf codegen merge java facade ast astjabstracttype addchild org eclipse emf codegen merge java facade ast astjnode
decrypt key bytes
now create encryption cipher
non javadoc see org eclipse emf mapping mappingroot cancreatemapping java util collection java util collection org eclipse emf mapping mapping
read header of encrypted file
adapter factory model it provides adapter createxxx method each class of model see org eclipse emf ecore change changepackage generated
add leading hanging comments to previous node hence only comments immediately preceding node will be in range removal
just make copy of base if spec empty
generate iv encryption
see org eclipse emf ecore internaleobject esetproxyuri org eclipse emf common util uri
this key we will use to encrypt data
adapter factory model it provides adapter createxxx method each class of model see org eclipse emf edit tree treepackage generated
create title bar
non javadoc see org eclipse ui iactiondelegate selectionchanged org eclipse jface action iaction org eclipse jface viewers iselection
now create decrypt cipher
only do this once
if we have n't yet generated key just use this one
eclipse depend begin
non javadoc see org eclipse ui iworkbenchwindowactiondelegate init org eclipse ui iworkbenchwindow
ignore bound if value too big
eclipse depend end
see org eclipse emf ecore eobject eisproxy
non javadoc see org eclipse emf codegen merge java facade facadehelper createcompilationunit java lang string java lang string
invoke generator adapters each object
non javadoc see org eclipse emf codegen merge java facade facadehelper addchild org eclipse emf codegen merge java facade jnode org eclipse emf codegen merge java facade jnode
non javadoc see org eclipse jface dialogs dialog createbuttonsforbuttonbar org eclipse swt widgets composite
ignore it if it n't class not being class diagnosed generic type itself
classsetgenfeature annotations insert javajetinc
ensure that class loader this class will be used downstream
two slashes means we may have authority but definitely means we 're either matching net path or abs path these two productions ambiguous in that every net path except those containing ipv reference abs path rfc resolves this ambiguity by applying greedy left most matching rule try matching net path first and if that fails we do n't have authority so then attempt to match abs path net path authority abs path abs path path segments
do n't bother complaining about things with no name since there constraints that problem
non javadoc see org eclipse emf codegen merge java facade ast astjnode insertsibling org eclipse emf codegen merge java facade ast astjnode org eclipse emf codegen merge java facade ast astjnode boolean
ecoreswitch
document root can have multiple id attributes because there can be multiple global element or attribute declarations of type id and these will be id in complex types that reference them they n't really id of document root
performance skip matching all features of first super type
action bar
note that copied tree should not be modified by wrapped astjfield copied tree will have source ranges all nodes in source file hence get methods in new astjfield will not return right contents
checks whether string contains any more segments after one that starts at position
non javadoc see org eclipse emf ecore xmi xmlresource xmlmap add org eclipse emf ecore enamedelement org eclipse emf ecore xmi xmlresource xmlinfo
non javadoc see org eclipse emf codegen merge java facade ast astjnode remove org eclipse emf codegen merge java facade ast astjnode
if we get to this point we need to resolve relative path rfc
create key from key bytes
adapter factory model it provides adapter createxxx method each class of model see org eclipse emf codegen ecore genmodel genmodelpackage generated
list sublist estructuralfeature feature int from int to elist list estructuralfeature feature
classeisset override javajetinc
this must have no fewer segments than prefix since prefix not root absolute path its last segment empty all others must match
create new field and replace it all by original contents
fill of value byte fill of value byte fill of value byte
if this hierarchical uri reference and prefix prefix of it returns portion of path remaining after that prefix has been trimmed null otherwise
encodes complete uri optionally leaving characters unescaped when beginning valid three character escape sequence we can either treat first or as fragment separator or encode them all
returns character encoded by followed by two given hex digits which always xff or less so can safely be casted to byte if either character not hex digit bogus result will be returned
check scheme rfc if we found scheme it means absolute uri so we 're done
if scheme specific part opaque it can contain and uric no slash n't modified by rfc which 've interpreted as error in spec since production should be equivalent to uric '' and uric contains and mrglavas
returns shortest relative path between non relative path of given base and this absolute path if base has no path it treated as root absolute path
validates all of uri components factory methods should call this before using constructor though they must ensure that inter component requirements described in their own javadocs all satisfied themselves if new uri being constructed out of existing uri this need not be called instead just new components may be validated individually
there no match if types different and they do n't each specify same non null instance class name
interpret it as part of name
string must contain inappropriate whitespace so find index first difference
when used as generic super type there must be classifier that refers to class
do n't complain about literals if they same as names and names collide
encodingmap convenience class which handles conversions between iana encoding names and java encoding names and vice versa encoding names used in xml instance documents must be iana encoding names specified or one of aliases those names which iana defines common name use this name in xml files name type xerces converts to this java encoder name bit unicode utf iana utf iso latin iso mime iso iso latin iso mime iso iso latin iso mime iso iso latin iso mime iso iso latin cyrillic iso mime iso iso latin arabic iso mime iso iso latin greek iso mime iso iso latin hebrew iso mime iso iso latin iso mime iso ebcdic us ebcdic cp us iana cp ebcdic canada ebcdic cp ca iana cp ebcdic netherlands ebcdic cp nl iana cp ebcdic denmark ebcdic cp dk iana cp ebcdic norway ebcdic cp no iana cp ebcdic finland ebcdic cp fi iana cp ebcdic sweden ebcdic cp se iana cp ebcdic italy ebcdic cp it iana cp ebcdic spain latin america ebcdic cp es iana cp ebcdic great britain ebcdic cp gb iana cp ebcdic france ebcdic cp fr iana cp ebcdic arabic ebcdic cp ar iana cp ebcdic hebrew ebcdic cp he iana cp ebcdic switzerland ebcdic cp ch iana cp ebcdic roece ebcdic cp roece iana cp ebcdic yugoslavia ebcdic cp yu iana cp ebcdic iceland ebcdic cp iana cp ebcdic urdu ebcdic cp ar iana cp chinese prc mixed byte gb mime gb extended unix code packed japanese euc jp mime eucjis japanese iso jp iso jp mime jis japanese shift jis shift jis mime sjis chinese big big mime big extended unix code packed korean euc kr mime iso kr cyrillic koi mime koi author tamura kent ibm author andy clark ibm
ca n't have both classifier and type parameter
add userinfo characters
type parameter must be in scope and must not be forward reference
ignore trailing whitespace
incorrect number of type arguments
have no arguments when they allowed only warning
ca n't have both upper and lower bound
non javadoc see org eclipse emf ecore xmi xmlresource xmlmap getclassifier java lang string java lang string
wildcards only allowed in type arguments
non javadoc see org eclipse emf ecore xmi xmlresource xmlmap getfeature org eclipse emf ecore eclass java lang string java lang string
ca n't have type arguments unless there classifier
ca n't have classifier or type parameter as well as bounds
can only have bounds when used as type argument
removeadd action bar from view so to avoid having empty action bar participating in view 's layout calculation and maybe causing empty bar to appear
mappingpackage epackage complextypeconverter msg getnotifier epackagemapping
we test their relationship either via them both being classes
when pane or any child gains focus notify workbench
if same then it bounded properly
namespace context
this topdown feature
arguments type parameters lower bounds and upper bounds must be equal type arguments
set up substitutions of any type parameters this class has with respect to type arguments them
ignore leading whitespace
determine if there bounding generic super type
if there upper bound bound must bound it
create new array
test if there type parameters that might require substitution
new declaration will not have fragments until performsplit called
if there type parameter one of its bounds must be bounded by bound
add leading comments
if generic type wildcard it ca n't be bounded by another wildcard
failing all those cases there must be lower bound that bounds it
if there lower bound type argument must bound it
starting traverse file and build unit tree and table info
if one null but other not then they ca n't be equal
if they both n't null
create ok and details buttons
if they same classifier they of course equal
if one null but other not then they not equal
if they same instance they equal
go through commands of list
index should be
define class loader that looks up classes using urls or parent class loader and failing those tries to look up class in each bundle in running jvm
ecoreadapterfactory
add keyvalue pairs to output string
public list sublist int from int to return featuremap sublist getestructuralfeature from to
extended meta data to be created
reverse test
iterate over mappings in tree
entrycursor
do n't cache this one as it will cause leaks because to dynamic demand created document roots and demand created eclasses
adapter factory model it provides adapter createxxx method each class of model see org eclipse emf mapping mappingpackage generated
reset text edits since this node processed successfully there no need to revert these changes
eenumimpl overrides this to do nothing only case that special when more specific instance of abstractenumerator generatedreused
this forces feature ids to be assigned
interprets escaped characters within string according to java literal rules with two exceptions unescaped does not terminate string and not followed by or octal digit taken literally not as error
we can use eobjects and enumliterals
standalone base valid uri according to spec
this needed internal bootstrapping of egenerictype 's default value erawtype it 's simply not available before ecore constructed so we make it available and then patch what 's missing
replace some arguments by another field names constants
public
continue with unresolved uri
all implementations of java should support aes
jetnature setjavasourcecontainer newjavasourcecontainer
enum constants insert line break after comma if there anything after comma
non nls non nls non nls non nls non nls non nls non nls
insert new line at end of previous constant
if needed comment out comma of previous enum constant
removejava ianamapping
make sure that we see only digits and dot separators that any dot separator preceded and followed by digit and that we find dots rfc amended rfc by replacing definition of ipv address with one defined by rfc mrglavas ipv address digit digit digit digit one to three digits must be in each segment
create map of public static final field initializers to fields
this should be same as logic in resourceimpl geteobject string
query starts with \? and up to fragment or end
if there comment with start position rangestartpos
prepare createchild item addition or removal non nls non nls
iterate over owner list twice first matching objects from collection by identity then matching objects by value equality equals positions of matched objects in owner list recorded and objects stored in same order lists then merged to form final in order list of objects and corresponding indices in ownerlist this very important undo to interpret indices correctly also this yields exactly one object removed each object in collection with preference given to identity over value equality
next line leaves objectsbeforeapply with all objects that added during last recording
closing detail area
define gradient blue to widget background color
lastcursor prepared
callers that plan to use this name without appending suffix should call safename getname to make sure its not keyword this safe guaranteed uncapitalized form of name safe name and cast to eobject if necessary
create editing domain with special command stack
validate now since call we make after will skip validating
count up objects that will be removed objects exchanged to produce this list 's order
field declarations use variable declaration fragments instead
convert only public static final fields
container class must be null open content features of document root to ensure that they looked up in actual eclass rather than assumed to be feature with feature id relative to actual class otherwise it 's good to have this optimization
if plugin properties n't within root of archive create new uri folder location of archive so we can look in folder that contains it
we do n't create iterator stack until root mapping itself has been returned by next once after that stack should be non empty and top iterator should yield true hasnext
demand created created packages we allow list of classifiers to grow so this should handle those additional instances
ensure that this touch notification so to resource n't marked as dirty
demanddocumentroot epackage
menumanager insertbefore additions new separator schema actions menumanager insertafter schema actions generateschemaaction
generateschemaaction setenabled generateschemaaction isenabled
public list sublist estructuralfeature feature int from int to return null
undo preparation next and continue
if we ca n't create one too bad
simpler implementation that sets range of any node to be node and all preceding comments public sourcerange computesourcerange astnode node sourcerange range new sourcerange node getstartposition node getlength range extendrangebackward findleadingcomment node getpreviousnode node false range return range
handle last byte at end
create jnode and set properties
if first object null second object must be null
suppress default constructor noninstantiability private ecoreutil
list thelist new java util arraylist protected list delegatelist return thelist
method created to increase performance of regular expressions by reducing length of string that matched
failure to resolve ignored
depending on action and current state we 'll toggle state unset we need to turn it off if it 's on and set we need to turn it on if it 's off
skip dummy null object and test again
generatemenumanager add new separator schema actions generatemenumanager add generateschemaaction
if we on special resource set iterator and there n't really next object at this point
finds next occurrence of one of characters in set represented by given bitmask in given string beginning at index index of first found character or length if there none returned before searching limited to range length
then eobject must be that previous match
create move commands all objects in collection
we know first object n't null so if second one it ca n't be equal
some character classes as defined in rfc 's bnf uri these bit bitmasks stored as two longs where nth bit set iff ascii character with value included in set these created with highbitmask and lowbitmask methods defined below and character tested against them using matches
if eobject and eobject same instance
look first non xmi element
check all values
assume from now on that they match
match them and return true
if they do n't have same size feature maps n't equal
value used to suppress visibility
values must be java equal
if this feature map
if first value null second value must be null
neither eobject nor eobject have been compared yet
since first value n't null if second one they n't equal
if it in resource form uri relative to that resource
there no reason they n't equals
compare entries in order
if values n't java equal feature maps n't equal
equalityhelper
clockseq hi
node identifier already in network byte order so there no need to do any byte order reversing
set most significant bit of first octet to so as to distinguish it from ieee node addresses
if it 's proxy use that
we just woke up
wait so that clock can catch up and time adjustment wo n't overflow
time hi
time mid
ignore if we ca n't freeze
this case can only happen if we reset to mark and we 've got lots of xmlns attributes to write
throws saxexception
this cheapest and most common case
fall through
if there temporary file
system err println add newstring
deresolve all uri against current base uri
javadoc copied from interface
fall through
external schema locations should only be processed once in subsequent parse there no need to process those again
emof isreadonly ecore changeable
saxxmihandler
ecore changeable emof isreadonly
ignore whatever set before
handler ignorablewhitespace ch start length
try to resolve proxy locally
if we pessimistic then we need to undo all commands that we have executed so far
and find one that holds this proxy
implement entityresolver methods
implement dtdhandler methods
overwrite defaulthandler methods
if resolved object does n't contain reference to proxy holder as it should
we wo n't need to process this again later
compute holder of proxy
move resolved object to right place remove proxy and we 're done
eatm temporary debug purposes only
proxy needs to be replaced in way that updates both ends of reference
implement lexicalhandler methods
at least set references that we able to resolve if any
we wo n't need to process this again later
set up deferred extent so document root we create definitely will not be added to resource
eatm demand create metadata
check simple feature
process new root object if any
remove document root 's information from top of stacks
if externalschemalocations specified process these ones as well
place time into byte array in network byte order
time low
if command executable record and execute it
new root object actual new object since all sign of document root will now have disappeared
handle namespaces
this check redundant see handlefeature method el
ignore whitespace only text entry at beginning
try to get general content feature use pattern that 's not possible any other way
this handles case of substitution group
this case local unqualified element that has been bound
we use null here instead of because attribute without prefix considered to have null target namespace
this only works old globally registered things
ignore it if we ca n't find it since we 'll fail anyway
extend array if necessary
ignore since we expect this to fail because of early termination and if there some other kind of failure then we 'll simply not be able to match content type
entry entry new entry eobject containing feature return estructuralfeature map get entry
index of writing point index of processing point
class attributesproxy
use pool to retrieve parser
xmlresource getresourceset getresources addall generatedresources
traverse element node
record duplicate declaration given prefix
release parser back to pool
record namespaces in scope
do n't read encoding rely on xml parser to provide one via locator
create simple any type wrapper attribute value and use that with ereference
true if seen xmlns declaration
handler resolveentity publicid systemid
xmlload
saxxmlhandler
if we substituting eattribute ereference
once we see lookup of element in null namespace we should behave as if there has been explicit xmlns
there really must be package
any content prefix to uri mapping could be in namespace context
sort and eliminate duplicates caused by having both regular package and demanded package same nsuri
recording first declaration given prefix
make sure that list will appear to be set to be empty
record default ns declaration as duplicate if seen qname or seen xmlns
since xmlns default declaration remove empty uri mapping
push context
resize array if needed
find uri in current context
bind prefix to uri in current context
prefix not found
set parser features and properties
uri not found
caching turned on by user
dom serialization
look matching element in specified packages if there any
look substitution group feature in classifier 's containing package
set serialization options
xmihandler
look substitution group feature in additional packages
getdeclaredprefixat int string
process super types if that 's been specified
entities n't supported dom
if there no field then we ca n't do this
value outputpos
process xml attributes
since cycle detected by checking if we hit this again after many iterations we 'll call this method recursively in case we started with something that n't part of cycle but later traversed up to cycle
ecore xmlresourcefactoryimpl
this root element
performance reasons savenil and saveelement not used
process xml elements
every codepoint supported
normal bmp unicode code point see if we know fact that encoding supports it
we will use xmi extension element these
ownedproperty \? \? \?
first try to see if this package 's implementation class has einstance
go back and add all xmlns stuff
helper part assumes that summary likely based on helper and will change when helper set
create dummy documentelement
avoid function call
write doctype
convert to line separator
assume class n't available
system err println do sorting this ranges length
boolean not
register default options
no property no property
eannotations denoting specific emof elements serialized as their emof elements other eannotations serialized as xmi extensions
xmi id xmi xmi xmi type xmi version xmlns xmi
token closure
xmlnamespacefactory
xmlnamespacedocumentrootimpl
convert target node to compatible node
xmlnamespacefactoryimpl
xmltypepackage
processinginstructiontype
simpleanytype
ret next null
do n't create anything
xmltypefactoryimpl
do not validate on load check validity using diagnostician
xmltypepackageimpl
other escaped character
system err println starts at index
documentrootimpl
skips characters between and line end
skips white space
switch anchor type
system err println debug matchend matchend
system err println non match in fixed string search
internal use only always matches line beginnings
optimization against first character
system err println debug with firstchar matching this firstchar
case ret break
closure question
op char
cf mn mc
performs escape encoding on given string so that it can be represented using byte characters any characters higher than xff replaced with escape of form uxxxx where xxxx four digit hex representation of unicode code point
this fixedstring
this pattern has fixed string of which length more than one
modifierop
mc
public parseexception string mes this mes
system err println creates unionop
legacy word characters
range nrange
not overlapped src sub res reuse sub
bff
this page table viewer
system err println token substractranges entry this ranges length tok ranges length
overlapped src src src src src
src sub res reuse src res
system err println token addrange start end
src sub res reuse sub
not overlapped src src
union
src src res reuse rest of src
src src res reuse src
not overlapped src sub
union
count all bits in bit patterns up to this one in sequence of bit patterns
in character class this chardata has one character that to say pair of surrogates composed and stored to this chardata
load resource through editing domain this will create context and associate it with resource set
handle category escape
this setlocale locale
skips
\?
through down
one object in resource 's extent should be root object
conditional this offsets points next of
options
tok token createconcat tok this parsefactor
or \?
create message
parses yesno patterns
this offset points next of
parses condition
\? \? \? modifiers
such as \?
min max
separate fields with empty line
this offset next of
save resource to file system
set value at previously allocated index and return previous value there
if there cached result return it we expect that if package set to be proxy code in epackageimpl esetproxyuri override will have cleared this value
really \?
ecore xmladapterfactory
if we turn package into proxy ensure that child classifiers clear their cached container
if not shorthands here no
it not bug
update workbench 's knowledge of file 's contents
ff
we can not optimize
infinity
when this child getmaxlength this returns minus value
blocknames in unicode that supported by xml schema rec
ff
ff
af
this page table tree viewer
skip if there 's equality filter and values n't equal
bf
methods matched by process that does n't consider parameters
ff
look annotation with matching source
we ca n't find class so we do n't want this class loader but instead want last result that able to load class
do n't push method annotations into redirected methods
create resource this file
this just notifies those things that affected by section
ff
ff
cff
ensures that this editor will only display page 's tab area if there more than one page
ff
eff
dff
ff
fff
ff
cf
af
fff
eff
ff
ff
eff
search local scope resolution of type parameter name
ff
create source and target jcompilationunit
set instance type name instead since that will also set instance class name but this way will make undo restore current instance type name correctly
ff
ff
you can only add type arguments if there type parameters not yet used up
only if you contained by generic type can you have bounds and only if there no classifier or type parameter and in that case lower bound returned only if that 's one that 's set
apply changes using astrewrite
bf
do n't use normal reference copying eopposite
write signature that will be obviously corrupt if binary contents end up being utf encoded or altered by line feed or carriage return changes
if list empty we need to add all objects otherwise reference bidirectional and list at least partially populated
if input stream ca n't be created ensure that resource still considered loaded after failure and do all same processing we 'd do if we actually able to create valid input stream
apply additional edits like replacing or commenting out nodes
fdf
build list of keys
do extent processing that should have been done root but actualljy done document root
bf
replace existing insertedit at this position case when previous node ends at same position that current node starts at
ff
feff feff
ac
reserve place to insert xmlns declarations after we know what they all
ff
fe fe
cf
ff
fff
fe fe
create and try to add dummy edit to find replaceedit this should be faster than lookup since underneath of addchild binary search used
faff
ff
fe fe
fb fb
pm pm pm
fa
ff
ff
all characters
if we 're creating child under object in feature map selection will be feature map entry we want to replace it with model object
missing private use add manually
xx
exit this loop
assigned
add it to list and remove it from other list
doing this just makes focus go to default control not control that last has focus super setfocus
commands should operate on values not their wrappers if command 's values needed to be unwrapped we 'll back get new commandparameter
synchronized if null
lu ll lo
lu ll lo nd
subraction
hangul medial and hangul final extras
this concat and new child concat
base char \?
replace previous token by string
system err println merge previous and tok
crriage return
backsolidus
line feed
if not shorthands
if at last position of group
here no
single range
return actucal char
horizontal tabulation
recursion
found this from to token \? \? skips
add binding to provided hash table
create copy
should never happen
if we did n't find authority we need to back up attempt to match against abs path next
lu ll lo nd
check if we found resolution it
otherwise recursively call ourselves to substitute it in context if necessary
unassigned
add back in array indices if there any
one pad cq pad
just import name or use it directly
build table of pi values
fe fefe
check if host valid ipv reference
aff
load model and if it 's not one already considered local version in workspace process its genpackages
check if they pad characters two pad pad pad last bits should be zero
ff
iviewpart view getviewpart titlelabel settext view gettitle titlelabel setimage view gettitleimage
if we do n't already have it try to get source early we ca n't give feedback if it 's not available yet this platform dependent
adding new aliases as proposed in
form integral number of bit groups
this implementation changed to not introduce multi line content
getiana javamapping string string
encodeddata encodedindex xa
should be divisible by four
remove white spaces
add support cp and its friends
this came from trial and error yielding decent results on all platforms it should be consistent with activate
count characters that 's not whitespace
no pad cql
proposed addition see above details
format validation this class encodesdecodes hexadecimal data author jeffrey rodriguez
give up if we could n't create command otherwise use commandactiondelegate to set action 's text tool tip icon etc or just use default icon
titlelabel setbackground null null titlelabel setforeground null
add ascii letters
presence of host whether valid or empty means double slashes which means generic uri
removeiana javamapping string string
putiana javamapping string string
add ascii digits and ascii hex numbers
rfc added and as reserved characters
revisit cns euc tw \? iso cn \? iso cn ext \?
class encodingmap
public static methods
set rewriter on new node
add path characters
add scheme characters
add reserved characters
add mark characters
just use null
authority will be everything up to path query or fragment
find insertion point from returned result insertion point commentindex index of first element with end position rangeendpos
get all but last segment of base uri path
check absolute path rfc
assume min
userinfo everything up to
remove all where complete path segment
through down
append relative uri path
port
remove if path ends with as complete path segment
host everything up to last or up to and including if followed by
userinfo can contain alphanumerics mark characters escaped and ''
check if host well formed
check that userinfo well formed if it exists
points
\?
scan path abs path path segments rel path rel segment abs path
scan opaque part opaque part uric no slash uric
fragment starts with
check that that there no more than three digits in this segment
hostname domainlabel toplabel domainlabel alphanum alphanum alphanum alphanum toplabel alpha alpha alphanum alphanum
constants
rfc labels must be characters or less
domain labels can contain alphanumerics and but must start and end with alphanumeric
registry based authority
check if string potential match ipv reference
fill of value byte
check that this segment not greater than
address must contain bits of information
fill of value byte
scan hex sequence before possible or ipv address
hgd firenotifychanged msg getnotifier msg geteventtype msg getfeature msg getoldvalue msg getnewvalue msg getposition
trailing zeros will fill out rest of address
scan hex sequence after
this could be
which ascii characters need to be escaped
there can be at most hex digits per group
non ascii character make it positive then escape
each byte
we saw some non ascii character
if encoding happened create new string otherwise return orginal one
paint over selected padding spaces with background colour on gtk whole item not just text selected so we do n't do this
each character in anyuri
isvalidname string boolean
fill of value byte fill of value byte
fill of value byte fill of value byte fill of value byte
fill of value byte
fill of value byte fill of value byte
fill of value byte fill of value byte
hgd firenotifychanged msg getnotifier msg geteventtype msg getstructuralfeature msg getoldvalue msg getnewvalue msg getposition
mappingpackage epackage functionnamepair msg getnotifier epackagemapping
fill of value byte
fill of value byte
fill of value byte
ecore or something that explicitly extends it we need to exclude eobject which already handled by default case
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
fill of value byte fill of value byte
we assume that rootextendsclass already implements it
fill of value byte
there needs to be another url protocol right after archive protocol and not
fill of value byte
fill of value byte
fill of value byte
there anything else but comma after constant insert line break
fill of value byte
when object controlled only change will be in new resource 's contents so it must refresh whole viewer to hit object 's label
fill of value byte fill of value byte fill of value byte
since enum constants separated by commas they should always have default range we can not extend their range or reduce it
fill of value byte
fill of value byte fill of value byte
hgd firenotifychanged msg getnotifier msg geteventtype msg getstructuralfeature msg getoldvalue msg getnewvalue msg getposition
hgd firenotifychanged msg getnotifier msg geteventtype msg getstructuralfeature msg getoldvalue msg getnewvalue msg getposition
stop if next item will be out event bounds event bounds values also misaligned on gtk
check if given node should use default range node removed or extended range surrounding nodes removed
fill of value byte fill of value byte fill of value byte
hgd firenotifychanged msg getnotifier msg geteventtype msg getfeature msg getoldvalue msg getnewvalue msg getposition
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
fill of value byte
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
fill of value byte fill of value byte
fill of value byte fill of value byte
fill of value byte
fill of value byte fill of value byte
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
fill of value byte fill of value byte fill of value byte
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
fill of value byte fill of value byte
fill of value byte
go directly to right entry in zip file get stream and wrap it so that closing it closes zip file
fill of value byte fill of value byte fill of value byte fill of value byte fill of value byte
build list of wrapped children from appropriate adapters
parse as attributevalue
fill of value byte fill of value byte
firenotifychanged msg getnotifier msg geteventtype msg getfeature msg getoldvalue msg getnewvalue msg getposition
if this entry n't end marker and n't matching one that we replacing
fill of value byte fill of value byte fill of value byte
as
simple cases no mix ins no inheritance or single base class
fill of value byte
mix ins everything after base class
this in out feature
strips escaped white space
try to transfer it by reading contents of temporary file and writing them to output stream of delegate
if this class has mixed content mixed feature should always be included even if inherited and come first
fill of value byte fill of value byte
add all other create child features that this item provider responsible
fill of value byte fill of value byte
either execute or redo command as appropriate
fill of value byte
isspace int boolean
fill of value byte
fill of value byte
fill of value byte fill of value byte
fill of value byte
skip over command that threw exception
this out in feature
ismarkup int boolean
only return feedback executable command
iscontent int boolean
this kind of tricky if saveindex in redo part of command list which has now been wiped out then we can never reach point where save not necessary not even if we undo all way back to beginning
fill of value byte fill of value byte fill of value byte fill of value byte
isinvalid int boolean
fill of value byte fill of value byte fill of value byte
isvalid int boolean
isncnamestart int boolean
return whether there list value in list and index in range
isname int boolean
replace arguments that match name of fields with initializer value of field
isnamestart int boolean
isvalidianaencoding string boolean
isncname int boolean
encodings
name letter namechar
ispubid int boolean
nmtoken namechar
from namespace rec ncname letter ncnamechar
isvalidncname string boolean
set range so that we re check when we get into other half
order constants
class xmlchar
interface typevalidator
if this looks like feature getter kind property will allow it to be recognized properly
indicate that initializer has been changed required to not overwrite initializer if variables split later
remove from by position in reverse order
keep comments between nodes when removing or moving nodes
type parameter casts ca n't be checked
break cycle
this ensures that we dealing with actual mof objects
if character in range return its int value otherwise return
actionbar setbackground workbenchcolors getsystemcolor swt color widget background systembar setbackground workbenchcolors getsystemcolor swt color widget background
ecore xmlswitch
check whether there opposite that needs attention
remove all where complete path segment not equal to
byte automatically widened into int with sign extension shifting this can introduce 's to left of byte which must be cleared by masking before looking up hex digit
buttoncomposite has to be first child of composite because subclasses expecting this
this to handle genmodel produced by rose genmodel
if object input or output object then use it
process children recursively
fill of value byte fill of value byte
common to all uri types
remove variables since plugin xml should provide complete path information
look single char work delimiter
simpleanytypeimpl
oldwidth table getclientarea width
lower cased schemes that will be used to identify archive uris
special segment values interpreted at resolve and resolve time
consult generator option backwards compatibility
optimize performance of applying import regular expressions locating last import line
do n't do replacement if we just did one or if previous line ended with semicolon
do n't do replacement if previous line ended with comment
returns upper half bitmask all ascii characters in given string
we ca n't undo it so we 'd better give up
if path n't within root of archive create new uri folder location of archive so we can look in folder that contains it
platform resolve does n't work if project encoded
there must be at least one archive path
there should be at least one archive separator per scheme
parse to extract archives that will be delegated to nested url based on number of schemes at start
skip scheme archive accessor to be handled directly here
create delegate url
cutoff point to next archive
missing specials add manually
construct input stream in special efficient way case of file scheme
just get stream from url
name to be used entry
skip over this archive path to next one since we handling this one special
loop over archive paths
entry name to be matched
wrap input stream as zip stream to scan it 's contents match
skip to next archive path and continue loop
create delegate url
record input and output streams closing in case of failure so that handles not left open
most deeply nested output stream that will be returned wrapped as result
buffer transferring archive contents
name that will be used as archive entry
wrap current result as zip stream and record it loop based recursion
loop over entries in zip stream
transfer entry and its contents
find next archive path and continue recursively if there one
get java literal expression value
create no entry since we deleting and return immediately
ensure that it wo n't be closed in finally block
result new xmlresource xmlinfoimpl result setxmlrepresentation xmlresource xmlinfo unspecified
wrap deepest result so that on close results finally transferred
make sure we close only once
close real so that temporary file ready to be read
make sure they closed no matter what bad thing happens
close in case of failure to complete
close if we created this
if there some
termination guard in body
otherwise produce expression that uses appropriate factory to create value from literal
src sub res reuse src right res
if location indicates after add one more
now best time to record isundoable because later we would have to do all executes again this makes canundo very simple
if we ca n't execute this one we just ca n't do it at all
most recently processed command will never have been executed
we want to unroll all effects of previous commands
iterate back over executed commands to undo them
clear list past top
if this owned object one from collection
oldvalue owner eget feature
record successfully executed command
extend to include comment at same line as position if there nothing between position and comment
note that string place holder adjusts indentation to correct this trackandreplace method used below
this forces issaveneded to always be true
only if we at remembered index do we not need to save return top saveindex
clear list
iri iri containsnonascii segments
remember where we now
this default return value
valid query may be null or contain any allowed uri characters
compute generatordata given object and its children then parents of given object
if base package n't set but there parent package us it 's information instead
xmltypevalidator
mappingpackage epackage complextypeconverter object epackagemapping
xmltyperesourceimpl
ensure that map ecore not repeatedly populated and that property maps to ereference rather than eattribute
iterate forward over undone commands to redo them
this ensures that these useless state variables at least reflect right value
copy to list and allocate positions
give all generator adapters chance to do tear down
ignore derived features
end setting whole list
if we n't simply removing all old values
determine values that will remain and move them into right order if necessary
if there values to remove append command them
look through all references
feature attribute of owner
do n't set type if it 's already set
value null
add collection
get owner 's meta object
value null oldvalue null remove owner from old value and unset if necessary
classifier of references 's generic type must be class
value null oldvalue null simple setunset will suffice
specify exact parent of annotations
if there owner
value null oldvalue null need compound command to remove owner from old value and add it to new value
value null oldvalue null add owner to new value
consistency we always set container relations from container end
to we can directly create setcommand
make sure container not being put into contained object
we can try to do drop on instead
current document reference use base path and query
if must be of this type then
string getcappackageid includes features in other packages that delegate to those in this one
if other end single then we should unset owner from old value 's opposite feature so that undo will put it back
if any objects matched
returns package in which this feature defined returns name of feature get method in package interface company name returns name of feature get method in package interface xyz einstance getcompany name
either set or unset feature
it must be unsettable feature to be null and considered set
set bounds so that we re check when we closer to middle
if it 's feature map we 'll need to validate entry feature and enforce its multiplicity restraints
either set or unset old value
we 'd like owner selected after this undo completes
check that object n't already in unique list
check type of object
check each object
remove collection from list by index
if we could do drop insert operation
if one null they 'll all be null
possible scope changerecorder
if location near boundary we 'll start by trying to do drop insert
boolean isgenerateeditplugin boolean isgenerateeditorplugin
if there n't something obviously wrong with arguments
we 'll default to this
create commands to create copies of children
prepare right type of operation
feedback set based on which half we in if command n't executable these values wo n't be used
we 'll always be wrong these arguments so do n't bother re checking
we near middle so we 'll start by trying to do drop on
we can reset and try drop insert instead
if we can do drop on operation
try to create specific command based on current desired operation
when we match owner we 're done
if we ca n't determine parent
if dragged objects share parent
this name of model
and add copy
copy collection
we do n't want to copy insert object before or after itself
just remove objects and add them
if optimize if collection
this can execute if there owner list and collection and owner list contains all objects of collection
if we ca n't set collection try setting use single value of collection
add value back in right place
determine if operation executable
clean it up
set range so that we re check when we get n't in middle
if operation has changed significantly
reset as in constructor
thread dumpstack
remove collection of replacements
only return operation executable command
just return cached result
insert collection at right place
make sure each object conforms to type of feature
extent allows anything to be added
record position of value in owner list
set bounds so that we re check when we get near other end
we 'd like replaced selected after this undo replace completes
set arguments again
create strict compound command to do copy and then add result
we need to check canexecute here in case prepare went down optimize path
this will actually execute copy command in order to check if add can execute
create command to copy clipboard
this will determine canexecute as efficiently as possible
create proxy that will create add command
record index
remove object from collection and add it to equality list
always include fragment even if null no validation needed since all components from existing uris
remove object from collection and add it to identity list
if either list empty result simply other
we 'd like owner selected after this remove completes
merge lists
object iterators
allocate list and array objects and indices
second pass match by value equality
create view form control new viewform parent getstyle
this will execute createcopycommand 's and then call canexecute on initializecopycommand 's
create commands to create copy object
record it execution
create initialize copy command each of created objects
if there column object just convert it to string
this will call prepare which will partially execute command
create command to create copy of object
if command has no owner specified
if owner parameter set we delegate to owner 's adapter
if there adapter of correct type
functionnamepairimpl
does this part provide editing domain \?
actionbar setbackground workbenchcolors getactivegradientend systembar setbackground workbenchcolors getactivegradientend
mappingfactoryimpl
remove and dispose any wrappers remaining old children
complextypeconverterimpl
mappinghelperimpl
set mapper to build xsd ecoremappingroot if available
we will iterate over whole collection removing some as we go
mappingstrategyimpl
treeswitch
take first object and remove it
get next object and check if it has same parent
parent null which implies top level removal so create self removing command
we will now create command with this implied parent
remove object and add it as sibling
protected object labelprovider
if no object specified but existing sibling object its parent
return getdefaultvalue attribute getetype
if any children added or removed reset indices
this uri handler redirect uri based on mapping
this handles istructuredselection
we need to check canexecute in case optimize true
add in additional wrappers to search
computes three character escape sequence byte appending it to stringbuffer only characters up to xff should be escaped all but least significant byte will be ignored
if there objects to populate
fill in result array with labels and re populate original list in order
no color good default
no font good default
otherwise we could check that adapter implements interface iitemfontprovider
returns true if this uri contains non ascii characters false otherwise this unused code included possible future use
public string getupdateabletext object object
iterate over all set feature to factor each child to right reference
check that value type compatible with entry feature
functionpairimpl
when value changed property sheet page does n't update property sheet viewer input before refreshing and this gets called on obsolete wrapper so we need to read directly from model object return needsencoding feature \? encode string getentryvalue getentryvalue
mappingpackage epackage mappingroot msg getnotifier epackagemapping
if last object deleted and selection in property sheet view obsolete wrapper will reference past end of list
fill in array with labels
resourceset resourceset resourceset object childrenfeatures add resourcepackage einstance getresourceset resources
first try existing implementation of getchildreference this provides backwards compatibility if that method now deprecated overridden
use existing getreferencevalue override
if this object compatible with this reference
get index into list via this call to super
find index of feature containing sibling or equivalent value in collection of children features
mappingpackage epackage functionnamepair object epackagemapping
xmltypefactory
add child descriptors contributed by extenders
set index of object value in list via this call to super
build collection of new child descriptors
if we can open input stream then plugin properties there and we have good base url
each commandparameter with non null multi valued structural feature
ensure there no extraneous style bits
anytypeimpl
assign default style bits if necessary and ensure none conflict
spacetype
xmlnamespacevalidator
find insertion point from returned result insertion point commentindex index of first element that has start position rangestartpos
otherwise if sibling feature found iterate through children features to find index of child feature
iterator over all child references to factor each child to right reference
if child feature follows sibling feature child should be first in its feature
subclasses may override to add descriptors
xmlnamespacepackageimpl
if there no groups defined or matched but whole pattern matches then markup nodes with pattern name
this child in this feature
on motif selection color may be set as background
this object in this feature
returns help context id this property
restore original resource uri values
if all objects used up by above then we ca n't do command
create command to set this to null and remove object from other list
it 's just single value
consume rest of appropriate children
suffix can actually be substitution pattern package name
correct index if necessary
create command this feature
compute relative index as best as possible
create command this feature
continue to next case
dispose child wrappers
all this logic so that we only create list if adapter set to more than one target
xmlnamespacepackage
we can enable action as indicated by command and we can set all other values from command
if we have resolved to eclass but we have eattribute we can change it to be ereference
treeadapterfactory
unwrap value
if adapter factory composeable we 'll adapt using root
if new collection allocated continue to populate it
create rewriter to record changes
treenode
delegate action this object to editing domain
draw extra first column image
if table indenting draw tree lines
private final boolean iri private uri cachedasciiuri
this label feature \?
case resource resource modified case resource resource loaded case resource resource tracking modification case resource resource resource set
this containment reference child \?
this ensure that this package itself traversed even if reference type eobject
or feature map child \?
overlay if resource target any controlled objects
do n't include controlled children here they 'll show up under their container
resource resource resource object childrenfeatures add resourcepackage einstance getresource contents
treefactoryimpl
treepackage
treenodeimpl
if we have good editing domain
treepackageimpl
this guard extra security but should not be necessary
we will only deal with structured selections
if there new one
super collectnewchilddescriptors newchilddescriptors object
use up command note that notification will cause new command to be created
treefactory
no point in keeping garbage
we just ca n't do it
fill with background
only handle structured selections
add edit menu actions
try to get editing domain from workbench part
show colourless image
if we found editing domain create command
convert selection to collection of selected objects
allocate new collection and populate it up to this point
if editing domain n't given by workbench part try to get it from selection
add our standard marker
if first wrapped value found
use up command
mappingpackage epackage functionpair object epackagemapping
we use multi even single line because we want to respond to enter key
remember requested operation
if there delegated features add only those that n't already in this package to end of list
grabhorizontal true
mappingpackage epackage functionpair msg getnotifier epackagemapping
add our other standard marker
clear source data we wo n't need this again since if it available it 's already in command
ensure that all proxies resolved so that references into controlled object will be saved to reference new resource
cache tree path each object
dropdown addlistener swt paint dropdownlistener
this here only to support deprecated adapt object rather than adapt object interface class supportedtypes add null
seteditor null null
event null when featuretableviewer double clicked
event null when choicetableviewer double clicked
this should be consistent with paintcontrol
supportedtypes add iupdateableitemtext class
draw effect on right side button
draw outline
fb \? \? \? \? \?
draw down arrow offset if dropped
draw background of right side button
non javadoc see org eclipse jface window window configureshell org eclipse swt widgets shell
this helper feature
execute it
if so revalidate command
draw text
if command can execute
command created if source available early and information used to create it cached
if we ca n't do anything else we 'll provide default select feedback and enable auto scroll and auto expand effects
this typemapping feature
clean up state
otherwise let 's call whole thing off
clear out any old information from previous drag
recreate command
check if cached command can provide dnd feedbackrevalidation
fix
create composite
remember target create command and test if it executable
keep track of any changes to command information
we not generating manifest file if plugin xml exists
if we do n't have previous cached command
if this command can provide detailed drag and drop feedback
do this here because setting text will set enablement on ok button
if not dispose current command and create new one
use it operation and drag under effect
functionpair
transfer data and convert structured selection to collection of objects
check whether current data type can be transfered locally
transfer data and if non null extract it
iterate over data types to see if there data type that supports local transfer
if there no old input then we must be providing content this part first time
griddata grab vertical
walk project looking java files to analyze
case notification touch
set input to widget
islabelupdate
previously we never updated viewer on resolve now we post and merge it as appropriate
firelabelproviderchanged
we ignore non changes now
if index previously assigned return it otherwise return negative result that encodes newly assigned index
add dummy genmodel referenced packages
escape string that will terminate comment in which this will all be nested
we set it and get back interned string this way when instanceclassname instancetypename we know we should serialize only class name
we also need to set it on any genmodels holding any used or static packages that may be refered to
private static final long scheme char hi alphanum hi highbitmask private static final long scheme char lo alphanum lo lowbitmask
\? \? \?
create model project
determine which projects will need to be referenced
no property no property no property
create resources all root epackages
class not available
nested genannotations
removing first space
subclasses may overwrite
handle application genmodel stub
create resources all referenced epackages referencedepackage local instance of realepackage we will add former to resource that has same uri of later
initialize genmodel with all computed data
now we should sort
compute closure
arrays consider element type
convert reference to attribute if its type edatatype
clean up temporary container annotations holding map entry classes until they sure needed
now we need to hook up opposites by finding named feature in type
restore all configured settings from original
now we need to hook up keys by finding named feature in type
copy children references
keep only plugins that have genmodels consideration
iterate over all projects to look at manifests
also add each required plugin consideration in loop
create epackage on demand
check whether this has model annotation contents
match them and accumulate appropriate result
use no encoding
create generic super type with eclass as classifier each super interface in java representation
class address not equal so we do n't want this class loader but instead want last result that able to load class
check whether this has model annotation contents if not it might be package interface backwards compatibility
get package name and see if there 's epackage it
it 's definitely package if it declared as such
additional attributes and references may be defined directly on interface in order to allow get accessor method to have suppressed visibility
walk methods
this will catch inherited features or additional things we do n't want to worry about
find packages and factories
otherwise it 's treated as eenum
platform getbundle element getnamespaceidentifier loadclass contributorclassname
handle type multiplicity and other etypedelement attributes
each token in parameters will specify datatype corresponding parameter but can be overridden by parameter name prefixed datatype property
name extracted and lower cased
size of object
feature name extracted lower cased
map to eenum
drop separators and normalize case
set eattribute attributes
each token in exceptions will specify data type corresponding exception
we 'll create one of these
set ereference attributes
if any of these attributes appear this must be reference
set visibility annotations estructuralfeature
process annotations
set estructuralfeature attributes
check if it exactly name of type parameter that 's in scope
allow distinct literal value to be provided too
type can be augmented by specifying it explicitly in annotation this mostly makes sense only many valued typed elements where java type list and item type needs to be specified
continue with default processing
allow value to be defined by annotation or by field 's initializer
we want to resolve to this
returns lower half bitmask all ascii characters between two given characters inclusive
but if name does n't expand into field name ignore it
returns upper half bitmask all ascii characters between two given characters inclusive
allow mixed case version of name to be provided
returns lower half bitmask all ascii characters in given string
if we ca n't find it try simple name in package
this could potentially map every created model element to its corresponding rose node however now we 're only using it as needed
find explicit import or first wildcard import
no caching
if we still do n't have one we 'll have to settle edatatype or eclass with instance class name
find modeled package name and look up name there
create resource set and load model file into it
package not in cat file
see if we already have edatatype
package in cat file
it 's okay there not be precompiled template so fail quietly exception printstacktrace
returns whether given character in set specified by given bitmask
if we still do n't have one we 'll have to settle demand created edatatype or eclass so create new eclassifier with nice unique name
if we do n't have one yet maybe it 's one of special types
converts null to length zero array and clones array to ensure immutability
if there any warnings other than raw type warnings include all warnings
model information
avoid classifier name collisions
make array names legal
get parent object
even primitives should be represented by data type with conventional capitalized name
add to package
map to epackage
node not marked up by now but keep checking other rules
map to edatatype
map to eattribute or eenumliteral
map to eparameter as input parameter operation
add to eclass
map to eoperation
if not we 'll erase it to java lang object
alternate stricter implementations of following validation methods provided commented out possible future use
ereference setnavigable rosenode isnavigable
we will need to check containment if we have to convert eattribute to ereference later
valid scheme may be null or consist of single letter followed by any number of letters numbers and following characters
size of list
do nothing
load schema and packages that used to load instance into this resource set
try to retrieve fully qualified name of specified type
qualify type name if not already qualified
remove garbage characters
convert to dot separated format if necessary
store base name relative cat file references
order first by number of features descending and then alphabetically ascending
iterate over whole tree to do this
default value
we treat feature as volatile if it volatile itself or if it reference whose opposite end volatile unless that opposite volatile reference delegates to feature map in which case full implementation of references can be generated
mappingfactory
remove zero width non breaking space which may be used as byte order marker and may be ignored according to unicode faq
container must be transient
temporary waswsad migration option
it not found in model class so check if primitive type
setup attribute and parameter type
convert attributes of with eclass type to references
read mdl file
file mdl file get model name
special case traverse cat file or mdl file
could this happen \?
map properties even when istreeonly true
directoryname length directoryname charat
size should be
create resource this file do n't specify content type as it could be ecore or emof
top
no additional features mappingstrategy
record records executed commands on stack
map to ereference when navigable
process contents of extent
this will not add duplicates
this sets parent so that nodes can traverse to root to find default ecore settings
load rose mdl or cat file and create mappings objects
only one open quote
start second traverse to create mapping objects in memory
put all static package in package registry
complextypeconverter
this path of target directory
mappingpackage
no additional features typeconverter
mappinghelper
functionnamepair
do we also have some non input objects to copy \?
mappingroot epackagemapping getmapping inputs mappingroot epackagemapping getmapping outputs
each mapping being removed
mappingroot
since input objects read only we do n't need to make copy of them clipboard we can just put pointer to original object on clipboard
make sure back pointers to this mapping from mapped objects set
valid authority may be null or contain any allowed uri characters except following \?
copy name
add any remaining object index pairs from either set
resource resource ecoreutil geturi refobject fix
valid path segment must be non null and may contain any allowed uri characters except following \?
non javadoc see org eclipse emf mapping action addroottopaction gettopstoadd
searches specified string any characters in set represented by bit bitmask returns true if any occur or false otherwise
return
create commands to do mapping getnested addall siblingstoreparent
each mapping being added
note absolutepath authority null hierarchical authority null device null absolutepath scheme null
this will create mapping as well
if there siblings that need to be reparented
new removecommand domain parentmapping parentmapping epackagemapping getmapping nested siblingstoreparent
create commands to do parentmapping getnested removeall siblingstoreparent
if we ca n't create temp file then we have to ignore option
find prefix in current context
removecommand create mappingdomain mapping mapping epackagemapping getmapping outputs object
return false if iteration should continue
commandlist add removecommand create mappingdomain mapping mapping epackagemapping getmapping outputs object
get corresponding type
type matching never matches inputs that already mapped
create copy from this corresponding type
remove all mappings from root
we have done our preparation now ask super to validate
copy type
skips
this tricky part where we set encoding that we 'd like to have decoded as series of commands to execute after this command has completed
if ecore return enamedelement name
domain getmappingroot removemapping newmapping
mappingadapterfactory
top label separator
tests whether this uri 's path segment array equal to that of given uri
if owner and copy of same type we can proceed with command no override if not we will skip this command by returning do nothing override
if there adapter of correct type return item label
if this removecommand root input object direct it to mappingroot
remove all sourceseparator characters
tests two objects equality tolerating nulls null considered to be valid value that only equal to itself
type mappings
add targetseparator in front of every upper case character
tests two strings equality tolerating nulls and optionally ignoring case
sourceseparator label no separator
top label forms
relative path merge with base and keep query note if base has no path and this non empty relative path there implied root in resulting path
top label case
bottom label separator
ecore ecorefactory
bottom label forms
ecore ecorepackage
mappingswitch
encrypt input
we do n't want to include line comments immediately before import in returned range
non javadoc see org eclipse emf mapping ecore ecore ecore ecoremapping getinputepackage
ecore ecoremappingroot
if
ecore ecoreresourcefactoryimpl
ecore ecoremappingrootimpl
ecore ecorefactoryimpl
ecore ecorepackageimpl
interface should be abstract but this makes sure of that fact
ecore ecoreswitch
adds segment to stack skipping empty segments and self references and interpreting parent references
ecore ecoreadapterfactory
createchildcommand we will find owner by calling editingdomain getparent on first selected object
parse
special care must be taken root 's parent reference it either ignored or symbolic reference itself pushed
unless we 're already accumulating root parent references parent references simply pop last segment descended
non nls
if extending interface its mix ins must be included since there no implementation to handle them
if we 've found thing with type parameters search them match
xmlinfo
ecore xmlpackage
missing attribute
enamedelementtoxmlinfomapentryimpl
this case that starting process rose file by passing cat file name this special case normally user should pass mdl file instead of cat file file cat file modeltree did contain quid info
xmlmapimpl
invalid element
ecore xmlfactoryimpl
ecore xmlpackageimpl
we either remove root mapping or we use iterator that returned most recent next mapping
set editor 's selection based on current viewer 's selection
many inherited methods must be overridden to handle this case
since we only use this right on operation we always want to include keytype and valuetype and we never want to qualify property names
if there any arguments and they not unbounded wildcards casts ca n't be checked
we need to be conservative and diagnose problem only if we quite sure that type built in and hence that lack of default value really represents problem with being unable to convert literal to value
or we test their relationship via their instance classes if they have them
some xml types declare nebulous object mappings they actually map to internal types that should n't be generated into code
this guards switch
if there base xml or ecore type use one of two corresponding built in factories to create value from literal string
clean up any old project information
mappingimpl
bound wildcard with no constraints
see if genmodel registered package 's uri and if so try to load it
if that did n't work just synthesize one
eatm foreign model
any features from one package that delegate to features in another
if there features delegating across packages add only those that n't already being generated
single separator possibly preceded by some parent reference segments redundant
empty path needs to be replaced by single if there no query to distinguish it from current document reference
collapses non ending empty segments parent references and self references in non relative path returning same path that would be produced from base hierarchical uri as part of resolve
if path non empty and originally ended in empty segment parent reference or self reference add trailing separator
typeconverterimpl
returns string representation of this uri debugging explicitly showing each of components
if new prefix has segments it not root absolute path and we need to drop trailing empty segment and append tail segments
featuremap add estructuralfeature cursor expectedmodcount featuremap getmodcount entrycursor lastcursor lastcursor prepared
add all classes from this package first to guarantee they get simple names
do n't even consider it unless this hierarchical and has scheme authority device and path absoluteness equal to those of prefix
if prefix has no segments then it root absolute path and we know this absolute path too
barring better result this will be result
prefix really prefix of this if this has just one more empty segment paths same
do this here because getextendedmetadata used during initialization and mappings populated first time it 's fetched which will miss packages we add as we initialize tree
rewriter required set methods
if we ca n't add it it must already be in list so find it and move it to end
both eobject and eobject not null if eobject has been compared already
encodes given string replacing each ascii character that not in set specified by bit bitmask and each non ascii character below xa by escape sequence of followed by two hex digits if not in set but ignoreescaped true then will not be encoded iff it already begins valid escape sequence
tests whether escape occurs in given string starting at index escape sequence followed by two hex digits
multiple jet directives
there 's no reason they n't equal so they
if set states same and values of feature structurally equal they equal
this only needed afaict processing results from query cache however this cannot possibly work in case of discovered types
note that this timestamp not correct if connection provider returns older jdbc connection that associated with transaction that already begun before opensession called do n't know any possible solution to this
todo this assertion disabled because there bug that means original owner of transient uninitialized collection not known if collection re referenced by different object associated with current session throw new assertionfailure bug loading unowned collection
this does not support cache sql 'distinct by comma list extensions but this extension not supported through hibernate anyway
todo when this entry point we should use inner join fetching many to many elements
could happen custom criteria impls not likely but long term solution see hhh
todo currently broken unique key references does not detect change to unique key property of associated object owner of association not owner of id
todo currently broken unique key references does not detect change to unique key property of associated object
todo entities can be compared by pk and entity name fix this
todo does not work entitymode dom yet
todo deal with optional attribute in mapping this code assumes that optional defaults to true because it does n't actually seem to work in fetch join code note that actual proper handling of optional ality here actually more involved than this patch assumes remember that we might have multiple mappings associated with single entity really couple of things need to happen to properly handle optional here first and foremost when handling multiple we really should be using entity root table as driving table another option here would be to choose some non optional joined table to use as driving table in all likelihood just using root table much simplier need to add fk columns corresponding to each joined table to generated select list these would then be used when iterating result set to determine whether all non optional data present my initial thoughts on best way to deal with this would be to introduce new sequentialselect abstraction that actually gets generated in persisters ok singletable and utilized here it would encapsulated all this required optional ality checking
todo would be nice to use false but issues with ms sql
todo not really completely correct since uoe could occur while resolving associations leaving pc in inconsistent state
todo this kinda inconsistent with collectiontype
one to many not really bag it really set since it ca n't contain same element twice it could be considered bug in mapping dtd that allows
todo entities can be compared by pk fix this only ifwhen we can extract id values
todo old version did not require hashmap lookup keys collectionowner getidentifier
todo this disables laziness even in non pojo entity modes
todo at point where we resolving collection references we do n't know if uk value has been resolved depends if it earlier or later in mapping document now we could try and use getstatus to decide to semiresolve trouble that initializeentity reuses same array resolved and hydrated values
todo currently we do n't know sessionfactory reference when building tuplizer this bug embedded xmlfalse on component todo fix this after hhh complete
todo this requires that collection defined after referenced property in mapping file ok \?
todo currently we really do not handle valueinclusion partial valueinclusion partial would indicate parts of component need to be included in select currently we then just render entire component into select clause in that case
todo this completely correct \?
todo what if batchupdate callablestatement \? calls executebatch
this does n't actually seem to work but it might work on some dbs also it does n't work if there multiple columns of results because it not accounting suffix return new string getdiscriminatorcolumnname
first validate all enabled filters todo this implementation has bad performance
todo passing null here because this method not really used dom at moment but it still bug if we do n't get rid of this
todo this really needs to be delayed unitl after we definitively know operand node type where this currently problem parameters which where we cannot unequivocally resolve expected type
algorithm check any level one nullability breaks look at non null components to recursively check next level of nullability breaks look at collections contraining component to recursively check next level of nullability breaks in previous implementation not null stuffs where checked filtering by level one only updateable or insertable columns so setting sub component as update false has no effect on not null check if main component had good checkeability in this implementation we keep this feature however never see any documentation mentioning that but it 's sure limitation
assume that row not there since it previously had only null values so do insert instead todo does not respect dynamic insert
todo this call will not work anything other than pojos
note that this implementation kinda broken components with many to one associations
no need to take snapshot this performance optimization but not really important except entities with huge mutable property values
todo this broke subqueries in statements other than selects
following types not supported in rdmsjdbc and therefore commented out however in some cases mapping them to character columns works many applications but does not work all cases
todo should this be error \?
three general cases we check here as to whether to render physical sql join our parent dotnode as well \? if so our property reference being further de referenced this dml statement we asked to generate any needed joins generatejoinstrue or we currently processing select or from clause additional check regression style join suppression check solely intended test suite regression style join suppression additional check intended solely use within test suite this forces implicit join resolution to behave more like classic parser underlying issue that classic translator simply wrong about its decisions on whether or not to render implicit join into physical sql join in lot of cases piece it generally tends to miss that inner joins effect results by further restricting data set particular manifestation of this fact that classic translator will skip physical join toone implicit joins if query shallow result being that query list and query iterate could return different number of results
todo figure out how this should be set this reason failures regarding index op and subclass joins on theta join dialects not sure what behaviour we trying to emulate joinsequence joinsequence getfrompart emulate old addfromonly behavior
preference here would be sqlfunctiontemplate hibernate timestamp current timestamp \? false but this appears not to work jay nance
todo inexact what we really need to know any outer joins used \?
todo not sure which either \? correct could not find docs on how to do this did find various blogs and forums mentioning that select current timestamp does not work
todo cannot use generatesuffixes it handles initial suffix differently
do n't need this because we should never ever be selecting no columns in insert select and because it causes bug on db
starts with alias old style semi bad thing about this ca n't re alias another alias
todo bug this currently fails named queries non pojo entities
fixme we do n't have associated entity table name here has to be done in second pass
this call side effecty
rdms does not directly support trim function we use rtrim and ltrim
note at least my local sql server express shows this not working
note at least my local mysql install shows this not working
use count as default this mimics old behavior although none might be better option moving forward in case of callable
perhaps not really necessary
todo what else to do here \?
todo disable batch loading if lockmode read \?
todo to handle concurrent writes correctly client should pass in lock
turn hibernate into so gets chance to see all hibernate
note there wierd implementation in client side
todo this added to support initializing entity 's entityentry snapshot during reattach this should be refactored to instead expose method to assemble entityentry based on this state return
do we need to drop constraints before dropping tables in this dialect \?
fixme per regionfactory class javadoc this constructor version should not be necessary param props configuration properties
does this dialect support check constraints \?
this called by sessionfactory irregardless we just disregard here could also add check to sessionfactory to only conditionally call start
does this dialect support unique column syntax \?
this done here 'cos we might only know type here ugly todo improve this lot
does this dialect support update syntax \?
todo what implication of this \?
todo yuck
todo again how should this work non pojo entities \?
does this dialect support update of allowing particular rows to be locked \?
todo really bad evil hack to fix
aliasrefnode resolve false false aliasrefnode gettext todo it kosher to do it here \? todo it kosher to do it here \?
todo better to degrade to lazy false if uninstrumented
does this dialect support oracle style update nowait syntax \?
icky workaround mysql bug
we have to set up table later yuck
todo somehow add newly created foreign keys to internal collection
this inner class implements case statement perhaps im being bit over clever here
todo merge into one method
todo this bit of copypaste from indexedcollection createprimarykey
todo what type \?
todo inefficient
fixme get persistentclass
todo we can remove this once deprecated ctor can be made private
todo this too conservative if all preceding joins also inner joins we could use inner join here
todo redesign how propertyaccessors acquired
todo not so sure this needed
create index on key columns \? \?
todo joinkeycolumnname foreignkeycolumnname should be called either here or at slightly higer level in stack to get all information we need right now hbmbinder does not support
todo improve this hack
todo bad implementation cos it depends upon ordering of mapping doc fixing this requires that collectionpersistentclass gain access to mappings reference from configuration or filterdefinitions map directly sometime during configuration buildsessionfactory after all typesfilter defs known and before building persisters
use of trim here ugly \?
todo ideally we need construction of propertyaccessor to take following entitymode entitymode specific data classname pojo entities property specific data based on entitymode property name or dom node name easiest way with introduction of new runtime metamodel classes would be following predicates propertyaccessorfactory getpropertyaccessor takes references to both org hibernate metadata entitymodemetadata and org hibernate metadata property what now termed propertyaccessor stores any values needed from those two pieces of information code can then simply call propertyaccess getgetter with no parameters likewise with propertyaccessor getsetter
can happen because of multiple ways cache remove can be invoked
ick
todo this very suboptimal some subclasses namely components since it does not take advantage of two phase load
todo should this be session instantiate persister \?
todo suck this into initlaziness
'hibernate temp use jdbc metadata defaults' temporary magic value need it intended to be alleviated with future developement thus it not defined as environment constant it used to control whether we should consult jdbc metadata to determine certain settings default values it useful to not do this when database may not be available mainly in tools usage
todo this right \? \?
ie subquery yuck
use of stringbuffer to workaround jdk bug
todo copypaste from recreate
workaround backward compatibility of sets with no not null columns assume all columns used in row locator sql
todo this eventually needs to be removed
todo remove
just to help out during load ugly know
hackworkaround as sqlquery impl depend on having key
todo handle case of foreign key to something other than pk
todo assumes all collections disassemble to array
todo would love to have this work on notification basis where successful binding of entitysubclass would emit notification which extendsqueue entries could react to
todo it really neceassry to provide configuration to collectionpersisters \? should it not be enough with associated class \? or why does entitypersister 's not get access to configuration \? only reason could see that configuration gets passed to collection persisters so that they can look up dom node name of entity element in case no explicit node name applied at collection element level you kidding me \? trivial to fix then just store and expose node name on entity persister which collection persister looks up anyway via other means
todo deprecated remove eventually
todo possibly relax that
todo this bit dodgy come up with better way to check this plus see above comment
use degenerated strategy backward compatibility
todo this temporary in that end result will probably not take property reference per se
todo better to handle dynamic filters through implicit dynamicfilterparameterspecification see discussion there in dynamicfilterparameterspecification 's javadocs as to why it currently not done that way
get right object from list would it be easier to just call getentity \? \?
todo should record how many properties we have reffered to and if we do n't get'em'all we throw exception way better than trial and error
todo this dependency kinda bad
todo get sql rendering out of this package
why does this matter \?
important to account newly saved entities in query todo some kind of check new status
todo can we always use null property approach everything \?
does this need holdlock also \? return tablename with updlock rowlock holdlock
sets we should end collection load after resolving entities since we might call hashcode on elements todo or we could do this polymorphically and have two different operations implemented differently arrays
todo remove this and just have subclasses use isolaterisolatedwork directly
sql server at least needed this dropped after use strange
it necessary to register exact since it can only appear in where clause \?
arrays we should end collection load before resolving entities since actual array instances not instantiated during loading todo or we could do this polymorphically and have two different operations implemented differently arrays
does this dialect support alter table syntax \?
this next bit to allow both unsaved value negative and older behavior where version number did not get seeded if it already set in object todo shift it into unsaved value strategy
todo reenable if we also fix above todo
orphans should not be deleted during copy \? \?
orphans should not be deleted during merge \? \?
todo suck this logic into collection
todo we can actually just determine this from incoming entityentry
todo this bit actually has to be called after all cascades but since identity insert called synchronously instead of asynchronously as other actions it n't
this class has no proxies so do shortcut
todo should this be initializeentityeventlistener \? \? \? watch out performance
todo need map \? prob proper key right \?
todo better to pass id in as argument \?
do we even really need this \? update will fail anyway
todo would it be better to do refresh from db \?
this form used from annotations \? essentially same as above using resultset mapping reference but without cachemode readonly and comment fixme annotations do not use it so it can be remove from my pov deprecated param query sql query string param resultsetref result set mapping name param queryspaces any specified query spaces used auto flushing param cacheable whether query results cacheable param cacheregion if cacheable region into which to store results param timeout jdbc level timeout to be applied param fetchsize jdbc level fetch size to be applied param flushmode flush mode to use this query param parametertypes parameter type map param callable does query string represent callable object proc
todo ugly here
todo not quite sure about full implications of this
this only works because collection entries kept in sequenced map by persistence context maybe we should do like entities and keep separate sequences set todo calling entryset on identitymap slow
todo 'd much rather have this done from endloadingcollection collectionpersister loadingcollectionentry
todo hack note here we cleanup load context when we have no more local lce entries this works time being because really only collection load contexts implemented long term this cleanup should become part of close result set processing from sandboxjdbc jdbc container code
todo add notion of enabled filters to cachekey to differentiate filtered collections from non filtered but cachekey currently used both collections and entities would ideally need to define two seperate ones currently this works in conjuction with check on defaultinitializecollectioneventhandler initializecollectionfromcache which makes sure to not read from cache with enabled filters early exit
postload needed ejb todo reuse postloadevent
todo should we check current isolation mode explicitly \?
brand new collection todo or array we ca n't lock objects with arrays now \? \?
todo iteratively get transient entities and retry merge until one of following conditions transientcopycache size transientcopycache size not decreasing and copycache size not increasing todo find out if retrying can add entities to copycache do n't think it can now just retry once throw transientobjectexception if there still any transient entities
null or brand new collection this will also inefficiently handle arrays which have no snapshot so we ca n't do any better
todo perhaps we should additionally require that incoming entity version be equivalent to defined unsaved value \?
provides query splitting methods which originally in querytranslator todo this will need to be refactored at some point author josh
todo most of below taken verbatim from dotnode should either delegate this logic or super type it
todo currently expects that individual with expressions apply to same sql table join this may not be case joined subclass where property values might be coming from different tables in joined hierarchy at some point we should expand this to support that capability however that has some difficulties biggest how to handle ors when individual comparisons linked to different sql joins here we would need to track each comparison individually along with join alias to which it applies and then pass that information back to fromelement so it can pass it along to joinsequence
no explicit select expression render id and properties projection lists every persister in from clause into single 'token node' todo only reason we need this stuff now collection filters we should get rid of derived select clause completely
todo better way \? \?
hack alert attempt to work around ghost impliedfromelements that occasionally show up between actual things being joined this consistently occurs from index nodes at least against many to many not sure if there other conditions essentially look ahead to next fromelement that actually writes something to sql
not possible to simply re use versionpropertynode here as it causes oom errors due to circularity
this function has template restore output apply template and write result out todo downcast to avoid using interface \? yuck
at some point generate phase needs to be moved out of here because single object level dml might spawn multiple sql dml command executions possible to just move sql generation dml stuff but consistency sake probably best to just move responsiblity generation phase completely into delegates queryloaderstatementexecutor themselves also not sure why queryloader currently even has dependency on this at all does it need it \? ideally like to see walker itself given to delegates directly
todo this only needed during compilation can we eliminate instvar \?
todo absolutely no usages of this constructor form can it go away \?
todo this bit ugly \?
even here if only properties mapped to base table referenced in set and where clauses this could be handled by basicdelegate todo decide if it better performance wise to perform that check or to simply use multitableupdatedelegate
todo remove these last two as batcher no longer managing connections
very important this class needs to be free of any static references to any cglib or javassist classes otherwise users will always need both on their classpaths no matter which if either they use another option here would be to remove hibernate ispropertyinitialized method and have users go through sessionfactory to get this information
todo we really need to be able to deal with component paths here also this difficult because hql sql grammar expects all those node types to be fromreferencenodes one potential fix here would be to convert intoclause to just use fromclausefromelement combo as child of insertstatement and move all this logic into insertstatement that 's probably easiest approach read least amount of changes to grammar and code but just does n't feel right as then insert would contain from clauses
todo optimization here would be to consider cascade deletes and not gen those delete statements difficulty ordering of tables here vs cascade attributes on persisters table info gotten here should really be self contained class representation defining all needed attributes then we could then get array of those
todo switch statements always evil we already had bugs because of forgotten token types use polymorphism this
really there two situations where it should be ok to allow insertion into properties defined on superclass union subclass with abstract root entity discrim subclass handled already because of fact that unionsubclasspersister alreay always returns this call we may want to disallow it discrim subclass just consistency sake currently does not work anyway
implicit joins always \? ok to reuse
todo used to be exprnoparens this needed \?
todo we may also want to check that types here map to exactly one columnjdbc type ca n't think of situation where arithmetic expression between multi column mappings makes any sense
we do not know either type blind guess
todo get sql rendering out of here create ast join expressions use sql generator grammar to generate sql text index expression
we would probably refactor to have logicparser builds tree of simple expressions connected by and or not expressionparser translates from oo terms like foo foo bar foo bar baz to sql terms like foos id foos bar id etc and pathexpressionparser which does much same thing it does now
short circuit performance
not absolutely necessary but does help with aggressive release
try block hack around fact that currently tuplizers not given opportunity to resolve subclass entity name this allows we assume custom interceptor ability to influence this decision if we not able to based on given entityname
todo this one of ugliest and most fragile pieces of code in hibernate
todo implement functionality this might be painful to do here as join post processing subquery has already been performed meaning that theta join dialects join conditions have already been moved over to where clause simple solution here might to perform join post processing once entire query including any subqueries at one fell swoop
yuck
ignore it incoming property could not be found so we cannot be sure what to do here at very least safest to simply not apply any dereference toggling
todo make this bit nicer
yuck
todo potentially look at optimizing these two arrays
note that parameter now unused delete it \?
todo figure out better way to get from elements in proper tree structure if this not destination of many to many add it as child of origin
todo this constructor form only used from constructor directly below us can it go away \?
we should reengineer this class so that rather than current ad hoc linear approach to processing stream of tokens we instead build up tree of expressions
todo should this get moved to persistentcontext \? logically persistentcontext thing to which interceptor gets attached \?
todo something much better look at type of other expression todo have comparisonexpression andor arithmeticexpression rules complete resolution of boolean nodes
todo this class does too many things we need different kind of path expression parser each of diffferent ways in which path expressions can occur
todo optimize this better
todo should we allow suffixes on these \?
todo this really necessary \? \? \? \?
todo not sure best way to handle this non performant way
todo there better way \?
class now way to complex
todo would be really nice to cache spec on query def so as to not have to re calc hash currently not doable though because of resultset ref stuff
name from super query bit inelegant that it shows up here
real hacky used to count nesting of parentheses
put has nowait semantics this really appropriate \? note that it needs to be async replication never local or sync
ugly hack cases like elements foo bar collection multi part path expression ending in elements or indices
fixme hacky workaround to jbcache
todo copypaste from sessionimpl pull up
todo need to find clean way to handle event source role seperate classs responsible generatingdispatching events just duplicates most of session methods passing around seperate reto interceptor factory actionqueue and persistentcontext not manageable
must be done here because of side effect yuck
we should actually rework this class to not implement parser and just process path expressions in most convenient way
todo should remove this exposure and have all references to session 's batcher use connectionmanager
we may be screwed here since collection action about to execute and we do not know final owner key value
needed clazz check to work around union subclasses todo there way to tell whether persister truly discrim column based inheritence \?
work around bug in all known connection pools
todo reuse preloadevent
need better way to define suffixes here
workaround weblogic
todo temporary
todo yuck fix after hhh complete
would be great to move all this below here into another method that could also be used from new scrolling stuff would need to change way max row stuff handled behind interface so that could do control breaking at means to know when to stop
todo ientityspan bit depends upon subclass implementation very bad
some messy complex stuff here since createcriteria can take aliased path or path rooted at creating criteria instance
todo add criteriaimplementor interface this class depends directly upon criteriaimpl in impl package
polymorphism not really handled completely correctly perhaps well actually its ok assuming that entity name used in lookup same as one used here which it will be
this not very nice and quite slow
todo get sql rendering out of here
meant to handle dynamic instantiation queries copy from queryloader
make sure this defined parameter and check incoming value type todo what should be actual exception type here \?
worrying about proxies perhaps little bit of overkill here
todo throw exception \? maybe warn if not same \?
todo make entitypersister not depend on sessionfactoryimplementor interface if possible
todo what amount of significant digits need to be supported here \? from decimalformat docs significant digits minimum integer digits maximum fraction digits
backward compatibility allow set with no not null element columns using all columns in row locater sql todo create implicit not null constraint on all cols \?
todo copypaste from manytoonetype
todo code duplication with singletableentitypersister
todo throw exception \?
should this interface extend propertymapping \?
todo here why we need to make bytecode provider global todo again fix this after hhh complete
todo currently keeps getters and setters instead of propertyaccessors because of way getgetter and getsetter implemented currently yuck
todo yuck this not quite good enough it 's quick hack around problem of having to one association that refers to embedded component
todo implement caching \? proxies \?
this really necessary \?
todo this little inefficient do n't need to do whole deep replaceelements call
todo this bit arbitrary expose switch to user \?
return collection removal fixme even if isinverse true \?
todo fix this so it will work non pojo entity mode
todo move these to new joinabletype abstract class extended by entitytype and persistentcollectiontype
todo would be nice to handle proxy classes elegantly
spaces todo i'm not sure but perhaps we should exclude abstract denormalized tables \?
todo there more elegant way than downcasting \?
todo remove use of instanceof
todo perhaps this should be some other runtimeexception
yuck
todo need some caching scheme \? really comes down to decision regarding amount of state if any kept on propertyaccessors
todo design new lifecycle proxyfactory
todo we should really just collect these from various selectexpressions rather than regenerating here
todo should this really return null \? if not figure out something better to do here
todo should seriously consider not allowing txn to begin from child session can always route request to root session
should indicate that we processing insertupdatedelete query with subquery implied via collection property function here we need to use table name itself as qualification alias todo verify this works all databases todo this also case in non indexed scenarios \?
todo this really needs to be delayed unitl after we definitively know all node types where this currently problem parameters which where we cannot unequivocally resolve expected type
todo make this factory entity mode related sessions also means making this target of transaction synch and thing that knows how to cascade things between related sessions at that point perhaps this thing sessioncontext and connectionmanager jdbccontext \? sessioncontext should live in impl package
create index on key columns \? \?
this ok \?
init table here instead of earlier so that we can get quoted table name todo would it be better to simply pass qualified table name instead of splitting it up into schemacatalogtable names
perhaps this should be exception since it only ever used in above method \?
note this assumes something about how propertyselectfragment implemented by subclass tounqotedaliasstrings getdiscriminatorcolumnname before now tried to remove that unqoting and missing aliases
put placeholder in entries so we do n't recurse back and try to save same object again question should this be done before onsave called \? likewise should it be done before onupdate \?
before cascade todo should this be session instantiate persister \?
todo we should throw exception if we really know sure that this detached instance rather than just assuming throw new staleobjectstateexception entityname id
todo order in which entities saved may matter particular transient entity may need to be saved before other transient entities can be saved keep retrying batch of transient entities until either there no transient entities left in transientcopycache or no transient entities saved in last batch now just run through transient entities and retry merge
todo if object uninitialized proxy this inefficient resulting in two sql selects
todo put this stuff back in to read snapshot from second level cache needs some extra work
this kinda best we can do
trim done to workaround stupid oracle bug that cant handle whitespaces before in sp
todo this need n't exclude subclasses
todo we use two visitors here inefficient
todo does this really need to be here \? does collection already have it 's own up to date snapshot \?
otherwise trim specification andor trim character have been specified we need to decide which options present and do right thing should leading trim characters be trimmed \? should trailing trim characters be trimmed \? trim character trim source
it possible that tree walking in outerjoinloader can get to association defined by subclass in which case property ref might refer to property defined on subclass of current class in this case table name not known this temporary solution assumes that property ref refers to property of subclass table that association belongs to reasonable guess todo fix this add outerjoinloadable getsubclasspropertytablename string propertyname
todo alternative to check if owner has changed if it has n't then return collection getowner
suppose \?
tbd should this be varbinary \? registercolumntype types varbinary binary
shortcut
todo we should provide some way to get keys of collection of statistics to make it easier to retrieve from gui perspective
todo probably better to calculate these and pass them in as it 'll be more performant
todo should we additionally check current isolation mode explicitly \?
todo simply remove this override if we fix above todos
todo there really any reason to kkeep trying if this fails once \?
todo not sure this correct could not find docs on how to do this
hsql has no blobclob support but just put these here now
merges do n't cascade to uninitialized collections todo perhaps this does need to cascade after all
yick need this proper serializationdeserialization handling
todo should orphans really be deleted during lock \? \? \?
todo move to stringhelper \?
sets can be just view of part of another collection do we need to copy it to be sure it wo n't be changing underneath us \? ie this set addall set
todo it would be really really nice to use this to also model components
todo move to sql package
todo look at owning property and check that it n't lazy by instrumentation
todo add this info to translator and aggregate it here
would be better to use element type to determine whether old and new equal here problem being we do not necessarily have access to element type in all cases
todo code duplication with joinedsubclassentitypersister
todo refactor to sql package
todo two hashmap lookups here one too many
note that this method could easily be moved up to basicentitypersister if we ever needed to reuse it from other subclasses
from collection of associations locate oja manytoone corresponding to this persister to fully define many to many we need that oja so that we can use its alias here todo there better way here \?
todo this class depends directly upon criteriaimpl in impl package add criteriaimplementor interface
do we need to qualify index names with schema name \?
todo we probably should have statisticsnotpublishedexception to make it clean
yukky do n't you have subclasses that todo race conditions can happen here
note very hackish workaround todo fix this so it will work non pojo entity mode
todo need to make majority of this functionality into top level support class custom impl support
dom collections only todo it would be better if this done at higher level by printer
todo inefficient if that cache just going to ignore updated state
todo alternative to check if owner has changed if it has n't then get id from collection getowner
todo refactor make this method private
todo keep seperate notions of qt here shallownon shallow queries
todo temporary needed because currently persister one that creates and renders join fragments inheritence hierarchies
this called by sessionfactory irregardless we just disregard here could also add check to sessionfactory to only conditionally call stop
swaldman modify to allow null values to signify fall through to poolconfig defaults
work around that crazy issue where tree contains empty fromelements no text afaict this caused by fromelementfactory createcollectionjoin
kinda ugly but needed collections with node mapping
todo would be great to have mapping hasnonidentifierpropertynamedid method do n't believe that mapping getreferencedpropertytype accounts identifier property so if it returns property named 'id' then we should have non id field named id
entity name will not be available non pojo entities todo cache entity name somewhere so that it available to this exception
index getpropertycolumnspan todo this kinda slow
todo move to sql package and refactor with similar things
todo am not so sure about exception handling in this bit
ugly little workaround fact that createuniquekeyloaders does not handle component properties
append sql to return generated identifier todo suck into insert
this really ugly but necessary
todo modify class definition if not already transformed
todo should we use select update \?
create action that will evict collection and entity regions based on queryspaces table names todo cache autodetected information and pass it in instead
todo this correct \?
used only regression testing todo obviously get rid of all this junk
note this assumes something about how propertyselectfragment implemented by subclass tounqotedaliasstrings getidentifercolumnnames before now tried to remove that unqoting and missing aliases
todo move into collection type so we can use polymorphism
todo should we just collect these like with collections above \?
todo should really move this log statement to collectiontype where this used from
hum should we cascade anyway \? throw exception \? fine like it \?
todo this might really even be moved into cfg package and used as basis all things which configurable
todo copypaste from insertrows
todo suck into event class
todo never reached since gettypename actually throws exception
this used by sessionfactoryimpl to hand to generated sessionimpl only reason could see that we cannot just use null as settings cacheprovider
xmlforest requires new kind of function constructor
todo this valid operation on timestamps cache \?
todo considered validating presence of ts cache here but decided to defer unti getquerycacheinstance in case cache never actually used
todo why not use timestamp in dataversion \?
todo eventually merge this with treecache and just add optional opt lock support there
work around feature where tree cache validating inserted node during next transaction no idea
todo considered validating ts cache config here but decided to defer unti gettimestampscacheinstance in case cache never actually used
need to do that here rather than in save event listener to let post insert events to have id filled entity when identity used ejb
unhappy about this being public there better way \?
todo safe to interpret map remove key null as non dirty \?
fixme hack to work around fact that calling node added root addchild fqn does n't properly set version on node
work around feature where tree cache validating inserted node during next transaction no idea
todo replace this with more elegant solution
short cut check
todo to handle concurrent writes correctly this should return lock to client
this ugly here but needed because its subquery
todo will need reference to session factory to fully complete hhh
inheritance cycle detection paranoid check
todo encapsulate protected instance variables
polymorphism comment above
todo find decent name before documenting
add entry this type of entity we can be assured that all referenced entities have already been processed so specify that this entity with latest batch doing batch number before adding name to list faster way to get accurate number
todo handle typedefs
todo get all properties not just fetched ones
todo native ids
todo bindpropertyresults alias returnelem
todo handle property ref
todo validate existing of property with chosen name secondpass
todo check that entry getidentifier equals requestedid
todo restrict violation
todo assertion only could be optimized away
todo lowercasing done here done at random before maybe not needed at all \?
todo optimize away this lookup entities wo unsaved value undefined
todo tolowercase not done before only used in template
todo arithmetic expressions multiple new foo
todo not visible to user
todo proxies
todo can we limit stored procedures \?
todo formulas \?
todo better error message since we actually support composites if names explicitly listed
todo use these in methods above
todo cache persister this shows up in yourkit
todo add referencedclass to disambiguate to fks on same columns pointing to different tables
todo create uk loaders component properties
todo still need to make collectionpersisters entitymode aware
todo terrible implementation
todo eventually put this back in once we think all fixed object otheralias columnsunique put qualifiedcolumn columnalias
todo do n't really like this implementation it would be better if this handled by searchfordirtycollections
todo check if key contains owner id
todo cache this in instvar
todo temporary initial step towards hhh
todo remove this once componentmetamodel complete and merged
todo add owner argument
todo handle supportsnotnulluniquefalse but such case does not exist in wild so far
todo some dialects it would be appropriate to add renderorderbypropertiesselect to other select strings
todo unnecessary databases with ansi style joins
todo maybe call it getrowselection \?
todo make this handle multiple collection roles
todo include rowids
if we still not resolved we might represent constant needed to add this here because allowance of naked prop refs in grammar collides with definition of literalsconstants nondeterminism todo cleanup grammar so that processconstants always just handled from here
todo or should we return 'containstablealias' \? \?
todo look at perhaps caching this
todo avoid this non new instances where mightbedirtyfalse
todo theoretically non threadsafe
todo look at optimizing these
todo cache this sql
todo check if mimer sql cannot handle way db does
todo if we using identity columns fetch identifier
todo check there no actual definition elemnents when ref defined
tablenull association fill it in later todo fill in mappings table null
tablenull association fill it in later todo fill in mappings table null
todo add support read write nonstrict read write \? \? \?
todo return new lock ts
todo why n't these same \?
todo if we support multiple fetch groups we would need to clone set of lazy properties
todo mappings getlogicaltablename ownertable
todo if lock gettimestamp equals ts
todo always true now but not if we later decide to support elements in from clause
we could move this inside if we wanted to tolerate collection initializations during collection dirty checking
see if user configured multiplexer stack
root entity comes last
elementtype \? \?
scan query string class names appearing in from clause and replace with all persistent implementors of classinterface returning multiple query strings make sure we do n't pick up class in select clause
identifier collections not supported to many
potentialtrimcharacterargindex assumes that trim specification has been specified we handle exception to that explicitly
overridden informational metadata
if current depth root thing being loaded many to many collection itself here it alright to use inner join
update removed rows fks to null
registerfunction trim new standardsqlfunction trim hibernate string
buf append selectfragment lhsalias ignore suffix collection columns
initialize set of queried identifier spaces ie tables
use suffix entity columns
we got here because we assumed that instance with assigned id detached when it really persistent
class hierarchy structure
remove current element from insertions it will be added back later
private final string roottablename
note this being used from process of shutting down sessionfactory specific things to consider this clearing of region should not propagate to other nodes on cluster if any this cache mode local option bit really just trying best effort to cleanup after ourselves lock failures etc not critical here this fail silently option bit
initialization
stuff that persister centric andor entityinfo centric
not null start with implicit
continue loop
return existing object or initialized proxy unless deleted
list of entity names that indicate batch number
disassembled state gets put in new array we write to cache by value
add these directly to executions queue
execute sql
sort updates by fk
this could also just be true all time
mapping of entity names to their latest batch numbers
chop last union all
note that sequential scrolling we make assumption that first persister element root entity
todo check this
deprecated saveorupdatecopy
check constraint violation unique index or primary key violation
closure of all properties in entire hierarchy including subclasses and superclasses of this class
expressionterminators add deliberately excluded
subclass discrimination works by assigning particular values to certain combinations of null primary key values in outer join using sql case
tokens that close sub expression tokens that open sub expression tokens that would indicate sub expression boolean expression
multi param numeric dialect functions
use theta style regression move node up after origin node
multi param date dialect functions
add main query
sqlexception support
add restriction to outer select
bit length feels bit broken to me we have to cast to char in order to pass when numeric value supplied but of course answers given will be wildly different these two datatypes will be bytes as char string but will be or bytes as true numeric jay nance
this assumes you will want to ignore any update counts
skip from keyword in params
custom sql
return newly loaded object
make it circular reference safe
cope with special cases of and not
subclass closure properties
dialects which known to not support ansi sql row value constructor syntax we should mutate tree
we have form trim from trimsource this functionally equivalent to trim trimsource early exit
subclasses
need to hydrate it
starts with implicitly
instantiate new instance
simple nullability constraint
we need to upgrade lock mode to mode requested
register type of out param oracle specific type
look proxy
features which change between and
evicts do n't cascade to uninitialized collections
features which remain constant across and
need to treat this as if it where optimistic lock all dirty does not make sense first we need to locate loaded state note it potentially could be proxy so perform location safe way
column sc gettable getprimarykey getcolumniterator next getname
might happen with managed connection
do n't need subclass tables because they ca n't appear in conditions
not final static to avoid possible classcast exceptions if using different oracle drivers
make certain that this called before any subsequent scheduledupdate aftertransactioncompletion
private list aliases new arraylist
reason this sql does n't let you sort by expression you not returning in result set
register resolvers set via environment property
existing collection that either non empty or uninitialized replaced by null or different collection if collection uninitialized hibernate has no way of knowing if collection actually empty without querying db
update all modified entries
special case where we need to force incloude all subclass joins
we did not find collection element in result set so we ensure that collection created with owner 's identifier since what we have empty collection
binary stream character stream
ignore it
getdefaultproperties setproperty environment statement batch size no batch
assumes that types all of span
hibernate impelemnts cast in dialect java
this root versioned table and we using version based optimistic locking if we not updating version also do n't check it unless this generated version column
aggregate functions should n't be registered right \? registerfunction list new standardsqlfunction list hibernate string stopped on list
its given optional object
decide which resultset to get property value from
properties of this class including inherited properties
otherwise assume parent criteria that created us
closure of all columns used by entire hierarchy including subclasses and superclasses of this class
we can go straight to first required row
now look up object we really interested in this lets us correctly handle proxies and multi row or multi column queries
before adding to collection
discriminator column
code to handle subclasses of topclass
none because its requested lock mode not actual
private final map propertytablenumbersbyname new hashmap
conceivable that dialect ctor could throw hibernateexceptions so do n't re wrap
class table
synchronized to avoid multi thread access issues defined as method synch to avoid potential deadlock issues due to nature of code
required to exception table iconst
now just re flatten metamodel since this temporary stuff anyway hhh
checkcast cast bean into raw bean
this one only really needed badly behaved applications if transactionmanager has sychronization registered its noop actually we do need it downgrading locks
checkcast case of primitive type invokevirtual case of primitive type
at this point we have drivingsqlalias sql alias of driving table corresponding to given user alias however driving table not necessarily table against which we want to apply locks mainly exception case here joined subclass hierarchies where we instead want to apply lock against root table all other strategies it just happens that driving and root same
this bean args raw bean exception
get first child to be considered sub classes may do this differently in order to skip nodes that not select expressions distinct
new bulkaccessorexception
as not in keywords
getfield get field javassist callback defined already
all distinctrootentityresulttransformer considered equal
dup
todo move this to sf per hhh also see hhh and componentmetamodel
putfield put field javassist callback defined already
configure cache to use our tm
local variables this callback
find batch number associated with current association if any
invokeinterface
we always assume instance with null identifier or no identifier property unsaved
ddl support
seems to not really public boolean supportsrowvalueconstructorsyntax return true
below cache' that do n't have str in there str and we register str directly
temporary
byte
column doesnt exist at all
note that string deprecated
if object already loaded return loaded one
create new lock that times out immediately
convenience methods relating to operations across arrays of types
we really could refresh item if it not lock but it might be slower return freshtimestamp txtimestamp
due to complexity in initializing selectclause do not generate one here if it not found simply return null also do not cache since it gets generated well after we created
discriminator
versiontype impl note simply returns null seed and next as only known application of binary types versioning use with timestamp datatype supported by sybase and sql server which completely db generated values
pre flushing section
use lower case function name remember whether we 're in select clause or not
upper deprecated
let this take precedence if defined since it works assigned identifiers
throw new unsupportedoperationexception ca n't write to readonly object
contract of entitytuplizer determineconcretesubclassentityname says that returning null indication that specified entity name this getentityname should be used
according to both ansi sql and ejb specs trim can either take exactly one parameter or variable number of parameters between and from sql spec trim from leading trailing both if only omitted both assumed if omitted space assumed
syntax used to add foreign key constraint to table
note it conceptually possible that usertype could map null to non null value so following arguable
note interfaces assumed to already contain hibernateproxy class
identifier commalist
assembled state gets put in new array we read from cache by value
we do not have to worry about queued additions to uninitialized collections since they can only occur inverse collections
disassemble named parameters
if not wrappered yet its dirty this ca n't occur because we now always call wrap before getting to here return obj instanceof persistentcollection \? true searchfordirtycollections persistentcollection obj type
again ccs did not have such concept but reasonable proximity to clear cache after transaction as long as underlying cache not jta aware
oracle driver reports to support getgeneratedkeys but they only support version taking array of names of columns to be returned via its returning clause no other driver seems to support this overloaded version
again ccs did not have such concept however reasonable proximity to clear cache non transaction aware caches we will also do clear at end of transaction
remove all collections entity from session level cache
invokeinterface callback write
moved up from abstractentitypersister
joins
if this entity and property identifier property then use getidentifiertype note that propertyname equals propertypath checks whether we have component key reference where component class property name same as entity id property name if two not equal this case and we 'd need to fall through to using property mapping
classes mentioned in extends not available so put it in queue
stuff that tuplizer centric
propertytablenumbersbyname put prop getname join
needed to bump this up to dotnode because that only thing which currently knows about property ref path in correct format it either this or recurse over dotnodes constructing property path just like dotnode does internally
access cached sql
stuff that tuplizer centric but passed session
figure out which tables need to be fetched
private final list persisters new arraylist
figure out which columns needed
it possible this method to be called during flush processing so make certain that we do not accidently initialize uninitialized proxy
figure out which formulas needed
get em on second pass
render sql
local cache so we use synchronization
sql strings
public static object clone class elementclass object array object result object array newinstance elementclass array length system arraycopy array result array length return result
identity support
if there no resulting row return null
load each type
unfortunately not really safe to normalize this to as initial value like we do others because we would not be able to control this if we using sequence
select topic syntax from information schema help where section like 'function order by section topic see also
optional sql string defined in where attribute
pass this as argument only to avoid double looking
version properties marked as being generated make sure they always generated aka insert invalid this dis allowed by dtd but just to make sure
added this caching as noticed that gettype being called multiple times
information about lazy properties of this class
if there any scalars non entities selected render select column aliases
information about all columnsformulas in class hierarchy
inner classes
column discrim getcolumniterator next settype type
saveorupdatecopy operations
dynamic filters attached to class level
loaded owner will be set to null after collection removed so capture its value as affected owner so it accessible to both pre and post events
temporary table support
assume we in auto commit state
custom sql
cascade first so that all unsaved objects get their copy created before we actually copy cascadeonmerge event persister entity copycache cascades cascade before merge
model getkey settype new type model getidentifier
syntax used to add column to table
simple because we ca n't have one to one or collection or even property ref in composite element
completely optional cascading drop clause
during deserialization we need to reconnect all proxies and collections to this session as well as entityentry and collectionentry instances these associations transient because serialization used different things
properties
sqlresulttypes type sqlresulttypelist toarray new type sqlresulttypelist size
identifier
we call getkeyfromresultset here so that we can know key value upon which to perform breaking logic however it also then called from getrowfromresultset which certainly not most efficient but call here needed and there currently no other way without refactoring of doquery getrowfromresultset methods
version
operations which cascade as far as collection also cascade to collection elements
where string
loop ensures atomicity of select update even no transaction or read committed isolation level
subclass property closure
in effort to avoid concurrent modification exceptions from potential recursive calls back through here as result of eventual call to persistentcollection endread we scan internal loadingcollections map matches and store those matches in temp collection temp collection then used to drive endread processing
before add
configured transaction factory says it only supports local callback mode so no sense attempting to register jta synchronization
handle any filters applied to class level
sybase driver jconnect throwing npe here in certain cases but we 'll just handle general unexpected case
only one to one lazy fetched
replicate does cascade to uninitialized collections
note early exit here
translates ast join type token type into joinfragment xxx join type param astjointype ast join type from hqlsqltokentypes or sqltokentypes return joinfragment xxx join type see joinfragment see sqltokentypes
note this assumes something about how propertyselectfragment implemented by subclass
deliberately ignore return value
strip leading
if metadata allowed proxy creation and caller did not request forceful eager loading generate proxy
if this from element collection and path collection property maxindex etc then generate sub query
otherwise return hydrated state ie associations not resolved
name of sql function that transforms string to lowercase
null owner ok \? \?
essentially if real session closed allow any method call to pass through since real session will complain by throwing appropriate exception note that allowing close above has same basic effect but we capture that there simply to perform unbind
automatically makes column with default name if none specifed by xml
just ignore
this exception returned by reflecthelper getconstructor if it cannot locate appropriate constructor
ok in normal hibernate usage to delete detached entity jpa however forbids it thus this hook hem to affect this behavior
null sql means that only lazy properties shared pk one to one associations which handled differently in type nullsafeget code
if property mapping consists of all formulas make it non updateable
user specifically supplied insert true which constitutes illegal combo
if property mapping consists of all formulas make it insertable
it might be unwrapped collection reference try to find wrapper slowish
custom sql
tablename mappings getnamingstrategy propertytotablename classname path
package
return
entry will be removed after flush and will no longer override stale snapshot this now handled by removeentity in entitydeleteaction persistencecontext removedatabasesnapshot key
bad cast
arraylist list new arraylist list addall getkey getconstraintcolumns list addall getindex getconstraintcolumns getcollectiontable createuniquekey list
property refs associations defined on component not supported so no need to slice
we have embedded composite identifier
if there no property ref assume join to subclass table ie table of subclass that association belongs to
stops flush being called multiple times if this method recursively called
create new from node referenced class
performance op to avoid array search
now get existing proxy each row element if there one
orphan delete used programmer error detection
empty means no scoping
enable hhh which we do n't like
lockmode anything
this forcecacherefresh forcecacherefresh
this collection initializer so we must create collection each of passed in keys to account possibility that collection empty and has no rows in result set
embedded component composite ids and unique note that this does not handle nested components
and perform load
aliases
cache these since they stateless this one could even be static
nested composite element
must occur after resolving identifiers
get persister subclass
aliases composite id 's
sqlqueryparser parser new sqlqueryparser sqlquery processor getalias persister processor getalias return aliases collaliases collpersisters suffixes collsuffixes sql parser process namedparameterbindpoints parser getnamedparameters
fetch embedded identifiers propertynames from virtual identifier component
we need to grab version value from entity otherwise we have issues with generated version entities that may have multiple actions queued during same flush
embedded composite ids alias idname alias idname
note we need to do wrap here even if its not dirty because collections need wrapping but changes to them do n't dirty container also versioned data we need to wrap before calling searchfordirtycollections
todo skip formulas \?
guid support
invokeinterface invoke enabled getinterceptfieldcallback
hibernate seems to ignore this type
do n't need filters static loaders
user requested greater more restrictive form of pessimistic lock
do two passes collection property ref
public boolean droptemporarytableafteruse we have to because postgres sets current tx to rollback only after failed create table return true
select correct row by either pk or rowid
optimizer getfactory getsettings getbytecodeprovider getreflectionoptimizer mappedclass getternames setternames proptypes
todo eventually rowidname
include discriminator and class level where but not filters
lazy join
not absolutely necessary but helps some equals hashcode implementations
this property of table which we updating
if hibernate mapping did not specify schemacatalog use defaults specified by properties but note that if schemacatalog specified in hibernate mapping or as params they will already be initialized and will override values set here they in identifiergeneratorproperties
this should only be possible if caches constructor injected
transactions marked rollback only cause some tm impls to throw exceptions
special shortcut id properties skip join this must only occur at end of path expression
impl note due to delayed population of setters setters cached performance we really cannot pro perly define equality this transformer
column simplevalue ic getindex getcolumniterator next setnullable false
we have mapped identifier property and root of incoming property path matched that identifier property
contained elements
non inverse one to many with not null fk add backref
to stop class from being unloaded
mappings might contain either raw extends name in case of entity name mapping or fqn in case of pojo mapping
objects that came in via update
use dialect default properties
increment version number if necessary
cache provider needed when we either have second level cache enabled or query cache enabled note that usesecondlevelcache enabled by default
information about all properties in class hierarchy
string provider properties getproperty environment bytecode provider log info bytecode provider name provider bytecodeprovider bytecodeprovider buildbytecodeprovider provider settings setbytecodeprovider bytecodeprovider
informational metadata
we using all or dirty property based optimistic locking
orphans should be deleted during saveupdate
maybe concrete sqlpropertyresult type but map exactly what required at moment
some reason antlr commonast initialization routines force this method to get called twice first time with empty string
do check
sqlaliassuffixes element getcolumnaliassuffix
void setshowsqlenabled boolean showsql void setformatsqlenabled boolean formatsql
materialize associations and initialize object later
private componenttuplizerfactory componenttuplizerfactory todo hhh and hhh
fetch join overrides default laziness fetch join overrides default laziness
drop them in reverse order in case db needs it done that way
this check needed since processing leaves cursor after last physical row current logical row thus if we after last physical row this might be caused by either scrolling to last logical row scrolling past last logical row in latter scenario previous logical row really last logical row in all other cases we should process back two logical records current logic row plus previous logical row
owning entity may have been deleted and its identifier unset due to identifier rollback in which case try to look up its identifier from persistence context
build array with indices equal to total number of actual returns in result hibernate will return this query scalars non scalars
public componenttuplizerfactory getcomponenttuplizerfactory return componenttuplizerfactory
mckoi has no known variation of select update syntax
it or referenced somewhere
should be ok performance wise to generate new delegate instances each request since these locally stack scoped besides it makes code much easier to read than old transactionhelper stuff
nothing to do even if operand parameter no way we could infer appropriate expected type here
root of incoming property path matched one of embedded composite identifier properties
add normal properties
serialization
add discriminator
handles arrays and newly instantiated collections
if either its role changed
noncritical swallow and let other propagate
we will need to create new entries
this piece needed usage in select clause
no op we do n't own cache so we should n't stop it
key entity involved with operation performed by listener value can be either copy of entity or entity itself
get names of columns used to link between collection owner and collection elements
let 's assume that there only one lazy fetch group now
more specifically \? op datetime if operator minus param needs to be of some datetime type if operator plus param needs to be of some numeric type
do n't even bother trying to read any further
prepend value and type list with null any positions before wanted position
referencedcolumnname not used backward compatibility
static helper methods
base expectation impls
this property belongs on table and to be inserted
need to extract component values and check subtype replacements
add primary key
impl note allows multiple collection fetches as long as entire fecthed graph still points back to single root entity return
registercolumntype types blob mediumblob registercolumntype types blob blob
delegate already handles pk columns
ie statusdeleted
kept backward compatibility until after beta release of ha
legacy behavior apply bridge
if exception occurs during flush user must call rollback
turn off includesubclasses on all fromelements
ca n't just return null here since that would cause owning component to become null
object transient or detached
now update only tables with dirty properties and table with version number
render sql query
we must return valid rdmsrsa command from this method to prevent rdmsrsa from issuing error
write values of fields onto prepared statement we must use state at time insert issued cos of foreign key constraints not necessarily object 's current state
registercolumntype types varbinary character registercolumntype types blob character use prior to cp registercolumntype types clob character
todo shouldnt inserts be expectations none \?
proxy cannot be transient and it breaks foreignkeys istransient
do n't bother trying to update we know there no row there yet
this root level node generate explicit from clause at root
check
actual cache of entries soft references used both keys and values here since values pertaining to mru entries kept in seperate hard reference cache to avoid their enqueuementgarbage collection
if all fields null we might need to delete existing row
note updates to joined tables ca n't be batched
string functions
starting index
object have been loaded with setreadonly true hhh
build resultsetmappingdefinition given containing element return xxx elements param resultsetelem element containing return definitions param path no clue param mappings current processing state return description of mappings
private list collectionowneraliases new arraylist private list collectionaliases new arraylist private list collectionpersisters new arraylist private list collectionresults new arraylist
write any appropriate versioning conditional parameters
check if detached object being merged parent
render sql query
determine if collection elements entities
do key key immutable so we can use current object state not necessarily state at time delete issued
let return propertys override whatever persister has aliases
we should use current object state ie after any updates that occurred during flush
might need to run different filter entirely after flush because collection role may have changed
amazingly these two will work because abstractcollection uses iterator to fill array
ca n't cache this stuff either per invocation we given map of user alias lock mode create new map of sql alias lock mode
note dirtyfieldsnull means we had no snapshot and we could n't get one using select before update oldfieldsnull just means we had no snapshot to begin with we might have used select before update to get dirtyfields
loop through all associations of current entity and make sure that they processed before current batch number
parametercontainer impl
temporary
note that if we load this collection from cartesian product multiplicity would be broken so use idbag instead
column and table should be renamed but it would break public api
many to many joins use tablename from queryable collection default text
int result result result type hashcode result result valuenull \? value hashcode return result
case of dynamic update true we need to generate update sql
merge operations
default to collections sharing entity cache if there one
commented out by inspection am public abstract void addcondition string alias string columns string condition
do n't need to check laziness dirty checking algorithm handles that
roottablename persistentclass getroottable getqualifiedname factory getdialect factory getdefaultcatalog factory getdefaultschema
case of dynamic update false or no snapshot we use static sql
abort save object already saved by circular cascade
if not get then try
remove initial and
default to sharing entity cache if there one
we have form trim trimsource so we trim leading and trailing spaces
case of dynamic insert true we need to generate insert sql
if it reference to self do n't need to nullify unless we using native id generation in which case we definitely need to nullify
user visible aliases which unknown to superclass these not actual physical sql aliases
case of dynamic insert false use static sql
if composite key use foo \? and bar \? or foo \? and bar \? batching todo unnecessary databases with ansi style joins
shortcut if its location did n't change
swaldman define style configuration parameters properties with hibernate specific overrides to detect and warn about conflicting declarations
not supported
need to use identifier type of collection owner since incoming value actually owner 's id using collection 's key type causes problems with property ref keys
if we instantiate collection during flush process we must ignore it rest of flush
moved up from abstractentitypersister
new collections that get found wrapped during flush should n't be ignored
meant to handle dynamic instantiation queries
newly wrapped collection not dirty or we get unnecessary version updates
always add collection 's query spaces
blob type requires size arguement this defaults to bytes no arg defaults to whole byte other argument mods include kilobyte megabyte gigabyte refer to pbdevelopers guide more info
detached collections that get found reattached during flush should n't be ignored
revert to traditional hibernate behavior of setting initialpoolsize to minpoolsize unless otherwise specified with style parameter
we need to utilize dynamic delete statements
columns add columnname aliases add tablealias
otherwise utilize static delete statements
intentionally empty
public boolean equals object other read return bag equals other public int hashcode object other read return bag hashcode
final boolean forcecacherefresh
just performance opt
essentially if we have local hibernate transaction in progress and it already has usertransaction cached use that usertransaction to determine status if transaction manager has been located use that transaction manager to determine status finally as last resort try to lookup usertransaction via jndi and use that to determine status
used to set type of parent dot node
all joins join to pk of driving table
more specifically datetime op \? if operator minus we really cannot determine expected type as either another datetime or numeric would be valid if operator plus param needs to be of some numeric type
notice that we skip first table it driving table
aliases named identifier alias idname
skip driving table
inserts
get 'em in right order not that it really matters
note early exit
trying via forname first to be as close to drivermanager 's semantics
this bit only really absolutely necessary handling requestedid but also good if we merge multiple object graphs since it helps ensure uniqueness
private boolean showsql private boolean formatsql
in case we deserialized in different jvm look instance with same name alternatively we could do actual jndi lookup here
try to make sure we do n't wrap and already wrapped session
if this implied join in from clause then use ansi style joining and set flag on fromelement that indicates that it implied in from clause itself
render where and from parts
there already existing batch this type of entity check to see if latest batch acceptable
allow these to go through real session no matter what
do n't really know all codes required to adequately decipher returned jdbc exceptions here simply allow failure to be eaten and subsequent insert selectsdeletes should fail
we could regerate this inside each called method
cascadingaction implementations
now render joins
if you 're closing down connectionprovider chances not real big deal just warn
create new batch this type batch number number of current batches
keyword support
this will add new from element to origin
now render select clause
keyword used to insert row without specifying any column values
now tie it all together
does limit clause take maximum row number instead of total number of returned rows \?
insertupdatedelete sql
keyword used to specify nullable column
select sql
overriden to avoid system exit
no need to check laziness dirty checking handles that
callable statement support
fully resolve map reference create implicit joins
break outer loop
since this entity will now be processed in latest possible batch we can be assured that it will come after all other associations there 's not need to continue checking
remove any snapshot not really memory management purposes but rather because it might now be stale and there no longer any entityentry to take precedence this now handled by removeentity session getpersistencecontext removedatabasesnapshot key
basic implementation to simply use node 's text
intersystems cache' does not current support select update syntax set your transaction mode to read committed before using
cascade to current collection elements
constructors
not really necessary but good consistency
try to find out name of primary key to create it as identity if identitygenerator used
we ca n't cascade to non embedded elements
postdelete after actually deleting row record fact that instance no longer exists on database needed identity column key generation and remove it from session cache
newly instantiated collection ca n't have orphans
do n't hold jbc node lock throughout tx as that prevents reads and other updates
check version unsaved value if appropriate
create sessionfactory from hibernate cfg xml
handle orphaned entities
ignore
check id unsaved value
if we get here it possible that we have proxy 'in way' of merge map resolution note decided to put this here rather than in above loop as nervous about performance of loop in loop especially considering this far more likely 'edge case'
check to see if it in second level cache
custom sql would be better if these private
our column span number of columns in pk
property references generate as
key
force immediate execution of insert
general purpose parameters
entities
constructors
loaded entity instances by entityuniquekey
allow any identifier quoted with backtick only recognizes identifiers beginning with letter
collections
configurable implementation
identity map of entityentry instances by entity instance
write html footer
entity proxies by entitykey
delete does cascade to uninitialized collections
snapshots of current database state entities that have not been loaded
nativesql collect key column and auto aliases
identity map of array holder arrayholder instances by array instance
unquotedkeycolumnnames stringhelper unquote keycolumnaliases
cannot occur
do n't need to lock cache here since if someone else inserted same pk first insert would fail
this not strictly true we actually just need to make sure that it ordered by root entity pk and that that order by comes before any non root entity ordering
try get
pass control along to rest of processing chain
set of entitykeys of deleted objects
all this only really needs to consider properties of this class not its subclasses but since we reusing code used sequential selects we use subclass closure
list of collection wrappers that instantiating during result set processing that we will need to initialize at end of query
protected void initpropertypaths final string path final type type final string columns final string formulatemplates final mapping factory throws mappingexception addformulapropertypath path type formulatemplates initpropertypaths path type columns formulatemplates factory
downgrade locks
column model gettable getprimarykey getcolumniterator next getname
do nothing
deserialize
actually semantics of next three really bag note that unlike objects collection insertions updates deletions not really remembered between flushes we just re use same lists convenience
public boolean isshowsqlenabled return showsql public boolean isformatsqlenabled return formatsql
with two deep subqueries same alias would get generated both using old method criteriaquery generatesqlalias so that now used as fallback if main criteria alias n't set
arraynull \? templist size
sort updates by pk
should be safe to only ever expect entitypersister references here
optimize hash size to eliminate rehash
unwrap object
impl note takes advantage of fact that escpaed single quote embedded within quote block can really be handled as two seperate quote blocks purposes of this method
entity associated with current action
this page intentionally left blank
unfortunately this stuff ca n't be cached because it per invocation not constant querytranslator instance
initialize unwrap object
sequence support
do not do anything
we ca n't batch joined inserts especially not if it identity insert nor can we batch statements where expectation based on output param
return proxied object
else no collection element but also no owner
we have form trim trimsource so we trim leading and trailing spaces early exit
overwrite old proxy
mru cache used to keep hard references to most recently used query plans note lru here bit of misnomer it indicates that lru entries removed actual kept entries mru entries
early exit
handles things like and or and or not and not not and between and overloaded and in overloaded brackets not not not null overloaded not etc and expressions like foo bar maps to foo id bar id foo bar 'foo' maps to foo bar 'foo' foo bar baz maps to foo bar bar id and bar baz foo bar baz maps to bar baz and foo bar bar id foo bar baz maps to bar baz and foo bar bar id and id foo bar baz maps to bar baz and foo bar bar id and id foo bar baz maps to bar baz and foo bar bar id
or should it actually throw exception \?
both many to one and one to one represented as property entitypersister relying on this value to determine lazy fetch groups in terms of field level interception so we need to make sure that we return true here case of many to one and one to one with lazy no proxy impl note lazy no proxy currently forces both lazy and unwrap to be set to true other case we extremely interested in here that of lazy proxy where lazy set to true but unwrap set to false thus we use both here under assumption that this return really only ever used during persister construction to determine lazy propertyfield fetch groupings if that assertion changes then this check needs to change as well partially this issue with overloading of term lazy here
property component
ids fully resolved so compare them with isdirty not ismodified
cant instantiate
queryjoinfragment join createjoinfragment usethetastylejoin
if it property of embedded component invoke on identifier
otherwise
starts with name of mapped class new style
treat it just like new collection
skip finalize methods
return fully resolved identifier value but do not resolve to actual referenced entity instance note owner of association not really owner of id
do this work only at very highest level of load do n't let this method be called recursively
public static jdbcexception newjdbcexception string string sqlexception root string sql string string sql log error string root logexceptions root return new jdbcexception string root sql public static jdbcexception newjdbcexception string string sqlexception root log error string root logexceptions root return new jdbcexception string root
note that each iteration of loop may add new elements
if we know there exactly row we can skip it would be great if we could always skip this it problem
this can never happen because this rule will always eliminate child not case not return getfirstchild not not
we need to obtain lock before any actions executed since this may be inverse true bidirectional association and it one of earlier entity actions which actually updates database this action resposible second level cache invalidation only
hhh make sure callback gets cleared otherwise instance stays in static thread local
no point doing this if none requested
while constructor running
there probably row there so try to update if no rows updated we will find out
note interface assumed to already contain hibernateproxy class
do nothing to avoid lazy property initialization
interfaces arguments
not called at runtime so does n't matter if its slow
todo
chop off rest of tree
get caller
prefer re generation of identity
get caller principals
refresh does n't cascade to uninitialized collections
private static final alias default alias new alias null
do nothing
public boolean isnonexistant entitykey key return nonexistantentitykeys contains key
generate id select fragment and then property select fragment each expression just like generateselectfragments
public boolean isnonexistant entityuniquekey key return nonexistententityuniquekeys contains key
special case this leaf of containment graph even though not immutable
iterate all entities currently associated with persistence context
according to both ansi sql and jpa specs trim takes variable number of parameters between and at least one paramer trimsource required from sql spec trim from leading trailing both if omitted both assumed if omitted space assumed
does this entity entry pertain to entity persister in which we interested owner \?
prepare persisters and link them up with their cache regionaccess strategy
check if managed object parent
allows various loaders ok mainly queryloader to check whether scrolling of their result set should be allowed by default it allowed
otherwise proxy pruned during serialization process
does not handle arrays thats ok cos they ca n't be lazy or newly instantiated collections so we can do cast
adds remove as sort of alias delete
unquotedidentifiercolumnname identifiercolumnalias
return lhspersister getsubclasspropertycolumnnames property
saves updates do n't cascade to uninitialized collections
early exit
create our own copy of user supplied tuplizer impl map
if identifier quoted remove quotes
we can do cast since orphan delete does not apply to newly instantiated collections arrays we ca n't track orphans detached arrays
truncate identifier to max alias length less suffix length
full joins not supported yet
you may still have other resultsets or update counts left to process here but you ca n't do it now or resultset you just got will be closed
null not considered same type as integer non nls non nls
properly handle property ref based associations
outerjoinsafterwhere needs to come before where clause to properly handle dynamic filters
determine id getter and setter methods from proxy interface if any determine all interfaces needed by resulting proxy
non nls
add another inner nested select add main query close off inner nested select
origin adddestination destination this cause of hhh origin settype from fragment set parent node type so that ast properly formed destination node will have all from text parent node collection join too voodoo see joinprocessor
then handle any user defined entity modes
strip off any leading 'and' token
then pojo tuplizer using dynamic map tuplizer if no pojo representation available
if condition not already there
this has been shown to happen occasionally in rare cases when using transaction manager transaction timeout where timeout calls back through hibernate 's registered transaction synchronization on separate reaping thread in cases where that reaping thread executes through this block at same time main application thread does we can get into situations where these cmes occur and though it not allowed per se end result without handling it specifically infinite looping so here we simply break loop
dontspace add
public componentmetamodel component component sessionfactoryimplementor sessionfactory
mysql
detect discriminator values
set custom entity resolver this entity resolver must be set before addxxx misc call default value link org hibernate util dtdentityresolver param entityresolver entity resolver to use
handle any filters applied to this collection
handle property ref
if we could not register synchronization do beforeafter completion callbacks ourself but we need to let jdbccontext know that this what we going to do so it does n't keep trying to register synchronizations
hashmap columnsunique new hashmap
null caused some problems
two conditions where we need to transform this to theta join syntax 'elem' root from element in correlated subqueries dotnode usethetastyleimplicitjoins has been set to true and 'elem' represents implicit join
cascade refresh prior to refreshing this entity
not sure if this would ever be null but wanted to be careful
even on inverse true
we need to dirty check many to ones with not found ignore in order to update cache not database since in this case null entity reference can lose information
register hibernate types default use in scalar sqlquery type auto detection
if true then execute db updates otherwise just generate and display updates
sqlfunction implementation
we only release connection
we only check version when upgrading lock modes
deprecated option
only carry on if method has no parameters
nativesqlqueryreturn
woops we got instance of another class hierarchy branch
composite id
create outerjoingenerator this dialect
actually this last test probably unnecessary since beforecompletion does n't get called during rollback
we need to step through rows one row at time slow
lock acquisition support
create dotnode ast path and resolve it
its already loaded so do n't need to hydrate it
orphans should be deleted during delete
swallow it and continue to roll back jta transaction
here we have two possibilities property name matches explicitly identifier property name property name matches implicit 'id' property name
so transaction already rolled back by jta spec
we found collection element in result set
this method noop if there synchronization
register standard dialect resolver
why all others non final \?
even though we might find pre existing element by join path we may not be able to reuse it
hella important optimization
return that type equals type equalshelper equals that value value
null child could occur no from clause in filter
'from element' that property in
since result set cursor always left at first physical row after last processed we need to jump back one position to get key value we interested in skipping
websphere however not sane jeejta container
loop through all associated entities and make sure they have been processed before latest batch associated with this entity type
sane jeejta containers transaction itself functions as its identifier
first try to find matching constructor accepting violatedconstraintnameextracter param
swallow transaction finished
will be ignored using existing entry instead
seconds
this property belongs to table and it not specifically excluded from optimistic locking by optimistic lock false
do n't hold transactional lock this
some collections not lazy
fix up resident flag
does limit clause come at start of select statement rather than at end \?
all aliastoentitymapresulttransformer considered equal
following two lines added to ensure that this params not null which can happen with two deep nested subqueries
set attributes of property reference expression
current batch number latest batch this entity type
take snapshot
we can inner join to superclass tables row must be there we can never inner join to subclass tables
never evict this node
does collection referenced by this fromelement specify order by attribute \? if so attach it to query 's order by
create join element under from element
merging of versioned entities we consider version having been changed only when two version values different and target actually represents database state this second condition special case which allows entity to be merged during same transaction though during seperate operation in which it originally persistedsaved
moved here from selectclause jsd
pre determine and cache hashcode
not between not between
make sure root node region exists and has dataversion that never complains
ps close just close it do not try to return it to pool note early exit
map of entitymode tuplizer
now write values of fields onto prepared statement
this virtual id property
current timestamp more accurate but only known to be supported in sql server and later sybase not known to support it at all
this one needed only guessentitymode
will check current level if some of them not null or sublevels if they exist
build dynamic map tuplizer
pointbase has no known variation of select update syntax
then dom tuplizer if dom representation available
see if entity already bound to this session if not look at entity identifier and assume that entity persistent if id not unsaved that we rely on foreign keys to keep database integrity
do work
if its uninitialized proxy it ca n't be transient
we 've been here before
return id so we can use it to reset proxy id return result
return false here as most databases do not properly support this construct
put standard tuplizers into tuplizer map first
hit database after checking session cache snapshot
found ctor but it not publicly accessible so try to request accessibility
our parent another dot node meaning we being further dereferenced thus we need to generate join unless parent refers to associated entity 's pk because 'our' table would know fk
private final sessionfactoryimplementor sessionfactory
search collections by reachability updating their role we do n't want to touch collections reachable from deleted object
cached efficiency
sql server just returns automatically
this sessionfactory sessionfactory
table support
it not embedded so argument just id
we have specialized case of detached entity from perspective of merge operation specifically we have incoming entity instance which has corresponding entry in current persistence context but registered under different entity instance
where fragment must be empty
or its key changed
int parameterstart getwalker getnumberofparametersinsetclause list allparams getidselectparameterspecifications iterator whereparams allparams sublist parameterstart allparams size iterator
miscellaneous support
we will need to remove ye olde entries
add current fragment to theta joins node
force initialize
lock does n't cascade to uninitialized collections
return currentid
unquotedidentifiercolumnname null
reset id
addinitializedcollection collection persister id
collectionpropertymapping processes everything except 'index'
if it uninitialized proxy pointing with this session then when it accessed underlying instance will be contained
reset version
note this simply constructs raw sql token representing where fragment and injects this into tree this works however it probably not best long term solution at some point we probably want to apply additional grammar to properly tokenize this where fragment into constituent parts focused on operators embedded within fragment
default to simply not lazy fetch properties now
aliases identifier alias id skip if entity defines non id property named 'id'
else if it 's elements changed
this assumes you will want to ignore any update counts
attributes maintained between flush cycles
now rebuild insertions list there batch each entry in name list
if original persistentcollection and that original not flagged as dirty then reset target 's dirty flag here after copy operation one thing to be careful of here bare original collection in which case we should never ever ever reset dirty flag on target because we simply do not know
session startpost flush persistent state
allow collectionsnapshot to be serialized
first break down returns into maps keyed by alias so that role returns can be more easily resolved to their owners
add second join one that ends in destination table
generate array of column names first dimension parallel with return types array second dimension list of column names each type
attributes used only during flush cycle
create sql token nodes columns
current means reference that found during flush
rdms has no known variation of select update syntax
ignore this row of results note early exit
add new node to map so that we do n't create it twice
return getfactory getsettings getbytecodeprovider getproxyfactoryfactory buildproxyfactory
not final because proxy factory creation can fail
register fromelement with from clause now that we have names and aliases
superclass entity name
first allow actual type to control return value actual underlying sqltype could actually be different
temporary
cascade save to collections after collection owner saved
pass along our initial embedded parameter node to first generated sql fragment so that it can be handled later parameter binding
loaded means reference that consistent with current database state
cache actual id of object not value of property ref which might not be initialized
init aliases after initing constructornode
you may still have other resultsets or update counts left to process here but you ca n't do it now or resultset you just got will be closed
multi param string dialect functions
during flush we navigate object graph to collections and decide what to do with them
save operations
collection cleardirty
'from element' that represents elements of collection
legacy behavior with no abstract attribute specified
constructors always considered scalar results
get ready to start adding nodes
use id column alias
collection types
note that this also true of datetime param
we do n't need to worry about existing version being uninitialized because this block n't called by re entrant load re entrant loads always have lock mode none
note this affects return value
istransactioncallbackregistered denotes whether any hibernate transaction has registered as callback against this jdbccontext only one such callback allowed directly serializing this value causes problems with jdbctransaction or really any transaction impl where callback local to transaction instance itself since that transaction not serialized along with jdbccontext thus we handle that fact here explicitly
note evict operates locally only does not propogate to any other nodes in potential cluster this exactly what needed when we destroy here destroy used as part of process of shutting down sessionfactory thus these removals should not be propogated
generate inner join elements need to be joined to collection they in
otherwise perform deep equivalence check
need to account allowable within variant
expected parameter type injection we expect that lhs represents some form of property ref and that children of in list represent one or more params
if there no where node make one
we found it in temp pc should indicate we in midst of processing result set containing eager fetches via join fetch
add type to list of returned sqlresulttypes
create one
persists do n't cascade to uninitialized collections
lobs cannot be compared
blobs ignored by merge
hhh implied joins in subselect where clause destination needs to be added to destination 's from clause not sure if this will fix everything but it works
value entity name
handle assumed valid cases only valid datetime addition synatx one or other datetime but not both
optimization
map of batch numbers to entityinsertaction lists
optimization optimization
we do n't need to worry about any condition in on clause here tofromfragmentstring since anything in on condition already applied to whole query
re snapshot
difficulty here exactly what do we update in order to force version to be incremented in db
convenience to save some lookups
regions can get instantiated in course of normal work named query region will be created first time query executed so suspend any ongoing tx
note this not updated when properties fetched lazily
ident node can represent index expression if ident represents naked property ref note this makes assumption which currently case in hql sql grammar that ident first resolved itself addrexpr resolve other option if that changes to call resolve from here but it currently un needed overhead
early exit
public list getcollectionaliases return collectionaliases public list getcollectionowners return collectionowners public list getcollectionowneraliases return collectionowneraliases public list getcollectionpersisters return collectionpersisters public map getalias persister return alias persister public boolean iscollectioninitializer return iscollectioninitializer public list getpersisters return persisters public map getalias owneralias return alias owneralias public list getscalartypes return scalartypes public list getscalarcolumnaliases return scalarcolumnaliases public list getpropertyresults return propertyresults public list getcollectionpropertyresults return collectionresults public map getalias return return alias return
this solution would allow us to eliminate owner arg to disassemble but what if collection null and then later had elements added \? seems unsafe session getpersistencecontext getcollectionentry persistentcollection value getkey
xml entity name
named query parameter
tolerates nulls
check to see if our proppath actually represents property on persister
add token to ast
use table fromelement and property name to get array of column names
set up cache factory
we need to strip off embedded parens so that sql gen does not double these up
memory optimization
sqlresulttypelist
if this implied join in from element then use impled join type which part of tree parser 's state set by gramamar actions
metatype assumed to be single column type
end unit of work
row id
multitables
final list extendsqueue
make sure jbc does n't look one up
get all select expressions that we just generated and render select
visit width first then depth
if uresolved property path n't set yet just use property name
look through fromelement 's children to find any collections of values that should be fetched
return associationtype foreign key to parent this better but causes transient object exception
collections of values
copied from session
explicit many to many relationship add second join from intermediate many to many table to destination table also make sure that from element 's idea of destination destination table
this should not happen since dtd prevents it
need to parse off column qualifiers this assuming which true as of now that this only used from update and delete hql statement parsing
current join represents join between many to many association table and its target table here we need to apply any additional filters defined specifically on many to many
if from element represents join fragment and it theta style join convert its type from join fragment to from fragment
check basic level one nullablilty
add zero or quite low timeout option so we do n't block ignore any timeoutexception basically we forego caching query result in order to avoid blocking reads done with suspended tx so they should not hold lock long not caching query result ok since any subsequent read will just see old result with its out of date timestamp that result will be discarded and db query performed again
values not null and checkable we 'll look deeper
possibly handle something parameters query \?
non null args check components and elements containing components
if we want to handle it bidirectional and detached we also need to load this collection with eager outer join fetch this time with criteria and not hql
cache hashcode
public propertyprojection project return projections property getpropertyname
persistent collections may have components
we have jbcwritemutex so no other local thread will be trying to write this key it 's possible here some remote thread has come in and changed values again but since we reading values to write to jbc right now we know we writing latest values we do n't assume that what we cached in entry update above what we should write to jbc now our write could be redundant we writing what some remote thread just came in wrote there chance that yet another remote thread will update us and we 'll then overwrite that later data in jbc but all remote nodes will ignore that change in their localcache only place it will live will be in jbc where it can only effect initial state transfer values on newly joined nodes populatelocalcache
test out optimizer
registercolumntype types varchar mediumtext
ident might be name of class
here we do n't want to suspend tx if we do we might be caching query results that reflect uncommitted changes no tx no wl on cache node so other threads can prematurely see those query results no tx immediate replication more overhead plus we spread issue above around cluster
todo
regression testing against output from old parser found it easiest to simply reorder fromelements here into ascending order in terms of injecting them into resulting sql ast in orders relative to those expected by old parser this definitely another of those only needed regression purposes syntheticandfactory then simply injects them as it encounters them
st settimestamp index new timestamp cal gettimeinmillis cal jdk only
arbitrary on clause ignored
st setdate index new date cal gettimeinmillis cal jdk only
from javax naming referenceable
both timestamps
first collect all of select expressions note this must be done before invoking setscalarcolumntext because setscalarcolumntext changes ast
at least one plain old date
swallow it transaction successful or successfully rolled back
check all components values in collection
after all persisters and named queries registered
do test
limit support ala top
if close called guarantee unbind
or byte or text \? or money
noop
implied dotnode usethetastyleimplicitjoins
if corresponding sql value null reader we got null as well
if there no data type this node and we 're at end of path top most dot node then this might be java constant
fetch reader content up to end and put characters in stringbuffer
return stringbuffer content as large string
where clause added to eliminate this statement from brute force searches
or types longvarchar \?
todo
we ignore minimalputoverride jbosscache putforexternalread already about as minimal as we can get it will promptly return if it discovers that node we want to write to already exists
forcefully remove leading ands from where fragments grammar will handle adding them
non arrays we do n't need to know element class elementtype returnedclass
grab its state from resultset and keep it in session but do n't yet initialize object itself note that we acquire lockmode read even if it not requested
different nullability rules pkfk
if types report logical equivalence return true
cache this
subquery alias to use depends on few things we already know this not overall select if this from element represents correlation to outer most query if outer query represents multi table persister we need to use given alias in anticipation of one of multi table executors being used as this subquery will actually be used in id select phase of that multi table executor otherwise we need to use persister 's table name as column qualification otherwise not correlated use given alias
only really need new array during semiresolve
classic translator does not support collection of ordinal param metadata
unwrap it
unfetched association can only point to entity that already exists in db
here we work under following assumptions valid cases datetime something other than datetime always results in datetime db will catch invalid conversions datetime datetime always results in double datetime something other than datetime always results in datetime db will catch invalid conversions invalid cases datetime datetime something other than datetime datetime datetime any type datetime any type any type datetime doing so allows us to properly handle parameters as either left or right side here in majority of cases
let interceptor inspect instance to decide
types represented in sql result set return types represented in sql result set
let persister inspect instance to decide
cascadingaction contract
todo
create new filters node as parent of all filters
if there no tm configured we will not be able to access javax transaction transaction object in order to register synch anyway
establish region root node with non locking data version
public object instantiate object parent sessionimplementor session throws hibernateexception
nothing to do
we use assumed value if there one to avoid hitting database
context entity identifier returns null explicitly if entity not associated with persistence context so make some deeper checks
int count
putfield new value of field
not really necessary guess
clobs ignored by merge operation
first key found after given key
collections cannot be compared
remember uk value
noop
processcollectionproperty token getcollectionpersister collectionrole collectionname
we must use remembered uk value since it not available from entityentry during assembly
collections do n't dirty unversioned parent entity
return false
this just handles particular case of component projection perhaps get rid of it and throw exception
note we avoid joining to next table if named property just foreign key value
key owning entity itself so get id from key
checkforend false
ignore subselect keywords
copy elements into newly empty target collection
end of array start filling again from start
null target or target which same as original we need to put merged elements in new collection
we ran out of keys to try
by default just use unanticipated capacity since we do n't know how to extract capacity to use from original here
first id found after given id
we ran out of ids to try
get elements back into target making sure to handle dirty flag
check if collection currently being loaded
check if it already completely loaded but unowned
initialize this collection
create new collection wrapper to be initialized later
some jdbc drivers erroneously return empty array here null db value
cannot batch fetch by unique key property ref associations
we already know current not null
owner of association not owner of id
constructors
instance variables
public methods
compare two maps equality
simple tests that require no synchronization
sybase fail if we do n't do that sigh
stream closed in finally
release jdk internal caches everytime to ensure this plays nicely with destroyable class loaders
try to pretty print it
otherwise just dump it
its interface so we ca n't really tell anything
use default behavior
note early return
we want to be able to just use defaults if jndi environment properties not supplied so do n't put null in anywhere
clone
serialize
warning can cause recursive calls proxy initialization
static methods only hide constructor
'character
returnign null
includes last
to include following
first time we find match
entitynames may now include slashes representations classname may be inner class
wrapped iterators
index of current iterator in wrapped iterators array
current iterator
last used iterator
it boolean expression
call this before any iterator method to make sure that current iterator not exhausted
doable if needed
set last used iterator here in case user calls remove before calling hasnext or next although they should n't
peek ahead
if we reach end of string wo finding matching end that exception
there no queued additions and role has cache
print page
and this not forced initialization during flush
we have placeholder spin forward till we find end
make sure spinning forward did not put us past end of buffer
first try to locate this resource through current context classloader
next try to locate this resource through this class 's classloader
next try to locate this resource through system classloader
anywhere else we should look \?
would need identityset this
arrays aslist does n't do primitive arrays
aload
faster \?
pass entity name if not collection id
right represents joins originating from left or both right and left reprersent joins originating from same fromelement
name of class
its listener class name
allow
default to element set if no elements specified
look instance by uuid
first lets determine whether to apply cglib or javassist based instrumentation
make sure we do n't override previous set values
entirely optional
its listener instance or better be
context unbind boundname
readresolveobject
cfg setproperty hibernate show sql true
defensive convenience methods
make sure you log exception as it might be swallowed
begin unit of work
write html header
handle actions
start session to be used this request
cleanup code
make session available to session factory 's current context
remove session from current context
eager fetch collection so we can use it detached
event anevent event session createcriteria event class setfetchmode participants fetchmode join add expression eq id eventid uniqueresult eager fetch colleciton so we can use it detached
end of first unit of work
or bidirectional safety method setting both sides aperson addtoevent anevent
begin second unit of work
reattachment of aperson
getemailaddresses might trigger lazy load of collection
we need our tm so get it now and avoid doing other work if there problem
jbc put version in node when it created as part of some internal operation we always newer but if jbc version something odd has happened
not null if isolation level has been specified in configuration file otherwise it left to driver 's default value
configured outside of hibernate servlet container or java bean container already has proxool pools running and this provider to just borrow one of these
loading collection xrefs
collection load contexts
cache of actual plans
as always optional consistency with sqloql
process new hql style where aliases assigned after class name or path expression ie using as construction
primitive type invokespecial
start performing updates
array of primitive type do nothing
jdbc params based
do n't care
on inverse it makes sense that if threadlocalsessioncontext bound session then gets deserialized to go ahead and re bind it to threadlocalsessioncontext session map
recognition code
handle path expression or class name that appears at start in new hql style or alias that appears at start in old hql style
important reuse same event instances performance
do n't care about other param types here just those explicitly user defined
handle not not between not in
named parameter
could be either ordinal or jpa positional parameter
strip where
peek ahead showed this as jpa positional parameter
make sure this name integral
at very least cleanup data
seconds
cannot be instantiated
transfer explicitly defined entity name handle lazy attribute
keep behavior consistent even boundary usages
perform actual work
do failfast put outside scope of jta txn
get meta 's from
ignore
parameters on property mapping should override parameters in typedef
note special case default to join and non lazy second join of many to many
create node initially with param name so that it shows appropriately in original text attribute
dynamic insert
so we clock over on first invocation
state
finally handle exception
detached collection that belonged to different entity
void setcomponenttuplizerfactory componenttuplizerfactory componenttuplizerfactory this componenttuplizerfactory componenttuplizerfactory
element index id
note that it might be better to iterate snapshot but this safe assuming user implements equals properly as required by set contract
collections detect changes made via their public interface and mark themselves as dirty as performance optimization
saveorupdatecopy deprecated
set it
collectionpersister should not be null but we do n't want to throw exception if it null
case multi token keywords group by and order by next token lt should be 'by' otherwise this just ident
default sqlexceptionconverter all dialects based on sqlstate since sqlerrorcode extremely vendor specific specific dialects may override to return whatever most appropriate that vendor
only necessary postgre
otherwise null or brand new collection this will also inefficiently handle arrays which have no snapshot so we ca n't do any better processarrayornewcollection collection type
detached collection that originally belonged to same entity
add comment nest main query in outer select add rownnumber bit into outer query select list
you may still have other resultsets or update counts left to process here but you ca n't do it now or resultset you just got will be closed
note object sql datatype mappings see configuration manager advanced sql system ddl datatype mappings tbd registercolumntype types binary binary changed jsl
see if second lookahed token can be identifier
case current token after from and before
trim end keyword string expression from string expression use hibernate implementation from one of parameters they pass in position \? registerfunction trim new sqlfunctiontemplate hibernate string trim \? \? from \?
whether this dialect has identity clause added to data type or completely seperate identity data type
eq null null
create nodes that track line and column number
add not if it 's negated
eq null null
path ast should be dotnode and it should have been evaluated already
force substitution
if if otherwise handle error normally
database now holds lock object flushed from cache so release soft lock
now update object has to be outside main if block above because of collections
named queries
this situation where entity id assigned by post insert generator and saved outside transaction forcing it to be delayed
grab its state saved at deletion
grab its current state
this will throw error if there 's something wrong
collection deletions special case since update can add deletions of collections not loaded by session
if natural id marked as non mutable it not retrieved during normal database snapshot operation
watch out case where old still referenced somewhere in object graph which user error
slice to get columns this component property
schedule update note that we intentionally do not pass in currentpersistentstate
substitutes into values by side effect
give interceptor chance to process property values if properties modified by interceptor we need to set them back to object
not eq ne
compare to cached state ignoring collections unless versioned
if it dirtied by collection only
check nullability but do not perform command execute we 'll use scheduled updates that
this 'dot' expression now refers to resulting from element
not like not like
collectionentry isreached stuff just to detect any silly users who set up circular or shared references betweento collections
detached collection wrappers that get found reattached during flush should n't be ignored
not not null null
unique property value represented here may or may not be serializable so we do explicit check here in order to generate better error message
if version of newly instantiated object not same as version seed value use that as unsaved value
ie we never have to null out reference to uninitialized proxy
not not like like
give interceptor chance to modify property values
now we might need to recalculate dirtyproperties array
use current version
object loaded by update
ignore this row collection in process of being loaded somewhere further up stack
entity load contexts currently not yet used
dirty check against usual snapshot of entity
this implementation supposed to tolerate incorrect unsaved value mappings purpose of backward compatibility
wrap up any new collections directly referenced by object or its components
skip this check composite ids relating to dom entity mode alternatively we could add check to make sure incoming id value instance of element
upgrade lock if necessary lock result lockmode
now any collections that initialized inside this block do not get updated they ignored until next flush
not ne eq
we must clone embedded composite identifiers or we will get back same instance that we pass in
sub insertions should occur before containing insertion so try to do callback now
not le gt
not ge lt
not lt ge
entity not associated with session so try interceptor and unsaved value
and expected token type identifier then
igndore it
jsd fix hhh
if token can tell us if it could be identifier
we now at new tree level
dirty check against database snapshot if possiblenecessary
interceptor handled dirty checking
use delegate
get meta 's from
evict operations
get id from object
do put outside scope of jta txn
what version on database \?
hhh
will result in sql update
else do nothing do n't even reassociate object
no existing row do insert
inner classes moved here from sql gen
reference type
should be first but just to be safe
return proxy if appropriate
some filters affecting collection enabled on session so do not do put into cache
generate explicit join root dot node implied joins will be collected and passed up to root dot node
session considered to contain entity only if entity has entry in session 's persistence context and entry reports that entity has not been removed
and token could be identifer and error mismatched token error
if where clause specified in updatedelete query use it to limit returned ids here
default implementation if this node has data type and that data type not association then this scalar
resolve lhs fully generate implicit joins pass in property name so that resolver can discover foreign key id properties
if propertytype null and there n't parent just stop now there problem resolving node anyway
we do not look existing join on same path because it makes sense to join twice on same collection role
return new uninitialized proxy
this object already loaded
entity found in second level cache
intializes result by side effect
note max because first zero based while max not
shallow query ok although technically there should be no fetching here
delegate to queryloader
remember parameters compilation
package local methods queryloader delegate
double
now done in entityidentityinsertaction persister setidentifier entity id source getentitymode
use token as identifier
some statistics
safe from concurrent modification because of how entrylist implemented on identitymap
transform tree
parse query string into hql ast
we do not actually propogate antlrexceptions as cause so log it here diagnostic purposes
so this needs to be safe from concurrent modification problems it safe because of how identitymap implements entryset
only needed during compilation phase
update status of object and if necessary schedule update
schedule updates to collections
we need to lock collection caches before executing entity insertsupdates in order to account bidi associations
database has changed now so subselect results need to be invalidated
if collection dereferenced remove from session cache iter remove does not work since entryset not backed by set
phase parse hql into ast
key entity involved with operation performed by listener value flag indicating if listener explicitly operates on entity
get snapshot
public final currency getcurrency int col throws hibernateexception return currency get col
right represents joins originating from left
if query already compiled skip compilation
package private
remember that ordinal parameters numbers based
all clear
ignore token class name parameter and use specific token class
this query and we loading multiple instances of same collection role
early exit
before any callbacks etc so subdeletions see that this deletion happened first
ensures that containing deletions happen before sub deletions
cascade delete to collections before collection owner deleted
cascade delete to many to one after parent deleted
if it initialized proxy let cascade handle it later on
assign requested id to proxy before reassociating proxy
uninitialized proxy noop do n't even need to return id since it never save
initialize properties of event
return id in event object
transient or deleted
assume this newly instantiated transient object which should be saved rather than updated
this transient object with existing persistent state not loaded by session
check two adjecent nodes at top of from clause tree
cachedstate
detached collection
if collection belonged to different entity clean up existing state of collection
log debug calling onload
note performexecutions clears all collectionxxxxtion collections collection actions in session
ie entity came in from update
we need to check even if it not initialized because of delayed adds
note early exit
if template null we just write function out as it appears in hql statement
semantic action processing
find any entities that still transient after retry
initialize sql nodes here
check persistence context entry relating to this entity to be merged
deleted
set unresolved path in this node and parent set text parent
second lock timeout
property prop new property prop setname id prop setpropertyaccessorname embedded prop setvalue id entity setidentifierproperty prop
before cascade
continue we 'll find out if it ends up not getting saved later
cascade first so that all unsaved objects get their copy created before we actually copy
check that entity id requestedid
not collection \? return entity property mapping
collection of mappings used to circumvent component collection check below
otherwise destination node implied by from clause and from clause processor will automatically add it in right place
if first identifier in path referrs to class alias not class name then this correlated subselect if it 's correlated sub select use existing table alias otherwise generate new one
this uses pathexpressionparser but notice that compound paths not valid only bare names and simple paths
origin adddestination destination add query spaces
reset node type because rest of system expecting from fragment all we wanted factory to create right sub class this might get reset again later on anyway to make sql generation simpler
explicit true this explict select arraylist sqlresulttypelist new arraylist
sqlresulttypelist add type generate select expression
if expression list has exactly one expression and type of expression collection then this might be collection function such as index or size
uber rule here that we need to include subclass joins if fromelement in any way dereferenced by property from subclass table otherwise we end up with column references qualified by non existent table reference in resulting sql
cascade first so that all unsaved objects get their copy created before we actually copy
copyvalues works by reflection so explicitly mark entity instance dirty
following variables stacks that keep information about each subexpression in list of nested subexpressions we currently processing
no need to even collect this information if persister considered multi table
as soon as we encounter our first letter return substring from that position
retrieve value of designated column in current row of this resultset object as java io reader object
arrays replaceelements may return different reference since array length might not match
should not be able to reach last without maxposition being set unless there no results
do not use proxiesbykey since not all proxies that point to this session 's instances in that collection
this should be call to resolve not resolveidentifier 'cos it might be property ref and we did not cache referenced value
if we have not found ignore association mapped to formula we always need to dirty check it so we can update second level cache
we now have value of property ref we reference however we need to dig little deeper as that property might also be entity type in which case we need to resolve its identitifier
true if this query and we loading multiple instances of same collection role otherwise this collectioninitializer and we loading up single collection or batch
persister
this method should be implemented assuming it 's valid to do startstopstart leave state appropriate another start
we do n't want to waste effort setting option if jbc already in local mode if jbc repl sync then check if they passed config option to disable query replication
see if we had nd invalidation from same initial preinvalidation timestamp if so only increment if new current value increase
if workspace node has null as well ok if not we 've been modified in non comparable manner which we have to treat as us being newer
maintain correct duplication if loaded in cartesian product
datasource unpooled datasources unpooleddatasource jdbcurl props getproperty environment user props getproperty environment pass
short circuit no new elements old list contains only orphans no old elements so no orphans neither
get updated snapshot of entity state by cloning current state it safe to copy in place since by this time no one else should have has reference to array
persister iscacheinvalidationrequired
long
set existing pool flag to true
validate that alias name provided to determine which pool to use
we have created pool ourselves so shut it down
load which takes entity does not pass entityname
note expected in syntax typelistenerclass sep typelistenerclass where sep any whitespace or comma
tree cache in optimistic mode seems to have as very difficult time with remove calls on non existent nodes npes
it does not refer to alias of projection look property
do nothing persistent instances
optimisticcache impl
option setdataversion nonlockingdataversion instance
assume true since we do n't really know and it does n't matter
show modified ast
note firstrow zero based
initialize dirty flags arrays collections with composite elements and reset reached doupdate etc
tell dot node about join type
among other things updatereachables will recursively load all collections that moving roles this might cause entities to be loaded
post flushing section
otherwise recreate mapping between collection and its key
create parameter specification collection filter
attach any mapping defined order by fragments
we found some extends attributes referencing entities which not already processed here we need to locate all entity names and class names contained in this document itself making sure that these get removed from extendz list such that only extends names which require us to delay processing external to this document and not yet processed contained in returned result
make sure that persister versioned
native sql queries param metadata determined outside any relation to query plan because query plan creation andor retreival native sql query depends on all of return types having been set which might not be case up front when param metadata would be most useful
this function has template redirect output and catch arguments
use id assigned to instance
if no array holder we found unwrappered array this ca n't occur because we now always call wrap before getting to here return ahnull \? true searchfordirtycollections ah type
collection loaded in current session can not possibly be collection belonging to entity passed to update
if data type not association type it could not have been in from clause
we need to generate ids as part of this bulk insert note that this only supported sequence style generators and post insert style generators basically only in db generators
first look reference to projection alias
handle trace logging
if there no collection fetches then no further checks needed
commented out by inspection am int getwarningcount
if threadlocalsessioncontext bound session happens to get serialized to be completely correct we need to make sure that unbinding of that session occurs
make sure no alias applied to table name
switch
use explicitly declared select expression determine return types indicated by each select token
select clauses insert statements should alwasy be treated as shallow
after that process joins invoke delegate to do work as this farily complex
cache impl
simple cache of param metadata based on query string ideally original user supplied query string should be used to retreive this metadata not para list expanded query string to avoid unnecessary cache entries used solely caching param metadata native sql queries see getsqlparametermetadata discussion as to why
alias references and identifiers use same node class
make new one
these just two unrelated table references
again both should be fromelements
check set of parentchild nodes in from clause tree to determine if comma required between them
phase analyze hql ast and produce sql ast
phase generate sql
otherwise we have non scalar select with defined collection fetch es make sure that there only single root entity in return no tuples
paramtranslations new parametertranslationsimpl collectedparameterspecifications
we already processing dot structure
should mean that no such property found
initialize error handling delegate
there explicit select expression \?
resolve everything up to this dot but do n't resolve placeholders yet
not not between between
just add 'not' parent
first save off pertinent ids as return value
check to see if connection in auto commit mode no connection means aggressive connection release outside jta transaction context so must be autocommit mode
first save off pertinent ids saving number of pertinent ids return
start performing deletes
do n't forget to resolve argument resolve collection function now
otherwise everything ok
re arrange tree so that collection function root and lhs path
protected regionrootlistener listener
inject where after parent
never include subclasses implied from elements
pessimistic locking we just want to toss out our ref to any old invalid root node and get latest may be null
rest only matters optimistic locking where we need to establish proper data version on region root
prepare left hand side and get data type
if this dot has already been resolved stop now
property another class
otherwise this primitive type
foo bars size also handles deprecated stuff like foo bars maxelement backwardness
timestamps we default to separate config
optimistic lock all include all updatable properties optimistic lock dirty include all properties we updating this time
this property belongs to table and it not specifically excluded from optimistic locking by optimistic lock false
information about properties of this class including inherited properties only really needed updatableinsertable properties
here we render select column list based on properties defined as being generated partial component generation we currently just re select whole component rather than trying to handle individual generated portions
note addduplicatealias already performs nullness checks on alias
if from clauses same we can be little more aggressive in terms of what we reuse
again null null here
otherwise subquery case dont reuse fromelement if we processing from clause of subquery
we know only lhs hand type so use that
referenced node text special 'id'
only identifier property field name can be reference to associated entity 's pk
append new property name onto unresolved path
tell destination fromelement to 'includesubclasses'
if lhs collection use collectionpropertymapping
do n't resolve node again
lists arrays sets maps bags
we have something like \? op rhs
we finish all removes first to take care of possible unique constraints and so that we can take better advantage of batching
use combination of foreign key columns and pk columns since ordering of removal and addition not guaranteed when child moves from one parent to another
make sure we do n't re release same cache
we use different delegate than non optimistic superclass default
we have something like lhs op \?
do n't create unique key 'cos some databases do n't like uk on nullable columns getcollectiontable createuniquekey getidentifier getconstraintcolumns
isset collection isset issorted collection issorted
we know only rhs hand type so use that
if jbc using invalidation we do n't want to propagate changes we use timestamps cache to manage invalidation
do n't hold jbc node lock throughout tx as that prevents updates add zero or low timeout option so we do n't block waiting tx 's that did put to commit
double check distributed cache
get exclusive right to update jbc this key from this node
one or other needs to be datetime us to get into this method in first place
nothing to do
add condition to join sequence that qualifies indexed element
sometimes use element table alias sometimes use umm collection table alias many to many
now set text this node it should be element columns
get function return value type based on type of first argument
this will call initialize tok
mutation depends on types of nodes invloved
logic operators by definition resolve to booleans
generated select expressions already resolved nothing to do
path may be reference to alias defined in parent query
hql class alias refers to class name
associate table alias with element
try parent fromclause
make sure that all from elements registered with this from clause actually in ast
invoke setscalarcolumntext on each constructor argument
collect select expressions skip first child because it class name
return empty type array
we ensure async semantics jbcache
if there no order by make one
initial load from jbc
find where if there no where find from
now inject newly built order by into tree
logic operators by definition resolve to boolean
render identifier select fragment using table alias
class names in from clause result in joinsequence old fromparser does this
will still be issued when it used to be null
otherwise use property mapping
standard comparator types not serializable but singletons
ignore
generate implicit joins only if necessary
if property special collection property name return collectionpropertymapping
collection of components
construct cache
ie seconds
we need to seed version value as part of this bulk insert
make sure lhs assignable
false indicates to not generate parens around assignment
currently allowed
in non select queries only time we should need to join if we in subquery from clause
return classalias null \? classname classalias
this explicit from element
swaldman define style configuration parameters initialpoolsize which hibernate sensibly lets default to minpoolsize but we 'll let users override it with style property if they want
fetch ca n't be used with scroll or iterate
if it 's not implied or it implied and it 's many to many join where target n't found
we need to wrtap param in cast
since this explicit from element it ca n't be implied in from clause
do nothing eplicit from elements always in projection list
propertyname refers to something like collection size
property name sub path of component
notify from element that it being referenced by select
dotnode uses null here
we represent from clause alias
we rhs of dot representing naked comp prop ref
we represent naked simple prop ref
early exit return so resolve call explicitly coming from dotnode can resolve this
assume this ident 's text does not refer to property on given persister
just ignore it now it 'll get resolved later
this not actually constant but reference to from element
these pieces needed usage in select clause
assume we do not refer to property on given persister
true if pool borrowed from outside false if we used to create it
get connection from pool thru drivermanager cfr proxool doc
set transaction isolation if defined
naked property refs cannot be used with aliased from element
do not over write column text as that has already been rendered during resolve
look up class name using first identifier in path
toggle autocommit to false if set
add to query spaces
return connection
if from element n't in same clause create new from element
correlated subqueries create 'special' implied from nodes because correlated subselects ca n't use ansi style join
super duper classic parser regression testing mojo magic
get configurator files if available
collection of entities
collection of components
default proxool alias setting
collection of scalar elements
we only build caches if none passed in passing in caches counts as clear statement of exactly what wanted
do n't include sub classes implied collection joins or subquery joins
treat explict from elements in sub queries properly
semantic action handling
append stem to proxool pool alias
configured using jaxp configurator
configured using properties file configurator
remember isolation level
if provider leeching off existing pool do n't close it
note because we 're using astutil createparent tree must be created from bottom up empty exists query select from from
root from element in correlated subqueries do need this piece
create from element target elements of collection
if join implied then do n't include sub classes on element
not really many to one association necessarily
associated entity implied but it must be included in from collection alias role
always overwrite nonversioned data
tag this node as join do n't include subclasses in join this clollection join
public currency getcurrency int col throws hibernateexception
get class name of associated entity
default pojo
use setparameter null values
origin path implied columns classalias
implied
implied many to many just add end join
interceptor returned null so do dirtycheck ourself if possible
note this
error message constants
standard sql function name current timestamp
scan next non whitespace token
this causes factory to instantiate desired class
private type sqlresulttypes
private cacheentry cacheentry
typefactory deepcopy currentstate proptypes persister getpropertyupdateability deletedstate session
frontbase has no known variation of select update syntax
public type getsqlresulttypes return sqlresulttypes
sqlresulttypelist addall constructorargumenttypelist
sqlresulttypelist add type
always add type to return type list
have entity entry perform post update processing passing it update state and new version if one
this entity defines proeprty generation so process those generated values
add fetched entities
oj getjoinable consumescollectionalias
just especially trivial collection filter
need to look it up from persistence context
sort first by role name
function support
update last non whitespace token if necessary
then by fk
nothing to do
arraylist sqlresulttypelist
this method called when new non null collection persisted or when existing non null collection moved to new owner
notafterclasstokens add
beforeclasstokens add new definitely don't have this
todo
remove initial
generate select expression
now update all changed or added rows fks
boolean put persister getcache insert ck cacheentry
union subclass support
skip 'distinct' and 'all' so we return first expression node
generate property select tokens
get function name node
this handles hhh where there strange property name in where clause if lookahead contains dot then something that n't ident
method expressions in select should always be considered scalar
areturn return value of field
do nothing we only need to notify cache
sort first by entity name
if this 'elements' then create new from element
then by id
not elements
dialect function
to be safe
collection 'property function'
if constant ident figure out what it means
no transformations took place so handle it as we would non instrumented class
ident class alias in from
resolve to identity column
see if entry represents class file
otherwise it 's literal
name of entity class
class discriminator value
add space before display text
find or create where clause
child parent getfirstchild
set name of bulk accessor
invokespecial
aload load bean
filter conditions need to be inserted before hql where condition and theta join node this because org hibernate loader loader binds filter parameters first then it binds all hql query parameters see org hibernate loader loader processfilterparameters
checkcast cast bean
put filters node before hql condition and theta joins
astore store bean
add current fragment to filters node
create new theta joins node as parent of all filters
aload args
put theta joins node before hql condition after filters
first try to get persister using given name directly
iconst continue to aastore growing stack
unable to locate it using this name
if that did n't work try using 'import' name
implicit joins use theta style where pk fk explicit joins use join after from
locate registered function by given name
determine type of first argument
use dot node to emit first column name create column names folled by column aliases
append text of current node
if node has first child recurse into first child
new
if there second child rhs recurse into that child
aload load raw bean
invokevirtual
aastore args
istore store
aload load bean
current stack len
iterate through alias joinsequence pairs and generate sql token nodes
this used during sqlgenerator processing
start region to handling exception bulkaccessorexception
if there from fragment and from element explicit then add from part
stringhelper isnotempty frag
iinc
from fragment will probably begin with remove this if it present
aload load raw bean
select from in class eg person order by name address
oracle sql state code deadlock
aload load args
otherwise try to use no arg constructor
iconst
eat it and try next
aaload
checkcast
default mode
checkcast case of reference type
current stack len
at some point processing went bad so we need to make sure connection handle gets released try to cleanup jta context as much as possible
end region to handling exception bulkaccessorexception
register in exception table
private constructor stops checkstyle from complaining
reset dotcount but not path after reset
after reset
following methods we do n't delegate since they have so little logic it 's clearer to just implement them here
dotcount
local variables target obj each oldvalue
astore store exception
aload load exception
this bean args raw bean
iload
do corresponding rhs
invokespecial bulkaccessorexception
athrow
warning classfile only
if its id
swallow
or its id property name
join createjoinfragment usethetastylejoin
local variable this
important
association
aload load this
allow index function
aload load callback
case of non static field
log message about potential connection leaks
getfield get each field
ifnonnull
return each type
store each type
many to many
ldc name of field
opening paren in new foo
if we inside new result but not inside nested function
invokeinterface invoke callback read each type
special case
name of sql function
this basically copypaste of orderbyparser might be worth refactoring
select from in class eg person group by name address
return aliases not supported in classic translator
int
register collection role
just do regular thing if you ca n't find ctor your ast must have default ctor to use this
keyword used to specify identity column if identity column key generation supported
getelementpropertymapping
following does n't handle null not null but unnecessary since this would mean all rows
crossjoins add name
ie no select clause in hql
invokeinterface enabled getinterceptfieldcallback
ifnonnull label
we lhs of dot representing naked comp prop ref
load
ie no select clause
putfield
there select clause
return
ldc field name
getfield old value of field
return concrete type or underlying type if concrete type not specified
not array
array of reference type
addcollection collectionname collectionrole
boolean
char
short
classic parser does not support bulk manipulation statements
float
this called when it 's time to fully resolve path expression
ca n't cache this stuff either per invocation
this legacy behaviour hql queries
bad type
not known
boolean byte char int short
need this since join condition can appear inside parens
expressionopeners add deliberately excluded
mainly oscache
decrement lock
recache updated state
noop
null clientlock remotely possible but will never happen in practice
by requiring we rely on lock timeout in case of unsuccessful update
user provided resulttransformer not one used with select new here to avoid mangling transformednon transformed results
disassemble positional parameters
otherwise trim specification andor trim character have been specified we need to decide which options present and do right thing should leading trim characters be trimmed \? should trailing trim characters be trimmed \? trim character what to be trimmed off \? trim source from where should it be trimmed \?
this called from settingsfactory irregardless trivial to simply disregard
do nothing subclasses may override
table
inside between and expression
odd or even number of nots encountered join string built up by compound paths inside this expression flag indicating if subexpression known to be boolean
ie many to many
cope with
cope with continued path expression ie baz
cope with subselect
use id value of newly instantiated instance as unsaved value
close extra brackets we opened
take note when this boolean expression
persister setidentifier result id before calling interceptor consistency with normal load
no op ccs did not have such concept
joinprocessor needs to know if where clause fragment came from dynamic filter or not so it can put where clause fragment in right place in sql ast 'hasfiltercondition' keeps track of that fact
process token mapping oo path expressions to sql expressions
open any extra brackets we might need
cope with special cases of and not
next one up must also be
add any joins
get meta 's from
get meta 's from
path expression
db objectname
just decrement lock do n't recache we do n't know which transaction won
mutable
container collections we load up when owning entity not yet loaded now this purely transient
where
polymorphism
properties that we have tried to load and not found in database
todo
anything else
path expression continues after
careful with this
path expression ends at
finish off join
notice no or since they part of compound identifiers
cannot instantiate
start by looking hql keywords
inner joins can be abbreviated to 'join'
'outer' optional and ignored
now anything that not hql keyword
process old hql style where aliases appear first ie using in or in class constructions
treat it as classname
treat it as path expression
starts with path expression new style
id
allow odmg oql style from person cars
handle quoted strings
version timestamp
primary key constraint
this either tag with no type attribute or tag
object insertions updates and deletions have list semantics because they must happen in right order so as to respect referential integrity
ignore whitespace
do replacements
handle hql collection syntax
uuid hex deprecated
abstractselectingdelegate impl
hilo params
sql query
ejb
performance opt
sql update
hilo config
do n't allow comments on these insert statements as comments totally blow up oracle getgeneratedkeys support
throw new identifiergenerationexception save associated object first or disable cascade inverse association
count
go ahead and set lazy here since pojo proxy can override it
dynamic update
import
batch size
we need to dirty check collections since they can cause owner version number increment
select before update
optimistic lock mode
first element of array reserved actual instance we loading
do nothing until we hit rsult set containing generated id
use delegate resolve identifiers as from element aliases
loaded entity instances by entitykey
if given name un qualified we may neen to qualify it
default
cascade save to many to one before parent saved
properties
joined subclasses
even process null collections
keep existing version number in case of replicate
source getpersistencecontext removenonexist new entitykey id persister source getentitymode
identity map of collectionentry instances by collection wrapper
tablename
table specific parameters
join getkey settype new type lazz getidentifier
source getbatcher executebatch found another way to ensure that all batched joined inserts have been executed
identifiergenerator implementation
persistentidentifiergenerator implementation
prepare and execute insert
column
if everything went ok commit transaction and close obtained connection handle
fetch generated id in separate query
we just hit last position
scroll ahead
scroll backward
column index
we have not yet hit last result
state
criteria impl
column unique key
do this when all properties updateable since there certain likelihood that information will already be snapshot cached
state
criteria impl
caches
generators
cache region defined by root class in hierarchy
jndi serialization
checking named queries
stats
entitynotfounddelegate
check named hql queries
prevents this session from adding things to cache
dynamic class
test this entity to see if we must query it
note early exit
backward compatability
ignore this error now
must add to jndi after adding to hashmaps because some jndi servers use serialization
look existing collection as part of persistence context
make sure this defined parameter and check incoming value type
each of defined parameters make sure its value has been set
we never need to apply locks to sql
deletes
updates
loading
select range terminated by declaration of from
any
insertable simply because that user did not specify anything just override it
properties generated on update can never be updateable
updateable only because user did not specify anything just override it
user specifically supplied update true which constitutes illegal combo
rolename
first try to load it from temp pc associated to this ss
otherwise immediately materialize it
no auto flushing to support in stateless session
fetch strategy
after setting values to object entitymode
sort
saveorupdate operations
update operations
lock operations
persist operations
persistonflush operations
delete operations
load get operations
refresh operations
unsorted natural comparator class name
replicate operations
set up second pass
do not auto flush while outside transaction
this internal error of some sort
do not return proxy this option indicates we initializing proxy
any we will have to use reflection
only collections belonging to deleted entities allowed to be dereferenced in case of orphan delete
if it previously unreferenced we need to flush in order to get its state into database in order to execute query
not internal use
otherwise we only need to flush if there in memory changes to queried tables
if it initialized see if underlying instance contained since we need to account fact that it might have been evicted
decode row selection
basically just adapted copy of find criteriaimpl
we need to writeobject on this since interceptor user defined
old time stand by
parameter bind values
parameter handling code
execution methods
note special case one to one constrainedfalse cannot be proxied so default to join and non lazy
use old hb defaults if outer join specified
we have cglib enhanced entity
we have javassist enhanced entity
fieldinterceptor impl
subclass accesses
fieldhandler impl
should not need to grow beyond size of total number of columns in rs
should probably no op commitrollback here at least in jta scenarios
various expectation instances
explicitly perform no checking
used from testsuite
generator
register synch stats connect
calls executebatch
no big deal
no big deal
see explanation above
if we in process of releasing no sense checking aggressive release possibility
early exit
resultset impl overridden
resultset impl delegated
id unsaved value
version unsaved value
not necessarily unique property reference
bind where
refer to comment in statefulpersistencecontext addcollection
connectionmanager callback implementation
note success false because we do n't know outcome of transaction
bind order by
we already have callback registered either local org hibernate transaction transaction has accepted callback responsibilities or we have previously registered transaction synch
bind filters
overriding inherited meta attribute hbx hbx
first iterate over all elements capable of defining extends attribute collecting all found extends references if they cannot be resolved against already processed mappings
sessionfactory name
jdbc and connection settings
interrogate jdbc metadata
user supplied jdbc connections
transaction settings
sql generation settings
query parser settings
second level query cache
sql exception converter
statistics and logging
settings setshowsqlenabled showsql
postinitialize will be called after initialization
settings setformatsqlenabled formatsql
cannot handle single quotes
schema export
todo private static final logger log loggerfactory getlogger sqlstatementlogger class this legacy logging 'category'
if dotted and not load collection nor return join regular property
do n't even bother trying to read further
private componenttuplizerfactory componenttuplizerfactory todo hhh and hhh private bytecodeprovider bytecodeprovider
public getters
generated properties can never be insertable
package protected setters
public bytecodeprovider getbytecodeprovider return bytecodeprovider void setbytecodeprovider bytecodeprovider bytecodeprovider this bytecodeprovider bytecodeprovider
using local since inheritedmetas at this point not correct map since it always empty map
protected list extendsqueue
extendsqueue new arraylist
componenttuplizerfactory new componenttuplizerfactory
if doc null then whatever reason cached file cannot be used
position cursor to last row
sequentially read result set in reverse until we recognize change in key value at that point we pointed at last physical sequential row logical row in which we interested in processing
read backwards until we read past first physical sequential row with key we interested in loading
finally read ahead one row to position result set cursor at first physical row we interested in loading
this method may be called many times
force proxy to resolve itself
this equivalent to old behavior
if null owner will be retrieved from session
iterator iterator extendsqueue iterator
iterator iter extendsqueue iterator
found
settings setcomponenttuplizerfactory this getcomponenttuplizerfactory
final string querystring
private final list extendsqueue
set use reflection optimizer to false to fix hhh
orphan delete not supported entitymode dom
element xmlhelper generatedom jelement persister getnodename
we can reuse it each row
ca n't reuse in this case
needed soap libraries etc
any earlier proxy takes precedence
first we need to suspend any current jta transaction and obtain jdbc connection
getresultlist results
if we only returned one entity query by key more efficient
element has been removed from set
element has changed
careful these methods do not initialize collection
needed so that we remove this collection from second level cache
override on some subclasses
override on some subclasses
do this bit after setting initialized to true or it will recurse
create collection holding orphans
collect entityidentifier of current elements add them into hashset fast access
iterate over old list
arraynull \? templist get
many to many decrement currentdepth here to allow join across association table without exceeding max fetch depth currentdepth bit
write does n't
this regression style determination which matches logic of classic translator
handle empty collection
handle empty collections
else this not collection initializer and empty collections will be detected by looking owner 's identifier in result set
finally what it 's all about
here we do not bother with discriminator
validate instances of validatable
null version means object in process of being loaded somewhere else in resultset
problematic
use id passed in
property collection
anyway here we implement semantics
search it note that this code incorrect other than one to many
composite key
if no batch use foo \? and bar \?
it must be collection fetch
needed later many to manyfilter application
etype isreferencetoprimarykey
collection wrappers by collectionkey keycollectionkey valuepersistentcollection
it might still need to apply collection ordering based on many to many defined order by
belong to other persister belong to other persister
we found it
we can use inner join many to many
disable join back to this same association
note unlike all other loaders this one not multithreaded or cacheable
alias may be null early exit
if it compound path
if its root criteria we done
otherwise recurse
criteria instance
entity name
not found in inner query try outer query
it refers to alias of projection
should never happen think
convert string value into proper type
and qualifier not alias of this criteria check to see if we belong to some criteria other than one that created us
otherwise this ordinary value
currently not cachable if autodiscover types in effect select
list operations
private final string sqlaliases private final string sqlaliassuffixes
this only needed afaict resulttransformer processing
replace with corresponding column aliases
no additional open braces found in string append rest of string in its entirty and quit this loop
apend everything up until next encountered open brace
pad with nulls from current last element up to new index
it simple table alias foo
passing through anything we do not know to support jdbc escape sequences hb
current alias referencing collection to be eagerly fetched
it property reference foo bar
private final list scalartypes new arraylist private final list scalarcolumnaliases new arraylist
now process returns
already been processed
make sure owner alias known
scalarcolumnaliases add typereturn getcolumnalias scalartypes add typereturn gettype
if this return 's alias has not been processed yet do so further processing of this return
collectionowneraliases add owneralias
from map
from sortedmap
cannot be instantiated
inject data
default pool size
if debug level enabled then log password otherwise mask it
register cleanup synch
wrap session in transaction protection proxy
then bind it
limit methods available if no transaction active
allow these deprecated methods to pass through
serialization
add temp entry so that next step circular reference safe only needed because some types do n't take proper advantage of two phase load esp components
this second pass through on merge op so here we limit replacement to associations types value types already replaced during first pass
handle collection fiter compilation important note this modifying input hql tree not output tree
private string propertyname
string fk stringhelper qualify collection cp getkeycolumnnames
collection where
unsupported
if not composite key use foo in \? \? \? batching if no batch and not composite key use foo \?
currently only hibernate supplied dbtimestamptype supported here
implicit polymorphism not supported would need union
pull off last
always do insert and let it fail by constraint violation
by default natural ids immutable constant
we have form trim from trimsource this functionally equivalent to trim trimsource
not supported should use jdbc preparedstatement getgeneratedkeys method
astore store raw bean
not so sure this even valid subtree but if it it 'd represent two unrelated table references
grrr differentiation of mysql storage engines
string keycols collpersister getkeycolumnnames
oracle did add support ansi case statements in
refresh does not pass entityname
informix does n't have bit type
not gt le
strip table owner because informix always returns constraint names as
build map of standard ansi sql aggregation functions
pre behavior super getreturntype ct
finally use sqltype if on hibernate types did not find match
because numeric can be anything
constructors and factory methods
standard sql functions can be overridden by subclasses
map secondminutehourdaymonthyear to ansi extract override on subclasses
database type mapping support
hibernate type mapping support
native identifier generatiion
limitoffset support
by default we report no support
sqlresulttypes selectclause getsqlresulttypes
by default we report no support nowait lock semantics
current timestamp support
identifier quoting support
by default
this now handled earlier in this method
loader implementation
loader overrides
not null not null
here assume sqlserver using snapshot isolation which does not have this problem
query translator methods
oracle and previous define only date type which used to represent all aspects of datetime
cascade
implementation private methods
trim off lengthprecisionscale
check violation
unique violation
foreign key violation
deduplicate unique constraints sharing same columns this needed by hibernate annotations since it creates automagically unique constraints user
to support dialects that have their own identity data type
not null violation
all other
register type of out param postgresql uses types other
seems to have spotty lob suppport
hhh
ignore probably not in classpath
numeric functions
used also generation of fk names
usually useless
do not add unique constraint on db not supporting unique and nullable columns
backward compatibility disable this
may be final may be final may be final
may be final
may be final
custom sql
primary key constraint
ignore it
time and date functions
system functions
not null implicit
display dialect version
nothing to do in stateful session
rdms concat function only supports parameters
flat recursive algorithm
identifier mapper getkey will be included in getnonduplicatedpropertyiterator and checked later so it needs to be excluded
dialect method overrides
original dialect java returns update
pass column name generated id almost always has single column
needed to satisfy keyvalue
verify state of this new method in hibernate dialect java
origial dialect java returns true
index should be last column listed
sequence methods start rdms dialect needs these
methods to make it possible to use native id generator
if it formula index use element columns in pk
do n't create unique key 'cos some databases do n't like uk on nullable columns
sequence methods end
used with drop table to delete all records in table
no foreign key element of one to many
todo we could just return all false
case of foreign key to something other than pk handled in createpropertyrefconstraints
object persistent
rdms supports union all clause
multi param dialect functions
function templates
not null implicit
this assumes schema support which present in and later
columnupdateability length
hsqldb only supports read uncommitted transaction isolation
entity associated with session so check its status
timesten has no blobclob support but these types may be suitable some applications length limited to million bytes
new methods in dialect
public boolean supportsforupdatenowait return false
timesten has no known variation of select update syntax
iterate entries ordered by capacity to find first fit
add new ordered map
expected type intrinsic here
return memberpersister getpropertytype propertyname
return memberpersister tocolumns alias propertyname
return memberpersister gettype
indexisformula
return isonetomany
instanceof associationtype
we need to determine best way to know that two joinables represent single many to many
strip leading
public boolean issubselectloadable
columns
sql statements
extra information about element type
types
custom sql
private final string unquotedidentifiercolumnname
return select current timestamp from rdb database
dynamic filters specifically many to many inside collection
dynamic filters collection
registercolumntype data types
ibid current time and current date
if we 've been blocking mutex perhaps another thread has already reestablished root in case node reestablised via replication confirm it 's marked resident status which does n't replicate
tell hibernate to use getbytes instead of getbinarystream
no batch statements
element
we might want special case this very common money types and here it converted to
no pointbase bit
no pointbase tinyint
nativesql collect element column and auto aliases
index and row select
sql server at least up through does not support defining cascade delete constraints which can circel back to mutating table
nativesql collect index column and auto aliases
registercolumntype types clob mediumtext registercolumntype types clob text
registercolumntype types varchar mediumtext registercolumntype types varchar text
generate sql
not all classpersisters implement propertymapping
handle any filters applied to this collection many to many
if there user specified loader return that todo filters \?
take care of any entities that might have been evicted
run subquery loader
we ca n't change tm on running cache just check if cache has no tm and we 're ok with that
sybase bit type does not support null values
we could register session against transaction even though it not started but we 'd have no guarentee of ever getting map entries cleaned up aside from spawning threads
needed by arrays
this assumes you will want to ignore any update counts
todo something with formulas
assertion
remove all old entries
create all new entries
delete all deleted entries
insert all new entries
technically incorrect here we need to wrap null values as bsh primitive null however this invokemethod will do that much us we need to generate conditional here to test null and return primitive null
looks bad with os apparently
very subtle if we leave this ensurephysicallineisvisible extra line will be added to scroll line count
only works jedit plugins
warning null callstack here do n't think we need stack trace to indicate how we sourced method
does it matter that this does n't set type correctly \?
jun pm waitfor hangs on some java implementations
feb pm catch throwable here rather than exception kaffe 's implementation of runtime exec throws java lang internalerror
two plugins provide same class
this really should be long decode but there n't one as result hex and octal literals ending in 'l' or 'l' do n't work
broken class
while its broken to have null symlinkpath some older plugins might
this not good need way to update eval without re installing so that we can re eval params etc when classloader changes look into this
this seems to make nested readlock calls work okay but have no idea if it actually fixes things or not
but if hypersearch results window floating workaround causes problems
set buffer 's path caveat wo n't work if save called with relative path but do n't think anyone calls it like that anyway
todo move should n't rely on calling next times
bug if there multiple selections in different contexts wrong comment strings will be inserted
fix this bug put mode into user dir with same name as one on system dir reload edit modes old mode from system dir still used highlighting until jedit restart
apparently in some environments you ca n't catch security exception at all as applet in ie will probably have to work around
if it exists remove it and add it at end avoid memory leak
race condition here
use special cheats that speed up code currently about but may cause problems with future maintenance and add to class file size about bytes
original note jdk under win throwing these to warn about lower case upper case possible mismatch bsh console bsh console update prior to we squeltching noclassdeffounderrors which very annoying cannot reproduce original problem and this never valid solution if there legacy vms that have problems we can include more specific test them here
this should n't happen but
nov calling this on drive letter on windows causes drive access
aug os java has broken getcanonicalpath
do n't generate private or loosely typed fields note loose types n't currently parsed anyway
view should not be null but some plugins might do this
caching not correct and does n't seem to help enclosingnamespace cacheclass name genclass
dialogs fuck things up if menu visible etc new beanshellerrordialog view
charat index may be unknown on readerinputstream fixme match after newline if in multiline mode
this class not very fast
note this method incorrectly caches method structure it needs to be cleared when classloader changes
xxx action bar might not be 'temp'
wonder if lack of this broke anything in past \?
implement string value according to jls value may be anything in beanshell we 'll disallow void undefined values or should we map them to empty string \?
this should be before dockables initialized
this right \?
should we do this both cases above \?
need to loosen this to any throwable do we need to handle that in interpreter somewhere \? check first
fucking gtk look and feel
note this implementation temporary we currently keep flat namespace of base name of classes beanshell cannot be in process of defining two classes in different packages with same base name to remove this limitation requires that we work through namespace imports in analogous or using same path as regular class import resolution this workaround should handle most cases so we 'll try it now
copy and paste from bshclasspathclassmanagerimpl java
wish could make this friendly to only namespace
undocumented hack to allow browser actions to work xxx clean up in
look default invoke handler method in namespace note this code duplicates that in namespace getcommand that ok \?
this should be per instance
can we use proxy mechanism to cast bsh this to correct interface \?
redundant with constructor
issues to resolve here in which classloader should we define class \? if there bshclassloader should we define it there \? should we use reflection to set it in non bsh classloader if there one or should we always create bsh classloader and expose its defineclass \?
could refactor these bit
note this class essentially just delegates most of its methods to its parent setvariable indirection very small we could probably fold this functionality back into base namespace as special case but this has changed few times so 'd like to leave this abstraction now
simplified these settings little
should check strict java here and use isjavaassignable instead
workaround swing rendering labels starting with using html engine
look default invoke handler method in namespace note this code duplicates that in this java should it \? call on 'this' can never be command
this method nightmare
consoleinterface interpreter reflexively implements console interface that it uses should clean this up by using inner class to implement console us
case insensitive fs workaround
wrap nulls this bit of cludge to address deficiency in class generator whereby it does not wrap nulls on method delegate see class generator java if we fix that then we can remove this just have to generate code there
switch eats multi level break here \? not empty statement
check field on object note could eliminate throwing exception somehow
xxxx re evaluate this can getsuper work by itself now \? if we 're class instance and parent also class instance then super means our parent
wish protected access limited to children and not also package scope want this to be singleton implemented by various children
imported full name n't found as absolute class if it compound try to resolve to inner class maybe this should happen in bshclassmanager \?
ca n't this be combined with run \? run seems to have stuff in it interactive vs non interactive compare them side by side and see what they do differently aside from exception handling
null value just declaration note we might want to keep any existing value here instead of reset
can this be factored out \? should be be adding here instead \?
catch mismatch and continue to try next note this innefficient should have isassignablefrom that does n't throw
should use tryfinally here to pop ns
note this could be made clearer by adding inner class cases and object context child traversal
hack sticking to first interpreter that resolves this see comments on type instance variable
note incorrect here we using hack in bsh class manager that allows lookup by base name we need to eliminate this limitation by working through imports see notes in class manager
this namespace in which method set it back reference node which needs to execute under this namespace it not necessary to declare this transient because we can only be saved as part of our namespace anyway currently
replace this cocoa api calls later
scripting classes currently requires accessibility this can be eliminated with bit more work
this could be static
thanks to slava pestov of jedit fame import caching enhancements note this class has gotten too big it should be broken down bit
register attribute declaration later retrieval format string type string default value int value type todo do something with attribute types
todo to get cast and boxing working byte ia if basetype wrapper type then we need to get primitive type class base type here in order cast to allow it then boxing will happen naturally in array set integer ia
note we will ll move this behavior out to subclass of namespace but we 'll start here
this particularly nasty bit of code that checks parameter entity reference but peeks ahead to catch in parameter entity declarations
should cache this subject to classloader change message evaluation of formal parameter simply resolves its type via specified namespace it does n't modify namespace
notes it would not be hard to eliminate use of org objectweb asm type from this class making distribution tiny bit smaller
stupid caret will automatically be incremented
spacing workaround
do n't know of any other way to fix this since invoking this command from menu results in focus owner being menu until menu goes away
little hack reverse replace and find
static methods that operate on compound separated names guess we could move these to stringutil someday
note which of these things should be checked at parse time vs run time \?
this part sucks
windows bug workaround in case yesno confirm shown
clear name resolvers do n't know if this necessary
this stupid and misleading but 'path' not used anywhere except above line and if this done after 'continue' then we will either hang or be forced to duplicate it inside buffer null or add 'finally' clause you decide which one 's worse
i'm too tired to think of better way to handle this right now
hacked bufferiorequest to send vfsupdates in case two stage save off now
some other primitive should avoid calling methods on primitive as we do in name ca n't treat primitive like object message but hole useful right now
change parent which class static to class instance we really need to check if we 're static inner class here first but some reason java wo n't show static modifier on our fake inner classes could generate flag field
this where checked exceptions piss me off this method only uses stringreader which can never throw exception
if any subexpressions did n't terminate they do n't count todo check if this code ever gets hit
parse pattern into tokens does anyone know if it 's more efficient to use char than string charat \? i'm assuming so
note object only used here precondition get rid of it \?
why both of these \?
cut off from parent we must have our own class manager ca n't do this in run command needs to resolve stuff should we do it by default when we create namespace will no parent of class manager \?
note bsh command code should probably not be here we need to scope it by namespace that imported command so it probably needs to be integrated into namespace
this could be smarter
it explicitly imported but we do n't know what it should we throw error here \? \?
note we need form of eval that passes callstack through
primary interpreter set and get variable methods note these squeltching errors should they \?
workaround jdk bug where system in available returns too large value this bug has been fixed in jdk
somewhat of hack if special fields visible we 're operating relative to 'this' type already dissallow further this references to prevent user from skipping to things like super this caller
should clean this up to single return statement
implementation notes note we may need some synchronization in here note on version dependency this base class jdk compatible however we forced to use weak references in full featured implementation optional bsh classpath package to accomodate all of fleeting namespace listeners as they fall out of scope namespaces must be informed if class space changes so that they can un cache names perhaps simpler idea would be to have entities that reference cached types always perform light weight check with counter reference value and use that to detect changes in namespace this puts burden on consumer to check at appropriate times but could eliminate need listener system in many places and necessity of weak references in this package
note this impor pattern becoming common could factor it out into importedobject vector class
not sure if we should really recurse here explicitly imported class in parent
following two boolean checks tacked on this could probably be smoothed out
notes this broken it finds public but less specific methods over non public but more specific ones findmostspecficmethod needs to be rewritten to eliminate findaccessiblemethod we should implement findmostspecificmethod that uses publiconly flag findmostspecificmethod should also operate in two passes to give standard java assignable matches priority over extended bsh type matches
unixworkaround constructor
drag and drop support 'd just move code to jedittextarea but it depends on jdk apis
next version remove this
compatibility kludge jedit and earlier
stupid scrollbar policy attempt to work around bugs people have been seeing with ibm 's jdk sep
this weird hack we do n't want to insert 'a' in search bar if search bar has focus
aha this probably only way to fix this
this dirty hack and it relies on fact that updates parents sent before updates changed nodes themselves if this not case browser would n't be updated properly on delete etc to avoid causing request' errors do n't reload directory if request already active
we consume this to work around bug where tab window switching activates menu bar on windows
guess translated events do not have 'evt' field set so consuming wo n't work do n't think this problem as nothing uses translation anyway
this hack and really needs to be done better
copy and paste from resyntaxmatcher to make syntax package independent of jedit itself
stupidity
this does n't seem very correct but it fixes problem when setting initial caret position buffer eg from recent file list
do n't try this at home
silly that we reference vertical scroll bar here directly we do this so that horizontal scroll bar flush with vertical scroll bar
xxx clean up this conditional
temporary hack to support inner classes if obj non static inner class then import context this not sufficient emulation of inner classes replace this later
workaround swing 's annoying processing of labels starting with which often breaks
fucking gtk look and feel
hack so that 'select all' does not change current buffer
if occurence occurs at beginning of selection selection start will get moved this sucks so we hack to avoid it
silly bug workaround if you look at above code note that we restore saved caret position first then scroll to saved location however caret changing can itself result in scrolling to different location than what saved and since movecaretposition calls updatebrackethighlight bracket highlight 's out of bounds calculation will rely on different set of physical firstlast lines than what we will end up with eventually instead of confusing user with status messages that appear at random when switching buffers we simply hide message altogether
this sloppy hack to fix bug hitting return after collapsed fold idea that if we extend range then problem described in bug happends so if insert at very end of range we do n't extend it instead we push insert into next range however this to work properly we also have to mess with screen line counts
need this bullshit scroll bar policy preferred size hack to work
xxx if we keep createclassmanager in getclassmanager then we can axe this \?
note this class messy method and field resolution need to be rewritten various methods in here catch nosuchmethod or nosuchfield exceptions during their searches these should be rewritten to avoid having to catch exceptions method lookups now cached at high level so they less important however logic messy
sooner ppl move to new api less we 'll need crap like this
nasty hardcoded values
strip off drive letters review would better check be file separator \?
xxx magic number
workaround uncooperative windows
have to do this hack until vfspath class written
stupid swing
none of others ever meant to be removed retarded eh \? this needs to be fixed eventually plugins might want to do weird stuff to jedit 's ui
this retarded excuse me while drool and make stupid noises
retarded gtk look and feel
should probably error
there must be better way of fixing this problem that this method can sometimes be called as result of text area scroll event in which case caret position has not been updated yet
perhaps here we would want to guard with property parallel backups or not
this such bad way of doing it but oh well
while this might be questionable some menus depend on properties
get available screens this nasty but since we n't dealling with many items it should be fine
methods that really should n't be public
unixworkaround class
perhaps if xerces n't slightly brain damaged we would not need this
moved to guiutilities as it makes no sense being here
hack need more direct way of obtaining view \? jedittextarea getview method \?
review how do we resolve this discrepancy \?
ugly workaround
windows work around
hack since helpviewer needs url
why object in args \?
should implement getminimumlength any ideas \?
move me to classpathclassmanagerimpl \? \? \?
they never taught you this in undergrad computer science
should we cache info in not class case too \?
wtf \?
xxx hairy code that basically just functional \? port of some other code barely understood
first try accessible version of exact match this first lookup seems redundant with below but apparently needed this whole thing messy
work around broken ftp plugin
hack to move spaces to front
this feels sloppy especially non locales
hack to get fixed length 'length' field
we have to deal with assembly programmer can be writing little byte chunks all we know and we must assemble complete records writing review maybe this should be in tarbuffer \? could that help to eliminate some of buffer copying
hack done to fix bringing window to front at least on windows frame tofront does n't cut it remove iswindows check if it 's broken under other oses too
this method should be rewritten to use getfields and avoid catching exceptions during search
hack
this should probably be in reflect java
notes see notes on findmostspecificmethod this method should be rolled into findmostspecificmethod
note using signaturekey in this way dangerous \? in pathological case user could eat up memory caching every possible combination of argument types to untyped method maybe we could be smarter about it by ignoring types of untyped parameter positions \? method resolver could return set of hints signature key caching \? there also overhead of creating one of these every method dispatched what alternative \?
crusty workaround
workaround keys producing garbage on windows
addtofavorites which static method convinience needs instance of vfs to pass to vfsmanager sendvfsupdate hence this hack
allow getthis to work through blocknamespace to method namespace xxx re eval this do we need it \?
these used to eliminate code duplication do n't normally use visitor or template method pattern but this code contributed by peter cox and do n't feel like changing it around too much
fuck me dead
stupid hack to handle referencing rule set that defined later
jdk workaround
should next two be public maybe \?
note this method and resolveexpectedjavafield should be rewritten to invert this logic so that no exceptions need to be caught unecessarily this just temporary impl return field or null if not found
note we need singleton here so that things like 'this this' work and probably good idea speed caching single instance here seems technically incorrect considering declaringinterpreter could be different under some circumstances case child interpreter running source eval command however effect just that main interpreter that executes your script should be one involved in call backs from java do not know if there corner cases where child interpreter would be first to use this reference in namespace or if that would even cause any problems if it did we could do some experiments to find out and if necessary we could cache on per interpreter basis if we had weak references we might also look at skipping over child interpreters and going to parent declaring interpreter so we 'd be sure to get top interpreter
resolve relative to class type static field inner class \?
some regexps eg by itself have length so we implement this hack if you do n't understand what 's going on here then go back to watching mtv
optimization if classofstaticmethod set then we have already been here and determined that this static method invocation note maybe factor this out with path below clean up
this will probably not get used object type
windows jdk workaround
this listener priority thing bad hack
this does n't look pretty and mode line should probably be split up into seperate componentsstrings
this stupid and misleading but 'path' not used anywhere except above line and if this done after 'continue' then we will either hang or be forced to duplicate it inside buffer null or add 'finally' clause you decide which one 's worse
workaround hang if match zero width not sure if there better way to handle this
on windows paths of form list last working directory on that drive to list root of drive you must use however vfs browser and friends strip off trailing path separators various reasons so to work around that we add to drive letter paths on windows
on unix set permissions of port file to rw so that on broken unices which give everyone read access to user home dirs people ca n't see your port file and hence send arbitriary beanshell code your way nasty
\? \? \? this should only be called with fully loaded action set
broken eclipse workaround febuary
notes this broken it finds public but less specific methods over non public but more specific ones this method needs to be rewritten to eliminate findaccessiblemethod we should implement findmostspecificmethod that uses publiconly flag findmostspecificmethod should also operate in two passes to give standard java assignable matches priority over extended bsh type matches
xxx this should not be hardcoded
interval operator re intervals re no bk braces re intervals re no bk braces open question what proper interpretation of at start of string \?
xxx does this really belong here \?
we do need to save every possible point but number of clone invocations here really killer performance on non stingy repeat operators i'm open to suggestions
note this should really just throw nosuchfieldexception need to change related signatures and code
split methods into constructors and regular method lists
need to add static block here
output stream that compresses into bzip format without file header chars into another stream todo update to bzip author keiron liddle
parse xml declaration xmldecl lt \? xml' versioninfo encodingdecl \? sddecl \? \? \? gt versioninfo 'version' eq sddecl 'standalone' eq 'yes' 'no' 'standalone' eq yes no encodingdecl 'encoding' eq qencoding to also significant lt \? xml and whitespace have already been read todo validate value of standalone see parsetextdecl see checkencoding
implement recursion getclassimpl
need some format checking here
need to calculate this just fudging here now
todo also check reg anchorindex vs anchor
skip header bytes maybe should check if they 're valid or not \?
debug utils static so that they reachable by code that does n't necessarily have interpreter reference tracing in utils in future we may want to allow debugtrace to be turned on on per interpreter basis in which case we 'll need to use parent reference in some way to determine scope of command that turns it on or off
parse element content model elements choice seq \? '' \? cps \? cp \? choice \? ctokplus \? \? ctoks \? ctokplus cps cps ctoks cps cps seq \? stoks \? \? stoks \? stoks cps cps note opening and have already been read todo go over parameter entity boundaries more carefully
this convention may change
parse attribute type atttype stringtype tokenizedtype enumeratedtype stringtype 'cdata' tokenizedtype 'id' 'idref' 'idrefs' 'entity' 'entities' 'nmtoken' 'nmtokens' enumeratedtype notationtype enumeration todo validate type
todo test that surrogate value legal
getname ok \? test with
todo n' literal here should be test against retoken newline which unfortunately may be more than single character
do nothing
pluginmanagerprogress constructor
getrate method
writemarkers method
instance variables
private members
addnotify method
foldlevelchanged method
this will result in slight speed up since we do n't need to read dtd anyway as aelfred non validating
startelement method
createtoc method
selectionhandler class
ensures that active view saved last ie created last on next load ie in front on next load
memorystatus class
writestringarray method
nexttip method
create buttons
contentremoved method
installbutton class
undo method
we ca n't do backward scan if start
create new hashtable if necessary
getname method
lineelement constructor
save method
try super import if available note we do this last to allow explicitly imported classes and packages to take priority this method will also throw error indicating ambiguity if it exists
clear method
begin static members
bgen jjtree returnstatement
arbitrary flag
leave buffer in consistent state if error occurs
note we have fit eof and block not full this broken archive it does not follow standard blocking algorithm however because we generous and it requires little effort we will simply ignore error and continue as if entire block read this does not appear to break anything upstream we used to return false in this case thanks to 'yohann roussel alcatel fr' this fix
code above builds indexed suffix array but we shift it to be indexed ignoring original th element
addkeybinding method
load method
setting typed variable always local operation
bufferopened method
contentinserted method
isexpanded method
loadtoolbutton method
setlineendoffset method
return type class
index in zptr of original string after sorting
updatemodel method
used stringreplace and beanshell replace radio buttons so that user can press tab to go from find field to replace field in one go
hashcode method
file begins with utf signature discard signature and read remainder as utf
getfirstinvalidlinecontext method
use content undeclared to avoid overwriting existing element declaration
invalidatescreenlinecounts method
do n't overstrike if we 're on end of line
hidelibrariesbutton class
registerfoldhandler method
getlastview method
keywordmap constructor
change import precedence if we class bodyinstance
getfoldhandlers method
physdown method scroll down by physical line amount
default implementation subclasses can extend this
null 'from' type corresponds to type of primitive null assign to any object type
unregisterfoldhandler method
statical import fields from interface so that code inside can refer to fields directly height
setbounds method
read external identifiers
stop method
point to return statement point if we had one else it implicit return \? what 's case here \?
geticon method
dockingoptionpane constructor
setexpansion method
createeditpane method
start method
repaint gutter so that border color reflects focus state
invoke method
system err println overflow
inner classes
non word character selection behavior
onlystatic
evaluate block in two passes first do class declarations then do everything else
actionhandler class
animatedicon constructor
complete word command needs list of all non alphanumeric characters used in keyword map
end constructors
structure highlight
end instance data
we 're removing from first visible to after last visible
static initializer
vfs browser has what you might call design flaw it does n't update properly unless vfs update parent arrives before any updates children sorting list alphanumerically guarantees this
getexpansion method
statusbaroptionpane constructor
createinputstream method
if 'temp' true hide search bar after user done with it
gutterborderwidth new jtextfield jedit getproperty view gutter borderwidth addcomponent jedit getproperty options gutter borderwidth gutterborderwidth
foldhandler constructor
unwrap any primitives
wrapper to primitive convert value to primitive and checkcast it
getfoldmodes method
invalidateselectedlines method
buttonlayout class
stylerenderer constructor
gettablecellrenderercomponent method
onlystatic
setvalueat method
buttoncellrenderer class
getabbrevfield method
foldhandlerchanged method
xtoscreenlineoffset method
getfield method
toggleoverwriteenabled method
runscript method
getselection method
we expand those that non empty and remove those that empty
no field try property acces
word boundary means input index word character and input index not or input index word character and input index not in string one two three these positions match current character letter or digit \? previous character letter or digit \?
we need this public not protected
start at not to skip token null
not field try property access
so empty cd drive not reported as file
should n't happen
redraw whole table because second shortcut might have changed too
set method parameters in local namespace
jedittextarea scrollto needs this to simplify its code
undone when file lets us get username use it
getbeforecarettextarea method
primitive to wrapper type
how much occurrence in title worth
setrate method
getcolumnname method
seticon method
getcompletions method
updateenabled method
actionbar constructor
modeproperties class
gotoactionbar method
bind to any port on localhost accept simultaneous connection attempts before rejecting connections
getframes method
getcursor method
only allow legal java assignment unless we 're cast operation
complete method
removeposition method
completionpopup class
getmenuname method
ishorizontallayout method
alias
because its preferred size can be quite wide we do n't want it to make browser way too big so set preferred width to
figure out what we 're reading from
closeview method
only add plugins branch if there optionpanes
exit does editor event save
getcode method
bsh system
enhancedmenu constructor
loadmodecatalog method
thanks to sreenivasa viswanadha suggesting how to get rid of expensive lookahead here
if only one clean 'untitled' buffer open we replace it
if caret on collapsed fold collapse parent fold
site properties loaded as default properties overwriting jedit 's system properties
maintain backwards compatibility
this vfs has extended attribute which not in list add it to end with ref count of
update method
package private members
first sub fold used by jedittextarea expandfold
copy of indexes copy of sizes instructions to be resized future offset of jump instruction
if equals not explicitly defined we must override default implemented by this object protocol scripted object to support xthis equals must test equality with generated proxy object not scripted bsh this object otherwise callers from outside in java will not see proxy object as equal to itself
set rename to false if file selected
addcurrenttohistory method
enhancedmenu has reference to editbusstub but not other way around so when enhancedmenu being garbage collected its finalize method removes editbusstub from edit bus
tipoftheday constructor
fontrendercontext frc new fontrendercontext null false false rectangle bounds getfont getstringbounds gettime frc dimension dim new dimension int bounds getwidth int bounds getheight setpreferredsize dim setmaximumsize dim
ok method
getfoldlevel method
init callstack
bsh cwd
references may be allowed
actionperformed method
do n't want it to show bytes size etc
private members
ends current block with many new successors
evaluate finally block
bshclassmanager
look scripted class object
applets ca n't see sys props
gotoprevmarker method
bsh interactive
adds new insert entry in allindexes and allsizes arrays
still need to call status check even if option off so that write protection updated if it changes on disk
cancel method
in case already initialized un initialize it
changedupdate method
install instance of this method in namespace see notes in bshmethod
this helps little
iterate up to iters times to improve tables
keyhandler class
constants input
try to sync up console
do n't generate private constructors
setmodel method
symbol
documenthandler class
helpindex constructor public helpindex string filelistpath string wordindexpath this
actiontextfield class
read value normalizing whitespace if it not cdata
insertupdate method
older jedit versions used doctype of catalog which incorrect since doctype must be name of root element which modes
getwrappeddimension method
component that will parent any dialog boxes
istoolsjaravailable method
init method
gettooltiplocation method
never called
completeword constructor
mark following
closedialog constructor
set non proxy hosts list
ucs must begin with xml ucs unusual
max line length
selectlinerange constructor
jump offset goto newoffset now computed from start of goto
bsh help
fontselectordialog constructor
on reload fold handler does n't change but we still need to re collapse folds do n't do this on initial fold handler creation
getdockable method
loadsystemprops method
show tip of day
loaduserprops method
bsh
one or more repeat operator depending on re bk plus qm not available if re limited ops set
end abstractoptionpane implementation
computes stack size variation in order not to recompute several times this variation same item we use intval field of this item to store this variation once it has been computed more precisely this intval field stores sizes of arguments and of return value corresponding to desc
listhandler class
begin beanshell modification made conditional on debug
minimumlayoutsize method
closebuffer method
if it 's not in class hash and not marked as non existent try loading it from classpath
geticonheight method
this assemlen numtowrite this recordbuf length
create copy of this dockable window and float it
perform cast cast check or assignability check param totype class type of cast result which may include primitive types byte type totype may be null to indicate loose type assignment which matches any fromtype param fromtype class type of value to be cast including java primitive type classes primitives fromtype should be null to indicate that fromvalue or would be primitive null param fromvalue object or bsh primitive primitive value including primitive null or primitive void param checkonly if checkonly true then fromvalue must be null fromtype checked cast to totype if checkonly false then fromvalue must be non null primitive null ok and actual cast performed throws utilevalerror on invalid assignment when operation assignment throws utiltargeterror wrapping classcastexception on cast error when operation cast param operation types cast or types assignment see primitive gettype
fixes hang that can occur if we 'save as' to new filename which requires re sorting
completeword method
complete big bucket ss by quicksorting any unsorted small buckets ss hopefully previous pointer scanning phases have already completed many of small buckets ss so we do n't have to sort them at all
try imported packages import foo bar in reverse order of import give later imports precedence
dispose method
throw new evalerror sourced file sourcefileinfo parser error getmessage debug node callstack
if last key numeric keypad key and numlock off filter it out
buffer management methods
addkeybinding method
only complete current buffer 's keyword map
pick screen with largest intersection
isselected method
threadprogress constructor
get properties
so that findwordend does n't pick up space at start
updatemiscstatus method
show popup if
scan from selection to end failed so scan from start to selection
build list of unique words in all visible buffers
gettooltiptext method
getnonalphanumericwordchars method
these jcomponent methods provide appropriate points to subscribe and unsubscribe this object to editbus
if there only one competion insert in buffer
setblockcaretenabled method
check match at start of line
buffers decoded but unparsed character input
fields control flow graph analysis algorithm used to compute maximum stack size control flow graph contains one node per basic block and one edge per jump from one basic block to another each node each basic block represented by label object that corresponds to first instruction of this basic block each node also stores list of it successors in graph as linked list of edge objects
loop through all lines of current buffer
word character
try to find matching keywords
getdockablewindowmanager method
reinit callstack
ok this one seems to confuse newbies endlessly so log it as notice not error
completion class
insertselected method
note if we want methods declared inside blocks to be accessible via this methodname inside block we could handle it here as special case see also resolvethisfieldreference special handling blocknamespace case they currently work via direct name methodname
callstack callstack
at end literal
rotatedtexticon class
createfieldpanel method
statusupdate method
if we find some other character that follows so it not windows file and probably mac file
begin source and eval
pass compute preferred row heights column widths
break out of inner loop to check next char handle end of mark following
check explicit return of value from void method type retcontrol returnpoint node of return statement
contentinserted method
allocate array to store initializers description of array other dimensions default to zero and assigned when values set
construct beanshell snippet instead of invoking directly so that user can record property changes in macros
setting message to 'null' causes status bar to check if recording in progress
opcode of current instruction bytes to be added after this instruction
check surrogates xxxx yyyyyyyy zzzzzzzz xx xxyy yyyy yy zzzz zzzz
collapse all nodes as suggested on user mailing list
attempting to expand non word char
if there n't enough repeats then fail
switch namespace and special var visibility
attributes
evaluate instance portion of block in it evaluate initializer block
update line info and line context arrays
generate code to call classgeneratorutil to get our switch index and give us args
add all items in current to doables array
these respectively first and last tokens in our linked list if there only one token firsttoken lasttoken
returns node on top of stack and remove it from stack
runtemporarymacro method
updates current and max stack sizes only if opcode new stack size variation anewarray checkcast instanceof
case classwriter field case classwriter meth case classwriter imeth
doesnt exist \? \? pf setorientation pageformat reverse portrait then just do next best thing
system err println offsety offsety size height size height win height win getheight
not in settings directory or jedit home directory no need to reload anything
number of subexpressions in this token
getfiles method
current xml handler interface
do n't show splash screen if there file named 'nosplash' in settings directory
generate code implementing alternate constructor switch
getprevvisibleline method
savesettings method
setmessageandclear method
removemarker method
preferredlayoutsize method
textareadialog constructor
if directory selected create new dir in there if file selected create new dir inside its parent
example if current fileset directory will find next match within that fileset this can be annoying if you have just done incremental search and want next occurrence in current buffer
coming out of background mode no views open no buffers open if args empty
log log log debug bufferhistory class fnf
isstatic
replaces goto with goto jsr with jsr and ifxxx with ifnotxxx goto where ifnotxxx opposite opcode of ifxxx ifne ifeq and where designates instruction just after goto
to avoid data loss only do this if above completed successfully
tablecolumn col getcolumnmodel getcolumn col setminwidth col setmaxwidth col setpreferredwidth
because this method called every vfs update we do n't want to scan tree all time so we use following algorithm to determine if path might be part of tree if path starts with browser 's current directory we do tree scan if browser 's directory 'favorites we have to do tree scan as every path can appear under favorites list if browser 's directory 'roots and path on local filesystem do tree scan
saveuserprops method
fromvalue
setframes method
loadpluginprops method
compute mtf values selectors
number of characters in 'buf' array inputstream read does n't always fill array eg file size not multiple of iobufsize or it gzipped file etc
windowtablemodel class
setmessagecomponent method
removeupdate method
updatecaretstatus method
workthreadlistener implementation
primitive not null or void to object class type
terminate
getactionnames method
do n't obscure existing message
boolean
so if view closed in meantime
general case performe instanceof based on assignability
findwordend method
can happen when switching buffers sometimes
backwards compatibility
setmessage method
interpretation of ambiguous name context sensitive we disallow generic eval
begin beanshell modification moved body to overloaded getmessage
updates max locals only no stack change
getcacheableactionnames method
resolves previous forward references to label if any
end beanshell modification override error methods and tostring
package private speed
createposition method
contains method
componentresized method
here we catch any evalerror from interpreter because we using it as tool to load command not as part of execution path
action hints
getproperty method
this index index of next pos relative to charat
setproperty method
size method
addpluginprops method
removepluginprops method
set flag that next should fail next time \?
listener interfaces
getdefaultrootelement method
actions clear
counterclockwise rotation
sanity check during development
getstandardruleset method
removenotify method
non whitespace operator
error conditions from gnu regcomp manual
copy method
setdirectory method
paintcomponent method
bufferclosed method
updates global max stack size
removelayoutcomponent method
case of backward jump with offset or of forward jump with of course unknown offset in these cases we store offset in bytes which will be increased in resizeinstructions if needed
tooltiplabel class
byte sequence yyyyyxxxxxx yyyyy xxxxxx
null return null as type we currently use null type to indicate loose typing throughout bsh
mousehandler class
visitinsn visitintinsn visitldcinsn int ldc int ldc visitvarinsn int iload int iload int iload int iload int lload int lload int lload int lload int fload int fload int fload int fload int dload int dload int dload int dload int aload int aload int aload int aload visitinsn visitvarinsn int istore int istore int istore int istore int lstore int lstore int lstore int lstore int fstore int fstore int fstore int fstore int dstore int dstore int dstore int dstore int astore int astore int astore int astore visitinsn visitiincinsn visitinsn visitjumpinsn visitvarinsn visitableswitchinsn visitlookupswitch visitinsn visitfieldinsn visitmethodinsn int unused not visited visittypeinsn visitintinsn visittypeinsn visitinsn visittypeinsn visitinsn int wide not visited visitmultianewarrayinsn visitjumpinsn int goto int jsr
quicksort method
hopefully another caret update will come \?
st step as explained above resizing instruction may require to resize another one which may require to resize yet another one and so on first step of algorithm consists in finding all instructions that need to be resized without modifying code this done by following fix point algorithm parse code to find jump instructions whose offset will need more than bytes to be stored future offset computed from current offset and from number of bytes that will be inserted or removed between source and target instructions each such instruction adds entry in copy of indexes and sizes arrays if this has not already been done in previous iteration if at least one entry has been added during previous step go back to beginning otherwise stop in fact real algorithm complicated by fact that size of tableswitch and lookupswitch instructions depends on their position in bytecode because of padding in order to ensure convergence of algorithm number of bytes to be added or removed from these instructions over estimated during previous loop and computed exactly only after loop finished this requires another pass to parse bytecode of method
nodes remember from where they sourced
jump offset goto
this should never throw exception
this reloads token marker and sends message which causes edit panes to repaint their text areas
determine installation directory if jedit home property set use that then look jedit jar in classpath if that fails assume this web start version
create panel with boxlayout ca n't use box here because box does n't have setborder
look ahead and short circuit evaluation of rhs if we 're boolean and and lhs false
int totaldraw num overshoot bytes num overshoot bytes compressoutofmemory totaldraw
settemporaryproperty method
end beanshell modification moved body to overloaded getmessage
unsetproperty method
create root bsh system object if it does n't exist
resetproperty method
end jcmdprocesstest java
check that attribute does n't already exist
helper methods
we have to open our own stream to url
getactiveview method
chardata method
nodes and heap entries run from entry both heap and nodes sentinel
if any directories selected add them otherwise add current directory
getbottomdockingarea method
key typed
gettime method
dockablewindowmanager constructor
font font uimanager getfont label font
non alphanumeric operator
now ftab contains first loc of every small bucket calculate running order from smallest to largest big bucket
now selectors
clock constructor
makeserverscript method
clock class
do n't show menu items to dock into plain view
memorystatus this getborder getborderinsets this
returns object covering both double and boolean return types
this package private so that painter can use it without having to call getselection which involves array copy
constructor
do operating system specific stuff creating startup scripts installing man pages etc
historytextfield constructor
treehandler class
dockablewindowcompare class
read default value
use simplesort since full sorting mechanism has quite large constant overhead
in various block sized structures live data runs from to last num overshoot bytes inclusive first set up overshoot area block
showpopupmenu method
lhs assign null false
pushes handler block onto stack of blocks to be visited
end beanshell modification added sourcefile info
failsafe set line as origin of error
copy
doawtrequests method
propertieschanged method
we jump through some hoops here to handle arbitrary cases like unset bsh foo
utility flag have we noticed cr while reading last data chunk \? if so we will have to go back and normalise crlf
add source file info and throw again
this ensures that first line always visible
do n't auto unwrap wrappers preserve identity semantics fall through to object operations below
optimization common case
end source and eval
isvisible method
this notifies each display manager editing this buffer of screen line count change
end primary set and get methods
no it not
getenteraddstohistory method
careful here else fall through to override and install new typed version
getaftercarettextarea method
removeextendedattributes method
scrolllinecount class
default windows under win home under unix
write bit
memorystatus constructor
this originally handled postfix array dimensions void variabledeclaratorid variabledeclaratorid token jjtthis name image jjtthis addundefineddimension
setselectallonfocus method
if this unary increment of decrement either pre or postfix then we need lhs to which to assign result otherwise just do unary operation value
adds instruction to bytecode of method
end consoleinterface
recompute tables based on accumulated frequencies
newview method
note this class final because we may test primitive class in places if we need to change that search those tests
show 'close' item if at least one selected file currently open
setenteraddstohistory method
getselectallonfocus method
dotypeselect method
splitvertically method
getinstantpopups method
setinstantpopups method
check if download failed
so that it does n't resize
look known signature
addtoolbar method
set new status
next succeeds match try next option
mousepressed method
add repeats' index positions elementat position in input after matches
dobackwardsearch method
invalidate old selection
colorpickerdialog class
firetablerowsinserted startindex startindex list size
processkeyevent method
these variables package scope fast access within engine execution flags this match made using
getmodel method
zero or one repeat operator stingy matching operator \? \? depending on re bk plus qm not available if re limited ops set stingy matching if re stingy ops set and it follows quantifier
unsplit method
getselectedfiles method
processmouseevent method
focushandler class
mousereleased method
rename method
panelwindowcontainer constructor
end mutable instance variables
order of body and condition swapped do while
we do n't want duplicate entries in kill ring
dockborder class
determine current content type
getexpandoninput method
completionpopup constructor
setexpandoninput method
ca n't shift floats
historyprevious method
markerhighlight class
evaluate expression
if relative fix up to bsh cwd
ucs must begin with xml ucs big endian
set transient fields
lots of preconditions checked here once things running smoothly we might comment these out that 's what assertions
equals method
converts temporary opcodes to inclusive and to ifeq jsr inclusive ifnull and ifnonnull
no body \?
read first four bytes autodetection
magic untitled only set if newfile param to constructor set new file also set if file does n't exist on disk this so that we can tell apart files created with jedit newfile and those that just do n't exist on disk why do we need to tell difference between two \? jedit addbuffertolist checks if only opened buffer untitled buffer and if so replaces it with buffer to add we do n't want this behavior to occur with files that do n't exist on disk only untitled ones
mousedragged method
in future we will want something better eg having 'evt' object passed to editaction invoke
read xmlencoding declaration
new jeditlauncherostask installer
getselectedcolor method
when closing last buffer bufferupdate closed handler does n't call setbuffer because null buffers not supported instead it waits subsequent 'untitled' file creation
doforwardsearch method
yay we 're finally there
ug
creates new edge object or reuses one from shared pool
down arrow
no parenthesis on previous line prevlineparenweight so normal indenting rules used
have to do this because settext sets index to
historyborder class
call this to reinitialize node stack it called automatically by parser 's reinit method
delete existing copy
initcallstack namespace
colorwellbutton constructor
historynext method
use low level property setting code so that if we have buffer local property with same value as default later changes in default do n't affect buffer local property
declaringinterpreter
null callstack one will be created us
according to krisk this looks better on os
replaces temporary jump opcodes introduced by label resolve
read xml or text declaration
search matching tuple and return string if we find one
get syntax token at 'offset' only tokens with same type will be checked corresponding bracket
so you avid code reader should use modes as doctype instead but we still let old catalogs through to avoid annoying users
only select other whitespace in this case
attempt to detect encoding
scrolldownpage method
firetablerowsupdated index index firetablerowsdeleted index lastindex
initializes previous edge object
even though this class called abstractoptionpane it not really abstract since bufferoptions uses instance of it to lay out its components
do n't show welcome message if jedit started with nosettings switch
child array initializer evaluate it and fill in dimensions it returns initialized arrays always fully defined no undefined dimensions to worry about syntax uses undefineddimension count int
spacestotabs method
doctypedecl method
loadsiteprops method
they 're too troublesome
case classwriter mana insn
here we have seen odd number of backslash 's followed by 'u'
getlineofoffset method
gethandlerforfilename method
draganddropcallback method
key pressed
maybereloaddirectory method
entities
colorwell class
showcliptext method
map loose return type to object
inittextarea method
handlemessage method
updatebuttons method
getbeanshellreplace method
case keyevent vk separator
statusbar constructor
need to let through so that backspace will work in historytextfields
pastefromlistdialog constructor
people have reported hangs with jdk might be caused by modal dialogs being displayed from windowactivated
getselectedcliptext
parent directory right click on click we select clicked item but when popup goes away we select currently showing directory
numerickeypadkey method
add interpereter and namespace to args list
reload method
reference counter allows us to remove column from table when no directory using this column visible
setregister method
abi compatibility
if reloading root update parent directory list
label null means no configurable options
it simple variable name \? doing this first gives correct java precedence vars vs imported class names at least in simple case see testsprecedence bsh it should also speed things up bit
like tabl insn
getbufferhistory method
eg trying to bind if already bound
following instance variables mutate during evaluation and should be reset by reset method where necessary
find bsh method
log log log warning this vfs update request already in progress
call script invoke string methodname object args
default equals testing equality with this reference
check if plugin with same name already loaded
see vfsbrowser browsedirectory
start entity
as long as there 's nothing in read buffer try reading more data external entity or popping entity stack either
save file sends vfs update if vfs file dialog box shown from same event frame as save vfsupdate will be delivered before directory loaded and before path set
expandabbrev method
getpreferredsize method
inputhandler constructor
filerootsvfs constructor
we do this stuff because browser not able to handle more than one request yet
fileschangeddialog constructor
if we have type info and child array initializer pass it along else use default eval style this allows array initializer to handle problem allowing future enhancements in loosening types there
renderer class
there 's explicit character stream
record and on lines specially so that auto indent can take place
case mouseevent mouse entered tooltipinitialdelay ttm getinitialdelay tooltipreshowdelay ttm getreshowdelay ttm setinitialdelay ttm setreshowdelay super processmouseevent evt break case mouseevent mouse exited ttm setinitialdelay tooltipinitialdelay ttm setreshowdelay tooltipreshowdelay super processmouseevent evt break
guess ideally all browsers should have views but since they do n't we just use active view in that case since some actions depend on view being there and do n't want to add checks to them all
push boolean constant 'true' declaredonly
remind calling isdirectory on floppy drive displays stupid io error dialog box on windows
valuechanged method
favoritesmenubutton constructor
line seperator
normal condition
selectall method
if user pressed eg in search bar we want focus to go back there after prefix done
showsplashscreen method
isprefixactive method
gutteroptionpane constructor
it header \?
null some variables so that retaining references to closed views wo n't hurt as much
push existing status
to avoid having to deal with readwrite locks and such we insert loaded data into buffer in post load cleanup runnable which runs in awt thread
make url absolute
paths on case insensitive filesystems stored as lower case in hash
create new read buffer note four character margin
check if we have to stop parsing
flush any remaining data
value
queue of redos first most recent last oldest
notations
major syntactic productions
runscript method
paint token backgrounds
invokeaction method
getstartoffset method
removeallkeybindings method
isdragenabled method
removekeybinding method
resolveentity method
we create stream tokenizer parsing simple stack based language
flags parsing context
getlastaction method
can happen if user presses twice real quick and buffer has unsaved changes
getlength method
readnextchar method
parse first content particle
getrepeatcount method
construct method
getlastactioncount method
if this successor has not already been pushed onto stack
entry class
bytecode of method indexes in loop indexes
linemanager constructor
try mode specific abbrevs first
this constructor used convenience when we know set beforehand new retokenoneof false new retokenoneof true
recenthandler class
add trymatch to list of possibilities
protected members
if we did n't find class or variable name or prefix above there two possibilities if we simple name then we can pass as void variable reference if we compound then we must fail at this point
if we 've got object resolve method
ease debugging xthis this refers to enclosing class instance
special
setselection method
backwards compatibility with plugins that fiddle with jedit 's ui layout
transactioncomplete method
getelementcount method
this either style getbackgroundcolor or styles defaultid getbackgroundcolor
so that end followed by up arrow will always put caret at end of previous line example setmagiccaretposition integer max value
push this constructor index number onto stack
paramtypes
else set it and return
stop checking rules if there match
execute action
reads and copies instruction
figure out some minor things
windowtablemodel constructor
location
log log log debug jedit class adding edit mode mode getname
initbufferswitcher method
get constructorargs selector field from constructorargs
index of last char in block so block size last
if repeat true originally clear it otherwise it might have been set by action etc
resetlastactioncount method
updatetitle method
cv visitlinenumber index labels index push this before args
ok add it to end of bucket
myfocusmanager class
leave null
ca n't happen
digit operator if re char class escapes set
myfocustraversalpolicy class
selected header skip to next row
conditional node constructed if its condition true all nodes that have been pushed since node opened made children of conditional node which then pushed on to stack if condition false node not constructed and they left on stack
byte sequence xxxxxxx xxxxxxx
only set if all buffers savedclosed
updates current stack size max stack size unchanged because stack size variation always negative in this case
first of all if this action set readnextchar do not clear repeat
mousewheelhandler class
should normally be
remember last executed action
handlekey method
disallowing voids here easy way to support throwing of more descriptive error message on use of undefined argument to method call very common if it ever turns out that we need to support that some reason we 'll have to re evaluate how we get meta information about arguments in various invoke methods that take object we could either pass bsharguments down to overloaded forms of methods or throw exception subtype including argument position back up where error message would be compounded
invokereadnextchar method
jcheckboxlist constructor
handle bit signed numbers
stop people doing dumb stuff like enter
getvalues method
textareatransferhandler class
evaluation
note bshmethod needs to re evaluate method return type here this broken
userinput method
gotoprevbracket method
read encoding
positional parameters will be inserted where occurs in expansion
if user drops into same selection where they started do nothing
actionperformed class
handle abbrevs of form abbrev pos pos pos
fields to optimize creation of link edge edge objects by using pool of reusable objects shared pool linked list of edge objects linked to each other by their link edge poolnext field each time codewriter needs to allocate edge it removes first edge of pool and adds it to private list of edge objects after end of control flow analysis algorithm edge objects in private list of codewriter added back to pool by appending this private list to pool list in order to do this in constant time both head and tail of private list stored in this codewriter
have to check again since above might set new file flag
isok method
progressupdate method
`reload' command
only on initial load
byte sequence wwwwzzzzyy yyyyxxxxxx uuu uuzzzz yyyyyy xxxxxx uuuuu wwww
do some stuff once loading finished
if reloading file clear dirty flag
case of backward jump with offset with ifnotxxx goto where ifnotxxx opposite opcode of ifxxx ifne ifeq and where designates instruction just after goto
invokelastaction method
try and merge existing selections one by one with new selection
invoke block overriding namespace with localnamespace
if user drops into selection replace selection
getselectedvalue method
now done in namespace automatically when root classes which imported by default globalnamespace loaddefaultimports
instead of passing these around to each method we just store them as instance variables note that this not thread safe
also cache it in static namespace classstaticnamespace cacheclass name genclass
aboutdialog constructor
if there no requests execute awt requests immediately
labelrenderer class
if multiple threads log stuff we do n't want output to get mixed up
resolved variable
create non interactive local interpreter this namespace with source from input stream and outerr same as this interpreter
maximumlayoutsize method
cachedockablewindows method
finalize method
two additional bytes will be required to replace this goto or jsr instruction with goto or jsr
five additional bytes will be required to replace this ifxxx instruction with ifnotxxx goto where ifnotxxx opposite opcode of ifxxx ifne ifeq and where designates instruction just after goto
system err println cleaned up weak ref deadref
undomanager constructor
registerdockablewindow method
floatdockablewindow method
register options dialog as treeselectionlistener this done before initial selection to ensure that first selected optionpane displayed on startup
pushelement method
if found cache full name in bshclassmanager
exceptions table entries max stack size and max locals
changes temporary opcodes to inclusive and to ifeq jsr inclusive ifnull and ifnonnull
aboutpanel class
get rid of keys we never need to handle
startdocument method
dockablelisthandler constructor
get all positions from offset to end inclusive
constants
set proxy host
return newly created 'untitled
setrepeatcount method
peekelement method
getcellrenderer method
handle class suffix operation prefix must be bshtype
releases all edge objects used by this codewriter
popelement method
dockablelisthandler class
showdockablewindow method
getcacheddockablenames method
getcolumncount method
static part of class
lay out independent buttons
createpopupmenu method
getregistereddockablewindows method
control flow analysis algorithm while block stack not empty pop block from this stack update max stack size compute true non relative begin stack size of successors of this block and push these successors onto stack unless they have already been pushed onto stack note by hypothesis link label beginstacksize of blocks in block stack true non relative beginning stack sizes of these blocks
unloaddockablewindows method
check whether shortcut prefix to others
save element info
canclose method
buttons
try looking up element
insert content model if any
read entity name and prepend if necessary
make new one if necessary
space or space we pass key typed since international keyboards sometimes produce key pressed space but not key typed space eg if you have to do to insert
view text areas temporarily blank out while buffer being loaded to indicate to user that there no data available yet
searchdone method
factory class
theoretically segment could have seg offset but segmentbuffer never does that
do nothing
note some interesting things going on here we swap instead of push primary mode of operation acts like we in enclosing namespace super must be preserved etc we do not call body block eval with namespace override instead we allow it to create second subordinate blocknamespace child of fornamespace variable propogation still works through chain but block 's child cleans state between iteration which correct java behavior see forscope bsh
openaction constructor
if auto wrap on always restart search if auto wrap off and we 're called from macro stop search if we 're called interactively ask user what to do
factory constructor
getminimumsize method
sorting methods
addcomponent method
instance part of class
updates current stack size max stack size unchanged
if both original args primitives return primitive result else it mixed wrapperprimitive return wrapper type exception boolean result return primitive
floataction constructor
invokemethod here generally used by outside code to callback into bsh interpreter when we acting as interface scripted listener etc in this case there no real call stack so we make default one starting with special javacode namespace and our namespace as next
getmodeproperties method
see if application wants to redirect system id andor supply its own character stream
make default be true next action
non interactive return control now
see if we should place this toolbar before any others
getview method
method body can only use 'return' statment type return control
getparent null getparent classstatic null
show extra expecting info
to avoid our skip table having length of we hash each character of input into character in alphabet xff using lower bits of character 's value resulting in more reasonable skip table of length result of this that more than one character can hash to same index but since skip table encodes position of occurence of character furthest into string with particular index whether or not it only character with that index index collision only means that that this heuristic will give sub optimal skip complete skip table could use differences between colliding characters to maximal effect at expense of building table that over orders of magnitude larger and very sparse
map null to primtive null coming in
if localscoping switch follow strictjava else recurse
methods interacting with parser
ucs with byte order marker xfe xff ucs big endian
rolloverbutton constructor
floataction class
toggleaction class
pops block from stack
stylerenderer class
getscreenlineendoffset method
toggleaction constructor
literalbeanshellreplace method
squeltch security exception filenotfoundexception
save settings in case user kills backgrounded jedit process
removedockablewindow method
ensure we do n't have empty space at bottom or top etc
do n't beep if user presses some key we do n't know about unless prefix active otherwise it will beep when caps lock pressed etc
has body else just side effects
install user selected packages
setmode method
linecontext class
make tmp namespace to hold original constructor args use in eval of parameters node
get instance initializer block from static this
this protects against stupid people like me doing stuff like buffer setmode jedit getmode
addentry method
set instance this reference on instance
marktokens method
indentation
getproperties method
removetrailingwhitespace method
no whitespace
getposition method
shiftindentleft method
seticonpath method
shiftindentright method
parse conditional section conditionalsect includesect ignoresect includesect '' ignoresect '' ignoresectcontents skiplit comment pi char '' char char note has already been read todo verify that am handling ignoresectcontents right
getdockabletitle method
begin beanshell modification super constructor args null node null callstack parseexception knows where error
removelayoutcomponent method
getdirectoryentry method
listdirectory method
blank line
computes true beginning stack size of this successor block
adddockablewindow method
toggledockablewindow method
getvalueat method
closecurrentarea method
silly allow anti aliased characters' fuzz
hidedockablewindow method
search works by starting anchor first character of pattern at initial offset as long as anchor far enough from enough of text pattern to match and until pattern matches we compare pattern to text from last character to first character in reverse order where character in pattern mismatches we use two heuristics based on mismatch character and its position in pattern to determine furthest we can move anchor without missing any potential pattern matches
do some platforms throw exceptions if file does not exist when we ask canonical path \?
isdockablewindowvisible method
canonpath method
no matter what happends stops us from leaving buffer in bad state
getdockablewindow method
ordinals various reasons why error of this type can be thrown
getviews method
directoryentrycompare class
system err println comp getclass
last possible start position of match with this pattern this negative if pattern longer than text causing search loop below to immediately fail int last anchor reversesearch \? offset pattern length length pattern length
position variable pattern test position
isdockablewindowdocked method
getdefaultcolorfor method
true number of bytes to be added or removed from this instruction future number of padding bytes current number of padding byte previously over estimated variation newoffset newoffset newoffset
access flags
szptr zptr
addlayoutcomponent method
getscreenlinecount method
getallpluginentries method
pluginoptions constructor
this makes hypersearch much faster
when doing 'save as' path to save to path will not be same as buffer 's previous path buffer getpath in that case we want to create backup of new path even if old path backed up as well backed up property set
getwhat method
getleftdockingarea method
initially zero so that we always show first message
gettopdockingarea method
close method
loop again loop ended last pass done
we do n't care
'skip' array used to determine each index in hashed alphabet how many characters can be skipped if mismatch occurs on characater hashing to that index
finishresizing method
settingsactionhandler class
setresizepos method
i'm not sure when this can happen but it does sometimes witness jedit bug tracker
getcolumnonotherline method
otherwise just insert text
constant pool item constant pool items can be created with 'newxxx' methods in link classwriter class
getrightdockingarea method
insert attributes if any
we remember which classes we do n't exist because beanshell tries loading all possible combinations
since subsequent macros with same name ignored load user macros first so that they override system macros
correctly handle text flavor file list flavor text area read only do or of all flags
constructor
toolbar display
now selectors
paintchildren method
begin actionlistener implementation
drophandler class
getshortcut method
textarea getbuffer begincompoundedit
entry constructor
this necessary to have file opened from finder before jedit running set as currently active buffer
ask whether to override that other shortcut
make it executable
tags plugin likes to call this method at times other than startup so we need to fire searchsettingschanged to notify search bar and so on
i'm lazy
layoutcontainer method
optionsdialog constructor
textarea getbuffer endcompoundedit
modeproperties constructor
true if read after usually means this doswindows file
pass redistribute free space
when we get here we have either empty assemble buffer no bytes to write numtowrite
lay out docking areas
we do n't do this in buffer insert so that we can insert multiple files at once
xml query routines
do n't want 'new file' to create read only buffer if current file on sql vfs or something
constructors
system err println foldlevelchanged start to textarea getlastphysicalline end
lay out dependent buttons
equal to first visible line
elements
bufferchangehandler class
lazily create skip and suffix arrays either search pattern or reversed search pattern
no variable or class found in 'this' type ref if autoallocatethis then create one child 'this'
position tool bars if they managed by us
if buffer count becomes then it guaranteed to become very soon so do n't do anything in that case
only docked
wait it to be painted to ensure progress updated continuously
this property only loaded and saved if 'current buffer' file set selected otherwise it defaults to on
note bshmethod needs to re evaluate arg types here this broken
if strictjava mode check loose parameters and return type
only set if open
word end operator if \? \? \? \?
adjustdockingareastofit method
methods to compute offsets and to manage forward references
invalidatelayout method
\? \? \? \? \? \? \? \? within \?
getlayoutalignmentx method
if we got here no unused display manager in list
textareaselection class
getlineendoffset method
good introduction to boyer moore fast string matching algorithm may be found on moore 's website at
we do n't know right hand side of assignment yet has at least one setter of right name \?
getlayoutalignmenty method
if chain returns false it rejected token due to optimization and next combined with lasttoken
recordinput method
paintchunkbackgrounds method
styletablemodel constructor
quicknotepadactions implementation
autoalloc
jsr
word break operator if \? \? \? \?
if at least one property listed here true load plugin
constants
multiple files word bonus
xxx
send full range of events to avoid breaking plugins
always in range current block size this number
utility methods instruction resizing used to handle goto and jsr
if we 've fallen through here we no longer resolving to class type
position center edit pane or split pane
's ensure that gets digits gets digits and so on
getdefaultproperty method
nd step copies bytecode of method into new bytevector updates offsets and inserts or removes bytes as requested
loadprops method
movedown method
getclassinstance throws exception if not there
ca n't override prefix shortcuts
showbufferswitcher method
returns false with outdated cache
no duplicates check all whitespace string
set group start end marks
mode constructor
private members used to mark words to ignore see constructor list
we might have been closed as result of above
tool bar and status bar gets added in propertieschanged depending in 'tool bar alternate layout' setting
it class name \? if we 're just starting eval of name try to make it else fail
java object
skip throws
do not evaluate methods this or super in class instance space inside constructor
set default entities here
decide how many coding tables to use
set up input variables
direct conversion from classes to type descriptors without intermediate type objects
private to prevent invocation with param that n't primitive wrapper
getlastphysicalline method
generate initial set of coding tables
endindex now position at nextindex end of string or position after or
iscelleditable method
run jeditlauncher installation
so that last n't checked
operator assign operations save lhs value before evaluating rhs this correct java behavior postfix operations should be not
namespacechanged on new variable addition
getextendedstate method
replacebtn new jbutton jedit getproperty search replacebtn replacebtn setmnemonic jedit getproperty search replacebtn mnemonic charat grid add replacebtn replacebtn addactionlistener actionhandler
trying to cast primitive to object type primitive null can be cast to any object type
forward jump
addruleset method
number of nodes on stack current mark
set untyped variable directly in block
clockwise rotation
and adds it to successor list of currentblock block
remove action sets dockables etc so that user does n't see broken plugin
special handling at end of input
create app start script
no absolute pathnames windows and posix \? paths can start with networkdrive so we loop on starting 's
replaces old bytecodes with new ones
find end of subexpression
freeze callstack stack trace
updateui method
gettokenmarker method
gettreecellrenderercomponent method
linked list of tokens sort of some closed loops can exist
appends head tail list at beginning of pool list
calculate cost of this group as coded by each of coding tables
base external identifiers resolution
removes from pool
problem with this that if we have two edit panes looking at same buffer and file reloaded both will jump to same location
adds previous edge to list of edges used by this codewriter
returns positions of resized instructions
later on we need to know if certain code called from main thread
savegeometry method
insert expansion
jdk adds methods to obtain drive letter label and list desktop on windows
gzipped setting
setfoldlevel method also sets 'fold level valid' flag
bottom
do nothing
push nulls various args of invokemethod interpreter callstack callerinfo
call sendbreak after fixed number of lines of stdout read
dockablelayout class
get title here not in factory constructor since factory might be created before plugin 's props loaded
note it 's ok to cache class resolution here because when class space changes namespace will discard cached names
system err println filename
increment symbol frequencies selected table
getcheckedvalues method
dummyrenderer class
if only one new file open which clean just close it which will create 'untitled
backward jump
endelement method
createdockablewindow method
substitute result of matching rule start into end string eg in shell script mode to construct rules highlighting read ins like this eof eof
settokenmarker method
order these from longest to shortest start by assuming longest more repeats
ismanagingfocus method
this string will be returned by getversion
check whether this shortcut already exists
remember old values in case action changes them
getsymbolicname method
big enough pair lookbehind most recent lookbehind second most recent
define new class in classloader
skip whitespace at end
this it \? class public or can we use accessibility \?
copy
we do n't handle key pressed
do n't do these checks while save in progress because moment newmodtime will be greater than oldmodtime due to multithreading only supported on local file system
resolve symlinks to avoid loops
true non relative max stack size
create class static namespace
so that we do n't see same tip again if user clicks 'next tip'
end static members
precalculate these so we do n't pay math every time we need to access them
handlenowordbreak method
updates current stack size max stack size unchanged because stack size variation always negative or null
method invocation lhs or non lhs evaluation can both encounter method calls
getnextrequest method
on by default
and finally block data proper
fix byte files should open using default line seperator
doawtrequest method
if file size not known start with resonable default buffer size
process big buckets starting with least full
main sorting loop
create directoryentry manually instead of using vfs getdirectoryentry since so many vfs 's have broken implementations of this method
fill in defaults these from system properties if corresponding buffer xxx properties not set
check to see if instance has already been initialized case if using this alternate constuctor
start and end flags will be wrong with reverse search enabled but they only used by regexp matcher which does n't support reverse search yet remind fix flags when adding reverse regexp search
java does not support this encoding so we have to handle it manually
just as if enter pressed in another text field
we did n't have component previously so create border
gather modifiers class method or field lookahead true then we being called as part of lookahead and we should not enforce any rules otherwise we validate based on context field method class
workthreadhandler class
this ensures that undo can clear dirty flag properly when all edits up to save undone
now another magic bit number to indicate end of last block sqrt pi if you want to know did want to use but it contains too much repetition me to feel statistically comfortable call me paranoid
ldc
transmit mapping table
it bsh script variable reference \? if we 're just starting eval of name no base object or we 're evaluating relative to this type reference check
updateassignedto method
begins new current block resets relative current and max stack sizes
stop script kiddies from opening edit server port and just leaving it open as dos
anchor position refers to index into source input at which matching operation began this also useful anchorindex option
show remove button
either class sun tools javac main or com sun tools javac main must be there
getfocustraversalkeysenabled method
remember to make this option later nsapplication sharedapplication hide jedit getplugin macosplugin
high level io
goto
and we save them in order not to recompute them in future
check match inside line
setshortcut method
try to load module do n't refer to it directly here or we 're dependent upon it
fail silently since we may be using ufs
above sizes have not been computed yet so we compute them
io information current reader current input stream current line number current column number type of input source stack of input soruces current external entity current character encoding how many bytes read from current source
updates instructions addresses in catch local var and line number tables
no stack change but end of current block with one new successor
types newarray
analyses successors of block
ends current block with one new successor
getpluginicon method
some java versions return clipboard contents using native line separator so have to convert it here
push name of method as constant
user cancelled \? \? \?
case constants putfield
back end needs place to store mtf values whilst it calculates coding tables we could put them in zptr array however these values will fit in short so we overlay szptr at start of zptr in hope of reducing number of cache misses induced by multiple traversals of mtf values when calculating coding tables seems to improve compression speed by about
in case macro file name has space in it spaces break view toolbar property instance since it uses spaces to delimit action names
now that we know how many chars there get width
static initializer
ignore if already added see comment in loadmacros
computes stack size variation
clone separates single match from chain
changes opcode of jump instruction in order to be able to find it later see resizeinstructions in codewriter these temporary opcodes similar to jump instruction opcodes except that bytes offset unsigned and can therefore represent values from to which sufficient since size of method limited to bytes
ebcomponent implementation
throw new cerror
ask whether to remove old shortcut
wait pending io requests
getkeybinding method
over estimation of number of bytes to be added to this instruction current number of padding bytes
attribute methods
if you ever unluckyimprobable enough to get stack overflow whilst sorting increase following constant and try again in practice have never seen stack go above elems so following limit seems very generous
helper method to get font from plugin properties
throw new ioexception invalid block size
on insert start search from beginning of current match this will continue to highlight current match until another match found
backwards compatibility color variable stored also as property
utility methods control flow analysis algorithm
useful debugging purposes
other public methods
ensurecapacity method
paint bracket scope
synchronizemultifilesettings method
if param typed check assignability
start with little cheat in most cases entire sequence of character data will already be in readbuffer if not fall through to normal approach
look declaration subset
append method
allocates byte vector of this size in order to avoid unnecessary arraycopy operations in bytevector enlarge method
computes real size of bytecode of this class
log log log debug this running in awt thread request
implementation of classvisitor interface
gotonextword method
find longest match of them all to observe leftmost longest
we first to add update add update sending runnable to awt thread
getcaretline method
smartend method
filesactivated method candoubleclickclose set to false when enter pressed
getselectedtext method
getstructurematch method
gotostartofline method
case mana insn
check whether other shortcut alt shortcut
compatibility with older jedit versions
to hide current line highlight
we have binding foo but user asks to remove foo bar \?
getnonalphanumericchars method
getstructurehighlightcolor method
impl note since multiple searches now allowed extra level in hierarchy
check backup directory and create that directory if it does n't exist
if this literal super reference then we allow recursion in setting variable to get normal effect of finding nearest definition starting at super scope on any other resolution qualified by 'this' type reference we want to set variable directly in that scope this or somethistype in old scoping rules super did n't do this
setsorttype method
entire save operation can be aborted
loadmenuitem method
proxy port
skips to padding bytes
delegate methods
getphysicallineofscreenline method
when text area switches to us it will do reset anyway
opcodes visit method idem
loadmenu method
invalid regexp ignore return true to avoid annoying beeping while typing re
special case no current development version
since recentbuffer will be set to one that closed
old plugins expected jedit style behavior where propertieschanged sent after plugins started
this handled little differently from other jedit settings as splash screen flag needs to be known very early in startup sequence before user properties have been loaded
if recurse set global untyped var else set it here namespace varscope recurse \? getglobal this this modification makes default allocation local
screen line stuff
synchronized
check pcdata alone
check escape rule of parent
index works abc lists not generic lookahead index
still have to call this even if it equals old one so that offset manager sets validity flag
object instance has already been initialzed by another constructor fall through to invoke constructor body below
fall through
if vfs supports renaming files we first save to save then rename that to so that if save fails data will not be lost as of pre we now call vfs gettwostagesavename instead of constructing path directly since some vfs 's might not allow in filenames
item setimage nsworkspace sharedworkspace iconforfile buffs getpath
figure out if this start tag or empty element and dispatch event accordingly
loop until subset ends
read and write must be kept perfectly in sync its very simple file format doing it this way faster than serializing since serialization calls reflection etc
if it had different type throw error this allows declaring same var again but not with different even if assignable type
add jars before checking deps since dep check might require all jars to be present
inputpane class
we do n't need two identical shortcuts
our children prefix expression and any number of suffixes we do n't eval any nodes until suffixes have had opportunity to work through them this lets suffixes decide how to interpret ambiguous name class operation
keybinding class
put fornamespace it on top of stack note it 's important that there only one exit point from this method so that we can swap back namespace
fields
addoptiongroup method
addmarker method
fontselectordialog class
seteolmarkercolor method
we keep first non null frc we get since sometimes we get invalid ones on subsequent pages on windows
ucs without bom must begin with \? xml ucs little endian no byte order mark
auto detect encoding within gzip stream
run method
setscreenlinecount method
this ensures that text area 's look slightly more consistent with rest of metal while it depends on not so well documented portions of swing it only affects appearance so future breakage should n't matter
try toobject which knows how to work through inner classes and see what we end up with
interpreter debug simple var lhs
empty line inherit previous line 's fold level
superclass method invocation \? super foo
in collapsed range
having all info packed into int not very oo and makes code somewhat more complicated but it saves lot of memory new document model has just bytes of overhead per line linecontext instances now internalized so only few should actually be in heap in old document model there objects per line total of about bytes plus cached token list which used another or so bytes
some duplication super see notes this above if we 're in enclsing class instance and have superclass instance our super superclass instance
skips instruction
if one line 's chunks invalid remaining lines also invalid
perform suffix operation on given object and return new value obj will be node when suffix evaluation begins allowing us to interpret it contextually class thereafter it will be value object or lhs as determined by tolhs we must handle tolhs case at each point here
marker constructor
movegap contentinserted
pushes this successor onto stack
ldc
setcontent method
redo method
if type already assignable no cast necessary we do this last to allow various errors above to be caught cast primitive void to object would pass this
copy text before gap
remove bsh get index of between host and port located
getassignable would catch this typed param
if lastwascr true we just read followed by we specify that this windows file but take no further action and just ignore
get type by constructing prototype array with arbitrary zero length in each dimension int array default zeros
that 's it we have match
queue of undos last most recent first oldest
selectpane method
give all text areas same font
this ensures that undo can clear dirty flag properly when all edits up to save undone
save method
found existing variable here or above if recurse allowed
note that if firstline lastline loop does not execute
lock our declaring namespace 's this reference method 's 'super' or in case of class it 's class instance
setbuffer method
because cliprect 's height usually even multiple of font height we subtract from it otherwise one too many lines will always be painted
getfoldlinestyle method
computes true non relative max stack size of this block
set untyped variable untyped param
paintvalidline method
hints put renderinghints key rendering renderinghints value render quality
review this horribly inefficient but it ensures that we properly skip over bytes via tarbuffer
write simple script
setlinehighlightcolor method
vfs constructor
this should not happen with checkonly true
remove constructor
unwrap target exception if interface declares that it throws ex it will be delivered if not it will be wrapped in undeclaredthrowable
unloadpluginjar method
if nothing entered show search and replace dialog box
precontentremoved method
cwd not implemented in this version
super
bgen jjtree castexpression
evaluate our prefix if it needs evaluating first if this first evaluation our prefix mayb be node directly from primaryprefix eval it to object if it 's lhs resolve to value note ambiguous name construct now necessary where node may be ambiguous name if this becomes common we might want to make static method nodetoobject or something point that we ca n't just eval we need to direct evaluation to context sensitive type of result namely object class etc
byte block header value chosen arbitrarily as bit value does not really give strong enough guarantee that value will not appear by chance in compressed datastream worst case probability of this event block about bits bits and bits compressed file of size gb about blocks only bit marker will do nb normal compression decompression do not rely on these statistical properties they only important when trying to recover blocks from damaged files
set up snapshot of current input source
in close
addinstall method
write method
startplugin method
uninit method
menudeselected method
showfileaction class
buffer undecoded raw byte input
cache fact that this static method invocation on this class
performoperationsinawtthread method
removealltreenodesaction class
invoke method this invokemethod name class sig boolean
we use custom jradiobutton subclass that returns false isfocustraversable so that user can tab from search field to replace field with one keystroke
end of prev expanded range
paintline method
assign actual codes tables
this constructor value of hash table
to avoid any problems if components added or removed while message being sent
pass layout components
in case saved geometry too small
after this point we 're definitely evaluating relative to base object
macros
this will fire properties changed event
not class or variable per above
keep adding parts until we have class
updatesize method
optiontreemodel class
previous round produced null
soft tabs
getfontproperty method
not found we 'll have to add it
this model may not be changed by tablecelleditor
setfont new font dialog font bold
do some basic validity checks
line separator
returns false if no such pane exists calling with null param selects first option pane found
indent size
thisnamespace getparent classinstance null
previous round produced void
fold mode
do we have to grow bucket \?
fontselector constructor
wrap mode
find enclosing class instance space of class name
class qualified 'this' reference from inner class 'myouterclass this'
stop if there no more tuples
setantialiasenabled method
isantialiasenabled method
stop when we hit null index
if they 're same length check match if loop finishes 'index' will contain current bucket position
discarded by key event workaround
updatetext method
getzipfile method
createtextfieldandlistpanel method
get bucket
updatepreview method
addtranslation method
getfontlist method
getselectedfont method
fonts gettoolkit getfontlist
remove method
translatekeyevent method
error
get previous context see notes this class
inner class \?
parsekey method
getsymbolicmodifiername method
static field \?
length access on array \?
super now closure 's super or class instance
log log log debug miscutilities class not in system classpath
if we get here we have failed
not field
early return
getborderinsets method
show method
removing last component so remove border
resizemousehandler class
register method
getcurrent method
create button
key class
showmostrecent method
setdimension method
defer to whoever loaded us such as jshell echidna etc
unregister method
button box setup
getdimension method
doing instanceof \? next node type
paintborder method
sortdockables method
getdockables method
menumousehandler class
remember most recent dockable
paintvertborder method
case
dockablepanel class
try straightforward class name first
painthorizborder method
isborderopaque method
var means untyped return null class
dockborder constructor
getwindowcontainer method
getresourceasstream method
updatecolors method
null interpreter and callstack references class only resolution should not require them
simple non compound variable assignment
could n't resolve it
addlayoutcomponent method
geticonwidth method
autoallocthis
painticon method
field foo bar
height int glyphs getlogicalbounds getheight
dockablepanel constructor
nothing 'cept close box
no rotation
left
getresource method
found non backslash char
we 'll print our banner using eval string in order to exercise parser and get basic expression classes loaded this ameliorates delay after typing first statement
primitive number or void not normally instanceof anything but internal use we 'll test true bsh primitive class instanceof bsh primitive will be true
top
getvirtualwidth method
conversion to type descriptors
getoffsetofvirtualcolumn method
getresourceaspath method
getopenparenindent method
collapsed
dissallow assignment to magic fields
right
this or somethistype
finished eval and its class
ca n't happen \?
getbooleanproperty method
object java lang wrapper boolean char or number type
alternation operator or if re no bk vbar or newline if re newline alt not available if re limited ops set
removebufferfromlist method
fields control flow graph analysis algorithm used to compute maximum stack size control flow graph contains one node per basic block and one edge per jump from one basic block to another each node each basic block represented by label object that corresponds to first instruction of this basic block each node also stores list of its successors in graph as linked list of edge objects
enhancedmenuitem constructor
start copying to left
begin cached result structures these optimizations
reflecterror invocationtargetexception
insert method
enhanceddialog implementation
setborderpainted method
this one only finds public and in interfaces etc
overflow character from last data chunk
definite node constructed from specified number of children that number of nodes popped from stack and made children of definite node then definite node pushed on to stack
try explicitly imported class import foo bar
do n't do this in static since we need jedit initmisc run first so we have jeditresource protocol
recordmacro method
if value null if default null unset user prop else set user prop to else if default equals value ignore if default does n't equal value set user
logviewer constructor
first element of pp abbrev itself
setenabled method
subexpressions depending on re no bk parens
loadifnecessary method
implementation of codevisitor interface
loglist class
checkforexistingabbrev method
paint method
resulticon class
try static method
parsekeystroke method
isopaque method
normalise all other whitespace to single space
editabbrevdialog constructor
handle ordinary abbrevs
maybe show add abbrev dialog
do we have necessary jdk packages and optional package \?
getglobalabbrevs method
guess this when we pass it as argument \? setting locally
not comment create re subexpression as token
setproperties method
getsize method
setglobalabbrevs method
removetoolbar method
should be passed on but should n't
savehistory method
hash table of attributes found in current start tag
ignore
generate hash code
unmatched right paren or throw exception if syntax get resyntax re unmatched right paren ord
place toolbar at bottom of group
need to carry over file name and first line globs because they not given to us by xmode handler but instead filled in by catalog loader
additem method
loadhistory method
setcurrentbindings method
stores prefix name in bindings hashtable
toolbarmanager constructor
select appropriate tree node
getelementat method
log log log debug historymodel class fnf
helpsearchpanel constructor
ok do it by book
set proxy authentication
expand buffer if necessary
check next character
match any character operator except possibly newline and null
jarclassloader constructor
no need to do this macros
skip whitespace at start
accept method
system id
instance members
return value
resultcompare class
we later use this to compute relative ranking
end enhanceddialog implementation
helpviewer constructor
getshorturl method
gotourl method
public id
resultrenderer class
queuetocreload method
getbaseurl method
literals never have line ends
loadtoc method
helpfile class
read first character
evalselection method
showevaluatedialog method
showevaluatelinesdialog method
linkhandler class
reset default cursor so that hand cursor does n't stick around
checkonly
indexjar method
helpindex constructor
toc pane looks up user 's guide urls relative to doc directory
applicationshouldhandlereopen method
try static and then object if allowed note that java compiler should not allow both
zero or more repeat operator
see what jarclassloader this class in
indexeditorhelp method
search all of its interfaces breadth first
find delimiter
hyperlinkupdate method
read literal
indexdirectory method
propertychangehandler class
createnode method
ignoreword method
lname endswith txt
so that helpviewer constructor does n't try to expand
word begin operator if \? \? \? \?
used to mark non existent classes in class hash
evaluate method declaration
utility methods dump bytecode array
word
should try to print usage here if nothing found
addword method
indexurl method
selectnode method
word class
look beanshell command
files it occurs in
if defined invoke it
helptocpanel constructor
else fall through
helpnode constructor
attribute method
tochandler class
null means no value this ia placeholder primitive null value
high level reading and scanning methods
customclassmanager class
cut method
tochandler constructor
toccellrenderer class
tooltipmanager ttm tooltipmanager sharedinstance
cellrectisvisible method
path name methods
toctree constructor
sendvfsupdatessafely class
toctree class
constructpath method
getfilevfs method
vfs methods
plugincompare class
geturlvfs method
registervfs method
static variables
if we already in awt thread take shortcut
runinawtthread method
error method
runinworkthread method
getvfsbyname method
getregisterstatusprompt method
getvfsforpath method
in new api protocol always equals name
class initializer
getvfss method
getfilesystems method
getvfsforprotocol method
waitforrequests method
do n't send two updates same path
non special character or escape to make literal example
getregister method
erroroccurred method
getrequestcount method
getiothreadpool method
sendvfsupdate method
io request methods
use system default short format
getleadingwhitespacewidth method
addglobalabbrev method
createoutputstream method
loadcolors method
setpermissions method
lookupword method
getfilename method
helpnode class
getparentelement method
register notation
getparentofpath method
urlvfs constructor
when class loaded populate hash table of attribute types
rename method
if this type of this implements it directly return this else try complain that we do n't have proxy mechanism
bcm
overrides retoken chain
clear static caches in bshclassmanager
getstringproperty method
setstringproperty method
check if file valid
getfileseparator method
filevfs method
delete method
end compound name routines
localdirectoryentry class
this needed because on os renaming to non existent directory causes problems
backup method
mkdir method
key released
if null callstack
arithmetic
eof
this has been changed since to be non overlapping matches
have to handle this case specially on windows insert between eg and myfile txt
utility methods constant pool management
toolbar related constants
setbooleanproperty method
getmodeabbrevs method
setmodeabbrevs method
addtofavorites method
tablemousehandler class
permission preservation code
savecomplete method
setmodifiermapping method
getintegerproperty method
getpermissions method
assignment to loose type void type or exactly same type
gettrailingwhitespace method
savebackup method
layers
favoritesvfs constructor
savefavorites method
favoritesentry class
getfavorites method
loadfavorites method
listroots method
make sure people do n't do stupid things like putting files in volumes
addmodeabbrev method
only load global abbrevs if user abbrevs file could not be loaded
if backup file created less than 'backuptimedistance' ago we do not create backup
actionbar method
countnewlines method
getfile method
autodetect method
note it may see like with new scoping this test could be removed but it cannot when recurse false we still need to set variable in our parent not here
getextendedattributes method
reloaddirectory method
markersmenuitem constructor
fetch properties
showbrowsedialog method
rootsentry class
getcapabilities method
to prevent windows looking disk in floppy drive
null evalname and we 're finished base object current eval
begin beanshell modification constructor
originally called resulttype in grammar
reasonable defaults \?
checkonly
extended attributes
capabilities
indexstream method
this ensures that getfileparent protocol example protocol and not
casting to reference type
do n't want getfilename roots to return
cannot cast from arbitrary object to primitive
geteditpanes method
must be null in checkonly
getextendedattribute method
method name that starts with requires session object
currently unused but we 'll probably need it later
createvfssession method
ignore last character of path to properly handle paths like foobar
gettwostagesavename method
updateeverytime method
appearanceoptionpane constructor
inform handler about attribute
if return type void return void as value
eof not zero read apparently
expression syntax follows
precondition pattern index we will return pos of closing
box it
setintegerproperty method
will be cached from now on
getregexpproperty method
getrulesetatoffset method
collect blocks of up to maxitems of consecutive letters
endvfssession method
set var here in block namespace
printstacktrace
super variables containskey name not any faster checked
set var in enclosing parent namespace
found \?
getclassname method
strict \?
current addseparator
file types
bgen jjtree methodinvocation
check tomfoolery
parsepermissions method
we have to deal with huge range of possible border cases here
should never come here
filtering out backups
markersmenuitem class
actionlisteners
directoryentry constructor
classpathexception type of utilevalerror
getcolor method
skip marker files
read all backslashes
skip backup files
if less than items put them directly in menu
generate code to push bshthis or bshstatic field
bgen jjtree arguments
we could let string fall through to final input but since it 's most likely input type we check it first
sort each letter
no background mode and opening new view
keypressed method
addtolettermap method
expansion class
old api
we build set of lists each list contains plugin menu items that begin with given letter
loadabbrevs method
eval method
bgen jjtree block
eval method
int
saveabbrevs method
push 'this'
write global abbrevs
getfirstinvalidfoldlevel method
write mode abbrevs
parse mixed content
compoundedit class
read first token
getbuffer method
isscreenlinecountvalid method
constants element content type
directoryprovider constructor
add method
model class
menuselected method
both numeric wrapper types \? try numeric style promotion wrapper cast
getsplitconfig method
assign does n't need pre value
finish declaration
mouselistener
getpluginjar method
bgen jjtree ifstatement
freq table collected to save pass over data during decompression
loadcaretinfo method
viewupdate constructor
if no server running and user runs jedit quit just exit
actionlistener
createmacrosmenu method
editbusstub class
cacheblock method
dynamicmenuchanged constructor
protected members
setselectedrow method
read remaining tokens
init method
read external ids
isexiting method
message types
canonpath method
pluginupdate constructor
bufferupdate constructor
dockablewindowupdate constructor
getrowcount method
check ndata declaration
evaluate each child
no surrogates needed
mouseclicked method
browsercolorsmodel constructor
read entity value
returns root node of ast it only makes sense to call this after successful parse
browsercolorsmodel class
moveup method
colorrenderer constructor
colorrenderer class
check parameter entity
determines whether current node actually closed and pushed this should only be called in final user action of node scope
too big surrogate
blockno
runcachedblock method
isscriptrunning method
getnamespace method
deprecated functions
background color
read attribute type
setscreenlinecount method
font
textareaoptionpane constructor
classexists caches info us
savemode method
selection color
wrap guide
line highlight
selectmode method
editingoptionpane constructor
eol markers
returns node currently on top of stack
returns number of children on stack in current node scope
resetclassmanager method
setupdefaultvariables method
resetdefaultvariables method
unwrapexception method
handleexception method
createinterpreter method
show toolbar
movegapend method
dummyfoldhandler constructor
do n't do anything if user did n't change any settings
nopluginspane class
ceate icons list
need to call mode init if file name or first line globs change
explicitfoldhandler constructor
initialize plugins branch of options tree
query plugins option panes
movegapstart method
toolbaroptionpane constructor
getdefaultgroup method
createoptiontreemodel method
create buttons
get rid of mixed paths on windows
garbage collected
also get rid of trailing spaces on windows
found
found followed by something else
parse rest of content model
do same on os
constants entity type
end handlerbase implementation
check occurrence indicator
section lines ff
try scripted class
toolbareditdialog class
number of positional parameters in abbreviation expansion
register separator
iconlistentry class
expansion constructor
buttoncompare class
icon selection
button class
handle backslash
read content model
toolbareditdialog constructor
indexed but vector contents zero indexed
key will be key example
check end or separator
updatelist method
found
found
found
found
clean up old listeners
single line mode
createstyletablemodel method
createstyletablescroller method
values constants bit indexes
styletablemodel class
classloader wants no leading slash
styleeditor constructor
skip all white pis and comments if this does n't throw exception
handle delimiters
getkeywordmapatoffset method
found
getcontextsensitiveproperty method
getstyle method
remove duplicates
secondary metal font
addstylechoice method
expand general entities in default values of attributes do this after doctypedecl event expandattributedefaultvalues
guess not
restore previous state
read attribute name
this global counter array of specified attributes
number alignment
see if it specified
sorting
read attributes if any after this loop we should be just in front of closing delimiter
border width
fold marker color
highlight interval and color
used to store property values
overwrite
not supported by java
resolvesymlinks method
constants attribute type
read external subset if any
memory status
foreground color
status bar visible
caret status
fold mode
loop until we end up back at
firewalloptionpane constructor
read element type name
memory background color
proxy password
proxy host
no proxy
no external subset
volatile transient
getcolumnclass method
dockpositioncellrenderer class
end of subset
read document type name
bit encodings
constants supported encodings
read externalids
offset
edit mode
bit encodings
len
sort method
isabsolutepath method
bit encodings
nice and simple
constructor
autosave interval
try reading standalone declaration
constants attribute default value
dump method
backup on every save
read optional version
globaloptions constructor
read version
insertatcolumn method
do n't break jedit core and plugins throw new interpretererror null variable value
insert code to update plugin managers list here later
backup count
may have been axed previously
backup directory
try reading encoding declaration
download source
floatingwindowcontainer constructor
boolean
special primitive types
browseroptionpane constructor
abbrev class
serialization do n't serialize non serializable objects
remove class
ok \?
squeltch
setting up unzftab entries here not strictly necessary but it does save having to do it later in separate pass and so saves block 's worth of cache misses
getmode method
getautosavefile method
cache unqualified names to prevent import check again
now since all browser actions written in beanshell we set 'browser' variable directly
abbrevcompare class
abbrevsmodel constructor
tohashtable method
edit method
headermousehandler class
no args method
user interface
groups
insertindented method
obtain leading indent later use
normalise whitespace if necessary
forcclass
note technically think we could get by passing in only current namespace or perhaps bshclassmanager here instead of callstack and interpreter however let 's just play it safe in case of future changes anywhere you eval node you need these
try parent
newfile method
undo mtf values selectors
addbufferchangelistener method
addexplicitfold method
show tip of day
bitwise
returns object covering both long and boolean return types
show tool bar
keep track of original types
add new typed var
returns object covering both integer and boolean return types
do n't generate private or loosely return typed methods
gotonextfold method
type correct here
history count
show hidden files
view dock layout
show icons
beep on search auto wrap
show full path
menu spillover count
actionlisthandler constructor
show search bar
show buffer switcher
narrowtofold method
primary metal font
getentry method
show splash screen
printoptionpane constructor
bufferoptions constructor
declaredonly
auto gen default constructor use default super constructor
number of times we 've matched so far
create new file when last closed
edit modes syntax highlighting
common layers
map voids to nulls outside world
ca n't shift floating point values
arbitrary
and must be cast back original type
promote character to number type these purposes
flush log
save list of open files
layers top group
non boolean primitive get appropriate flavor of zero
store value in array
sort buffers
try object imports
found object and it 's not undefined variable
determine if constructor calls this or super
check stingy match each possibility
set contents of mymatch equal to newmatch
closeallbuffers method
need to convert entries of 'props' to propvalue instances
confirm save all
pathequals method
togglerectangularselectionenabled method
evaluate static portion of block in static space
unwrap primitives
savecaretinfo method
insert content type if any
try static imports
check existing method
this constructors come after super constructors in table
we do write lock so that autosave which grabs read lock not executed between deletion of autosave file and clearing of dirty flag
close remaining buffers close dialog only deals with dirty ones
backspaceword method
try declaredfield
fromtype
think this can happen
supply any defaulted attributes
create instance 'this' namespace set it on object instance and invoke instance initializer
find new doableslast
just paranoia constant
saveallbuffers method
cast input appropriately or throw exception
do n't deal with object types here unless above
can only cast boolean to boolean
trying to cast null to primitive type \?
addoptionpane method
session management
generaloptionpane constructor
showrecentmenuitem class
unwrap primitive to wrapper type
begin beanshell modification public extend evalerror
evaluate initializers
first promote char to number type to avoid duplicating code
do numeric cast
ucs must begin with xml ucs little endian
return countparts value
at this point we 've either got too many or just right amount see if this numrepeats works with rest of regexp
footer
write `magic' bytes indicating file format huffmanised followed by digit indicating blocksize
auto reload changed buffers \?
header
sort buffers by names
ucs must begin with xml ucs unusual
test all possible matches this number of repeats
sweet savebackup will create backupdir if it does n't exist
parentmousehandler class
save caret positions
end beanshell modification sourcefile
begin beanshell modification sourcefile
end beanshell modification public extend evalerror
end beanshell modification constructor
end beanshell modification super constructor args
recent file list size
force print dialog
check mod status on focus
default file encoding
auto detect encoding
in any case this only needed directory chooser why \? so we add check otherwise poor rick will go insane
handle primitive widening conversions jls
overridenamespace
now scan this big bucket so as to synthesise sorted order small buckets ss all ss
two stage save
helpbutton class
compare existing entries' hashcode with this
turns out under some circumstances this method can switch current buffer in browser mode
color
focusondefaultcomponent method
mousemoved method
createmenuitems method
layers bottom group
centercaret method
end beanshell modification made conditional on debug
begin beanshell modification added debug param
showselectlinerangedialog method
sort block and establish posn of original string
removestructurematcher method
showlistconfirm method
begin beanshell modification added sourcefile info
managepanel constructor
end beanshell modification added debug param
begin beanshell modification override error methods and tostring
compare with number of dimensions actually created with number specified syntax uses undefined ones here
some kind of bit encoding without \? xml otherwise utf without encodingxml declaration
dimensionsnode can return either fully intialized array or void when void prescribed array dimensions defined and undefined contained in node
so that we do n't try to reset right away
find coding table which best this group and record its identity in selector table
in this case we ca n't directly call view close we have to call closeview all open views
generate delegate methods
transitiveclosure method
test it
execute nodes skipping labels until break or return
check entity recursion
instance data
both primitives do primitive cast
filter
check if input at valid position
stop server
enhancedbutton constructor
mirror class
copied from generated getmessage
generate constructors
force class public now
inner classes
generate bsh instance 'this' reference holder field
generate fields
generate static bsh static reference holder field
loadextrajarsifnecessary method
plugintablemodel class
caret
removebutton class
textrenderer class
addtoselection method
mirrorlist constructor
mirrorcompare class
unwrap etc
pluginlist constructor
getselectioncount method
generate method body
gettoolbar method
finished method
split config recorded in simple rpn language
addpluginset method
addplugin method
if download ok remove existing version
copy
updateposition method
if no requests running requestdone will not be called so we must queue awt runner ourselves
createbrowsermenuitems method
pluginmanager constructor
deprecated methods
ensure consistent history eg we do n't want both foo and foo
isdownloadinglist method
createoptionpanes method
getjar method
strip trailing eol
get instance field
showwaitcursor method
also cache class so that no import resolution must occur this avoids having to load our enclosing class which n't finished being generated yet oy
low level io
need to set input stream reinit parser \?
primitive to arbitrary object type allow primitive casttotype to handle it as well as cases of primitive null and primitive void
la perl whole thing subexpressions
if started with java jar jedit jar
showpluginmanager method
getinstance method
string installed string installedversion
plugin class
dependency class
pluginset class
after entire list loaded fill out plugin field in dependencies
force install tab to refresh possible change of mirror
implements abstract method retoken match
getpluginlist method
branch class
only used if what plugin
read as many bytes as possible into read buffer
updatepluginlist method
init static shared sharedobject if it 's not there yet
setselectall method
selectallbutton class
nothing to do
getbufferlength method
even if installdirectory different
getsearchbar method
map
index tracks position in char array
log log log debug jedit class fnf
setup panes
variables
branch satisfydependencies roster installdirectory downloadsource
look specially named super delegate method
restoresplitconfig method
activate method
download method
sizelabel class
generate code to push arguments as object array
strict
dispatch to encoding specific reader method to populate readbuffer
bsh evalonly
setup table
deactivate method
create description
create buttons
listupdater class
plugininfobox class
still needed even though glass pane has wait cursor
do more stuff
nexttabstop method
writemap method
roster constructor
hidewaitcursor method
tab size
getstatus method
getactionbar method
handle imported inner class case
quickincrementalsearch method
compact vector
add final buffered token and endsub marker
quickhypersearch method
installpanel constructor
create this constructor method
formatsize method
generate code to return value
generate code to unwrap bsh primitive types
generate code to invoke classgeneratorutil initinstance method
push 'this'
windowhandler class
concatpath method
close jar file and all jars that depend on this
make all child paths relative
getlinetext method
setfirstphysicalline method
alphanumeric operator
getinputhandler method
input handling
getkeyeventinterceptor method
setkeyeventinterceptor method
setinputhandler method
we have to be careful
calculate tab size
rosterthread class
progress value as of start of current task
textrenderer
package private members
done method
deferred class
setvalue method
enddocument method
change any white text to black
invoke initinstance method
push classconstructor name as constant
push arguments as object array
buffer readlock
getfilecount method
scrolling
calculate size current page
parentdirectoryrenderer class
print method
printpage method
buffer readunlock
getmacrorecorder method
setmacrorecorder method
type name and expression syntax follows
determine line number width
pagesetup method
no need to always keep same job name every printout
remove cache file
add method body
push super class name use superclassname var \?
togglelineseparator method
push class static this object
instance variables this bad hack
paintheader method
not supported arbitriary filesets
generate switch body
decorate frames with look and feel jdk only
bufferprintable constructor
max
start switch
push constructorargs
map loose return to object
invoke iterator method on constructorargs push constructorargs
unload arguments from constructorargs object
done with switch
maybe combine this with generatemethod
default branch always invokes no args super push 'this'
invoke constructor this branch
if it 's object type we must do check cast
getmaximum method
paintfooter method
catch those hooligans passing null urls
move jar first
getprintjob method
printtabexpander class
format setorientation pageformat portrait
printtabexpander constructor
entrycompare class
getpageformat method
install class
long
install constructor
addremove method
cached speed
getfileextension method
push vars
occur constructor
operation interface
addoperation method
getfilenamenoextension method
getdownloaddir method
saveprintspec method
getfileparent method
convert from printrequestattributeset to pageformat
getfileprotocol method
getprotocolofurl method
isurl method
line numbering
create timer used by incremental search
goto method
bgen jjtree formalparameters
final in
hypersearchresult constructor
not found at all
addoccur method
gather all of methods of class and parents
error occurred
togglewordwrap method
getnextfile method
occur class
getfirstfile method
getdirectory method
sethypersearch method
invalidatecachedlist method
whitespace operator if re char class escapes set
return escape
isempty method
non word break operator if \? \? \? \?
performoperationsinworkthread method
now activate plugins
buffersaved method
close button only there if 'temp' true
getoperationcount method
timerincrementalsearch method
find method
incrementalsearch method
getoperation method
beep if beep property set
not found start from beginning
incremental search
on backspace restart from beginning
inform user search restarted
on enter start search from end of current match to find next one
buffers edit panes split panes
splithorizontally method
use default super constructor
hypersearch
do n't beep if not found subsequent beeps very annoying when backspacing invalid search string
reverse regexp search not supported yet so 'simulate' with restart
strings might be equal
bufferupdate closed
setrecursive method
to notify listeners that any existing selection has been deactivated
visitbuffers method
split method
unsplitcurrent method
find first split pane parenting current edit pane
hypersearchresults constructor
getfilefilter method
gettreemodel method
gettree method
autoexec bat
getfiles method
isrecursive method
etcpasswd
end child node structure evaluated by insurenodesparsed
succeeded cache resolved method
getreversesearch method
method public or we in accessibility mode \?
yes it
searchfailed method
package private since they accessed by inner classes and we want this to be fast
found at least one matching method but could n't use
ignore and move on
this class \?
bgen jjtree type
evaluate args
windows or does n't contain at all
get static this reference from proto instance
gotoselectednode method
modifiers
getters and setters
find matching super constructor args
we choosing ourselves recursively through this reference \?
find matching this constructor args
match class
resultvisitor interface
setignorecase method
getregexp method
bufferloadedvisitor class
addtoken method
readstringarray method
find appropriate constructor use declared here to see package and private as well there no inherited constructors to worry about
get rid of any edit pane that child of current edit pane 's parent splitter
readmap method
nexttextarea method
createsearchsettingspanel method
find constructor now in instance namespace
wait buffer to finish loading
writebooleanarray method
import
now block 's crc so it in known place
getautowrap method
readuri method
getdocument method
invoke constructor method from instancethis
readbooleanarray method
hypersearch method
actions
give instance space its object import
override
setsearchmatcher method
getsmartcasereplace method
create instance namespace
pull out method signatures with matching names
method matches name
this method should parallel findmostspecificmethod
prevtextarea method
read method
overridenamespace
evaluate constructor
if args we must have constructor
gettokens method
setsearchfileset method
start search from beginning
getsearchfileset method
replace method
make sure start of match visible
replaceall method
wait buffer to load
jar class
getversion method
getsplitpane method
gotobuffer method
ignore zero height splits etc
replaceinselection method
search settings
openfile method
record method
right \?
removeextension method
unwrap primitive null to null
there always paramsnode
unsafe caching of type here
begin child node structure evaluated by insurenodesparsed
gettextarea method
only record this if doing find next
geteditpane method
getviewconfig method
regexpbeanshellreplace method
handleerror method
preloadsearchdialog method
replaceone method
bgen jjtree formalparameter
if backups create file
showsearchdialog method
index of first throws clause child node
might be already selected see above
getsearchdialog method
match method
callerinfo
fall through
closeorkeepdialog method
should n't happen
why so cute \?
bgen jjtree
end stuff that tacked on boolean short circuiting
unsafe caching of type here null none void type or class
createtoken method
source directory or filter field
check next two characters
validate that throws names class names
replacebtn
focused border color
createmultifilepanel method
do nothing ch already contains correct character
get next character
prevents us from handling searchsettingschanged as result of below
allbufferset constructor
replaceactionhandler class
args either constructor arguments or array dimensions
type either class name or primitive type
createbuttonspanel method
try regular class
so that in future we do n't see streams of exceptions
force class
buttonactionhandler class
myjradiobutton class
plugincacheentry class
hypersearchrequest constructor
breakplugin method
bgen jjtree classdeclaration
bgen jjtree methoddeclaration
bgen jjtree packagedeclaration
bgen jjtree importdeclaration
but we want properties to hang around
bgen jjtree variabledeclarator
searchinselection method
getbuild method
persistent markers
sort recent file list
major minor prex final bug fix
create plugin table
create button panel
to minimise synchronization and stuff like that we only show status message at most twice second
main method
check java or later
heuristic
dohypersearch method
no need to wrap this debug
never mind
bgen jjtree returntype
check stingy matching on retokenrepeated
bgen jjtree primitivetype
bgen jjtree ambiguousname
bgen jjtree assignment
this production to determine lookahead only
bgen jjtree primaryexpression
bgen jjtree primarysuffix
bgen jjtree literal
nextmatch method
backreference operator not available if re no bk refs set
force class
inner class style object allocation
pattern test
position variable pattern start
unless we matching from start of buffer should not match on beginning of substring
it inner class \?
researchmatcher constructor
boyer moore helper methods
work through to class 'this'
miscellaneous methods
mismatch return as defined by api
token types
lookup method
setselectioncolor method
skip greater of two distances provided by heuristics
getnext method
character mismatch determine how many characters to skip
heuristic
macos users expect app to keep running after all windows closed
go back to while loop
getprev method
used delayed evaluation
setwaitsocket method
getindex method
generateskiparray method
boyer moore member fields
match return position of its first character
props
see if rule 's start or end sequence matches here
ref method
unless we matching to end of buffer should not match on end of substring
getignorecase method
getlinecontext method
setlinecontext method
addrule method
handletoken method
token constructor
used to store offsettoxy results
leave these on stack arguments to handle
bgen jjtree allocationexpression
getkeywords method
getparserruleset method
tokenmarker constructor
regionmatches method
getruleset method
startpluginlater method
keyword class
getsegmentmapkey method
getstringmapkey method
getmainruleset method
buffers retain reference to fold handler in question and easiest way to handle fold handler loading this
null before loaded
set up some instance variables this to avoid having to pass around lots and lots of parameters
actionspresentbutnotcoreclass method
superclass
loadcache method
bgen jjtree arraydimensions
statement syntax follows
generatecache method
bgen jjtree formalcomment retaincomments
bgen jjtree switchstatement
bgen jjtree switchlabel
interfaces
isinterface
check if current character word separator
move pos to last character of match sequence
check every rule
mark all remaining characters
getrulesets method
check end of delegate
send to specific event handler
handlerule method
end cannot be regular expression
seq
some rules can only match in certain locations
xxx
unwind any no line break parent delegates
check escape sequence
bgen jjtree whilestatement
do statement just while statement with special hook to execute at least once
bgen jjtree forstatement
bgen jjtree enhancedforstatement
bgen jjtree typedvariabledeclaration
bgen jjtree statementexpressionlist
bgen jjtree throwstatement
bgen jjtree trystatement
all core awt listeners
all listeners in javax swing event as of swing
handleevent gets all events
getlistmodel method
token accepted
all printable ascii characters
first node expression on which to sync
swingutilities updatecomponenttreeui getrootpane
delegate attribute on seq changes ruleset from end of seq onwards
returntype
bshtype will cache type us
seteditpane method
loadtoolbars method
handlebufferupdate method
note that all regexps start with so they only match start of string
hashtable implements map
bshformalparameters will cache type us
arrays incomplete need to use array setter
norememberlast method
getclasses method
linecontext constructor
do digits
pluginjar constructor
do keywords
handletokenwithspaces method
used span regexp rules otherwise null
min
hypothetical question can you have re that matches times times times but not times or times \? does having subexpression back reference operator allow that \?
isclosed method
clone method
handle any remaining crud
only match against regexp if its not all digits if all digits no point matching
intern method
chararraysequal method
xmodehandler constructor
do actual synchronization
mark previous
possible positions next repeat to match at
declare variables used in loop
try next repeat at all possible positions
if none of possibilities worked out break out of dowhile
reassign where next repeat can match
increment how many repeats we 've successfully found
we 're greedy but ease off until true match found
else did not match rest of tokens try again on smaller sample
does this get all \?
if we fall out no matches
substitute method
make sure we put namespace back when we leave
filter nodes
zeros
statement or embedded block evaluated return statement
browseractioncontext class
on some windows versions connections to localhost fail if network not running to avoid confusing newbies with weird error messages log errors that occur while starting server as notice not error
some arbitrary kind of node
if result node eval it to object or lhs as determined by tolhs
type node passed down chain array initializers which need it under some circumstances
isplainview method
return lhs or value object as determined by tolhs
import package we 're in by default
skip autosave files
openfiles method
span regexp
setescaperule method
getendoffset method
major actions
chain results to doneindex
find new doneindexlast
matches after newline
store constructorargs in consargsvar
keywords
span
selection
eol span regexp
addkeyword method
invoke classgeneratorutil getconstructorsargs method
paintchunklist method
position in retoken newline
do n't match at all if reg notbol set
value end
closer to end
allocate more space in buffer
buffer creation methods
parse command line
open initial view \?
move read position index clicks from 'charat
script to run
if we have buffered replace data use it
this prone to infinite loops if replace string turns out empty
we need these initializations very early on
getmodename method
try connecting to another running jedit instance
deactivateplugin method
push args
block until its closed
createeolspanrule method
assume now that next can only be one character
overrides retoken chain to optimize strings
getplugincache method
setplugincache method
createregexpspanrule method
seq
createsequencerule method
chunk constructor
set up after init
createspanrule method
see if this style plugin
note that there some debate over whether should be included
field access
field access length on array or method invocation must handle tolhs case each
static methods
length on array
convert byte read into char
package scope constructor used by re getmatchenumeration
property style access to hashtable or map
else
no match
does n't happen
need to deep clone \?
cut off alternates
getdockablesuri method
getservicesuri method
createregexpeolspanrule method
offset in source text where match tried this zero based actual position in source text given by offset anchor
package scope used by re used while matching to mark current match position in input start positions relative to offset each sub exp end positions same other possibility to avoid having to use arrays
position in newline
re constructor uses this to look up constant string
array indices correspond to constants defined above
getnextvisibleline method
this number of subexpressions in this regular expression with minimum value of zero returned by getnumsubs
localized strings kept in separate file
retrieves message from resourcebundle
internal constructor used alternation
subexpression index of this token
use by subclasses
meat of construction
this case of
update fold visibility map
parserruleset constructor
getdigitregexp method
sethighlightdigits method
getdefault method
setnowordsep method
setdigitregexp method
getescaperule method
initchunk method
this used calculations
static part
syntaxstyle constructor
textareadisposed method
do n't have chunks longer than characters to avoid slowing things down
getfirstvisibleline method
releasedisplaymanager method
getbackgroundcolor method
getfont method
buffer token so we can create tokenrepeated etc
read next character unit including backslash escapes
make everything up to here be branch create vector if nec
list operator
before first visible line
beanshell specific stuff hereafter
getlastvisibleline method
override this method if you want to customize how node dumps out its children
last in expanded range
public simplenode getparent return simplenode parent
key
expandallfolds method
no folds in buffer
type variable this varname varname this namespace namespace
resolve superclass if any
first in expanded range
plugin
prev in expanded range
this line start of fold
find fold start and end
get class body bshblock
getscrolllinecount method
get interfaces
collapsefold method
expand fold
islinevisible
expandfold method
we need different value of initialfoldlevel here
check initial caret negation
check leading right bracket literal
create new retokenoneof
if we narrowed to single collapsed fold
set variable in namespace according to localvar flag
activateifnecessary method
updatewrapsettings method
narrow method
expandfolds method
fvmget method
changed method
thread safety
enabledisable tooltips
reset method
fvmput method
listener objects
showlinerange method
firstline class
scrolllinecount changed does same thing
package private members package private not private speedy access by inner classes
now single bit indicating randomisation
physup method scroll up by physical line amount
closes floating window
force fold levels to be updated
collapse
we 're removing from before first visible to after last visible
scrollup method scroll up by screen line amount
recursive call
gettext method
scrolldown method scroll down by screen line amount
not comment subexpression
ensurephysicallineisvisible method
update visible lines
start of line operator
end of line operator
will be handled later see comments at end of transactioncomplete
must be before below call so that chunk cache not updated with invisible first line see above
must update screen line counts before we call notifyscreenlinechanges since that calls updatescrollbars which needs valid info
dodelayedupdate method
install man page
when painting last line of buffer buffer isfoldstart does n't call getfoldlevel hence foldlevelchanged event might not be sent previous line
toggleexpanded method
pass along target error
setborder method
caretautoscroll method
initialize settings directory
write warning message
get things rolling
paintinvalidline method
getmatch method
mouseactions constructor
fill background
addextension method
gutter constructor
getfoldcolor method
skip cr
jcomponent setborder border overridden here to cache left inset of border if any to avoid having to fetch it during every repaint
component getpreferredsize overridden here to support collapsing behavior
setlinenumberalignment method
gethighlightedforeground method
norepeat method
finally block 's contents proper
setcurrentlineforeground method
index
getcurrentlineforeground method
sethighlightedforeground method
mouseentered method
if no other constructors generate default constructor
setstructurehighlightcolor method
iscurrentlinehighlightenabled method
gethighlightinterval method
setcurrentlinehighlightenabled method
setstructurehighlightenabled method
setexpanded method
read string of digits
mouseexited method
special case eq on two wrapper objects
isblockcaretenabled method
setstyles method
paint fold triangles
draw
value
setcaretcolor method
isstructurehighlightenabled method
getmultipleselectioncolor method
setfoldlinestyle method
assumed this called after font render context set up changing font render context settings without setstyles call will not reset cached monospaced font info
both lhs and rhs either wrappers or primitive values \? do binary op
islinehighlightenabled method
getlinehighlightcolor method
isfractionalfontmetricsenabled method
start of string operator if re string anchors set
iswrapguidepainted method
load global catalog
unloadpluginjarwithdialog method
dubious \? setfirstline
getdependentplugins method
getfontrendercontext method
create dummy catalog
setfont method
getextensions method
updaterenderinghints method
getplugin method
try to guess eventual size to avoid unnecessary copying
should try to use this as little as possible
paint line highlight and collapsed fold highlight
paintlinebackground class
minimise access methods
setcaretblinkenabled method
getdisplaymanager method
getclassloader method
checkdependencies method
horizontal setborder null
paintselection class
add some event listeners
painttext class
initialize gui
paintcaret class
getbrowseractionset method
non digit operator
newline escape
getactions method
getpainter method
setquickcopyenabled method
some plugins add stuff in right hand gutter
getactionset method
getgutter method
getelectricscroll method
isquickcopyenabled method
getdraganddropcallback method
make all buttons same size
prev and next buttons on right
get ready
getscreenlinestartoffset method
setdraginprogress method
getpath method
getfirstline method
sethorizontaloffset method
cancel button goes on far left
unsafe caching of types
scrolldownline method
getbuiltinactionset method
scrollupline method
end of string operator
not special character
end while
removescrolllistener method
trivial case
overrides retoken setuncle
to deal with empty subexpressions
getlinelength method
scroll vertically
convenience methods
invalidatescreenlinerange method
initialize server
getscreenlineofoffset method
buffer sort
initialize java specific code
give static space its class static import important to do this after all classes defined
offsettoxy method
invalidateline method
to hide line highlight if selections being added later on
getlinestartoffset method
handle pathological case of zero length match
note start of this subexpression
addleftofscrollbar method
declaringnamespace
selecttomatchingbracket method
stop all plugins
test match and push character back if match fails
object checkonly \? valid cast
interpreter has no input stream use eval only interpreter has no input stream use eval only interpreter has user print prompts etc
delegate to static method
try absolute
extendselection method
loadclass method
scan forward matching that bracket
resizeselection method
always add markers on selected lines
append character to buffer if needed
helper function constructor
setselectedtext method
getselectionatoffset method
did n't match up
setcaretposition method
precondition input index minmax null
ismultipleselectionenabled method
gotonextparagraph method
movecaretposition method
getcaretposition method
gotofirstvisibleline method
gotonextbracket method
ucs with byte order marker xff xfe ucs little endian
even if reallyexit false we still exit properly if background mode off
ca n't call it getclass
removecaretlistener method
gotostartofwhitespace method
gotonextpage method
we know min and max now and they valid
gotoendofline method
gotoprevparagraph method
gotoprevword method
markers
showgotolinedialog method
return index following
classstaticnamespace importclass fqclassname replace
deletetostartofline method
do we lose index info \?
value error should n't happen
match successful
if we want to support multiple commands in command path we need to change this to not throw exception
setmultipleselectionenabled method
strictjava
check if user entered bracket
deleteline method
set static bsh this callback
deletetoendofline method
togglemultipleselectionenabled method
deleteword method
touppercase method
gotomarker method
getcachepath method
browsercolorsoptionpane constructor
new length old one
try each one that matched
toggle marker on caret line
import unq name into parent
gotoparentfold method
utility routines
generate type our class
tolowercase method
selectfold method
bcm donedefiningclass fqclassname
showwordcountdialog method
if debug write out class file to debugclasses directory
setrightclickpopupenabled method
inserttabandindent method
right click popup
setselectionstart method
view constructor
removeleftofscrollbar method
try to squeltch native code stack trace if exception caused by reflective call back into bsh interpreter eval or source
removeentry method
bubble up if allowed
start with little cheat most of time white space will fall within current read buffer if not then fall through
evaluate any inner class class definitions in block effectively recursively call this method contained classes first
this does trick to eliminate blank space at end
getfocuscycleroot method
file name
generate branch of constructor switch this method called by generateconstructorswitch code generated by this method assumes that argument array on stack
ok cheat did n't work start over and do it by book
getcolorproperty method
left default case
xxx printstacktrace
isoverwriteenabled method
handled by re
true constant defined syntaxes
if backups move old files create file
impl
define syntaxes
delete backup created using above method
differs from re syntax posix extended in that re context invalid ops replaces re context indep ops and re no bk refs added
there no official perl spec but here 's best guess
except apparently
while more labels or blocks and have n't hit return control
getselectionstart method
activateplugin method
swapmarkerandcaret method
private
if label default or equals switchval
skip nodes until next label
property methods
generate default branch of switch
eval it
get first label
first label
evaluate defined dimensions of array
addtopcomponent method
handle
getbufferswitcher method
get string of enumerated values if necessary
leave null
make hash of interface hashcodes in order to cache them
fill in defineddimensions lengths
classexists caches tests us
note do not change this to bshclassmanager plainclassforname or equivalent this class must not touch any other bsh classes
retcontrol returnpoint node of return statement
undone
error reporting
these necessary to let us test synchronization from scripts
bgen jjtree arrayinitializer
optimization check if anchor minimumlength length
default hashcode
ca n't cast void to anything
create new rematch to hold results
flags reading literals
canonical file name also absolute no need getabsolutepath here
activate plugins that must be activated at startup
run script specified with run parameter
open files create view and hide splash screen
if idealmatch fits targetmatch and this first match or targetmatch more specific than best match make it new best match
tab escape
not sure if this correct openvms
filetoclass method
xxx
end methods interacting with parser
if not found and there arguments to match look overloaded assignable match first find method then find accessible version of it
removetopcomponent method
isrectangularselectionenabled method
dockmenu additem new nsmenuitem separatoritem dockmenu additem mimac
buffer parsed character data
buffer parsed names
we get stuck in infinite loops here when unicode escapes fail must re init char stream reader ascii ucodeesc charstream java
find java method
buffers retain reference to fold handler in question and easiest way to handle fold handler unloading this
while in list out of list index one past
default plugins that do n't specify this property ie style plugins to load them on startup
number of child nodes
wrap exception in targetexception to propogate it up
each jar file listed in plugin 's jars property needs to know that we need them
maintain count of errors
this will be current parse character pattern index
fixes hang that can occur if we 'save as' to new filename which requires re sorting
notify clients with wait
buffers
recent buffers
recent directories
buffermenu class
showrecentdirmenuitem class
wide
arguments
paramnames
\? \? \?
get back to caller namespace
need to scrape value from last line \?
io error
this must be in reverse order so that modes from user catalog get checked first
xthis this refers to enclosing class instance
finaly block
unwrap target error
found match execute catch block
begin constructors
interp
interpreter debug no class manager namespace this
we reuse 'pp' vector to save time
does variable already exist \?
unwrap
apply most specific signature matching
object
check cache
not found
these do not change during evaluation
on windows and macos path names case insensitive
number of times eval hit 'this caller'
end cached result structures
some kind of field access \?
allow getsuper to through blocknamespace to method 's super
find target object or class identifier
it 's class
return null \? \? \?
issupportedencoding method
getselectionendline method
getcomponent method
begin methods which simply delegate to our parent enclosing scope
pushes node on to stack
ignore
debugging
unwrap primitives
select method
returntype null
should check to disallow continue here \?
ismacos method
we do n't want duplicate entries in kill ring
ca n't happen \?
browsercommandsmenu constructor
firetablerowsupdated startindex startindex
browserhandler class
string filename filenamefield gettext
vfsbrowser constructor
unknown value \? \?
delete method
bufferiorequest constructor
only true if file size known
otherwise we found that follows some other character hence we have unix file
this to take trailing into account
endcompoundedit method
chop trailing newline andor if any
readmarkers method
used in insert
buffer has been saved while we waiting
setlimit method
nothing done between beginend calls
getmergeedit method
limitations
getfoldhandler method
movegap contentremoved
movegap method
completionlist class
recursively adds our key listener to sub components
do nothing
figure out what constitutes word character and what does n't
uimanager getfont label font
system err println value thread getprogressvalue
settext method
fireactionperformed method
setselectedcolor method
remove empty category branches
this might be bit slow if char occurs lot
hasfocus
loaddockablewindows method
getcacheddockableactionflags method
openaction class
nothing to do
grabkeydialog constructor
eg trying to bind if prefix
save settings to disk
get rid of this dialog if necessary
panenamerenderer class
encoding
tab size
on macos can be user input
log log log error this using deprecated toolkit getfontlist
rotatedtexticon constructor
showdockable method
historymodel constructor
beanshellaction constructor
do n't show loading msg because we wo n't receive propertychanged
result class
user asks to remove non existent
enhancedcheckboxmenuitem constructor
fractional font metrics
caret color caret blink block caret
electric borders
old api
iconcellrenderer class
styleoptionpane constructor
styleeditor class
text color
text font
marker highlight
current line highlight
edit mode
wrap
rect select
memory foreground color
middle mouse button click pastes register
gutter mouse actions
checkbox
proxy username
createwindowtablescroller method
createwindowmodel method
windowcompare class
initialize jedit branch of options tree
download mirror
downloadmirrorsthread class
update mirror list
abbrevsoptionpane constructor
singleselectionmodel class
ignore case when sorting
default directory
double click close
look and feel
use jedit colors in all text components
decorate dialogs with look and feel jdk only
setfilefilter method
line separator
updatemultistatus method
do nothing if clicked foo showing occurrences in files
removetreenodeaction class
resultcellrenderer constructor
resultcellrenderer class
setregexp method
setautowrap method
setbeanshellreplace method
getsearchmatcher method
do n't do this when playing macro cos it 's annoying
updatemaxhorizontalscrollwidth method
replace method
in case one of above fails we still want to clear these flags
searchdialog constructor
buttons
getelement method
boyermooresearchmatcher constructor
defaults put textfield font font
generatesuffixarray method
stringtotoken method
all
span eol span
reset timeout
rules
property
only paint visible chunks
paint token background color if necessary
offsettox method
getpositions method
position match hints
fall through to default case
object non null and non void primitive type
getsetname method
gethighlightdigits method
getnowordsep method
setcharwidth method
canmerge method
createchunk method
merge method
notifyscreenlinechanges method
getcharwidth method
isstructurehighlightvisible method
beyond last visible line
equal to last visible line
next in expanded range
scan backwards looking start
collapse fold
fvmreset method
important not linemgr getscreenlinecount
debug code
resize selections if necessary
both have same visibility just remove anything in between
shift
update
updateborder method
selectmatch method
getactionforevent method
if buffer loading do n't paint anything
highlight class
sethighlightinterval method
jcomponent setfont font overridden here to cache baseline font this avoids having to get font metrics during every repaint
ismarkerhighlightenabled
ismarkerhighlightenabled method
handle actions
paint line numbers
determine action
getx getwidth borderwidth
getstyles method
getcaretcolor method
draw
getwrapguidecolor method
setmultipleselectioncolor method
setlinehighlightenabled method
setfractionalfontmetricsenabled method
seteolmarkerspainted method
getfontmetrics method
paintselection method
paintwrapguide class
setelectricscroll method
skip lines beyond eof
setdragenabled method
scrolluppage method
setdraganddropcallback method
debugging code
getvisiblelines method
setfirstline method
addscrolllistener method
scrolltocaret method
scrollto method
xytooffset method
invalidatelinerange method
iseditable method
selectnone method
scan backwards trying to find bracket
selectword method
selectblock method
invertselection method
removefromselection method
no no no selectnone
blinkcaret method
getmagiccaretposition method
setmagiccaretposition method
addcaretlistener method
gotonextline method
gotoprevline method
gotoprevpage method
gotobufferend method
deleteparagraph method
remove this when plugin api deprecated
backspace method
setoverwriteenabled method
otherwise bunch of consecutive 's would be merged into one edit
setrectangularselectionenabled method
formatparagraph method
stopserver method
linecomment method
rangecomment method
indentselectedlines method
awt stuff
getselectedlines method
getselectionstartline method
setselectionend method
getmarkposition method
foldstructurechanged method
getmarkline method
dowordwrap method
fix bug off by one error in word count
firecaretevent method
showstructurestatusmessage method
selection constructor
dodoubledrag method
getend method
range constructor
rect class
progress bar value change
charindexedsegment constructor
createprintstream method
charat method
logexception method
isvalid method
do any queued awt runnables
firestatuschanged method
removeprogresslistener method
writelock method
requestdone method
getplugin string boolean method
only show class decs in classes
removepluginjar method
action methods
getactionsetforaction method
selection selection selection buffer getproperty buffer selection
lazy instantiation
removeactionset method
addactionset method
getmodes method
rect constructor
abstractoptionpane constructor
getaction method
getactionsets method
binaryoperation can return primitive or wrapper type
load user catalog
load macros and run startup scripts after plugins and settings loaded
edit mode methods
reloadmodes method
getport method
plugin
addpluginjar method
getlinemanager method
finishcaretupdate method
addpluginjarsfromdirectory method
finishcaretupdate method
opentemporary method
committemporary method
advancesplashprogress method
recalculatevisiblelines method
getparentdialog method
isrightbutton method
firescrollevent method
getcomponentparent method
buffer constructor
isancestorof method
ispopuptrigger method
ismiddlebutton method
updatestructurehighlightwithdelay method
see finishcaretupdate finishcaretupdate
called by displaymanager bufferchangehandler transactioncomplete
otherwise displaymanager bufferchangehandler calls
jdiff error list add stuff here
dowordcount method
do nothing user clicked 'stop'
inserttab method
createmultilinelabel method
requestfocus method
menucanceled method
updatestructurehighlight method
getrectparams method
last character before wrap length with tabs expanded
textareaborder class
updatechunksupto method
getactioncontext method
ringlistmodel class
addworkrequest method
get rid of embedded tabs not removed by trim
caretline would have been incremented since insertnewlineat caretpos
scrolllayout class
parse ''
recalculatelastphysicalline method
focusgained method
tallcaretdelete method
note that attribute has been specified
bits surrogate needed
internal entity
mutablecaretevent class
xxx getmarkposition deprecated
hidesplashscreen method
getnotloadedpluginjars method
caretblinker class
setextendedstate method
centeronscreen method
adjustmentvaluechanged method
getdot method
focuslost method
just scroll to dragged location
so that home home not same as pressing home twice in row
loadstyles method
getbelowposition method
getcachedservices method
ignore empty lines
paste method
find highest untitled file
dodoubleclick method
so that shift click drag works
dosingledrag method
dotripledrag method
if we get to here there must be inputstream available
getlinesubregioncount method
so that quick copy works
xtosubregionoffset method
chunkcache constructor
treat lhs and rhs as arbitrary objects and do operation including null and void represented by their primitive types
subregionoffsettox method
windowopened method
invalidatechunksfrom method
return
componenthandler class
getpluginjars method
loading saving window geometry
we do this here instead of adding buffers to bus
componentmoved method
invalidatechunksfromphys method
editbus send new bufferupdate buffer this view bufferupdate markers changed
make sure window displayed in visible region
getmaxhorizontalscrollwidth method
loadgeometry method
invalidateall method
find screen line containing this offset
adjustforscreenbounds method
line invisible \?
scrolldown method
keytyped method
parsestyle method
createwhitespace method
getsubregionstartoffset method
loglistmodel class
getlineinfosforphysicalline method
getsubregionendoffset method
getaboveposition method
if empty space at end of text area when buffer has less lines than visible
first line displayed take its physical line to be text area 's first physical line
control click in virtual space inserts whitespace and moves caret
otherwise determine next visible line
find valid line closest to last screen line
if user changes syntax token at end of line need to do full repaint
scrollup method
unless this first time increment line number
we only cache entire physical lines at once do n't want to split physical line into screen lines and only have some valid
empty space
if line has no text out size
get another line of chunks
chunk line
globtore method
escapestochars method
charstoescapes method
insertfile method
this returns false if initial sanity checks if file directory etc fail
checkfilestatus method
null object ref not instance of any type
otherwise number of subregions
lineinfo class
linetochunklist method
getstartline method
getstart method
range class
insert lines into buffer
parsecolor method
loadpopupmenu method
canned dialog boxes
move caret down line
colors and styles
getstartcolumn method
showvfsfiledialog method
getendcolumn method
autosave method
saveas method
prettifymenulabel method
runtime runtime runtime getruntime int freememory int runtime freememory int totalmemory int runtime totalmemory int usedmemory totalmemory freememory log log log debug this java heap usedmemory kb totalmemory kb usedmemory totalmemory
inputproperty method
wait more requests
loadtoolbar method
paintscreenlinerange method
notify running waitforrequests method
files should have length since dialog type save dialog
once save complete do few other things
some predefined icons
message method
confirm method
input method
log some stuff
getloglistmodel method
setlogwriter method
closestream method
flushstream method
icon methods
log method
not really needed since threads do n't start until after
handleeditpaneupdate method
so that jedit does n't exit with no views open automatically setdaemon true
loadicon method
loadmenubar method
menus tool bars
status message changed operation started operation ends
geteditoricon method
check if there cached version first
log method
get icon
try to merge with existing menu first
same thread
getthread method
move method
add to awt queue
getthreadcount method
no background mode and reusing existing view
allowwrite method
roll back state
fireprogresschanged method
readlock method
queueawtrunner method
writeunlock method
add to work thread queue
awt thread magic
request queue
runrequestsinawtthread class
readers addelement thread currentthread
log log log debug this awt runner queued
getnextawtrequest method
segmentbuffer constructor
readers removeelement thread currentthread
setfontproperty method
changes ifnull and ifnonnull to opcodes and inclusive
some characters that we like to use in action names not allowed in beanshell identifiers
setdoubleproperty method
write in progress
iswritelocked method
claimwritelock method
file does not begin with utf signature reset stream read as utf
changes ifeq jsr to opcodes to inclusive
integerarray constructor
getarray method
bipush or newarray
special instructions
debug information
get method
constructors
updates maxlocals
getleadingwhitespace method
case array case object
case 'l'
accessors
updates current and max stack sizes
corresponding size and opcodes
updategutterborders method
handled above
eg foo will insert foobar
compareversions method
updates max locals
comparestrings method
xload or xstore
no stack change but end of current block no successor
istore
if opcode athrow or xreturn ends current block no successor
iload
runmacro method
remove bsh'
beanshellhandler class
beanshellhandler constructor
createmacro method
updates current and max stack sizes only if opcode newarray stack size variation bipush or sipush
setcolorproperty method
pushes first block onto stack of blocks to be visited
addmacro method
readunlock method
handler constructor
preprocesskeyevent method
isfocustraversable method
handleclient method
flushinput method
getlabel method
handler class
setting message to 'null' causes status bar to check if recording in progress
getplugins method
getsource method
getterssetter methods various buffer meta data
getlastmodified method
getvfs method
addprogresslistener method
log log log debug this awt immediate run
workthreadpool constructor
getrules method
getrulecount method
addseparator method
setterminatechar method
recorder class
recorder constructor
setfirstinvalidlinecontext method
carethandler class
getselectionend method
isleaf method
found full name in imported classes
getabbrev method
ucs without bom must begin with \? xml ucs big endian no byte order mark
isbuiltin method
closebuffer method
already wrote comment expaining this in macro invoke
stoprecording method
loadmacros method
clearregister method
recordtemporarymacro method
getregisters method
getendline method
saveregisters method
loadregisters method
log log log debug registers class fnf
register interface
clipboardregister class
dosingleclick method
text methods
macronametolabel method
gethandler method
adjusthandler class
getmark method
killringhandler class
stringsequal method
setsize method
objectsequal method
startdraganddrop method calls dndcallback via reflection
this new canonical path
insideselection method
remove trailing
updatescrollbars method
stringregister class
registershandler class
iscaretvisible method
text editing
getattributes method
if we read and lastwascr also true it probably mac file in stream
macro constructor
getrightclickpopup method
getsymlinkpath method
setrightclickpopup method
joinlines method
registerhandler method
previous read character \? if we read and this true we assume we have doswindows file
getmacrohierarchy method
isrightclickpopupenabled method
getmacroactionset method
macro class
getmacro method
gethandlers method
allowread method
request class
isvms method
ismacoslf method
determine whether we dealing with one two three or four byte sequence
user input
we guess initial size array
read hence macos file
narrowtoselection method
setentry method
isloaded method
isperformingio method
isnewfile method
setnewfile method
classtofile method
isuntitled method
folding
only executed if above loop falls through ie there no handler this file
gotomatchingbracket method
unref method
postophalf constructor
posbottomhalf class
gotobufferstart method
create temporary synthetic prefix keybinding that wo n't be saved
cons insets new insets
gotoendofwhitespace method
save dockable window geometry and close 'em
revalidate method
gotolastvisibleline method
showrunscriptdialog method
perspectivehandler class
gotonextmarker method
getelementindex method
if caret inside leading whitespace indent
backgrounded
copy text after gap
postophalf class
setperspectivedirty method
loadperspective method
isperspectivedirty method
setposition method
some constants
smarthome method
hasscreenmenubar
updatebufferstatus method
see above
remove it so editor can continue functioning
threadprogress class
updatecaption method
getwordtocomplete method
gethistory method
not class
getsubregionofoffset method
reset count
number of lines read every lines we update progress bar
end jcmdprocess java
addstructurematcher method
look line endings
get full command line
split text into lines
do nothing who cares
setfirstinvalidfoldlevel method
needfullrepaint method
overlaps method
isjava method
isjava method
fix bug where horiz scroll bar not updated after creating new file
note that we rely on fact that when physical line invalidated all screen linessubregions of that line invalidated as well see below comment code that tries to uphold this assumption
if this line has become longer or shorter in which case new physical line number different from cached one we need to continue updating past last line advise text area to repaint on other hand if line wraps beyond lastscreenline we need to keep updating chunk list to ensure proper alignment of invalidation flags see start of method
getlineinfo method
loadclass method
zero it here so that buffertabs does n't have any problems
middle mouse button drag inserts selection at caret position
only wrap if we 're at end of line or rest of line text whitespace
dotripleclick method
mutablecaretevent constructor
shifttallcaretleft method
with drag and drop on mouse down in selection does not immediately deselect
when user typing etc we do n't want caret to blink
addtoselection method
only ever return true if space pressed with logicallength maxlinelen
debugging make jedit think its using different version of java than it really
isselectionrectangular method
getselectionstartendonline method
on jdk this set to method by java method must take these parameters jedittextarea inputevent boolean copy text or move depending on modifier user held down
getlastedit method
reloadallbuffers method
save caret info buffer load will load it
getbuffer method
handlepopuptrigger method
lineinstructurescope method
add line marker at end proper offset manager operation
selectline method
currblockno
gotoprevfold method
posbottomhalf constructor
edit class
insertenterandindent method
selectparagraph method
tabstospaces method
setlastmodified method
offset conversion
charstoentities method
formatfilesize method
getlongestprefix method
offset of previous line relative to start of io buffer not relative to start of document
ch
used when sorting if too many long comparisons happen we stop sorting randomise block slightly and try again
painting
scroll horizontally
now coding tables
getlinecount method
knuth 's increments seem to work better than incerpi sedgewick here possibly because number of elems to sort usually small typically
isdraginprogress method
getfirstphysicalline method
gethorizontaloffset method
optiongroup constructor
fix bug where key events in jtextcomponents inside views also handled by input handler
create huffman decoding tables
receive mapping table
bad crc considered fatal error
setwrapguidepainted method
jedittextarea constructor
iscaretblinkenabled method
initialize some misc stuff
viewconfig class
textareapainter constructor
do not reset stream and just treat it like normal utf file
walk up hierarchy looking editpane
getstringwidth method
this constructor keys hash table
dockables
unloadservices method
getbuffers method
getbuffercount method
getfirstbuffer method
loadservices method
not char and not eof
throw new ccoruptionerror
updatepopupmenu method
registerservice method
geteolmarkerspainted method
compare input character by character
descriptor class
otherwise set flag so that knows that last
read character
geteolmarkercolor method
setwrapguidecolor method
initkeybindings method
unknown service not in table
unregisterservice method
getservice method
getservicenames method
getservicetypes method
now on with hunt
avoid re running script if it gives us null
quick check catches public fields include those in interfaces
getselectioncolor method
per patrick beard
getlastbuffer method
checkbufferstatus method
not found fall through to next class
isdirty method
isreadonly method
remember that this class does n't exist future reference
editserver constructor
delcaredonly
getviewcount method
assume that there can be only one drag operation at time
skip certain actions this way
throw eofexception if there nothing else to pop
draw
totitlecase method
setmarkerhighlightcolor method
setfoldcolor method
getdoubleproperty method
getmarkerhighlightcolor method
getlinenumberalignment method
ioprogressmonitor constructor
norecord method
push it onto stack
getmarker method
bracketmatcher class
unexpected eof
do n't bother if there no input
getmarkers method
see if we have any overflow
shadow size
delayedupdate method
special situation we 're taking input from character stream
isx method
scrollhandler class
getmembers method
getmember method
getmembercount method
setsort method
insertionsort method
filter out all carriage returns if we 've seen any
reset position
anchor class
displaymanager constructor
fvmdump method
install location
backup filename prefix
backup suffix
hidelinerange method
fvmput method
mirrormodel class
find fold start and fold end
rootelement constructor
byte sequence zzzzyyyyyyxxxxxx zzzz yyyyyy xxxxxx
setdirty method
bump lastline so that next line does n't erronously pick up
insert line
setreadonly method
start of next expanded range
how many characters have we read \?
otherwise th bit may not be set in utf
fixes dirty flag not being reset on saveinsertundoredoundo
check correct bits at start
set up variables current element context
take character from buffer or from actual input stream
set up dtd hash tables
return significant bits
no errors first line
set up buffers data and names
islinevisible method
compare interface
stringcompare class
abbrevsmodel class
getforegroundcolor method
stringicasecompare class
removefrombus method
getcomponents method
send method
ca n't create new instances
editaction constructor
mix files and directories
getmouseovertext method
view methods
getchunklist method
istemporary method
thread safety
line offset methods
setdefault method
getterminatechar method
no need to lock since this just returns value and that 's it
resolveimports method
setkeywords method
createescaperule method
getfirstview method
createmarkpreviousrule method
createmarkfollowingrule method
createregexpsequencerule method
seq regexp
element type currently in force
hashtables dtd information on elements entities and notations
menuitemcompare class
xtooffset method
plugin management methods
app setservicesprovider delegate
servicelisthandler constructor
stack of entity names to help detect recursion
symbol table internalising names
we in context where pes allowed \?
checkdelegateend method
some kind of bit encoding with \? xml utf or other bit markup read encoding
invalidatecachedscreenlinecounts method
mixed digitalpha keyword and no regexp do n't highlight as digit
set typecreator codes files
eol span
osok method
showinfinder method
defaultinputhandler constructor
according to slava this better
text getters and setters
openselection method
scriptrunner class
markkeyword method
handle start of rule
ebmessage constructor
initreplace method
getskipindex method
if loadautosave false we loaded autosave file so we set 'dirty' to true
main parser loop
note that we do n't use setdirty because that would send unnecessary message it would also set autosave dirty flag which will make autosave thread write out redundant autosave file
initialize skip array to all zeros
leave table cleanly initialized empty pattern
otherwise it will be delivered later
multifileactionhandler class
fields
multifile settings
regexpreplace method
swingutilities invokelater new scriptrunner path
getsettings method
undo
istransactioninprogress method
handlers
so that replace and find continues from right location
map types to assignable forms need to keep this fast
send some editbus messages
make sure end of match visible
begincompoundedit method
istoggle method
setreversesearch method
handleopenfile method
searchbar constructor
bufferclosedvisitor class
removebufferchangelistener method
handlefilecodes method
handleabout method
this will happen when new file created
add typecreator to local buffer property list on open
buildtoversion method
first chars major version number
set typecreator on save
second minor number
showpopupmenu method
then pre release status
insidecompoundedit method
buffer events
searchstarted method
finally bug fix release
getbufferchangelisteners method
directorylistset constructor
ca n't use buffer getname here because it not changed until save complete
viewoptionpane constructor
applicationdockmenu method
handlepreferences method
split vfsfiledialog horizontally
handlequit method
show menu bar
default
check whether tools jar in system classpath
try to make full imported name
applicationopenfiles method
newviewaction class
services
applicationshouldterminate method
insertselection method
macroaction class
delete downloaded files
recentmenu class
dock menu
recentdirmenu class
macrosmenu class
eg user just closed view and did n't focus another
ismainthread method
isbackgroundmode method
showmemorystatusdialog method
getjedithome method
autosavebackupoptionpane constructor
getsettingsdirectory method
getjarcachedirectory method
backupsettingsfile method
new api
forget cached position instance
showbuffermenuitem class
showdiraction class
unfocused border color
set proxy port
exit method
un iconify using jdk api
text drag and drop
clock
saveperspective method
begin beanshell modification serializable
close dialog view close call need view
getlistcellrenderercomponent method
send editorexitrequested
errorlistcellrenderer constructor
close all buffers
if we running in background mode and reallyexit not specified then return here
mouseoptionpane constructor
encoding
do not invoke special override block see above
do init
end beanshell modification serializable
save view properties here
default impl
stop autosave timer
multi select
put it back
stringtoselection method
method block
send editorexiting
save settings
close activity log stream
byebye
end method components
java method
begin method components
scripted method body
isnative
this syncrhonized method \?
check whether it in jedit user settings jars folder
jedit will load it automatically
check whether it in jedit 's system jars folder
geteditserver method
only do this if we current edit pane
only do this after all io requests complete
avoid race condition see bug
prevbuffer method
nextbuffer method
recentbuffer method
stylechoice class
focusontextarea method
addmode method
cardinality number of args mismatch
make local namespace method invocation
errorlistdialog constructor
errorentry class
loadmode method
package private
pluginerror method
setactiveview method
buffer link list
set typed variable
makes opentemporary thread safe
view link list
usage method
version method
initmisc method
push new namespace on call stack
save callstack including called method just error mess
directoryentry class
wrapper class
push existing status
add our protocols to java net url 's list
anti aliasing
setinterval method
no super method try to invoke regular method could be superfluous super which legal
getoffset method
set user agent string used by java net http handler
local variables
getidealindentforline method
multiple selection color
check whether it in lib
load it if not yet done
directoryloadedawtrequest class
flags
check if web start
use user dir as last resort
forward search
add editbus component that will reload edit modes and macros if they changed from within editor
initsiteproperties method
initsystemproperties method
recurse
getcurrentindentforline method
initresources method
initplugins method
inituserproperties method
colorentry class
null value means no value
isdosderived method
indentline method
token image text of name never changes
editpane constructor
check easy mistake
getscreenbounds method
set up right click popup menu
do n't add duplicates
use old property name backwards compatibility
loadbufferswitcher method
isos method
indentlines method
iswindowsnt method
initplaf method
make adjustments some os 's
give all swing components our colors
defaults put prefix inactiveforeground foreground
isunix method
runstartupscripts method
iswindows method
iswindows method
do it
get indent attributes of previous line
handle brackets
insert constructor
register notification of classloader change
null not supported \?
firewallauthenticator class
might come in handy useful some time
finishstartup method
start io threads
start edit server
getencodings method
get indent attributes current line
\?
checkfileforload method
getrootelements method
putbooleanproperty method
read results
handle regexps
additional bracket indent lining up closing and opening brackets
isfoldstart method
getlineparenweight method
invalidatecachedfoldlevels method
deep indenting
if previous line matches indentnextline or indentnextlines add level of indent
setfoldhandler method
getparagraphelement method
isfoldend method
putproperty method
position methods
getmarkerstatusprompt method
do n't sort markers while buffer being loaded
folding methods
getcurrentidentforline method
getfoldatline method
marker methods
first node will either be primitivetype or ambiguousname
backwards compatibility
bad posturl
type
if we do n't do this autosave file wo n't be deleted after save as
report any plugin errors
this must be called before any editbus messages sent
showpluginerrordialog method
getmarkeratline method
addorremovemarker method
return cached type if available
getmarkerinrange method
to avoid slowdown with large files only scan lines either way
getflag method
resetcachedproperties method
we only save markers to vfs 's that support deletion otherwise we will accumilate stale marks files
removeallmarkers method
setpath method
in one case not single awt class will have been touched splash screen off nogui nobackground switches on command line
setflag method
finishsaving method
display
bsh scripted object
get catch block
recoverautosave method
findmatchingbracket method
flag values
users should not normally see this
finishloading method
constructors of various flavors follow
create marker positions
firetransactioncomplete method
this method might get called at startup
put cbnamespace on top of stack
if we have exception find catch
checkfileforsave method
set typed variable directly in block
handled target
note no way to mutate throwable message must maintain our own
exception fell through throw it upward
because we 've already 'seen' first bracket
need to reset properties that cached defaults since defaults might have changed
check this value
first line last lines make sure not to overlap with first
see notes in getthis
if we save file with same name as one that 's already open we presume that we can close existing file since user would have confirmed overwrite in 'save as' dialog box anyway
note in this case parent must have class manager
log log log error this io
show this message when all io requests complete
parsebufferlocalproperties method
if we saved over already open file using 'save copy as' then reload existing buffer
new message type introduced in pre
update this buffer new path
getpriornonemptyline method
getlistener method
end instance data
do n't do this on initial token marker
event firing methods
did n't find line that contains non whitespace chars so return index of prior whitespace line
if user adds mode buffer local property
addbuffertolist method
firecontentremoved method
prepare to execute block we must create new blocknamespace to hold catch parameter and swap it on stack after initializing it
strictjava
firefoldlevelchanged method
firecontentinserted method
firefoldhandlerchanged method
fireprecontentremoved method
begin instance data note if we add something here we should reset it in clear method
findwordstart method
gettokenatoffset method
locate variable definition if it exists
this must be after stream created or we deadlock with sshtools
primitives should have been wrapped
no previous variable definition found here or above if recurse
ca n't happen
nothing found
backward search
corresponding character false backwards true forwards
go on to next line
go on to previous line
character under cursor changes how we behave
whitespace
gotomarker method
animator class
handle line number
handle marker
if we disconnected from root we need to handle def imports
abbreveditor constructor
word char keep going
word char or symbol stop
whitespace include in word if eating
get variables declared in this namespace
checkvariablemodifiers name modifiers
change import precedence if we class bodyinstance get imported first
setabbrev method
dos
turn rankings into relative rankings from to
align everything to paragraph 's leading indent
geticonforfile method
if we see whitespace set flag
all good
createencodingmenu method
getstringcase method
format method
favoritesmenubutton class
it typed \?
this will disable most operations if files of multiple types selected
filecellrenderer constructor
createmenuitem method
getentrywidth method
addedit method
expansiontoggleborder class
expansiontoggleborder constructor
vfsdirectoryentrytable constructor
setcolumnselectionallowed true setcellselectionenabled false
isexpansiontoggle method
selectfile method
getexpandeddirectories method
actionset constructor
setlabel method
scrollrecttovisible method
avoid scrolling to right
addaction method
add remaining stuff from buffer
what to do \?
comparechars
expand method
contains either bshmethod or vector of bshmethod
vector
cleartypeselect class
resizecolumnsappropriately method
browseriorequest constructor
checkmethodmodifiers method
getmemberindex method
request types
addextendedattributes method
change import precedence if we class bodyinstance get import first
listdirectory method
allow user to change name case
getitem method
mkdir method
collapse method
vfsdirectoryentrytablemodel constructor
setroot method
extendedattribute class
default value
we no longer have any dirs using this extended attribute
this vfs has extended attribute which not in list \? \? \?
showfilepopup method
clearexpansionstate method
compareto method
browserview constructor
how deeply we nested
focusonfileview method
directoryloaded method
saveexpansionstate method
updatefileview method
addtobus method
loaddirectory method
getbrowser method
gettable method
getparentdirectorylist method
we use swingutilities invokelater so that action executed before popup hidden
workthreadlistener class
only backup once per session
sort buffer list
vfsfilenamefield constructor
docomplete method
nothing
filesselected method
fix bug we do n't type complete in save dialog boxes press tab to do explicit complete
vfsfilechooserdialog constructor
dofileexistswarning method
gotoparent method
backspaceaction class
browser getbrowserview gettable addkeylistener new keyhandler
user pressed enter when vfs table or file name field has focus with nothing selected
filesactivated method
non existent file
setfilenamefilter method
removeviewfromlist method
getindentsize method
gettabsize method
maybereload method
inputoutput methods
browsedirectory method
addviewtolist method
getfiletyperequest class
there error
browsedirectoryinnewwindow method
browser types
getfilenamefilter method
setshowhiddenfiles method
locatefile method
used by ftp plugin to clear directory cache
getshowhiddenfiles method
addbrowserlistener method
insert class
rootdirectory method
path currently viewed directory in browser
getdirectoryfield method
removebrowserlistener method
searchindirectory method
removeaction method
getbrowserview method
endrequest method
removeallactions method
updatefilenamefilter method
pathsequal method
try imported class
pluginsmenubutton constructor
if file selected in open dialog or save dialog mode just let listener handle it
unqualified simple non compound name
cachecount debug
getactioncount method
look loaded command
close if this buffer currently visible in view
unqualified name check imported
now try buffer
initproxy method
backwards compatibility
first try buffer local properties
now try mode
try returning it as integer first
createmenubar method
dump stack trace debugging purposes
startrequest method
commandsmenubutton class
createtoolbar method
if found as imported also cache it
pluginsmenubutton class
updatefilterenabled method
commandsmenubutton constructor
we 're in modal dialog
result this workingcalendar gettimeinmillis preceding code wo n't work with jdk
todo check this result
return cal gettimeinmillis preceding code wo n't work with jdk
todo we did n't check height yet
fixme we 've cloned chart but dataset n't cloned and we should do that
todo not serialized yet
first monday after cal gettime gettime preceding code wo n't work with jdk
this may be negative
todo to be implemented
todo subplot areas needs to be moved out of plot into plot state
todo shift block down to bottom
todo it might be good idea to keep reference to color specified in setpaint or setcolor rather than creating new object every time getpaint called
todo now we ignoring height constraint
first determine size of chart rendering area todo workout insets swt
todo implement properly
todo this must be wrong
todo we did n't check width yet
hack to ensure newly created awt fonts will be rendered with same height as swt one
todo shift block right by half
fixme need locale as well as timezone
todo shift block over to right
do we need to update crosshair values \?
todo find better localization key
todo this attribute should be transferred to renderer state
fixme implement this low priority
fixme xyitemrenderer interface does n't specify getannotations method but it should
defer argument checking
calculate adjusted data area taking into account effect this assumes that there renderer all this effect bit of ugly hack
todo add constructors combinations of number and date formatters
todo move to plot state
here we tweak notify flag on plot so that only one notification happens even though we update multiple axes
defer argument checking
fixme we should really assert value here
to do these annotations only work with xyplot see if it possible to make contourplot subclass of xyplot dg
fixme we should really assert value
not strictly necessary since renderer set parent plot not used
todo complete this
todo fix output when this flag set to true
todo move above to plot state
fixme this code means that it not possible to use more than one domain axis combined plots
end of workaround
todo could change this to itemfillpaint backwards compatibility it might require usefillpaint flag
redraw should not trigger another change event
unused in parent
todo in jfreechart put this method in categoryitemrenderer interface
todo rotate image when drawn with horizontal orientation \?
todo implement this properly
fixme this should generate series change event
create entities fixme these methods should be defined
fixme renderer interface does n't have drawdomainline method so we have to rely on renderer being subclass of abstractxyitemrenderer which lame
fixme this attribute not used deprecate \?
todo by coding event with some information about what changed in dataset we could make recalculation of interval more efficient in some cases instance if change just update to value then interval does n't need updating
method we want n't in categoryitemrenderer interface
fixme what if value null on next line \?
todo this needs to move into renderer state
todo implement this method properly
hack to ensure newly created swt fonts will be rendered with same height as awt one
unused but must return something so while we at it
fixme perhaps we should clone data list
if we rendering values as percentages we need to calculate total current item unfortunately here we end up repeating calculation more times than strictly necessary hopefully 'll come back to this and find way to add total to renderer state other problem we implicitly assume dataset has no negative values perhaps that can be fixed too
note it would be nice to pre calculate this per series
we assume that all other paint instances implement equals and hashcode of course that might not be true but what can we do about it \?
fixme use other fields too
all attributes immutable so we can just return super clone fixme in fact generator itself immutable so cloning not necessary
here 's quirk api has been defined in terms of plain timeperiod which cannot make use of timezone and locale specified in constructor so we only do time zone pegging if period instanceof regulartimeperiod
now handle specific plot types and yes know this some really ugly code that has to be manually updated any time new plot type added should have written something much cooler but did n't and neither did anyone else
todo urlencode \?
todo revert to svn revision in jfreechart multiplegradientpaint 's jdk issues todo then change visibility of all darker methods except darker paint to private
todo replace getsize by getbounds \?
todo check threshold
fixme add setbaseitemurlgenerator categoryurlgenerator boolean \?
fixme add setseriesitemurlgenerator int categoryurlgenerator boolean \?
now we handle some special cases yes ugly code alert
fixme it probably makes sense to allocate array of colors and lazily populate this array
todo need to fetch this from localised resources
fixme no getvalueformat method \?
here we could probably be little faster by searching both indices simultaneously but 'll look at that later if it seems like it matters
todo complete this
fixme this attribute never used deprecate \?
fixme clone attributed string if it not null
report this \?
this may be obsolete not used anywhere
todo this good idea \?
kludge to make everything work when no rows returned
todo shift block down by half
fixme better ask renderer instead of datasetutilities
todo implement entity annotation
needs to be improved
not used by plot
fixme need locale as well as timezone
todo jfreechart this method should go in shapeutilities class
we 'll have to use method in interface but this does n't have paint and stroke settings
fixme check that there n't already series with same key
know it 's bad to create object better idea \?
fixme clone generator
todo use generator here
todo think we need to make sure keys actually cloned whereas paint instances always immutable so they 're ok
fixme draw outliers
todo think we need to make sure keys actually cloned whereas stroke instances always immutable so they 're ok
not implemented
returns string representing week week todo look at internationalisation return string representing week
fixme show dialog with error
todo draw interval marker with effect
todo add serialization support images
could make this configurable
todo see if we need to apply some line color and style to axis traces
fixme implement this
annotation that allows image to be placed at some location on link xyplot todo implement serialization properly image not serializable
plot field not tested
if not check if there paint defined specified key
range range
height ok but width must be constrained
do we need to fill buffer \?
check that clone does n't share same underlying arrays
now replacing dataset should update axis range
minortickcount
create dataset
check that renderer has corresponding dataset it does n't matter if dataset null
build first tab
comparable
row background paint chart
mercurypaint
period
should get illegalargumentexception negative index
create legend if requested
itemlabelsvisiblelist
frame setdisplaytooltips false
segment fromsegment getsegment from fromsegment inc segment tosegment getsegment to tosegment dec
dispose of any fonts we have created
case comparing to another timeseriesdatapair object
empty cell row
following angle calc will ensure there n't top vertical axis this may be useful if you do n't want any given criteria to 'appear' move important than others getdirection getfactor cat catcount
create color change dialog
draw item labels if there any
build second tab
you can add null list it would have been better if this required empty list
row
check if previously colinear
set plot properties
draw standard deviation lines before shapes if they 're visible it looks better if shape fill colour different to line colour
label setfont font
we create event with special flag set purpose of this to communicate to plot default receiver of event that series visibility has changed so axis ranges might need updating
do n't need to do anything
no need to instantiate this
row
rosehighlightpaint
return appropriate axis editor
timeseriesdataitem item
create new font and set it into title label
maxcategorylabelwidthratio
shape visible
check regular value
test collection which does n't define all tasks in all series
xyseries
ticklabelfontfield setfont font
row
when dataset contains one or more series but those series contain no items we expect value range to be null
use colored text field to show color
not first tick to be displayed no tick label
create font change dialog
in following code barl in java coordinates left end of bar horizontal bar chart and top end of bar vertical bar chart whether this base of bar or not depends also on whether data value 'negative' relative to base value and whether or not range axis inverted this only matters ifwhen we apply minimumbarlength attribute because we should extend non base end of bar
get item count series so that we can know which end of series
deal with range axis
shape filled
set range axis to display integers only
convert font size in pt awt to height in pixels swt
pass click on to plot rely on plot to post plot change event and redraw chart
use item paint outlines by default not outline paint
this maximumrangevalue addmodifylistener this this maximumrangevalue addverifylistener this
handle special case where dataset has intervals that we want to measure
titlefield setfont font
categoryplot plot
deal with domain axis
we 're doing this testing only and make sure that we only add data in ascending order by value
verify max value
change series outline stroke
verify min value
check inherited attribute
gridbandpaint
starts at back wraps around front and finishes at back again
deal with plot appearance
test customised instance
row orientation
rangeaxislocation
row
here we change affinetransform so we can draw annotation to larger area and scale it down into display area afterwards original transform restored
row background paint
time zone
row stroke
clip top and bottom bounds to data area
check dataset with one time period
bar
we ca n't do anything
sectionoutlinepaint
we use valuemarker tests because we need concrete subclass
bordervisible
to be consistent with other graphics implementations
validate base timeline exclusions added as timeline 's esceptions
domainaxislocation no longer separate field but test anyway
row keys
private tickunits standardtickunits
backgroundimage
try unknown column key
minorticklength
when dataset contains one or more series but those series contain no items we still expect range to be null
labelfont
tblrc bottom and right only
build third tab
do we need to resize buffer \?
column keys
even though axis not visible we need ticks gridlines
ok and cancel buttons
does nothing override if necessary
do n't zoom unless mouse pointer in plot 's data area
if there tool tip we expect it to generate title and alt values so we only add empty alt if there no tooltip
borderstroke
ensure we have maximum value to use on axes
we dispose resources we own but user must dispose gc
remove plot but plot removed instead
set line style to solid by default
we starting new series path
apply dash style if any
it too slow to look at every data item so let 's just look at first middle and last items
padding
showing style ticks or negative exponent generating tick value between show fewer
axislabelpaint
properties save print zoom tooltips
retrieve swt font description in os indept way
collect entity and tool tip information
create new awt font with appropiate data
and independent
now we simply want to extract chars from iterator and call unstyled text renderer
first get range without interval then expand it interval width
see comment above this colorspool put integer valueof awtcolor getrgb swtcolor
renderinghints
next setup plot area
this mycolor new color getdisplay color getrgb
seems to be same
swt and awt share same style constants
set axis properties
fixme add setbasestroke stroke boolean \?
create dataset
null will be returned
subtitles
erase previous zoom rectangle if any we only need to do this we using xor mode which we do when we 're not using buffer if there buffer then at end of this method we just trigger repaint
borderpaint
draw markers that associated with specific dataset
title
start with unit that at least th of axis length
backgroundpaint
adjust plot area interior spacing and labels
plot
create chart
add item entity if this information being collected
try double positive infinity
reference
backgroundimagealpha
pdfdocument class will be null so function will return false
as special case if bar colour has alpha we draw nothing
chartbackgroundpaint
private double angle
avoid to draw overlapping tick labels
check independence
null key should throw illegalargumentexception
adding something to returned list should not change chart
axis setrangetype rangetype positive axis setlowerbound assertequals axis getlowerbound epsilon
fillpainttransformer
perform zoom on each range axis
include legend
draw domain grid lines if any
chart title
check bounds interval that includes
outlinepaint
deregister collection as change listener to each series in collection
private paint arrowpaint
value
case comparing to another timeperiod object
align this rectangle to frameanchor
data include legend tooltips urls
standard test
setup collecting optional entity info
private numbertickunit tickunit
do nothing if item not visible
drawingsupplier
get previous point and next point so we can calculate hot spot area used by chart entity
use reflection to get svg string
legenditempaint
we suppress shadow generation because svg vector format and shadow effect applied via bitmap effects
clear any exceptions in this timeline
legendbackgroundpaint
create array xindex to hold new column indices
domainaxis
state getbarwidth bar outline width threshold
wallpaint
selected rectangle should n't extend outside data area
if axes use linear scale you can uncomment code below and switch to alternative transxtransy calculation inside loop that follows it little bit faster then int xx int dataarea getminx int ww int dataarea getwidth int yy int dataarea getmaxy int hh int dataarea getheight double domainmin this domainaxis getlowerbound double domainlength this domainaxis getupperbound domainmin double rangemin this rangeaxis getlowerbound double rangelength this rangeaxis getupperbound rangemin
close
reserve some space domain axis
serieskey
check that listener lists independent
shadowpaint
reset min and max
private stroke arrowstroke
return override if there one
shadowvisible
bar not visible
actual value set below
ticklabelpaint
parameter value math log function based on not
thermometerpaint
appenddata writes new data at index position given by newestat when adding new data dynamically use advancetime followed by this
now try to reject equality
barpainter
if axis not visible do n't draw it
xybarpainter
shadowxoffset
errorindicatorpaint
draw plot axes and data visualisation
if small log values and lower bound value too small then set to small value do n't allow
find optimum height
private double tipradius
add second dataset plotted against second axis
note that consistency with awt implementation it necessary to switch temporarily foreground and background colours
gridbandalternatepaint
work out if scaling required
private double arrowlength
do n't draw this tick label
private double baseradius
redraw zoom rectangle if present if usebuffer false we use xor so we can xor rectangle away again without redrawing chart
private boolean autorangeincludeszero
set outline paint to fully transparent then legend shape will just have same colour as lines drawn by renderer
first field contains row key
weight
tblrc bottom and center only
now map dataset to second xaxis
rangecrosshairstroke
clip cliparea
five dates to check
from intervalxydataset
private double labeloffset
handle panning if we have start point else unregister
bufferedimage image
mgs using method 's return value missing
legenditemtooltipgenerator
tblrc top and left only
get upper bound value
value
unregister collection as change listener to each series in collection
stroke
create renderer
replace existing series
category
add entity item but only if it falls within data area
categoryanchor
start check and
tickmarkposition
test default instance
check that setting min date to something on or after current min date works
offset start of boxes if total width used smaller than category width
tickunit
draw category labels and axis label
timeline
negative values allowed parameter value math log function based on not
range
suppresses compiler warning
seriesvisibleinlegend
case comparing to another comparableobjectitem object
following fields inherited from abstractxyitemrenderer
if bug still present this leads to endless loop
tblrc top and bottom only
end check and
middle check and
if this series belongs to dataset dataset might veto change if it results in two series within dataset having same key
jfreechart chart
remember value negative
empty dataset should return null range
changing item that added should not change series
basestroke
end point either lower left corner vertical gradient or end point upper right corner horizontal gradient
argument checking delegated
try empty dataset should return null range
shapelocation
row may not have entry this key in which case return value null
test independence
here we need to update ui popup menu if panel has one
private double arrowwidth
both axes
end check
reserve space range axes if any
start check
case comparing to non timeperiod object
fetch listeners from local storage
case object mutable but not publiccloneable
work out space required by domain axis
middle check
check retrieve value by key
get desired width and height from somewhere then
no plot no data
shifting with delta of does not change range
set axis bounds to be both greater than
get column names and cache them
check that changing tick label font in does n't change
check that changing tick label paint in does n't change
null dataset throws illegalargumentexception
check that changing category label tooltip in does n't change
categorylabelpositions
if popup menu has already been triggered then ignore dragging
lowermargin
check both bounds smaller than
domaingridlinestroke
line visible if it n't we 'd have returned false from within while loop above
categorylabelpositionoffset
categorydataset interface expects list of series but we 've stored them in array
categorymargin
ticklabelfontfield setfont swtutils toswtfontdata getdisplay axis getticklabelfont
uppermargin
check if item last item series and number of items we ca n't draw area single point
set start and end date
tblrc left and center items
create canvas and add required listeners
fillpaintlist
test one segment and adjacent segments
get origin of zoom selection in java space used drawing chart that before any scaling to fit panel
if fixed auto range then derive lower bound
set new dataset and register chart as change listener
advance line stroke
only draw if we have good values
offset
check if item last item series or if it null value and number of items we ca n't draw area single point
try null key should throw exception
compute common denominator
private double fixedautorange
paint
case comparing to general object
ticklabelpaint
register as listener with sub components
categorylabelurls
draw domain crosshair if required
categorylabeltooltips
now draw annotations and render data items
ticklabelpaint
ms test base timeline ms timeline using included and excluded segments timeline start time ee ee ee ee ee ee ee ee ms basetimeline segment group segment size ms
private shape leftarrow
verify attributes set during object construction
after removed from collection we should be able to set key to anything we want
cycle bound mapping
many of zoom methods need screen location all we have zoompoint but it might be null here we grab and coordinates or use defaults
private methods
make sure bins bins length 's upper boundary ends at maximum to avoid rounding issue bins lower boundary guaranteed start from min
generic map each series
reduce default margins
advance line visible
macosx we ca n't use ctrl key mouse drags see
put exclusions in test
try dataset with some content
set start time
lower bound and margin ok get log of lower bound
create segmented time line segment size minutes
redrawing chart every time
these constants control test cycles in validatexxxx methods
make chart area square
quarter
make background of buffer clear and transparent
add minor ticks gridlines
double nan should be ignored
calculate am on first monday after
default instances
low
calculate max label width from plot dimensions because circular pie can leave lot more room labels
anchor point typically point where mouse last clicked crosshairs will be driven off this point
sectionoutlinestroke
if there explicit mapping to default group it counted
test am pm monday through friday timeline
segment entirely at front of chart
range none
test some included and excluded segments
stroke
tblrc bottom item only
zap buffer onto panel
logically consecutive segments non physically consecutive with non contained time in between
positive item label position
verify segments consecutive and correct
get data point
test inc method
we create new but empty chartmouselisteners list
visible flag
dmo end dmo additions
try next segment
itemlabelsvisible
exclude current exception and last one
test inc methods
check that series visible flag observed
go to another segment to continue test
no data in parent plot
make link area square if pie chart to be circular circular \?
test inc method
fixed domain axis space
select tick unit that next one bigger than current log range divided by
font
tick label insets
link area defines dog leg points linking lines to labels
verify list of exceptions
lowerbound
tick labels visible flag
rangecrosshairlockedondata
fill in exceptions
rangeaxislocation no longer separate field but test anyway
should be excluded segment
add entity item but only if it falls within data area
should be included segment
include current exception and last one
tick mark paint
we need to guard against this zoompoint being null
long stl totimelinevalue
strokelist
ticklabeloffset
if multiple axes mapped first in list should be returned
only add exception if it currently included segment
consider time periods to be ordered after general objects
add our exceptions and store locally in arraylist of longs
private plot parent do n't clone parent plot but take care childs in combined plots instead
some checks that clone independent of original
make array of exceptions
if dataset not statisticalcategorydataset then just revert to superclass lineandshaperenderer behaviour
start time
try replacing existing value
add base timeline exclusions as timeline 's esceptions
adjust plot area by interior spacing value
jan
remove series and add new series
sublabelpaint
more than demo applications included with jfreechart developer guide more information see
by default renderer with index used
ensure autorange at least in size
test serialization
set up info collection
sublabelfont
this replaces entry with current minimum value but new minimum value now in different item
verify all timeline segments included in basetimeline segment now exceptions
stat function linear slope bx ybar xbar sum sum sum sum sum
subcategories
utility methods
physically consecutive
has n't implemented domaininfo so iterate
positivearrowvisible
if there no separator we assume first four characters yyyy
label font
adjust drawing area plot insets if any
label
pre fetch colors each key this because subplots may not display every key but we need coloring to be consistent
label paint
holds moving average sum
attributed label
now add some more data
label insets
if box has been drawn backwards restore auto bounds
high
lots can go wrong while fiddling with images color models such if anything at all goes awry just return original texturepaint texturepaint 's immutable anyway so no harm done
axis line stroke
add each point to area
label angle
if axis not visible no additional space required
axis line visible
none fixed
tblrc top and center only
axis line visible flag
jfreechart free chart library java tm platform copyright by object refinery limited and contributors project info this library free software you can redistribute it andor modify it under terms of gnu lesser general public license as published by free software foundation either version of license or at your option any later version this library distributed in hope that it will be useful but without any warranty without even implied warranty of merchantability or fitness particular purpose see gnu lesser general public license more details you should have received copy of gnu lesser general public license along with this library if not write to free software foundation inc franklin street fifth floor boston ma usa oracle and java registered trademarks of oracle andor its affiliates other names may be trademarks of their respective owners chartfactory java copyright by object refinery limited and contributors original author david gilbert object refinery limited
label location
tick label paint
go through each zoom menu item and decide whether or not to enable it
tick mark inside length
if source point does n't fall within subplot we do zoom on all subplots
fixed dimension
tick mark outside length
none range
get absolute value of log value
private shape downarrow
upper bound and margin ok get log of upper bound
private shape rightarrow
add second renderer with same index as dataset now it will be used
private shape uparrow
none none
in rendering process there special handling item zero so we ca n't support processing of visible data items only
verticalticklabels
update and and using intersections then recheck
axislinestroke
negativeitemlabelpositionfallback
yearformatter
check arguments
locale
if series in columns then categories row keys
showyear
when dataset contains no series we expect range to be null
chars
now repeat vertical axis
fixed range
draw annotations if any
end point lower right corner diagonal gradient
next functions implement rangeinfo interface using saved limits updated by each updatetime call significantly improves performance warning this code makes simplifying assumption that data never negative expand as needed general case
fixed none
range fixed
main include and excluded segments
tblrc left item only
this last period but it only partially visible so check that label will fit before displaying it
tblrc right item only
check that there some data to display
fixed fixed
case comparing to another timeseriesdataitem object
tblrc
only power of value it 's and its resulting tick value will be larger than lower bound of data decrement to generate more ticks
draw block without collecting entities
try case where right item shorter than center item
initialize chartpanel specific tool tip delays with values from tooltipmanager sharedinstance
should be items
if incoming state null no information will be passed back to caller but we create temporary state to record plot area since that used later by axes
tblrc right and center items
check if this addition will exceed maximum item count
try case where left item shorter than center item
here we check that average marker will in fact be visible before drawing it
tblrc top left and right
check series with one item
if we 've been panning we need to reset now that mouse released
tblrc left and right items
add entity item
otherwise look up generator table
tblrc left right and center items
try array containing single number and null
case comparing to another minute object
tblrc
positiveitemlabelposition
tblrc
rangecrosshairvisible
add value that n't in xrange
tblrc all
collection containing nan will return double nan result
tblrc
special case if underlying rectangle uses ints we need to create one that uses doubles
create dataset
set up popup menu
no need to create entity if we ca n't save it anyways
erase zoom rectangle
secondary datasetdomainaxismap
test series with item
if initial averaging period to be excluded then calculate lowest value to have average calculated
seriesoutlinestrokelist
tblrc top bottom and right
tblrc
initialize members of seriesnames array so they wo n't be null
remove value
wrong outcome
tblrc bottom right and center
change rendering order to ensure that bar overlapping right way around
check that removing by index also works
no additional methods required
now we should be allowed to change 's key to anything but
standard case plain xydataset
either autowidth off or autointervalwidth not set
dmo added this panel colorbar control start dmo additions
tblrc top right and center
tblrc bottom left and right
tblrc bottom left and center
tblrc top item only
check that new bin does n't overlap with any existing bin
tblrc right and top only
tblrc
defer null argument check
some setup
do nothing if item not visible or null
format
handle three cases by dataset type
tooltip format
extras found useful when analyzingverifying class behavior public number getuntranslatedxvalue int series int item return super getxvalue series item public float getuntranslatedy int series int item return super gety series item
date format
if data can be next methods should be modified
create subplot
create new dataset with keys above threshold percentthreshold
try null value
now extrapolate based on label height and unit height
another test
end period not in original series this first item after end period so this last item before end
reverse transformed value will be in start of next non excluded and non exception segment
number format
format string
add last point fillpath and close path
date format
number format
orientation
from seriesdataset
create subplot
yadj descent leading float bounds getheight
add subplots
actual panning occurs later in mousedragged method
separatorpaint
apply upper margin by increasing upper bound
now get data and plot it visual representation will depend on renderer that has been set
labelbackgroundpaint
item labels we have special case because there possibility to draw regular item label near to just upper value or regular item label near upper value plus additional item label near lower value
axisoffset
absolute value since relative positions reversed horizontal orientation
tblrc no items
request with negative index
columnrenderingorder
try negative row index
domainaxes
work out number of periods to skip labelling
private attributes
turn off anti aliasing when filling rectangles
draw shared domain axis
tblrc
check handling when dataset regular xydataset not xyzdataset
get previous data point
rendering order
calculate data area
domainaxislocations
case object mutable and publiccloneable
try default instance
renderers
forces recalculation of axis range
datasettorangeaxismap
closetickpaint
rangeaxes
fake dataset change event to update axes
rangeaxislocations
datasettodomainaxismap
get list of keys
first tick of group create label text
annotations
handle panning if we have start point
draw arrow
there alignment adjustment to be made \?
rangegridlinepaint
generate grid
outerseparatorextension
delegate argument checking to xydataitem
rangegridlinestroke
from outlier array sort out which outliers and put these into arraylist if there any farouts set flag on outlierlistcollection
rectangle hotspot
rowrenderingorder
domaingridlinesvisible
key that has n't been mapped should return default group
background range markers
this should never happen with existing code but throw exception in case future changes make it possible
rangecrosshairvalue
default to notify listeners when chart changes
parameter value calculate log using positive value
starts at front finishes at back going around left side
labelgenerator
we assum super always initialized to all zero matrix so total sum should be upon initialization however we set it to double min value to get same effect and yet avoid division by upon initialization
starts at back finishes at front clockwise
background domain markers
override default
foreground range markers
special case where lowest value xlow
foreground domain markers
make sure there no exceptions
domaincrosshairrowkey
return totimelinevalue datedomainvalue gettime
calculate power using positive value then negate
create new space object if one n't supplied
check independence
define default locations up to axes
domaincrosshaircolumnkey
series outline paint
fixed range axis space
crosshairdatasetindex
send dataset change event to self
shadowgenerator
axis line paint
domaincrosshairstroke
try dataset with single value
parameter value use as
we did n't get exception so all good
value not within axis range
correct outcome
should be equal
dial outline paint
this chartpanel israngezoomable
add second dataset
get current data item
check second argument less than first argument
labelpaint
check index getitemcount throws exception
we should be able to give dataset arbitrary index
if plot area too small just return
set xor mode to draw zoom rectangle
we should be able to give renderer arbitrary index
outline paint
domaingridlinepaint
we using chart buffer \?
draw average special aims requirement
tooltipgenerator
adjust drawing area plot insets if any
drawborder
can we pan this plot \?
tick label paint
force redraw new entity code
update linking line target later add entity pie section
xydataset only provides methods reading dataset
tick label font
remove point periodcount out of rolling sum
value paint
check if there any values earlier than specified by history count
value font
set up some objects
needle paint
set theme using new shadow generator feature available in backwards compatibility it not enabled by default
stroke
draw new zoom rectangle
tick label format
settickvalues missing from colorpalette colorpalette settickvalues this axis getticks
alpha
allowduplicatevalues
draw border
since items ordered we could be more clever here and avoid iterating over all data
paint
as class variable initializes
tick paint
meter angle
add subtrahend 's points to polygon in reverse
key
stop listening changes to existing chart
we have rotation
get positive exponent create multiplier value multiply round up and divide bound value
change generator and make sure it only affects
outlinestroke
secondary rangeaxes
basesectionoutlinestroke
draw axis label note that 'state' passed in and returned
rosecenterpaint
create plot
rosepaint
first determine size of chart rendering area
reset to default 'overwrite' mode
interiorgap
interiorgap
extent
labelgap
sectionpaint
additional dataarea modifications check whether modification
circular
another empty series
ignorenullvalues
direction
now get data and plot it visual representation will depend on renderer that has been set
sectionpaintmap
sectionoutlinestrokelist
basesectionoutlinepaint
sectionoutlinepaintlist
new methods
when dataset contains no series we expect value range to be null
labeloutlinestroke
separatorsvisible
super drawsecondarypass plot dataset pass series item domainaxis dataarea rangeaxis crosshairstate entities
labeloutlinepaint
shadowpaint
newestat takes value previously held by oldestat
shadowyoffset
outlinevisible
get log version of lower bound and round to integer
try customised instance
links visible
verify various indices inside segment same segment
maximumlabelwidth
explodepercentages
non javadoc see org jfree chart axis logarithmicaxis switchedlog double
labelshadowpaint
we suppress shadow generation because pdf vector format and shadow effect applied via bitmap effects
this minimumrangevalue addmodifylistener this this minimumrangevalue addverifylistener this
backgroundimagealignment
handle transparency and compositing
startangle
list to store series index and bar region so we can draw all labels at end
get relevant source coordinate given plot orientation
store current time zone
axislinepaint
previous data point
check that url generator has been cloned
following alternative only supported in jdk we support jdk onwards setitemlabelsvisible boolean valueof visible
urlgenerator
addexception exceptiondate gettime
linkmargin
process outliers each outlier either added to appropriate outlier list or new outlier list made
labellinkstroke
rangegridlinesvisible
only needed if calculating percentages
legenditemshape
offset start of box if box width smaller than category width
long result calendar gettimeinmillis wo n't work with jdk
legendlabelgenerator
autopopulatesectionoutlinestroke
clone references same dataset as original
autopopulatesectionoutlinepaint
plot likely registered as listener with existing axis
check that zero items ignored if requested
get two consecutive segments various tests
outlinestroke
submit current data point as crosshair candidate
check that null items ignored if requested
we ca n't use following valueof method because it wo n't compile with jdk this colorspool get integer valueof awtcolor getrgb
this should have been defined as boolean primitive because allowing null values nuisance but it part of final api now so we 'll have to support it
change shape and make sure it only affects
we do n't know anything about ordering of values but we can still skip any initial values that fall outside range
check that negative items always ignored
draw item label if there one
nodatamessagepaint
fixme add setbasetooltipgenerator categorytooltipgenerator boolean \?
nodatamessagefont
nodatamessage
de register composite as listener chart
try null collection
foregroundalpha
plotorientation vertical
draw top axes
drawingsupplier
now do some optional customisation of chart
backgroundalpha
secondary renderers
row antialiasing
dataextractorder
maxvalue
title axis label axis label data create legend \? generate tooltips \? generate urls \?
valuefont
if subtrahend not specified assume it zero
key not found
if we get to here we know that duplicate values not permitted
polygon definitions
baseseriesoutlinestroke
since flow layout relatively straightforward no information needs to be recorded here
draw label
copy range before start of series data
add another value
change series paint
add second dataset plotted against second axis
no event generated if dataset already empty
axislabelgap
performs actual drawing here
secondary domainaxislocations
if there existing dataset remove plot from list of change listeners
webfilled
check that super class fields being looked at
change legenditemshape
axisindices can be null non empty containing only integer objects that unique
thermometerpaint
positiveitemlabelfallbackposition
valuelocation
now add third value to series
as far as know locale calendar only affects week number calculations and since datetickunit does n't do week arithmetic default locale whatever it should be fine here
first tick of group did not do zero tick last iteration
domainaxislocation
delegate 'info' and 'source' argument checks
loop over intervals between nodes
valueformat
valuepaint
dataset index
axislocation
domaincrosshairvisible
thermometerstroke
this does n't work
secondarydatasetrangeaxismap
check if starting new column
secondary rangeaxislocations
secondary domainaxes
rangeaxis
renderer
change series outline paint
mousereleased event horizontalzoom verticalzoom will be true so we can just test either being false otherwise both true
parent plot
itemlabelfontlist
outlinepaint
try collection with single number plus null
restore original tooltip dealys
number format
data
do we need to redraw buffer \?
locale should not matter here
since this only used by clearrect we do n't update gc yet
when values sorted in descending order lower bound found by calculating relative to xhigh value
fixed legend items
seriesvisibleinlegendlist
relay event from canvas to our registered listeners
use item paint fills by default
barrenderer
textanchor
create storage listeners
ticklabelfont
last item in series draw lot set up alpha transparency
int midy int plotarea getminy plotarea getheight
tick value not between show tick label if it 's first or last in set or if it 's beyond that show fewer as values get larger
tblrc top left and center
we organise data with following assumption data sorted by then that data will be represented by rectangle formed by using and we march along axis at same value of until new value found at which point we will flag index where
check whether column now empty
adjust insets
ca n't allow duplicate values so we need to check whether there item with given value already
rangezerobaselinevisible
positiveitemlabelpositionlist
basepositiveitemlabelposition
no renderer
private numberformat numberformatoverride
outline stroke
quadrant paint
create polygon add minuend 's points to polygon
return generator all series if there one
paint sequence
from xydataset
draw tick marks and labels
now test that clone independent of original
shape sequence
outline stroke sequence
series with no data we expect
outline paint sequence
'baseitemlabelpaint' immutable no need to clone reference
now overwrite this item with another
create dataset
setup our test timelines legend comments below segments included in final timeline ee excluded segments via timeline rules xx exception segments inherited from base timeline exclusions
gradient paint transformer
paint index
comparableobjectitem item
in this case every color has range of values
with no buffer we use xor to draw rectangle over chart
only relevant when this subplot
create array of items in reverse order
upperbound
compute common deltas
tickradius
clear flag
nothing drawn if row index not included in list with indices of visible rows
radius
try few checks to ensure that clone independent of original
check case where there secondary dataset that does n't have renderer falls back to renderer
verify that plot listening to cloned renderer
check key order
shape index
draw median
now try to reject equality
check negative index throws exception
outline stroke index
we do n't know anything about ordering of values so we iterate until we find first crossing of if any we know there at least items in series at this point
now remove but since equals this will in fact remove
add value to second series
actually removes
check that generator has been cloned
check unknown column
section outline paint
if there only null items we get nanrange
copy middle three items
visible
shape
check that empty dataset handled ok
continue and separate labels only if necessary
set up category names
dateformatoverride
negative values not allowed parameter value math log function based on not
column of all null values still counted
outer radius
first arrange without constraints then see if width fits within required range if not call arrangefn at max width
now when default group mapped to it should n't increase group count
foregroundpaint
split may occur in either splitted segments if any but not in both
inner radius
constructors and factory methods
foreground paint
tick mark stroke
background
confirm overwriting existing value
frameanchor
angle
'negativeitemlabelanchor' immutable no need to clone reference
clear mapping
test custom instance
nothing to do
templatevalue
outline stroke
fill paint
check retrieve value by index
valueanchor
not highlowdataset so just draw line connecting this point with previous point
dial cap
now make change to renderer and see if it triggers plot change event
not first or last tick on graph and value change value to indicate zero tick create label tick
get coordinates of original gradientpaint
frame
negative paint
view
if negative then set flag and make positive
layer
populate deprecated fields
check that null dataset returns null bounds
standard resourcebundle behaviour
apply margins these should apply to exponent range
insets text field private insetstextfield ticklabelinsetstextfield label insets text field private insetstextfield labelinsetstextfield
check series with four items
outlinestrokelist
majorticklength
cursor midx column radius axis gap
sometimes last few days of year considered to fall in first week of following year refer to javadocs gregoriancalendar
majortickstroke
'baseoutlinepaint' immutable no need to clone reference
try null dataset should return null range
majortickincrement
add last point
majortickpaint
nocodebaseclassloader configured by call to removecodebase method typically in init method of applet
label
outline paint index
seriesvisible
baseseriesvisible
second pass adds shapes where items
have to use concrete subclass
parameter value math log function based on not
cycle through all segments contained in basetimeline exception segment
ca n't find any differences
test default instance
constructors
seriesvisiblelist
adjust padding
outlinepaintlist
get axis label size and update space object
check that setting max date to something on or before current min date works
work out anchor point
basefillpaint
just lines no filling
baseshape
check series with two items
small log values in use create numeric value tick
createentitieslist
if segment must be splitted insert new point strict test forces to have real segments not equal points and avoids division by
complicate things little
customise title position and font
shapelist
baseoutlinestroke
add new chart
seem to be same
draw plot background and axes
slope
baseitemlabelsvisible
no renderer no gridlines
itemlabelpaint
while tick labels overlap and there more tick sizes available choose next bigger label
but this does
this not one of our included segment skip it
baseitemlabelfont
work out value label and position
itemlabelfont
draw lower shadow
negativeitemlabelposition
itemlabelpaintlist
calculate bar width this calculation differs from barrenderer calculation because bars layered on top of one another so there effectively only one bar per category purpose of bar width calculation
sanity check data area
createentities
axis label
baseitemlabelpaint
if no initial zoom point set ignore dragging
itemlabelanchoroffset
shape
baseoutlinepaint
insets
now check autopopulatetrue
baselegendshape
item labels visible
legendshape
legendtextfont
outline paint
baselegendtextfont
item label font
failed
negative item label anchor
check series with no items
now remove series from collection
first test equality contains or contained
add series to collection should be not equal
it unlikely that 'state' will be null but check anyway
check series with repeating items
check series with three items
check dataset with two time periods
private paint negativebarpaint
we 're doing this testing only and make sure that we only add data in descending order by value
try with gradient paint
drawyerror
positivebarpaint
compute number of labels
lastbarpaint
firstbarpaint
renderer should not be equal to barrenderer
quick check independence
baseitemlabelgenerator
top
set flag true if negative values not allowed and lower bound between and
what our alignment \?
itemlabelgeneratorlist
tooltipgeneratorlist
legenditemurlgenerator
urlgeneratorlist
baseitemurlgenerator
legenditemlabelgenerator
right
drawbaroutline
autowidthfactor
itemmargin
try something from base class
base value
gradientpainttransformer
minimumbarlength
maximumbarwidth
barpainter
shadowsvisible
try null argument
negativeitemlabelfallbackposition
setuseyinterval
try empty dataset
setdrawbaroutline
setbase
legendbar
setmargin
check list containing non number object
autowidthmethod
drawopenticks
roundxcoordinates
legendline
drawxerror
drawcloseticks
maxcandlewidthinmilliseconds
opentickpaint
ticklength
candlewidth
drawvolume
first arrange without constraints and see if this fits within required ranges
downpaint
uppaint
check boxpaint null also
find out where to place label
linepaint
fillpaint
make sure that modifying returned array does n't change function
stripoutlinevisible
jfreechart free chart library java tm platform copyright by object refinery limited and contributors project info this library free software you can redistribute it andor modify it under terms of gnu lesser general public license as published by free software foundation either version of license or at your option any later version this library distributed in hope that it will be useful but without any warranty without even implied warranty of merchantability or fitness particular purpose see gnu lesser general public license more details you should have received copy of gnu lesser general public license along with this library if not write to free software foundation inc franklin street fifth floor boston ma usa oracle and java registered trademarks of oracle andor its affiliates other names may be trademarks of their respective owners chartutilities java copyright by object refinery limited and contributors original author david gilbert object refinery limited
autowidthgap
bottom
timeseries result
locale should n't matter here
stripwidth
axisoffset
test finddomainbounds as well
check bounds of simple dataset
axis
blockheight
blockwidth
paintscale
shapeoutlinevisible
stripoutlinepaint
stripoutlinestroke
anwender hat abgebrochen
line
simple case
shapeanchor
clone independent
linestroke
maximumlinestodisplay
try deleting null
if we modify original list it 's best if url generator not affected
clone contains reference to original object
start with current tick unit
try null calendar
all tick labels have same width equal to height of font
check null argument
check that clone independent of original
check sorted rows
clone contains reference to clone of original object
try null key
confirm that clone independent of original
replace existing value
request width index itemcount
try row index too high
check handling of null key
check null argument
check null list
scaling with factor of does not change range
try unknown key
try key index itemcount
try negative key index
range
lower upper mid point used
expand by does not change range
map key to new group
check empty dataset
autosort
remove item
add value
calculate midnight of first monday after relative to current locale
try null keys
now overwrite group
new map always has group default group
text
default group always at index
if default group not mapped to it should still count towards group count
indices assigned in order that groups originally mapped
check invalid indices
non existent group should return
null argument should throw exception
small check independence
number
try array containing single number
comparable
try column index too high
try negative column index
try null column key
try null row key
try unknown row key
try null
try null source
basic check independence
it 's ok to use index equal to size of list
this expected
no op
defer argument checks
test null source
check that two empty datasets equal
number
another item
increment unknown row
increment null value
row of all null values still counted
left
increment unknown column
rotation anchor
number start
define subtasks
note that we do n't define taskb
int count
number end
what if we do n't want interval \?
simple check independence
try single item
dataset with single value
item in series
null ignored
pass on event to auxiliary handlers
check another regular value
adding second series
advance line paint
overwrite value
check nan
check null value
does nothing unless overridden
empty dataset should return null max
and that simple aggregation works
got it
double nan doesn't mess things up
empty dataset returns null
null range throws illegalargumentexception
null list throws illegalargumentexception
try double negative infinity
try some nulls
timeseries
no initial zoom rectangle exists but handler set as life handler unregister
add second series
empty dataset should return null bounds
try double nan
gets outline stroke width of plot
add exception in included segments
try dataset with two values
try null list
saturday and sundays non business hours
try list containing single value
test empty series
try array containing single number and nan
try single value
try null argument
try collection with single number
try empty collection
try collection with several numbers
try zero length array
try collection with single number plus nan
check list containing null
we call refresh ticks just to get maximum width or height
check empty list
item
copy range that begins before and ends in middle of series
try deleting time period that does n't exist
copy range that includes only first item in series
copy last item
caplength
copy just first item
ok
copy first two items
copy last two items
rotation angle
try array containing no items
did zero tick last iteration clear flag create tick label string show tick label if style and it 's one of first two if it 's first or last in set or if it 's beyond that show fewer as values get larger
changing overwritten record should n't affect series
store plot and its weight
check negative first argument
ca n't get anything yet just exception
first tick of series or not too small value and one of first ticks or last tick to be displayed set exact number of fractional digits to be shown no effect if showing style ticks
timeseriesdataitem item
test series with one item
test series with two items
private int autotickindex protected double reservedforticklabels protected double reservedforaxislabel
tests with values
try null array
negatives allowed or upper bound not between if flag then change to log version of highest value to make range begin at value else use nearest int
this line triggers defect
test series with two items
test
negatives not allowed and lower range bound zero use data range bound instead
null items ignored
test
if less than then make it subtract out margin and get exponential value
domain description null
range description
null item should throw illegalargumentexception
test
add fourth time period
check empty dataset
range description null
restore default time zone
work out maximum height or width of non shared axes
first day of week sunday
now add second value to series
add third time period
now test with single value in series
try null zone
first day of week monday
now remove series from collection to make them equal again
newly created collections should be equal
now add same series to collection to make them equal again
shapevisible
make sure there 's nothing left
moving average series has items first three days august skipped
look at lower and upper bounds
efficiency we just use first last and middle items to compute hashcode
now add another series
and check first series too
case comparing to another second object
we clone chart because presumably there can be some delay between putting this instance on system clipboard and actually having gettransferdata method called
if flag then change to log version of lowest value to make range begin at value
add empty series
add series
float midx float minx plotarea getwidth getrotatex float midy float miny plotarea getheight getrotatey
call parent method setup flag based on bounds values
check series key out of bounds
after setting up all subplots shared range axis may need reconfiguring
check that adding series will overwrite old series
xhigh
first check that valid renaming works
next check that setting duplicate key fails
got required exception
negatives not allowed and upper bound between round up to nearest significant digit bound get negative exponent
try index out of bounds
still
check null key
has n't implemented rangeinfo so we 'll have to iterate
xlow
yhigh
ylow
test that there points and some specific values
series name should not change because already key other series in collection
remove series
after adding point to series check that there now items in each series
test that there still points
with autopruning
test that there now points
do nothing
establish coordinates of top left corner of drawing area
value pruned
without autopruning
still
here we do check to see if user installing legacy theme and reset bar painters in that case
if current stroke not basicstroke then it handled as special case
fixme add setbaseitemlabelgenerator categoryitemlabelgenerator boolean \?
text anchor
milliseconds somewhere in
starts at back and wraps right around to back again
double range this domainaxis getrange getlength double scaledrange range percent domainaxis setanchoredrange scaledrange
pie sections arranged anticlockwise
if this cell held maximum andor minimum value we 'll need to update cached bounds
handle special case if bar colour has alpha it invisible so we should n't draw any shadow
case first tick greater than minz
retrieve item
key
if we drawing perfect circle we need to readjust top left coordinates of drawing area arcs to arrive at this effect
draw sections at top of pie and set up tooltips
from highlowdataset
deregister collection as change listener to each series in collection
average radius outlier radius
these deliberately not bounded to minimumsmaxcandlewidth to retain old behaviour
errorpaint
positive paint
first initialization must precede creation of valueset array establishes length of each array
starts at back and finishes at front wrapping left side
if 'notify' flag has been switched to false we do n't notify listeners
errorstroke
fixme add setseriestooltipgenerator int categorytooltipgenerator boolean \?
setgradientpainttransformer
shape outlined
intersect at next point both minuend and subtrahend
draw outliers outlier radius
positiveitemlabelpositionfallback
coordinate pairs current minuend point next minuend point current subtrahend point next subtrahend point
map
check if item last item series and number of items we ca n't draw area single point
basetooltipgenerator
bounds should be calculated using just items within current range of axis if there one
if less than then make it add in margin and get exponential value
labellinkpaint
paintlist
calculate plotareas of all sub plots maximum verticalhorizontal axis widthheight
optional customisation completed
item label paint
itemlabelgenerator
create new color and set it to swtpaintcanvas
seriesoutlinestroke
private boolean autotickunitselection
there override \?
test exception segments
quadrant origin
now check that all datasets renderers and axes being listened too
background paint
work out mid angle and right otherwise left
these methods should throw indexoutofboundsexception since column too high
range markers
regular equality datasets does n't check fields just data values so let 's check some more things
after clearing reverts to default group
nothing defined do we autopopulate \?
dataset should prevent addition of series with same name as existing series in dataset
rangezerobaselinestroke
rangezerobaselinepaint
null argument check delegated
explode area defines max circleellipse exploded pie sections it defined by shrinking linkarea by linkmargin factor
secondary range markers
delegate
rotationanchor
no axis no gridlines
include legend tooltips urls
rotationangle
ca n't zoom domain axis
get source coordinate this plot has always vertical orientation
tooltiptext
above should cover all options
baseseriesoutlinepaint
have to use subclass of abstractrenderer
test monday though friday timeline
find first monday after
no domain axis to zoom
stroke index
test construction process
tblrc center item only
seriesoutlinepaintlist
series visible in legend not yet respected by all renderers
expandtofitspace
category
paint
stroke
basepaint
category
value
fixme calculate xx
left polygon
date format
margin
current data point
clip left and right bounds to data area
border
date format
domain description
calculate bar width
indicator bounds calculated from templatevalue which determines minimum size maxtemplatevalue which if specified provides maximum size and actual value
chart title data include legend
get reference to plot further customisation
test timeline translations
check defaults
shapesvisible
handle zoom box
autorangeminimumsize
ok exception expected
do nothing override if necessary
private boolean autorangestickyzero
negativearrowvisible
expected
majortickincrement majorticklength majortickpaint majortickstroke minortickcount minorticklength minortickpaint minortickstroke ticklabeloffset ticklabelfont ticklabelsvisible ticklabelformatter firstticklabelsvisible
non javadoc see org eclipse swt events focuslistener focuslost org eclipse swt events focusevent
non javadoc see org eclipse swt events focuslistener focusgained org eclipse swt events focusevent
ignorezerovalues
open
new entity code
disable bar outlines
todo private boolean fillzoomrectangle true
start new row
width ok but height must be constrained
start new column
axis label
use gradients and white borders section colours
deprecated fields and methods
swap rows and columns to match plotarea shape
draw markers
super setseriespaint series paint
add insets
data in ascending order by value we broadly looking index of highest value that less than xlow
subtitle legend
bar
calculate maximum allowed candle width from axis
draw outline
check that legend item needs to be displayed
work out label anchor point
higlight background corners
fast forward through leading tails
get and coordinates
itemlabelfontlist baseitemlabelfont itemlabelpaintlist baseitemlabelpaint positiveitemlabelpositionlist basepositiveitemlabelposition negativeitemlabelpositionlist basenegativeitemlabelposition itemlabelanchoroffset createentitylist basecreateentities
here we check that average marker will in fact be visible before drawing it
check that minitem limit observed
assert itemindex itemindex getitemcount
skip if chart null
swtgraphics sg new swtgraphics gc
axis
value in bounds do lookup
axis setpositivearrowvisible true
shapefilled
domainaxis no longer separate field but test anyway
itemlabelpaint
separatorstroke
sectiondepth
we do n't know anything about ordering of values but we can still skip any trailing values that fall outside range
rangeaxis no longer separate field but test anyway
extralargefont
renderer no longer separate field but test anyway
leave values untranslated as it going to be be stacked up later by previous series values after this it will be translated
largefont
set up series names
domaingridlineposition
regularfont
there should be no change event when clearing empty series
titlepaint
clean up
anchorvalue
tick marks visible flag
tblrc
tick label font
anti aliasing
rangecrosshairpaint
draw outliers
fixme add setbasepaint int paint boolean \?
item url generator
bufferedimage img
serialutilities writeimage this image stream
process all renderers
reserve space primary domain axis
draw bottom circle
range markers no longer separate fields but test anyway
set custom background chart
process all range axes
line visible
shape outlined
line visible
subtitlepaint
negativeitemlabelpositionlist
calculate bar width
chartpanel methods
member variables
constants
process all domain axes
cycle when necessary
wait till we at last item row then draw whole stack at once
public methods
do nothing at all
add chart title if one has been specified
by default outline and background wo n't be visible
process all annotations
in next zoompoint and replace by and now this helps to handle mouse events and besides those values unused afaik
linerenderer
minmaxcategoryrenderer
barrenderer
statisticalbarrenderer
this fires chartchangeevent
added following hint because of
clear section attributes so that theme 's drawingsupplier will be used
if flag being set to true there may be queued up changes
draw title and subtitles
ensure no drawing occurs outside chart area
handle gradientpaint as special case
do not notify while zooming each axis
private boolean bordervisible private transient stroke borderstroke private transient paint borderpaint
this generates change event too
use imageicon because it waits image to load
load only when required
seem to be same
fixme this image serialutilities readimage stream
if we do n't have at least coordinates just return
fixme serialutilities writeimage this image stream
return new chart containing overlaid plot
this image serialutilities readimage stream
add second dataset and renderer
create plot
create transform transform shape
basenegativeitemlabelposition
compute transform matrix elements via sample points assume no rotation or shear
when zooming to sub millisecond ranges it can be case that adjend adjstart and we ca n't have axis with zero length so we apply this instead
basecreateentities
plotorientation horizontal
each power of value create ten ticks
handle axis trace
axis
or redrawing chart every time
regular number axis
what available space one unit \?
all tick labels have same width equal to height of font
there no more candidates
it 's up to plot which clones up to restore correct references
if axis has fixed dimension return it
displaystart displayend need to handle split
no plot no data
negative values not allowed
get log version of upper bound and round to integer
category valid \?
setup number formatter obj
add space outer tick labels if any
this first period but it only partially visible so check that label will fit before displaying it
legendtextpaint
work out initial gap
draw minor tick marks
work out trailing gap
if autorange true then current range irrelevant
calculate max size of tick labels if visible
need to work out space used by tick labels so we can update cursor
return value negate if original value negative
invert adjustlog
calculate ceil using negative value
negative values allowed
get lower bound value
parameter value val use as
if then increase so translates to
setup style tick labels or regular numeric tick labels depending on flag
calculate floor using negative value
setup flag based on bounds values
no real data present
need to account case where upper
actual data present get lower bound value
apply lower margin by decreasing lower bound
strict flag set allow negatives not set and values
not small log values in use allow values if did zero tick last iter then
no tick label to be shown
create tick label force use of fmt obj
create tick label
each tick to be displayed
if autorange still below minimum then adjust by can be needed when minrange very small
not type label if positive exponent then make integer
not log type label
tick value and within data range set tick value to zero indicate zero tick
small log values in use
did not do zero tick last iteration
not small log values in use allow values if did zero tick last iter then decrement to do tick now calculate power of ten value tick
each tick with label to be displayed
tick value not below lowest data value
if past highest data value then exit method
negative exponent create fractional value set exact number of fractional digits to be shown
if flag then create type label
get lower bound value
item label paint
create type label
check new minimum date relative to current maximum date
decrement to do tick now
first or last tick on graph or value create label tick
create log type label
milliseconds
not first tick of group no label make sure flag cleared
create tick object and add to list
if past highest data value then exit method
did zero tick last iteration no label clear flag
date formatters
usually range will be daterange but if it n't do conversion
if flag then create log type label
using exponents or force formatter flag set convert 'e' to lower case 'e'
check new maximum date relative to current minimum date
get locale specific resource bundle
draw chart background
then extrapolate
even though axis not visible we need to refresh ticks in case grid being drawn
days
minutes
seconds
timeline has n't method getstarttime
years
months
hours
make final selection
could add flag to make following correction optional
'tickmarkposition' immutable no need to clone
no action required
'datetickunit' immutable no need to clone
record chart area if info requested
step down in size until current size too small or there no more units
now process plot if there one
if there no specific font use general one
if there no specific paint use general one
nothing required
find first excluded base segment starting fromdomainvalue
make time zone with no dst our calendar calculations
predetermined segments sizes
static block
other constants
move forward exceptionsegmentcount segments skipping excluded segments
last series so we ready to draw min and max
operations
partialtimeinexception
verify that basetimeline compatible with us
calculate result as if no exceptions
find all consecutive included segments
adjust result any exceptions in result calculated
skip exception or excluded segments we may fall on
skip all whole exception segments in range
add interval as exception
first check that autopopulatefalse works as expected
long start math max fromsegment getsegmentstart this segmentstart long end math min tosegment getsegmentend this segmentend
empty
cycle over all base segments groups in range
cycle through all segments contained in base exclusion area
go to next base segment group
if tick overlap when cycling update last tick too
calculate adjusted data area taking into account effect
check if we need to collect chart entities from container
suppresses compiler warnings
seriesoutlinepaint
update but dont draw tick marks needed stepped colors
inverted
draw mean special aims requirement
allow fixed thickness
default make height of plotarea
remember these values next comparison
transparent
ensure that all symbols displayed
catches null also
this ensure that grid bands will be displayed correctly
must be top or bottom
from outlier array sort out which outliers and put these into list if there any farouts set flag on outlierlistcollection
zap buffer onto canvas
avoid possible sun dc pr prexception endpath bad path
null handled fine here
place in this row truncated anyway
find optimum height then map to range
block block blocks get
can safely ignore
handle tool tips in simple way
find optimum width and map to range
since flow layout relatively straightforward no information needs to be recorded here
chart title data no legend tooltips no url generation
this default implementation will just fill available border space with single color
nothing to clear
fixed width
find optimum height and map to range
if area has zero height or width we should n't draw anything
check if initial polygon needs to be clipped
place in this column truncated anyway
autorange
customise section label appearance
pass to super class handling
add subtitle giving data source
insets values
figure out what type of axis we have and instantiate appropriate panel
create panel settings
axis settickmarkstroke gettickmarkstroke
populate deprecated fields
end fix by rfuller
pass to super class handling
update deprecated field
same as chartentity
then axis properties
check deprecated fields
update deprecated fields
try parent plot
fixme
domaincrosshairpaint
fix by rfuller
dmo added dmo added
baseseriespaint
record plot area
title axis label axis label
this chartpanel isdomainzoomable
set default stroke all series
does nothing unless overridden
force redraw
url text should already have been escaped by url generator
if we have been panning reset cursor unregister in any case
actual panning occurs later in mousedragged method
we have rotation huston please spin me
no fields to test
we expect line to be vertical or horizontal vertical
int maxx int plotarea getmaxx
isarrowattop
horizontal
we have rotation houston please spin me
configure range axis
draw shared axis
set width and height of non shared axis of all sub plots
calculate sub plot area
default preserves previous behaviour
range axis deserialized before subplots so its value range likely to be incorrect
pie area defines circleellipse regular pie sections it defined by shrinking explodearea by explodemargin factor
draw all charts
explode area defines max circleellipse exploded pie sections it defined by shrinking linkarea by linkmargin factor
get data source return if null
this paint we do n't recognise
link area defines dog leg point linking lines to labels
if too any elements
do nothing by default
if depth negative do n't draw anything
and finishes at back
segment starts at front and wraps all way around back and finishes at front again
start at front
draw height
clockwise charts extent will be negative
cycle through again drawing only sides at front
segments wraps right around back
segment starts at back
and finishes at front
whole segment stays at back
segments starts at front and finishes at back
segment only occupies front
dmo zero when parameter not set
never updated subtrahend if it implied to be zero
draw horizontal crosshair if required
draw vertical crosshair if required
ratio represents axis units
ratio represents pixels
draw plot background
get data points
segment starts at front
just horizontal axis
just vertical axis
end of column
following relies on fact that intervals immutable
seriespaintlist
this new column
plot data unless dataset null
object oldvalue this urlgenerator
object oldvalue this tooltipgenerator
draw background
ca n't find any difference
intentionally blank
set anchor value range axis
make link area square if pie chart to be circular
legendlabeltooltipgenerator
send dataset change event to self to trigger plot change event
check if line segments colinear
delegate
axis
range this rangeaxis getrange getlength scaledrange range percent rangeaxis setanchoredrange scaledrange
add tooltip section
draw all subplots
segment starts at back still extending clockwise
override only documentation purposes
minor
if not check if there stroke defined specified key
draw wafer
legendlabelurlgenerator
get major dimension
otherwise look up paint table
ellipse diameter minor dimension
set upperleft point minor
calculate and draw notch horizontal orientation considered notch right vertical orientation considered notch down
section paint
this axisoffset trim dataarea
section outline stroke
seriespaint
cycle through once drawing only sides at back
classify keys according to which side label will appear
clear point vectors
no range axis no renderer
draw right labels
draw labels
ca n't find any difference
hh getinteriorgap
line not visible
radialgradientpaint we adjust center and radius to match current pie segment
create bounds inner arc
set anchor value vertical axis
after setting up all subplots shared domain axis may need reconfiguring
delegate 'state' and 'source' argument checks
showvaluelines
column keys provide potential keys individual pies
update section colors to match global colors
calculate inner arc in reverse direction later generalpath construction
columns variable always rows
add entity pie section
row keys provide potential keys individual pies
jfreechart free chart library java tm platform copyright by object refinery limited and contributors project info this library free software you can redistribute it andor modify it under terms of gnu lesser general public license as published by free software foundation either version of license or at your option any later version this library distributed in hope that it will be useful but without any warranty without even implied warranty of merchantability or fitness particular purpose see gnu lesser general public license more details you should have received copy of gnu lesser general public license along with this library if not write to free software foundation inc franklin street fifth floor boston ma usa oracle and java registered trademarks of oracle andor its affiliates other names may be trademarks of their respective owners categoryplot java copyright by object refinery limited and contributors original author david gilbert object refinery limited
allocate storage dataset axes and renderers
item labels visible
series paint
add unique categories from this dataset
do n't let anyone draw outside data area
first axis in list used data java
reserve space any domain axes
get legend items datasets
if there renderer it draws background otherwise use default background
specify anchor and coordinates in java space cases where these not updated during rendering no lock on data
reserve some space range axis
add domain axes to lists
now render data items
set up alpha transparency
draw outline around plot area
draw foreground markers
grab plot 's annotations
iterate through datasets that map to axis and get union of ranges
draw bottom axes
draw left axes
add range axes to lists
draw right axes
now check that chart usable
do nothing because plot not pannable along domain axes
provides 'no action' default
draw range grid lines if any
stroke sequence
axislocation immutable so we can just copy maps
some subclasses override this method completely so do n't put anything here that must be done
delegate to other method
not currently serialized
autopopulatesectionpaint
headpercent
square
check null argument
we do n't need sign
basesectionpaint
datasets not cloned but listeners need to be added
filltype to upper bound
normalize angle
draw radius grid lines if any
now each dataset get renderer and appropriate axis and render dataset
solve linear system with tridiagonal by matrix using gaussian elimination without pivoting where sub diag sup values sub sup ignored right hand side vector overwritten with solution note used in all arrays unused
horizontal ellipse
horizontal rectangle
up pointing triangle
right pointing triangle
this represents situation drawing horizontal bar
left pointing triangle
vertical rectangle
otherwise look up paint list
draw polygon series
verify independence of fixed legend item collection
series outline stroke
draw axis and category label
plot data
now actually plot each of series polygons
end of axis
find point at appropriate distance end point along axisangle identified above and add it to polygon
shapefilled
finds our starting angle from centre this axis
down pointing triangle
circle
diamond
check that graph being served created by current user or that it begins with public
set anchor value horizontal axis
plot polygon
draw range crosshair if required
put elipse at point being plotted
pass mouse down event if some chartmouselistener listening
reserve space domain axes
allocate storage datasets axes and renderers all optional
negatives true
if series in rows then categories column keys
lastly fill web polygon if this required
value math pow value
clone share data sets add clone as listener to dataset
no zooming possible
izv stepsnumsteps int valueminz maxzlog minzlog
innerseparatorextension
reserve space range axes
it domain axis \?
render series in forward order
draw background annotations
draw
render series in reverse order
draw foreground annotations
render data items
no default renderer available
we ca n't draw quadrants without valid axis
ca n't render anything without axes
we ca n't draw quadrants without valid axis
use texttitle class because it concrete subclass
if event caused by change to series visibility then axis ranges might need updating
we do n't clone listeners
squares
if there existing dataset remove plot from list of change listeners
draw item shapes
textalignment and horizontalalignment separate things but it makes sense default textalignment to match title 's horizontal alignment
or it range axis \?
perform zoom on each domain axis
register plot as listener with its axes datasets and renderers
linevisible
int transx int xx ww domainmin domainlength int transy int yy hh rangemin rangelength
we do n't use calendar or numberformat fields but equals object failing without them being non null
images considered equal only if they 're same object todo there way to do better test \?
draw units indicator
already calculated already calculated
plot registered as listener with existing axis
draw cap if there one
draw text value on screen
draw start of normal range
fill paint
draw axis
draw start of warning range
draw start of critical range
pieindex
draw range indicators
draw thermometer outline
draw border
draw outline of filled polygon
calculate bounds of template value
linevisible
urltext
now find text anchor point
adjust text bounds to match string position
draw pointers
draw background if there one
first expand viewing area into drawing frame
now do minor tick marks
otherwise look up stroke table
now fetch row data need to bear in mind that row structure may not have entry column key but that we have already checked that key valid structure
series visible not yet respected by all renderers
otherwise look up position list
outline paint
otherwise look up shape list
otherwise look up position table
item label font
iterate and find all keys below threshold percentthreshold
item label visibility
positive item label position
otherwise look up boolean table
item label paint
'paint' immutable no need to clone reference
negative item label position
'basestroke' immutable no need to clone reference
'outlinepaint' immutable no need to clone reference
'stroke' immutable no need to clone reference
'basepaint' immutable no need to clone reference
skip any items that do n't need including
'baseitemlabelanchor' immutable no need to clone reference
create temporary vector set to some arbitary value used below
'baseoutlinestroke' immutable no need to clone reference
'baseitemlabelfont' immutable no need to clone reference
shapelist baseshape
in this case every color has unique value
'postiveitemlabelanchor' immutable no need to clone reference
'itemlabelpaint' immutable no need to clone reference
'itemlabelfont' immutable no need to clone reference
'itemlabelsvisible' immutable no need to clone reference
'basenegativeitemlabelanchor' immutable no need to clone reference
assign color each unique value
system err print creating new outlier list
deprecated code
'outlinestroke' immutable no need to clone reference
listeners not restored automatically but storage must be provided
handle special case where value less that item zero
tool tip generator
special case where highest value xlow
url generator
more values than paints so map multiple values to same color
if there no plot there no dataset to access
return overall setting if there one
end class wafermaprenderer
when values descending upper bound found by comparing against xlow
handle negative value
fixme calculate xxleft and xxright
end foreach map entry end else
handle positive value
right polygon
shapes filled
because negative
handle value outside bounds
handle rendering separately two plot orientations
look any keys that we do n't already know about
draw blocks
commented out code would be better but only if rendererchangeevent immutable which it n't see if there way to fix this
shapes visible
contained titles
preserves old behaviour
lines visible
value
nothing drawn null
put outline around data area
fetch series remove change listener then remove series
do nothing if both line and shape not visible
cases and
get clipping values
set default item label positions
fill background
highlight background corners
item label generator
draw bar
check value we plotting
bar not visible
url generator
tool tip generator
defensive check
no new methods
now draw outlines if visible
fixme add setseriesoutlinestroke int stroke boolean \?
cases and
handle special case of boxandwhiskerdataset
let superclass handle it
standard deviation lines
cases and
draw background image if there one
charteditormanager getcharteditor canvas getdisplay this chart
fixme add setseriesoutlinepaint int paint boolean \?
fixme add setbaseitemlabelpaint paint boolean \?
draw bars
nothing drawn null values
plotbackgroundpaint
no fields to compute
percent so it will not apply unless changed
fixme add setbaseoutlinestroke stroke boolean \?
units
shape
remove old items if necessary but do n't notify anyone because that happens next anyway
tick labels visible
tick size
standard deviation lines
switch and
upright bar
extend 's flat bar
or
or
clone and original share reference to same dataset
plotoutlinepaint
outline paint
's flat bar
fixme add setseriesshape int shape boolean \?
bar width
paint
jfreechart free chart library java tm platform copyright by object refinery limited and contributors project info this library free software you can redistribute it andor modify it under terms of gnu lesser general public license as published by free software foundation either version of license or at your option any later version this library distributed in hope that it will be useful but without any warranty without even implied warranty of merchantability or fitness particular purpose see gnu lesser general public license more details you should have received copy of gnu lesser general public license along with this library if not write to free software foundation inc franklin street fifth floor boston ma usa oracle and java registered trademarks of oracle andor its affiliates other names may be trademarks of their respective owners categoryitemrenderer java copyright by object refinery limited and contributors original author david gilbert object refinery limited
next functions override base class implementation of domaininfo interface using saved limits updated by each updatetime call improves performance
bar height
row outline color
fixme add setseriespaint int paint boolean \?
fill paint
fixme add setseriesstroke int stroke boolean \?
stroke
fixme add setbaseshape shape boolean \?
fixme add setbaseoutlinepaint paint boolean \?
item labels visible
outline stroke
fixme add setseriesitemlabelgenerator int categoryitemlabelgenerator boolean
item label font
fixme add setbaseitemlabelfont font boolean \?
fixme add setseriesitemlabelpaint int paint boolean \?
state getbarwidth renderer bar outline width threshold
fixme add setseriesitemlabelfont int font boolean \?
create actual polygon
create line renderer only
draw upper shadow
connect to previous point
need to handle cluster centering as special case
first check number we plotting
percent so it will not apply unless changed
we 'll set this to false if there at least one non null data item
set default item label positions which will only be used if user requests visible item labels
calculate box width
treat last column value as absolute
offset start of box if box width smaller than category width
alternatively sometimes first few days of year considered to fall in last week of previous year
draw box
legacy \? just return original paint this corresponds exactly to how paints used to be darkened
create new area series
start from rangebase
draw median
average radius
draw youtliers
draw body
draw farout indicators
disable visible items optimisation it does n't work this renderer
not just horizontal bar but need to perform 'step'
first point this baseyvalue
check if series disjoint domain spans do not overlap
todo getseriesshape getbounds height
project onto minuend
fill polygon
draw outline around area
todo getseriesshape getbounds width
do nothing this just hook subclasses
start new area when needed see above
draw optional guide lines
calculate arrow head and draw it
there no fields to check
labellinkstyle
orientation horizontal
check if either series degenerate case less than points
try listener type that n't registered
item label font
state
ca n't draw anything
start of algorithm
subtrahend needs to be fast forwarded
deprecated methods
if series sorted negative index result from collections binarysearch and tells us where to insert new item otherwise it will be just and we should just append value to list
annotations
check intersect
deassert fastforward only matters st time through loop
set new starting point polygon
project onto subtrahend
pass mouse move event if some chartmouselistener listening
clear colinear points and flag
compute numerators
this wo n't happen
compute point of intersection
check if line segments intersect
test if both grahphs have vertical rise at same value
add intersection point to polygon
paint
return straight away if item not visible
add interection point to new polygon
chart title domain axis label range axis label data orientation include legend tooltips \? urls \?
set maxy and miny values to intersect value
labeltype
add last point of minuned and subtrahend
consider last point of minuend and subtrahend determining positivity
check if final polygon needs to be clipped
swtgraphics class does n't handle gradientpaint well so replace gradient painter from default theme with standard painter
advance subtrahend if needed
visible
advance minuend if needed
vertical orientation
advance minuend and subtrahend to intesect
range object cannot be equal to different object type
bad axisnumber
compute slope components
drawing
may be negative
outline paint
interval
first pass draws shading
outline stroke
allowduplicatexvalues
shape
item label generator
legend item label generator
legend items
ignore
fixme
get height adjustment based on stack and translate to java values
add entity if this info being collected
if renderer n't assigned to plot then we do n't have dataset
on first pass render areas line and outlines
use swtpaintcanvas to show color note that we must set heighthint
get series paint and stroke
start from previous height ph
labellinkpaint
draw outline around area
first point
dial shape
we need at least two points to draw something
construct path
if this last item draw path
update path to reflect latest point
now create new title and replace existing title several things should happen adding new title should trigger immediate chartchangeevent modifying new title should trigger chartchangeevent modifying old title should not trigger chartchangeevent
on second pass render shapes and collect entity and tooltip information
add points from last series to complete base of polygon
collect points
draw path
construct spline number of points newton form coefficients coordinates of nodes
we need at least points to spline draw simple line two points
we 're running on jre so this best we have
note that np
dial background paint
get label position
name
just range axis
then draw line
fill under curve
just domain axis
now draw real shape
factorization and forward substitution
reset points vector
should never get here
map key to default group
'plot' just retain reference not deep copy
calculate step point
this handles need to perform 'step'
this handles need to perform 'step' calculate step point
submit this data item as candidate crosshair point
create new area polygon series
first point
no change
we make clip region slightly larger than dataarea so that clipped edges do n't show lines on chart
here we use booleanutilities to remain compatible with jdks
update max value
need to make sure we adding after any duplicates
we needed to get this far even invisible items to ensure that seriespath updates happened but now there nothing more we need to do non visible items
if line not wrapping then parent ok
draw body
only draw line if gap between current and previous data point within threshold
draw lower shadow
draw upper shadow
this method must be overridden if you want to display images
first pass draws background lines instance
fill polygon
protected methods these provide opportunity to subclass standard renderer and create custom effects
now split segment as needed
should not get here
youtliers can be null but we 'd prefer it to be empty list in that case
draw farout
draw youtliers
minuend needs to be fast forwarded
if null do n't draw line at all
initalize xvalues yvalues and zvalues arrays
process outliers each outlier either added to appropriate outlier list or new outlier list made
if null do n't draw line then delegate to parent
calculate highest volume in dataset
draw error bar interval
draw error bar interval
transpose dimensions because title rotated
include interval if there one
domaingridlinepaint
no need to instantiate this class
handle item label drawing now that we know all bars have been drawn
we did n't find key
baseseriesvisibleinlegend
update crosshair point
do n't bother with parsing
deprecated code
rectangleinsets immutable same reference in clone ok
add chart to deletion list in session
serve it up
replace with this to prevent access to rest of file system
set http headers
suppress compiler warning
svgclass will be null so function will return false
determine space required axis
this includes case where underlying dataset null
get lastest pixel
first point outside so we update it against one of four sides then continue
second point outside so we update it against one of four sides then continue
reserve variables to store coordinates of resulting gradientpaint
red green blue
always null
red green blue now map computed colour to nearest in palette
rgb optional alpha which we leave unchanged
this code that actually copies pixels
buffered images may have properties but never disclose them nevertheless just in case someone implements getpropertynames one day
ignore alpha channel
get coordinates of shape that to be filled
substitute filtered url list
all methods static no need to instantiate
vertical pass
substract oldest pixel from sum
start point upper left corner
pix buffer large enough all pixels of one row
start point lower left right corner diagonal gradient
horizontal pass
check that column key defined in structure
consider these to be ordered after general objects
this will include case where underlying dataset null
check whether row now empty
but row data requires deep copy
check file exists
int columnindex getcolumnindex columnkey
placeholder
keys shallow copy should be fine because keys should be immutable
no new methods required
map nongrid data into new regular grid
does series exist \?
find min max and axes
fetch value
update data
step through all values and add them to hash
store number as double
scale by inverse of distance power
if real small set inverse to large number to avoid inf
determine cell size
remove distance of sum
categorydataset interface expects list of categories but we 've stored them in array
store data as long
remove all series from collection and notify listeners
set to most recent value
store index where new column starts
already know 'a' n't null
calculate constant values
store and axes as doubles
do not add key to dataset
now try to instantiate this
now do work
add other category if applicable
add key to dataset
if dataset implements domaininfo life easier
private
update min value
handle standard case plain categorydataset
create temporary directory if it does n't exist
new methods from combinationdataset
handle special case of ohlcdataset
handle special case of intervalxydataset
if dataset implements domaininfo life easy
work out minimum value
minimum and maximum each group
maps our series into our parent 's
add series
more difficult case evaluate later
we working with time series
exact match on first item
exact match
delegate null check on dataset
overridden to make public
no crossing of
spanning match
might need to add to free memory from any previous result sets
no new methods added
prior to we just fired propertychange so we need to keep doing this
not value ca n't use it defaults to null
remove any previous old data
first line contains column keys
first column contains row key
remaining fields contain values
suppress value defaults to null
lower bounds same
pretty sure this should n't ever happen
first field ignored since column row keys
fill bins
first column data
determine max and min values
get all rows rows new arraylist
pass values to other constructor
sum of
update cached range values
update cached min and max values
defer null argument checks
intercept
calculate sum and count
treat nulls same as nans
check zero pivot element
iterate over all data items and update mins and maxes
update cached range values
tell listeners new table has arrived
make change if it 's not duplicate time period
remove old items and notify if necessary
we at last minute in hour
wo n't get here
find serial index of period specified by 'latest'
see comments about priority of in validateobject
getxxx ftns can ignore series argument do n't synchronize this instead synchronize loop that calls it
rangegridlinepaint
figure out if we need to iterate through all values to find revised miny maxy
we at first hour in day
if hour then create hour
start after last data item
but if that series array already exists just overwrite its contents synchronized this
we at last hour in day
update time series appropriately
case comparing to another hour object
cached values used interface domaininfo
arbitrary safe default value
parse string
work out average earlier values
case comparing to another year object
default value
autoinit 's to null
but if that series array already exists just overwrite its contents
create year
remaining lines contain row key and data values
create array holding group indices each series
minimumarcangletodraw
if initial averaging period to be excluded then calculate index of first data item to have average calculated
cached values used interface rangeinfo note minvalue pinned at single set of extrema covers entire seriescollection
avoid indexoutofboundsexception
expand following all defined timeperiods
etc
deep copy from values caller can safely discard that array
methods managing fifo 's
handle special case of boxandwhiskerxydataset
long kept updated by advancetime
else implicit here
no translation needed
if oldest data contained maximum value invalidate stored max and range data
now advance oldestat wrapping at end of array
index to select series
update domain limits time kept in msec
check whether valuehistory array member exists if not create them
find and integer following it remove both from string
following code handles line values it 's all done by code in super class
do n't synchronize this instead synchronize loop that calls it
case comparing to another quarter object
null value insert point on base line instead of 'step point'
do nothing so null returned
replace any or with space
update array of timeperiods
ms test timeline using included and excluded segments timeline start time ee ee ee ee ee ee mstimeline segment group segment size ms
case comparing to another day object
we need to work out if previous year has or weeks
to be defensive let 's check that source series does in fact belong to this collection
check if new series name already exists another series
ms test timeline with basetimeline using included and excluded segments centered inside each base segment ms timeline without base would look like this timeline start time ee ee ee ee ee ee ee ee ee ee ms timeline segment group segment size ms with base timeline some originally included segments now removed see xx below ee ee ee xx xx ee ee ee ee xx xx ee ee ee ms timeline ee ee ee ee ee ee ee ee ms basetimeline
if it not series name then we have no interest
check arguments delegated fetch series name
suppress
case comparing to another week object
trim whitespace from either end of string
axisoffset
case comparing to another month object
all arrays equal length so ignore argument
deprecated methods
now it trickier to determine if month or year first
wipe next about to be used set of data slots
no attributes to read
this key null
private comparable key
we ca n't be sure of order
remove all series from collection and notify listeners
check arguments delegated
need to configure intervaldelegate to match original
add new series
false preserves old behaviour prior to introducing this flag
everything fine autowidth on and autointervalwidth set
sectionoutlinesvisible
this not allowed to be null
all series have same number of items in this dataset
in version in response to several developer requests changed 'data' attribute from 'private' to 'protected' so that others can make subclasses that work directly with underlying data structure
figure out if we need to iterate through all values
try class that n't listener
todo we loose encoding information here fix it
todo we should use implicit nil body but problem punt til later
todo numeric new works in ruby and it does here too however trying to use that instance in numeric operation should generate argumenterror doing this seems so pathological do not see need to fix this now
todo adding implicit nils caused multiple problems in compiler revist after landing assert bodynode null bodynode not null
todo take bigdecimal mode into account
todo full precision remainder slower than mri
fixme some reason this dispatcher causes verifyerror classclass dispatcher callbackfactory createdispatcher classclass
fixme doubt any of constants referenced in this method ever redefined should compare to known values rather than do expensive constant lookup
todo rewriter and compiler assume case when empty expression in mri this just when assert casenode null casenode not null
todo do n't require pop
xxx wrong but will have to do now
get value from current scope or one of its captured scopes fixme block variables not getting primed to nil so we need to null check those until we prime them properly also add assert back in param offset zero indexed value that represents where variable lives param depth how many captured scopes down this variable should be set return value here
important receive block argument before opt and splat args this so that arg can be encoded as 'rest of array' this wo n't work if block argument has n't been received yet
fixme got bunch of npes when did n't check nulls here how \?
sss fixme there also differences in variable scoping between and ruby buggy semantics if understand correctly semantics of how this shadows other variables outside block needs to be figured out during live var analysis
this getopt with one mandatory arg but it did not work so am parsing it now
this result of bug that left off all trailing arguments system ls dir would be seen as system ls
fixme broken but behaving
todo we overflow on large files we could increase to long to limit this but then impl gets more involved since java io apis based on int means we have to chunk up long into series of int ops
if we outgrow our pushback stack then grow it this should only happen in pretty pathological cases
fixme arg may also be true false and nil and still be valid strangely enough protocol conversion not happening in ruby on this arg \?
todo proper sign
todo in mri explicit check negative length added here indexerror raised when length negative see ruby core more details new note this actually under re evaluation see ruby core
enebo very wrong
fixme if we terminate immediately this appears to break while in method arguments we need to push nil cases where we will never enter body
following constants capture pre known static call sites jruby implementations of methods of ruby classes sss fixme note that compilerimplbasebodycompiler using op match match and and op match match this bug there \?
sss fixme this does n't preserve original order of when clauses we could consider preserving order or maybe not since we would have to sort constants first in any case outputing jump tables in certain situations add body to map emitting later
sss fixme why node being built using closures and not as regular loop with branches \? this has implications on inlining implementations of closures next break etc when each and block it consumes inlined together in caller loop from each should become normal loop without any closures but in this implementation of we replace one closure with another
synchronized method per jruby unsafe double checked locking fixme synchronization still wrong in cp code
vulture thread will periodically expunge dead entries entries also expunged during 'put' operations this designed to cover case where many objects created initially followed by limited put activity fixme disabled below pending resolution of finalization issue
fixme we assuming that original string will be raw bytes if ku provided this will not be true but that ok now deal with that when someone needs it
todo ruby locks string here
todo rubicon testkernel dies without this line cursory glance implies we falsely set to nil and this sets it back to something valid this should get fixed at same time we address bug
mri behavior this combination of flags not allowed
zero args with block fixme omit args index subtract one from normal block index
fixme it may be possible to killpg on systems which support it posix library needs to tell whether particular method works or not
todo this code effectively disables all inspection based optimizations none of them safe yet
fixme no argument seems to work in mri plus this should not siphon off additional args 'jruby scriptsfoo' also better error processing
we in eval with binding break out early fixme this broken with new backtrace stuff
fixme this system error based on errno
todo make sure it 's really safe to not to copy it
fixme not correct exception
fixme we ca n't guarantee this will always be rubyio so old code here not safe
dump trace and continue this currently only here android which seems to have bugs in its enumeration logic
fixme add at exit and finalizers to exit then make exit bang not call those
todo need to isolate current thread from class creation
xxx actually only on windows
enebo should frogger foo work it doesnt in linux ruby \?
fixme ca n't use static would interfere with other runtimes in same jvm
todo anything threads attached to original fd notified of close see rb thread fd close
todo this freopen in mri this close but not quite same
fixme check how ruby handles this
todo full precision divmod slower than mri
fixme i'm not sure this right but old code returned undef which definitely n't right
fixme mri has special case constants here
fixme throw right argumenterror 's if class missing or if it 's module
fixme this n't quite right it should n't evaluate value if it 's going to throw error
fixme flag not supported case 'x' break
fixme this causing verification error some reason nilclass dispatcher callbackfactory createdispatcher nilclass
walk up scope tree right now as much as possible to avoid run time walking sss fixme any reason why this might break in presence of ruby 's dynamic resolution \? what might break \?
fixme errno descriptions from constantine on windows not useful at moment
fixme this should reset to what it before
sss fixme incorect
fixme vulture daemon thread prevents finalization find alternative approach vulture start
fixme this seems like good assertion but it breaks compiled code and code seems to run without it assert currentmodule null ca n't push null rubyclass
there available data flow facts to run this problem \? sss fixme silly optimization \?
sss fixme constant arrays we should never get here
fixme this wrong
fixme may need to broaden ipv ip address strings
todo sys fail
sss fixme verify semantics of this instruction
we basically ignore protocol let someone report it
sss fixme this correct \?
fixme use block to implement end node because we need proc which captures its enclosing scope forblock now represents these node and should be renamed
sss fixme ordering correct \? poll before next
we use highly uncommon string to represent paragraph delimiter soln not worth it
add self recv here todo this right \?
todo mri behavior call or add depending on call but this leads to exceptions when floats added see return callcoerced context op true this mri behavior we 'll use ours now thus providing ability to add floats
sss fixme this correctly placed at end of loop iteration \?
todo ruby reuses this logic other write behavior by checking if it 's io and calling write again
sss fixme where does this go \? setlineposition arraynode getposition
it would be nice and logical if exponent form behaved like ee and decimal form behaved like but no such luck hence
sss fixme these should get normally compiled or initialized some other way sss fixme parentsuper type info incorrect these just placeholders now this needs to be updated with real class objects later
todo not allocatable allocator probably ok here confirm jruby
sss fixme could make ir loop scope too semantically it scope but functionally not sure if this required yet
this covers rare case of lower case class names and thus will fail of time fortunately we 'll only do this once per package name and seriously folks look into best practices
sss fixme should this be string literal or string \? dummy class script
todo should this be deprecated \? to be efficient internals should deal with rubyhash directly
sss fixme does int suffice or do we need long \?
modules included with shim class we must find that shim to handle super appropriately
reset value map if this instruction startend of basic block right now calls considered hard boundaries optimization and information cannot be propagated across them sss fixme rather than treat all calls with broad brush what we need to capture different attributes about call uses closures known call target can modify scope etc this information probably already present in ast inspector
todo determine whether we should perhaps store non singleton class in implementationclass
sss fixme correct \? where does closure arg come from \?
fixme consider fixing node assign itself rather than single case
sss fixme should have reference to ir loop that being retried \?
temporary hack to handle non ruby values will come up with better solution shortly
simplify variables too to keep these variables in sync with what actually used in when clauses this not required correctness reasons but only performance reasons
must be called from main thread it currently but this bothers me
con fixme do n't know how to make case be expression does that logic need to go here \?
fixme legal here \? may want unsupportedoperationexception
fixme this ugly hack to resolve jruby i'm not proud of it
something wrong we do n't know cwd todo this behavior really desirable \? mov
todo no java stringity
fixme total hack to get flash in rails marshallingunmarshalling in session ok we need to totally change marshalling to work with overridden core classes
todo this method not present in mri
fixme ideally javaobject instances should be marshallable which means that javaobject metaclass should have appropriate allocator jruby
todo public only \?
fixme this should probably do some translation from ruby priority levels to java priority levels until we have green threads
todo consider better way of synchronizing
using ioinputstream may not be most performance way but it 's easy
fixme we should not be regenerating this over and over
xxx this check previously used callmethod to check equality between classes when scanning hierarchy however check may be safe we should only ever have one instance bound to given typeconstant if it 's found to be unsafe examine ways to avoid call
todo why we duplicating constants here and then in file constants below \? file constants included in io
cloned method now belongs to new class set it todo make dynamicmethod immutable
todo these missing so we 're not handling them elsewhere \?
todo cache \?
fixme wtf this \? why would these use class \?
todo figure out how this can happen and possibly remove
fixme do n't like this
fixme these descriptions should probably be moved out to constantine project which deals with all platform dependent constants
fixme this below temporary but its much safer cow it prevents not shared strings with begin this allows now bytelist set not to be begin aware
todo what about arg \?
fixme think this chunk equivalent to mri id name and not our public method id name make into method if used more than once
fixme this probably not very efficient since it loads all methods each call
hack in to replace usual readline with this
if we get here we found matching method use it todo choose narrowest method by continuing to search
todo this kinda gross
fixme in order thread to play well with standard 'new' behavior it must provide allocator that can create empty object instances which initialize then fills with appropriate data
these extra arrays really unfortunate split some of these paths out to eliminate \?
we clone dynamic scope because this will be new instance of block any previously captured instances of this block may still be around and we do not want to start overwriting those values when we create new one enebo once we make self lastclass and lastmethod immutable we can remove duplicate
todo protected methods this going to require rework of some of mechanism
if not overloaded we add method that guesses at which signature to use todo just adding first one right now add in signature guessing logic
sss fixme this should never get called constant svalues
todo this version better than hackish previous one windows behavior needs to be defined though suppose this version could be improved more too todo etcpasswd also inadequate macosx since it does not use etcpasswd regular user accounts
fixme there 's some code duplication here with rubyobject inspect
visibility checking without requiring frame self todo do n't bother passing when fcall or vcall and adjust callsite appropriately
fixme figure out why we get null sometimes
hacky advance position to eat newline here
need to reexamine this
fixme this currently only here because of some problems with iooutputstream writing to bare runtime without proper scope
workaround jruby
using iooutputstream may not be most performance way but it 's easy
ignore bean does n't get registered todo why does that bother me \?
enebo lots of optz in parser here
fixme move out of this class
in fact we should probably raise error yes \?
todo ary sort check should be done here
todo get rid of this lax returns strict will throw
bit risky if someone changes completor but useful method calls
todo rest of this seeking to same position unnecessary since we share channel but some of this may be needed \?
todo this right thing to do \?
fixme this probably belongs in different package
fixme not very efficient
this gross but java api 's n't iso compliant at all
todo this correct \?
workaround jruby mri does not enter this production some reason
create block this iter node fixme we should n't use current scope if it 's not actually from same hierarchy of static scopes
sss fixme do we need to check if same as whatever popped \?
sss fixme where this set up \? how this diff from classvardeclnode \? \?
fixme do we need check or does main java not call this they should consolidate
fixme this table will get moved into posix library so we can get all actual supported signals this quick fix to support basic signals until that happens
fixme this worries me bit since it could allocate lot with large newlength
todo this filtering kind of gross it would be nice to get some parser help here
todo decompose getjavapackagemodule so we do n't parse fullname
fixme get rid of laziness and handle restricted access elsewhere
todo now we use faithful reimplementation of mri 's algorithm but should use utf encoding facilities from joni once it starts prefroming utf content validation
if we do n't have opt args start after args they will be assigned later this crap like def foo true which numbers before fixme only starting after required args since opt args may access others and rest args conflicts with compileroot using to indicate signature
fixme determine if real allocator needed here do people want to extend javaclass \? do we want them to do that \? can you class new javaclass \? should you be able to \? todo not allocatable allocator probably ok here since we do n't intend people to monkey with this type and it ca n't be marshalled confirm jruby
grrr arghh want to subclass sun misc floatingdecimal but ca n't so we must do all this next lines of code which has already been done by floatingdecimal
fixme do we really want 'declared' methods \? includes privateprotected and does not include superclass methods also getdeclared calls may throw securityexception if we 're running under restrictive security policy
small hack to save cast later on
this perhaps innefficient timewise \? optimal spacewise
todo confirm expected args irubyobject or similar
there 's not compelling reason to keep javaclass instances in weak map any proxies created kept in non weak map so in most cases they will stick around anyway and some good reasons not to javaclass creation expensive one many lookups performed when passing parameters tofrom methods etc todo faster custom concurrent map
todo check java reserved names and raise exception if encountered
fixme jruby ends up with condition returning null quick fix until can dig into it
workaround bug in sun 's jdk see
fixme weakref rb also does caller here backtrace
fixme remove this from grammars
todo it 's perhaps just coincidence that all channels which we should raise instanceof selectablechannel since stdio not so this bothers me slightly con
fixme not sure what semantics of transfer cfiber definefastmethod transfer cb getfastoptmethod transfer
fixme this pretty gross we should have cleaner initialization that does n't depend on package visible fields and ideally atomic probably using immutable structure we replace all at once lazy null when no groups defined
this dummy scope we should find way to make that more explicit
fixme resolve what hell going on
rb obj id return internal id of object fixme should this be renamed to match its ruby name \?
again should n't happen todo might want to throw exception instead
fixme maybe not best place but move it to good home
todo not allocatable allocator may be ok here but it 's unclear how structs work with marshalling confirm behavior and ensure we 're doing this correctly jruby
todo should next and return also catch here \?
we always prepend org jruby proxy package to beginning because java and javax packages protected and signed jars prevent us generating new classes with those package names see jruby
todo we should be able to optimize this quite bit post javaclass already has all methods organized by method name next version supporting protected methodsfields will have them organized even further so collectmethods here can just lookup overridden methods in javaclass map should be much faster
index item this could probably be more efficient bailing out on assigning args past end \?
todo make more efficient by not creating irubyarray
rb mod remove cvar fixme any good reason to have two identical methods \? same as remove class variable
from dup setup rb copy generic ivar from dup setup here unlikely
if it 's single arg when but contains array we know it 's real literal array fixme this gross way to figure it out parser help similar to yield argument passing expandarguments would be better
todo only setaccessible to account pattern found by accessing constants included from non public interface aka java util zip zipconstants being implemented by many classes
not intended to be called directly by users private old todo from ruby code this should be implemented in javaclass java where we can check reserved ruby names conflicting methods etc
fixme do n't allow multiple threads to do this at once
todo bleeding runtime into parser arity may be should be in parser to keep bleeding oneway
rb ary push fixme whis this named push \?
todo this probably n't best hack but it works until we can have different root frame setup easily
todo at least parsersupport attrset passes argsnode as null implicitnil wrong magic setupargs since it will irubyobject nil so we need to figure out nice fast null pattern setupargs assert argsnode null receivernode not null
hack in order to have stdouterr act like ttys and flush always we set anything assigned to stdoutstderr to sync
todo people extending gzipwriterreader will break find better way here
fixme set up call configuration this
process streams get channel newchannel ed into filechannel but not actually seekable so instead of just isseekable check doing instanceof filechannel we must also add this boolean to check which we set to false when it 's known that incoming channel from process fixme this gross and it 's nio 's fault not providing nice way to tell if channel really seekable
fixme somehow 'd feel better if this could get appropriate var index from argumentnode
fixme can get optimized ieqlnode
todo rounding mode should not be hard coded see mode
fixme moved this here to get what 's obviously utility method out of irubyobject perhaps security methods should find their own centralized home at some point
fixme if nativeexception expected to be used from ruby code it should provide real allocator to be used otherwise class new will fail as will marshalling jruby
object to obsolete we match ruby 's hack until to goes away then we can remove this hack too
todo callback value would be more efficient but unlikely to be big cost constants rarely assigned
fixme this should go somewhere more generic maybe idutil
sss fixme move this code to some utils area or probably there already method this in some jruby utils class holy cow just to append two darned arrays
todo set our metaclass to target 's class scary
add 'new' with full signature so it 's guaranteed to be directly accessible todo no need this to be full formal jvm signature
context null wipe out softreference this could be done with reference queue
todo remove
fixme big fat hack here because scope names expected to be interned strings by parser
todo this actually now returning scope of whoever called method to proc which obviously wrong but there 's no scope to provide many methods it fixes jruby but needs better solution
author headius fixme convert to enum \?
following three methods must be defined fast since they expect to modify current frame they expect no frame will be allocated them jruby
todo not allocatable allocator probably ok here since we do n't intend people to monkey with this type and it ca n't be marshalled confirm jruby
sss fixme can this return anything other than nil \?
xxx const lookup can trigger const missing that enough to warrant it always being executed \?
todo should frozen error have its own distinct class \? if not should more share \?
todo only used by interface implementation eliminate it
fixme null check removable once we figure out how to assign to unset named block args
jruby when met choose cet timezone to work around joda
fixme this gross do n't do this
fixme think we need these pushed somewhere \?
sss fixme deprecated going forward all instructions should come from cfg
todo should probably apply null object pattern non allowed class rather than null
yow this still ugly
add method with full signature so it 's guaranteed to be directly accessible todo no need this to be full formal jvm signature
fixme this version faster than previous but both suffer from crucial flaw it impossible to create objectspace with iterator that does n't either hold on to objects that might otherwise be collected or have no way to guarantee that call to hasnext will be correct or that subsequent call to next will produce object our purposes now this may be acceptable
fixme clearing read buffer here this appropriate \?
todo specifying soft refs may want to compare memory consumption behavior with weak refs specify weak in place of soft below
fixme lose syntactical elements here and others like this
enebo totally weird naming in mri not allocated and local var name
fixme this does n't actually support anything but string
up to ten stuff into tmp locals load in reverse order and assign fixme there 's probably slightly smarter way but it important \?
xxx do something \?
todo only setaccessible to account pattern found by accessing constants included from non public interface aka java util zip zipconstants being implemented by many classes todo not sure we need this at all since we only expose public fields field setaccessible true
fixme we want to eliminate these type casts when possible
hack force clinit to be created
fixme if true array common enough we should pre allocate and stick somewhere
optional args so we have irubyobject todo confirm
todo this almost rubymodule instance methods on metaclass perhaps refactor
fixme added this because marshal spec seemed to reconstitute objects without calling datawrapstruct this resulted in object being null after unmarshalling
todo factor this chunk as in mriyarv getaster
exit monitor before making call fixme this not being in finally little worrisome
self args sss fixme verify that this correct
this jruby since after suspend terminal seems to need to be reinitialized since we ca n't easily detect suspension initialize after every readline probably not fast but this interactive terminals anyway so who cares \?
todo do above but not below additional newline nodes
sss fixme receiver this class meta object basically \? operand receiver build defsnode getreceivernode
fixme this whole thing could probably be implemented as module and mixed into appropriate classes especially if it uses either ioinputoutputstream or smart about kind of io like object it 's being used against
fixme bit of kludge here non interface classes assigned to both class and module fields simplifies proxy extender code will go away when ji overhauled and proxy extenders deprecated
fixme what should these really be \? numeric \? assert instanceof rubycomplex instanceof rubycomplex
we 're depending on side effect of load which loads class but does not turn it into script do n't like it but until we restructure code bit more we 'll need to quietly let it by here
fixme we should also support orgs that use capitalized package names including embarrassingly one work but this should be enabled by system property as expected default behavior upper case value should be and to treat it as class name and raise exception if it 's not found
todo this version differs from ioctl by checking whether fcntl exists and raising notimplemented if it does n't perhaps no difference us \?
fixme this temporary since variable compilers assume we want args already on stack assignment we just pop and continue with args logic
todo eliminate \?
todo handle writing into original buffer better
this fairly specific hack empty string but it does job
xxx this constructor hack to implement end syntax converting reader back into inputstream does n't generally work
method has more than lines we 'll need to split it and therefore need to use heap based scope
implementations of these all bonus see todo above going to throw error from these but it appears to be wrong place to do it
entry exists proxy does n't match replace this could happen if old proxy gc'ed todo raise exception if stored proxy non null \? not gc'ed
todo better algorithm to set precision needed
sss fixme used anywhere \? do n't see calls to this anywhere public operand builddasgnassignment node node ir scope dasgnnode dasgnnode dasgnnode node getvariablecompiler assignlocalvariable dasgnnode getindex dasgnnode getdepth
todo make this more intelligible value
todo split this into two sub classes so that name and constnode can be specified seperately
not sure how well this works but it works much better than just currenttimemillis by itself
fixme this copied code from rubyarray both re struct and array should share one impl this also hacky since construct ruby objects to access ruby arrays through aref instead of something lower
fixme no do n't like it
arguments compilers always create irubyobject but we want to use rubyarray concat here fixme as result this not efficient since it creates and then later unwraps array
sss fixme what difference between classvarasgnnode classvardeclnode
fixme set up callconfiguration this
todo readswrites from frame todo information on scoping todo visibility \?
fixme this almost entirely duplicated from main java
we might need to perform dst correction
fixme how much more obtuse can this be \? heredoc already parsed this and saved string do not parse just return
this needs to be split since conditional calling inherited does n't fit standard ruby semantics
xxx again screwy evaling under previous frame 's scope
sss fixme maybe this not really concern after all nesting level of this scope in lexical nesting of scopes in current file this not to be confused with semantic nesting of scopes across files consider this code in file class end so at lexical nesting level of file script at in file 'f' semantically it at level at this primarily used to ensure that variable names do n't clash definition of in closure should n't override use of from parent scope private int lexicalnestinglevel
actual type does not exactly match method return type re get converter fixme when only autoconversions primitives this wo n't be needed
fixme we should probably still be dyncalling 'write' here
fixme finalizer should be dupped here
do n't bother to check if final method it wo n't be there not generated ca n't be
todo generalize this type checking code into irubyobject helper
fixme needs to be rethought
ruby constants strings should this be moved somewhere else \?
let 's only generate methods those user may actually intend to override that includes any defined in current class and any ancestors that also javaproxyclasses but none from any other ancestor classes methods defined in mixins will be considered intentionally overridden except those from kernel java and javaproxymethods as well as enumerable todo may want to exclude other common mixins \?
fixme do n't like null checks here
invoke callmethodmissing method directly todo this could be further optimized since some dsls hit method missing pretty hard
todo this really ineffient and potentially problem everytime anyone require 's something we should try to make loadpath special array object
fixme why this using fullfunctioncallbackmethod before that did callsuper \?
if body rescue node inspect its pieces separately to avoid it disabling all optz todo this gross
fixme this does not have exact same semantics as rubyarray join but they probably could be consolidated perhaps as join args sep dochomp
lame generics issues making segment class static and manually inserting cache reference to work around various problems generically referencing methodsvars across classes
fixme this determine module in strange location and should somehow be in block
todo \? think this ends up propagating from normal java exceptions sys fail openfile getpath
this seems unlikely to happen unless it 's totally bogus fileno so do we even need to bother trying to create one \?
todo turn off negative \? will return in lax mode
todo list sublist from to clear supposed to clear sublist from list how can we support this operation \?
see note below re field kludge
we 're not setting provider or anything but it seems that bouncycastle does some internal things in its provider 's constructor which require it to be executed in secure context ideally this hack should be removed see jruby and this bc bug
this rather ugly hack but similar to mri see hash ruby setenv and similar in mri we search all keys case insensitive match and use that
todo wrong get interfaces from class
todo make callcoerced work in block context then fix downto step and upto
fixme code below copy of rubyio puts and we should avoid copy paste
install invokedynamic bootstrapper todo need to abstract this setup behind another compiler interface
fixme inefficient constructing bignum just dumping \?
todo ruby does not seem to care about invalid numeric mode values am not sure if ruby overflows here also
fixme obvious issue that not all platforms can display all attributes ugly hacks using generic posix library makes pushing inspect behavior into specific system impls rather painful
rb copy generic ivar from dup setup here unlikely
fixme this really ought to be in clinit but it does n't matter much
using iochannel may not be most performant way but it 's easy
todo this should entry into error handling somewhere
todo make this do specific arity calling
sss fixme what happens to add class in this case \? \?
sss fixme we guaranteed that we splats dont head to multiple assignment nodes \?
todo catch exception if constant already set by other thread
todo implement tty \? and isatty we have no real capability to determine this from java but if we could set tty status then we could invoke jruby differently to allow stdin to return true on this this would allow things like cgi rb to work properly
fixme we should be getting this from runtime rather than assume none \? return runtime getencodingservice getencoding runtime getdefaultexternalencoding
end hack
todo this n't exact port of mri 's pipe behavior so revisit
todo protected methods this going to require rework of some of mechanism
fixme what should this really be \? assert instanceof rubycomplex
fixme this n't right within ensuredrescued code
sss fixme token can be final method implying that token only this particular implementation of method but if mehod modified we create new method object which in turn gets new token what makes sense \? \? intuitively it seems first one but let us see current code version token this method can change during execution as methods get redefined
todo it would be nice to throw better error this
set up field cacheentry todo make this array so it 's not as much class metadata similar to abstractscript stuff
todo newtypeerror does not offer enough ruby error string
sss fixme added this in this correct \?
upper case package name todo top level upper case package supported in previous ruby based implementation so leaving as see note at getproxyorpackageunderpackage re future approach below top level
todo wire into new exception handling mechanism
todo this also defined in metaclass too consolidate somewhere
fixme constdecl could be two seperate classes or done differently since constnode and name never exist at same time
todo number formatting here mri uses api must \?
todo need to get this back into method signature now too late
super calls from proxies must use reflected method fixme possible to make handles do superclass call \?
todo better error handling
sss fixme should this be operand or compoundstring \? can it happen that symbols built out of other than compound strings \? or can it happen during optimizations that this becomes generic operand \?
fixme we should really not be creating dynamic scope root of ast before parsing this makes us end up needing to readjust this dynamic scope coming out of parse and local static scopes it will always happen because of and fixme because we end up adjusting this after fact we ca n't use any of specific size scopes
todo not sure that we should skip calling join altogether thread join has some implications java memory model etc
hack to get right style input
if variables added then we may need to grow dynamic scope to match static one fixme make this so we only need to check this blockscope null we cannot currently since we create dynamicscope localstaticscope before parse begins refactoring should make this fixable
sss fixme this method at least in context of multiple assignment little weird it calls regular to ary on object but if it encounters method missing value inserted into element array try first then define fixnum to ary method and try it again ex
fixme potentially could just use bytelist here \?
ignore job cancelled fixme this ok \?
regular division with some default precision todo proper algorithm to set precision
todo exec should replace current process this could be possible with jna
sometimes value can be retrieved at compile time if we succeed nothing like it we might not following reasons constant missing reference forward reference constant 's value only known at run time on first access but this runtime n't it \? \? our compiler n't able to right away infer that this constant sss fixme operand can be literal array range or hash hence operand because array range and hash derive from operand and not constant there way to fix this impedance mismatch \? it should be possible to handle forward reference case by creating new forwardreference operand and then inform scope of forward reference which scope can fix up when reference gets defined at code gen time if reference unresolved when value retrieved forward ref and we get null we can throw constmissing exception not sure
fixme not allocatable allocator probably not right here since we might eventually want javaarray to be marshallable jruby
todo this probably bad
fixme do we really want 'declared' methods \? includes privateprotected and does not include superclass methods
fixme should n't need java ovrd methods just query locally defined methods
fixme document difference between warn and warning or rename one better
fixme only setfl and getfl current supported fixme only nonblock flag supported fixme setfl and setfd treated as same thing here case of dup fd we should actually have setfl only affect one it unclear how well we do but this todo here to at least document that we might need to do more work here mostly setfl mode changes which should persist across fork boundaries since jvm has no fork this not problem us
todo call config with scope but no frame
todo ruby truncates string to specific size here but our bytelist should handle this already \?
todo clone setup here
todo must override in rubymodule to pick up constants
todo non strict option
todo adjust length so it wo n't fall in middle of multi byte character mri 's sprintf uses tables in modified version of regex which assume some particular encoding given installationapplication see regex re mbcinit in ruby this only issue if user specifies precision that causes string to be truncated same issue would arise taking substring of bytelist backed rubystring
fixme logic needed
todo note lack of command com support win
todo no need to calculate every time
fixme create attrreadermethod attrwritermethod faster attr access
todo times calculate same value below
todo opt and \?
fixme optimize cases where we have no false branch
fixme do n't use rubyio this
fixme after jump not in here will if ever be \? label afterjmp new label
todo missing additional logic dealing with conflicting protected fields
todo rescan code range \?
todo deal with unc names
todo pass this in \?
fixme missing arity check
todo warn tried to create proc object without block
todo make threadsafe
todo port exact behavior from mri and move most locking logic into channeldescriptor todo all lock nb cases return false if they would block
todo do something here \?
todo pipe handler to be reopened with path and mode
todo check return value here
fixme when we get jna we need to properly write this to errno
todo other reserved names \?
todo better detection when path absolute or not if path n't absolute then prepend current working directory to path
todo deal with varargs
todo store begin and end information into this node
todo ruby locks string here
todo put these nil guards into tree bigger than want to do right now
fixme should we make this work with platform 's locale or continue hardcoding us \?
fixme make bodynode non null in parser
fixme pass block down \?
todo add trace call \?
todo call ruby method
todo build arg list based on number of args optionals etc
todo check ascii string
sss fixme traverse up scope hierarchy to find constant as long as parent static scope
xxx should n't check if valid option variable
sss fixme should be returning operand constructed here \?
fixme arg concat missing opt call args
todo add ir instructions checking method arity getvariablecompiler checkmethodarity required opt rest
todo add safety check taintedness
fixme ruby post args code needs to come here
todo make sure all appropriate open flags added to this check
sss fixme somewhere here we need to record information type of this operand as string
xxx check if it 's appropriate type \?
fixme translate this call below unwrappassedblock
sublist clear sublist supposed to share same backing store as list todo in rubyarray asserttrue list size
sss fixme we need to build debug information tracking into ir in some fashion so these methods below would have to have equivalents in ir scope implementations
fix replace type with isinstanceof
sss fixme incomplete
sss fixme pick one of bytelist or string or add internal conversion methods to convert to default representation
todo check if too many open files gc and try again
sss fixme cannot optimize this without assuming that range to ary method has not redefined so now return null
todo this and recacherespondsto needed to be synchronized jruby but this degraded performance nearly it 's still faster than mri but reanalysis of this code may show faster way to ensure we 're caching safely
sss fixme to be done
fixme arg concat logic missing opt call args
todo implement wo n't do this now
fixme need to detect magic comment in here encoding
fixme we may be intern'ing more than once
todo validate port as numeric
todo same zero length checks as file above
todo this code should really check if ruby equals method implemented or not
todo ruby unlocks string here
if not already defined we add 'new' that guesses at which signature to use todo just adding first one right now add in signature guessing logic
fixme make thread pool threads daemons if necessary
filter out any java primitive names todo should check against all java reserved names here not just primitives
todo we can probably release our references to constantfields array and staticinstance callback hashes at this point
do not clone cached methods fixme mri copies all methods here
todo check safe taint on incoming string
todo mri just when node we need this extra logic ide consumers null in casenode statement should be implicit nil
todo formalize conversion mechanisms between java and ruby
fixme when we get jna we need to properly write this to errno
todo turn off readable \? am reading this right \? this only seems to be used while duping below since modes gets reset to actual modes afterward fptr mode fmode readable \? fmode readable fmode writable
todo someday enable
bunch of methods still not implemented
todo make it cross runtime safe by cow or eager copy
todo do n't calculate same value times
todo notify threads waiting on descriptorsio \? probably not
fixme this needs to happen lambdas args checkargcount runtime parameters length
fixme add text mode to mode flags
todo something about pipe buffer length here
todo mri also can hadle bignum here
todo handle errors in buffered write by retrying until finished or file closed
todo this n't handling multibyte yet
todo safestringvalue here
todo this should be something else like tchar
todo ruby re checks that buffer string has n't been modified
\? boolean true if file readable by real uidgid of caller fixme need to implement readable real in filetest
\? boolean true if file exists and writable by real uidgid fixme need to implement writable real in filetest
todo add test methods here name must begin with 'test' example
if method extending something then we have to test if handler initialized
todo make assert here
todo make into assert once get things like blockbodynodes to be implicit nil
and shift result back to left multiply by abs scale
exceptionnext target next that does n't push new value like this one
static methods only
prepare to call class definition method
inside loop break out of it go to end of loop leaving break value on stack
interrupt target thread in case it 's blocking or waiting warning we no longer interrupt target thread since this usually means interrupting io and with nio that means channel no longer usable we either need new way to handle waking target thread that 's waiting on io or we need to accept that we ca n't wake such threads and must wait them to complete their operation threadimpl interrupt
ignore switch
switch
if element count less than use helper methods
todo ruby logic somewhat more complicated here see comments after
return last value from execution
rb enc mbclen
reverse entire area of array selected if it 's reversed
place to store that special hiding space that bindings need to implement things like eval binding eval all binding instances must get access to this hidden shared scope we store it here this will be null if no binding has yet been called
this order in which mri does these two tests
copy out any buffered bytes
restore original exception
generate variable writers initialization code
this order in which mri does these tests
if length not multiple of we need to pad last byte
system err println calculatelength str str
used by our duck typification of proc into interface types to allow coercing simple proc into interface parameter
basically just forcing typeerror here to match mri
bind 'normal' parameter values to local scope this method
args
con popen case where think we should just always shell out
end of variable scope
in number just ignored
mri does n't support char strings but yarv does do n't think it hurts to include this sprintf c' 'a' nicer than sprintf c' 'a'
foo not getting set from somewhere want following assert to be true though assert variablevalues offset null getting unassigned staticscope getvariables offset
check arity in variable arity version
reason why we need stream to be able to invoke available on it stdin in java non interruptible non selectable and attempt to read on such stream might lead to thread being blocked without any way to unblock it that 's where available comes it so at least we could check whether anything available to be read without blocking
grab nil local variables
there two different popular tz formats legacy ast gmt and newer one uspacific americalos angeles this pattern to detect legacy tz format in order to convert it to newer format understood by java api
special form of sprintf that returns rubystring and handles tainted strings correctly version
no extra args rest
thread context receiver and original args
prepare string with same number of redundant slashes so that we easily can prepend it to result
we append index to ensure two identical method names will not conflict
element set
we have body do full on method
close without removing from finalizers
special form of sprintf that returns rubystring and handles tainted strings correctly
otherwise decrement and possibly close as normal
last index accessed by next last index accessed by get
isfoo foo isfoo foo
name
nofunctionalitysignalfacade
logevery methods based on configuration
get value from map via key
finally grab script
only whitespace allowed after value strict
done processing args
rest of argument array
mri does n't flag it as error if width given multiple times as number but it does
new exception printstacktrace
head must have no non trivial assigns array groupings basically
truncate ca n't lengthen files so we save position seekwrite and go back
class could not be found nor generated give up on jit and bail out
scoped location of this variable high bits how many scopes down and low bits what index in right scope to set value
sizes must match
oh well it worth try go let doublefloatingdecimal handle it
if we get here no optz cases work fall back on unoptz
super uses current block if none given
next jump
test that requiring normal java class raises error jruby
check args first since body inspection can depend on args
without flush ant will miss some of our output
intdigits n't used here but if it it would be
create closure class and instantiate it
ignore do n't like doing it but it seems like we really just need to make all channels non blocking by default and use select when implementing blocking ops so if this remains set non blocking perhaps it 's not such big deal
no arg constructor using static references to ruby and rubyclass
create default thread group
there should only be one more thread in thread group than before we started
skip in bytes will add where appropriate
perform dispatch
'd' and 'i' same
keep cr \?
broken symlinks considered by exists as non existing so we need to check symlinks explicitly
dup it since we need to return appropriately if it 's false
ruby uses qnil here we use dummy because we need class
if root of method rescue compile as light rescue
gotta have at least zero
runtime getwarnings warn id struct constant redefined frame getfile frame getline redefining constant struct name name
'u' with space or plus flags same as 'd'
load null block
only supports simple parallel assignment of up to values to same number of assignees
switch no exponent so drop through calculation
this method has jited already or has been abandoned bail out
we have read ahead and need to back up
if line followed by blank line put it back
reuse trailing consecutive sequence at same slot
send it along as arity specific we do n't need array
classes directly in hierarchy so no special logic necessary implementer
create method toplevel of script
we promote our box to being its own box since we 're changing visibilities and need it to be reflected on this method object independent of any other sharing box
recv
has method that calling super received block argument
argf object
done done done nothing to do done done done done done done done \? done done done done done done done done done done done case definednode return builddefined node incomplete done done done done done done done done case ensurenode return buildensurenode node deferred done done done done case flipnode return buildflip node sss fixme what code generates this ast \? done done done done done done done done done done done done done done done done done done \? done done done done done done partially case opelementasgnnode return buildopelementasgn node deferred sss fixme what code generates this ast \? done case postexenode return buildpostexe node deferred case preexenode return buildpreexe node deferred done \? \? done
ok we now have significand in digits ndigits and exponent in exponent we 're ready to format
serialization killed our dynamic scope we can just create empty one since serialization cannot serialize eval which only thing which capable of having non empty dynamic scope
condition always true just compile it and not body
ruby ignores empty syswrites
input record separator
ruby 's designation some platforms minus version numbers in some cases
try optz version
line
if environment variables ca n't be obtained define empty env
line
after defn of stderr as call may produce warnings
sockets only write as much as will fit
it 's safe since adler update does n't modify array
redonode redonode redonode node
too big us
instance variable methods
assign to appropriate variable
skip all whitespace in pack format string
head must not be null and there must be no args like arg
need padding i'm fairly sure there library call to create string filled with given char with given length but could n't find it
fall back on env entry user
compile into array
index item
double testing args length here but it avoids duplicating proc setup code in two places
call getpwent to fail early if unsupported
we force argparamcount to since we always know we 'll have args
perform assignment next node
\? boolean true if file exists and owned by caller 's real uid
intdigits
line
compile first node only
also create javaproxy classes
drop through non strict digits
inside loop jump to conditional
switch
if root of method rescue compile as light rescue
do nothing this iteration restarts
attempt to set permissions if we have been passed posix instance and only if file created in this call
always false or nil
if we 're not argument scope zsuper try our parent
load args which will be irubyobject representing block args
jrubymethod public irubyobject to proc return rubyproc newproc getruntime callblock newcallclosure this getruntime getsymbol arity noarguments new toproccallback this getruntime getcurrentcontext block type proc
line
compile condition as non expr and just compile then body
must not be used across threads
try to read grent to fail fast
line
mri behavior
since we 're not actually duping incoming channel into our handler we need to copy original sync behavior from other handler
rubyclass
compstmt position includes both parens around it
not actually called anywhere all known uses call fast version
first we make modifications to class to adapt it to being both ruby class and proxy java type
empirical observations null some arity argsnode this argsnode then check arity changes newline splatnode argspushnode
irubyobject rubyclass visibility irubyobject rubyclass irubyobject
parent container this context can be dynamic if dynamic at runtime this will be meta object corresponding to classscriptmodulemethodclosure list of ir instructions this method
reopen
long big endian
system err println stringtolongconverted
in certain places like grep we do n't use real frames call blocks this has effect of not setting backref in correct frame this delta activated to place where grep running in so that backref will be set in appropriate place
argf methods
do nothing allow loop to redo
system err println stringtolongreading data
even shift floors to or bit biginteger
need array use unoptz version
happens with native exceptions should not filter those out
line
ignore leading zeroes switch
inspect body and args
next xv
rubyclass rubyclass rubyclass rubyclass self rubyclass rubyclass rubyclass
bouncy castle does n't support algorithm
ca n't do it
not normally used but left in here since it can be useful in debugging grammar and lexing problems
line
position within source must reflect actual offset and column since we ate extra character here this accounting normally done in read we should update position info
colon assign in object
synthetic methods always have zero arg parameters
last node either instanceof whennode or null else
we presumably running precompiled class load directly
if send with literal symbol compile it as direct fcall
note if 's' happens to class this effectively assignment of class instance variable
define argv and this runtime
once hasnext has been called we commit to next returning entry it found even if it subsequently deleted
first try our custom generated unsafe
aggregate when nodes into list unfortunately this no
line
does n't fit in buffer write immediately ensure nothing left to write
assignment means value already on stack
paths which end in or must be stripped off
this almost always already interned since it will be called with symbol in most cases but when created from java code we might get argument that needs to be interned addaccessor has as precondition that string must be interned
\? intnil if file has nonzero size return size otherwise nil
mri behavior be default digits in exponent use digits only when necessary see comment writeexp method more details
if read buffer ahead back up
deal with lengthwidth
switch no more data ok strict to go calc
next entry to return current slot current entry
add setposition impl which stores filename as constant to speed updates
mri behavior in this mode trailing zeroes removed
next
iterate over remainder of buffer until we find match
first digit always printed
three args no block load null block
problem we trying to solve below stdin in java blocked and non interruptible so if we invoke read on it we might never be able to interrupt such thread so we use in available to see if there any input ready and only then read it but this approach ca n't tell whether end of stream reached or not so we might end up looping right at end of stream well at least we can improve situation by checking if some input ever available and if so not checking available anymore and just go to read
now all variables used by 'i' mark them live before 'i'
these only needed if we have non noop call config
because regexp sets backref we have to make this backref aware
note currently this optimization limited to following situations all expressions must be int ranged literal fixnums it also still emits code safe when logic which rather wasteful since it essentially doubles each code body as such it normally disabled but it serves as example of how this optimization could be done ideally it should be combined with when processing to improve code reuse before it 's generally available
ok we have fast paths
copy what in buffer if there some buffered data
if more than vars get values array too
set to default thread group
check visibility of previous frame which will be frame in which class being eval'ed
optimistic pass calculate value as digits processed digits lax rules decimal digits lax rules exponent signdigits lax rules digits strict rules decimal digits strict rules exponent signdigits strict rules complete calculation if possible
in this mode always printed
line
nn nn
let rescuedblock continue
method also needs scope do both
'next' like local return from block ending this call or yield
build first node and ignore its result and then second node
we 're doing normal framed compilation or method needs frame
try to look up field simple name get field if nonnull go straight to dispatch
do nothing
line
long slow way causes disabling
silence
precision gg includes integer digits
make nil node if no body notice this not part of ast
nnn nnn
lattice top bottom any values these will be used during dataflow analyses
ignore this select will set correct mode when it finished
execute rescue block
line
if no exception thrown execute else block
load all arguments straight through
note segmentshift differs from concurrenthashmap 's calculation due to issues with system identityhashcode upper bits always at least under java winxp
clear exception when handled or retried
proc implementing interface pull in catch all code that lets proc get invoked no matter what method called on interface
what static scoping relationship exists when it comes into being
following constants capture pre known static call sites used to implement ruby internals
'foo'
method handle arg receive return value and call instructions
just rethrow
we re set self to class but store old self in temporary local variable this to prevent it gcing in case singleton short lived
tempering
read
normalize value
sb true since intlength
arg
ok now it gets expensive
construct proxy method
switch will use this if we have to go back slow way
putting bit back so we 're not at eof anymore
yylen
\? boolean true if file exists and socket
save entering try if there 's nothing to ensure
common constant cvar methods
eq false
then try sun 's unsafe
printed
value equality
not saving dfs instance as it will only be used once at most per call
'foo args only significant in maintaining backwards compatible ast structure
copy any buffered data including ungetc byte
yydgoto
need to clamp source buffer size to avoid overrun
digits array shifted update all
line
all precision numebers printed
any biginteger bigger than fixnum and we do n't have fixable
now used as interpreter event
in method body with no containing loop issue jump error load runtime and value issue jump error
store each line into this list if not null
default output handle
only arrays that lightweight being used as args arrays
instance methods
explode array it 's internal args array
range each func range step args
decimal form like but not just like 'f'
check if it 's immediate and do n't outline
now some data
check arity checkarity mv scope
no actual test so do 'when' if when expression not nil
found match above check if remaining separator characters match appending as we go
ignore compiler pragmas
sss looks like we receive arg in buildblockargsassignment via iternode we wo n't get here argument receives so builddasgn called assignments to block variables within block as far as ir concerned this just simple copy
translate ret to ret \? true as follows build opt ret can be set to but effectively true if we take branch to while this info can be inferred by using attributes why bother if we can do this \? ret true beq true build ret
iterate over rubyhash keyset simultaneously iterating over values
assert value instanceof rubyarray not array
else leave it null
line
jruby presumably this require should fail
line
we lazily initialize this in case readline readline has been overridden in ruby readline
line
clean up string representation so that it could be understood by java 's bigdecimal not terribly efficient now mri allows and as exponent separators
line
last conditional case use defaultcase
we do preand post load outside body versions to pre prepare and pre push dynamic scope we need lastline
each root node has top level scope that we need to push
we creating new io object that shares same iohandler and fileno
significant digits and exponent
line
evstrnode some expression
method does n't need scope but has static scope needs use dummy scope
mark as captured if from containing scope
note serialization primarily supported testing purposes and there no general guarantee that serialization will work correctly specifically instance variables pointing at symbols threads modules classes and other unserializable types not detected
no such luck
new factory methods
equivalent of data get struct this will first check that object in question actually data equivalent
wake up any channels that became unblocked
we know this block scope because local scope cannot be within local scope if topscope itself it would have created localasgnnode above
parser current within singleton value number of nested singletons
force client socket to be blocking
irubyobject dynamicmethod rubyclass cacheentry threadcontext irubyobject irubyobject string args
add real top to new top unless this top empty only beginend nodes or truly empty
if reciever self then we do call same way as vcall
boolean
return new calloneargnode firstnode getposition firstnode operator new arraynode secondnode getposition secondnode
fixme what correct 'recv' argument \? this does produce desired behavior
block and block pass passed in at same time uh oh
package scheme separate module each full package name constructed from camel cased package segments java javalang object
create constants flock
if there 's second argument it 's path to which first argument relative
extract item from array
create ruby proxies any input arguments that not primitives
zero argument declaration
nothing else to here module version will be included in class
yylen
set binding 's frame 's previous file and line to current so trace will show who called block
store to temp so it does null out on us mid stream
kcode none used because kcode does not affect parse in ruby if ruby encoding pragmas implemented this will need to change
other args begin at index
yydgoto
this does assignment
yyrindex
flush first
switch if
line
name of variable
seek to force underlying buffer to flush
dynamically increase
brace to match it bracket expressions must be
translate ret ret \? false build opt ret can be set to but effectively false if we take branch to while this info can be inferred by using attributes why bother if we can do this \? ret false beq false build ret
line
length check hack we should not be reeiving as filename ever
line
oo ooo or backref
line
java and not same as ruby
java requires creating file that does not exist
create new variable using prefix
line
check if method has been explicitly excluded
line
switch while
line
we limit reads to bulk read sized chunks to avoid nio allocating huge temporary native buffer when doing reads into heap buffer if dst buffer direct then no need to limit
line
pre create all core classes potentially referenced during startup
jruby until case
if we 're not attempting to invoke method missing and method not visible branch to method missing
line
get value from map via values iterator
line
irubyobject dynamicmethod threadcontext irubyobject rubymodule string irubyobject
line
now clear out any previously selected channels
line
seek to force read buffer to invalidate
line
lazily create class init only if necessary
block
line
this method takes as input map of operands to their values and outputs result of this instruction if value map provides value any of instruction 's operands expectation that operand will be replaced with simplified value it not required that it do so code correctness not compromised by failure to simplify param valuemap mapping from operands to their simplified values returns simplified result output of this instruction
system err println mainlen len
expect value to be array of nodes
if no explicit block passed to super then use one passed in unless it 's explicitly cleared with nil
use same classindex as metaclass since we 're technically still of that type
line
proxy under construction building thread can safely read non volatile value
line
minus one more irubyobject
line
bench straight up long fib
line
translate true \? build should return variable true beq true build
eq true
get javaclass if this new proxy class verify it matches if this superclass proxy
main while loop offset length
load path
enebo can never be antrhign but why did put this here \?
assign given optional arguments to their variables
first build assignment splat if any with rest of args
experimental class reification support to create real java classes ruby classes after first opening
attempt to load found library
make sure appropriate scope has proper size see jruby
wait until thread has completed
jrubymethod name complex \?
synchronize and re check to avoid creating more than one selector per provider
populate up to shorter of calling arguments or local parameters in block
jrubymethod name inexact \?
we use file test since it faster than stat also euid uid in java always
set thread context jruby classloader here main thread
and all precision digits printed
note that we 'll potentially see refs both java object and proxy whichever we see first will cause entry to be removed other will not match entry and will be ignored
assign default values adding to end of allargs
check entry setvalue values come back out ok
in frame evalstate should already have receiver set as self continue to use it
prec root must surely be ok return small prec roots without iterations
dangling char
line
when reading into heap buffer jvm allocates temporary direct bytebuffer of requested size to avoid allocating huge direct buffer when doing ludicrous reads or more we split read up into chunks of no more than
setfoo foo foo foo
relatively cheap test bit values
while node could receive non local flow control from any of these closure within loop eval within loop block arg based proc called within loop
'class state self' and 'class obj' uses defn as opposed to defs
promise to implement
mri rounds up on nnn nnn but not nnn except when they do
depending on size of original args call appropriate utility method
no dec digits after error strict
scope methodclosure to which this cfg belongs entry bb dummy exit bb dummy actual graph next available basic block id
debugging code keeping now
check frame field reads or writes
bench fully boxed fib
mri extends in order from last to first
eq false
load object under value
typematcher
'b foo args only significant in maintaining backwards compatible ast structure
complete request by filling read buffer first
go through negated powers of until we find one small enough
public interface
add to corresponding positive power of result meaningful \? no conformant \? yes just write code
if it 's array only add methods aref aset and length
attribute set
avoid double copying reads that larger than buffer size
identity equality
additional context surrounding tokens that both lexer and grammar use
line
mri behavior null byte after leads to string null byte in other places like leads to error
get control flow graph this scope only valid methods closures
least significant bits
check current directory if file exists retrieve url and return resource
drop through sign
rb enc precise mbclen
line
add all names this annotation
most significant bits
no dec digits end of parseable data go to calc
set argv from main 's args
switch
trim extension to try other options
no more values to stick in rest arg
line
arity checkarity runtime argslength
these methods below used during compile time optimizations
done with closure compilation
line
line
notify thread to proceed
line
line
note since we processing asts loop bodies processed in depth first manner with outer loops encountered before inner loops and inner loops finished before outer ones so we can keep track of loops in loop stack which keeps track of loops as they encountered this lets us implement nextredobreakretry easily non closure cases
no arg grouping just use bulk assignment methods
should we run this pass on current scope before running it on nested scopes \?
first try to use drive letter from supplied dir value then try current work dir
line
whether this scope used as argument scope zsuper
constant vector
will have trailing fills trailing zeroes if
yydefred
line
state xffffffffl
invoke method
optargs and restargs require more work so isolate them and arraylist creation here
check if we 're stdio io and ensure we 're not badly mutilated
rounding neccessary
jruby aliasing eval and other special methods should display warning we warn because we treat certain method names as special purposes of optimization hopefully this will be enough to convince people not to alias them
state xffffffffl
start setup method
get self
looks like someone 's trying to raise java exception let them
used only by compilerinterpreter will set literal flag
this appears to be some windows only mode on java platform this no op
array given to rest should pass itself array with rest other args should extract array array with multiple values and no rest should extract args if there more than one argument
no timeout in critical section
ensure that separator valid otherwise give it default paragraph separator
msb assuring non zero initial array
readable only by thread building proxy so do n't need to be volatile used to handle recursive calls to getproxyclassmodule while proxy being constructed usually when constant defined by class of same type as that class
never visited should be fine
retry handling in rescue blocks
add in reverse order
ok it 's socket set values accordingly just using af inet since we ca n't tell from socketchannel
we can callsite cache const missing if we want
determine what sort of assigner should be used provided 'iter' block assigner provides just right logic assigning values to local parameters of block this method also has second optimization which to set 'noargblock' in case that block block which accepts no arguments primary reason this second optimization that in case of yield with rubyarray we will bypass some logic processing rubyarray into proper form only to then not do anythign with it secondary benefit that simple boolean seems to optimize by hotspot much faster than zero arg assigner
ruby grammar productions return plenty of nulls
change visibility so others can see it
can be overridden to be informed when objects removed
append what we read into our buffer and allow loop to continue
system err println bytelisttoinum str
package protected
something in here used to build up ruby stack trace
equivalent to mri case
not reached
mri behavior 'q' do not add trailing nils
mri behavior if digits result same as operator
system err println figureoutbasebase base
result eval arr array 'c' arr assertequals result result eval arr array 'd' arr assertequals result
only public methods
initialize all flow graph nodes
see if module in chain cannot match against itself so start at superclass
rb reg initialize str
adapter tc recv args block
rubymodule module context getrubyclass
presumably this require should fail
system err println getsign sign
if we could not find constant from cref then try getting from inheritence hierarchy
'b foo'
accumulate call arguments
system err println getsign
data currentfile callmethod context lineno line
xhh
any exceptions raised must continue to be raised skipping restoration
line
if there 's non null superclass we 're including into normal class hierarchy update subclass relationships to avoid stale parentchild relationships
rethrow exception rethrow it
generate constants initialization code
trailing garbage
zlib behavior negative win bits means no header and no checksum
produce nicer error since rubyists n't used to seeing this
if we have specific arity helper to construct array us use that
irubyobject irubyobject irubyobject irubyobject rubyclass irubyobject rubyclass rubyclass irubyobject rubyclass visibility irubyobject rubyclass visibility visibility
load block from version of method
our values holder name of variables kept in staticscope
no number
to turn module into interface collection we add class instance variable to hold list of interfaces and modify append features this module to call append features on each of those interfaces as well
states
how far ahead we when reading
system err println calculatelength str str
cache full abandon jit this method and bail out
line
we need to collect all methods though we 'll only install ones that named in this class
portion of line right after beginning marker
in case when number of occurences explicitly specified we have to read up remaining garbage after to satisfy requested pattern
we define actual list to get around bug in java integration
rb iterate value value str step value args step value iter
string has it 's own bytelist but it 's pointing to shared buffer byte
system err println stringtolong val
eq false pop extra result and replace with send part of and
constants seek
colon
first char must be digit or decimal point
if entry starts with slash skip it since classloader resources never start with
re register since fileno points at something new now
normal return method body return jump within beginrescueensure
signal uses sun misc classes this not allowed in security sensitive environments
mri behavior on windows it treats '' as root of current drive but only if single slash present if current work directory 'd homedirectory' then '' means 'd basically 'path' treated as relative path relative to current drive 'path' treated as absolute one
now read unbuffered directly from file
captures begin and end used when not groups defined source string
new argauxiliarynode getposition string getvalue
this method takes as input map of operands to their values and outputs if value map provides value any of instruction 's operands this method expected to replace original operands with simplified values it not required that it do so code correctness not compromised by failure to simplify
it not found at all
singleton methods
see if we already have this descriptor open if so then we can mostly share handler keep open file but possibly change mode
class method
not synchronizing these methods no harm if these values get set more than once also note that there 's no chance of getting partially initialized classmodule as happens before guaranteed by volatile writeread of constants table
foo
does this method define code \? default yes which basically leads to pessimistic but safe optimizations but library and internal methods this might be false
not closing from finalize
note this method produces meaningful results only rubyio objects everything else returns
we yield here to hopefully permit target thread to schedule mri immediately schedules it so this close but not exact
instance config script run
special classes like collections empty list inner classes that private but implement public interfaces their methods all public methods public interface let these public methods execute via setaccessible true
if we have more than one arg make sure array created to contain them not objectspaced
wire up function call args to use super fast native invokers
line
do n't initialize with class do n't put in object space and do n't taint
translate true \? false build should return variable true beq false build
fields used direct optimistic calculation number of significant digits updated as parsed zeroes that may go to significand or exponent offset of decimal pt from start no decimal significand updated as parsed exponent updated as parsed
add potentially overridden names to key todo see note above re optimizations
we reached end
declared type returns qualified name without inner classes
goto next bucket
mri behavior value given in seconds converted to float less than or equal to zero returns immediately returns nil
we reached end of list
rest arg must be splatted
todo varargs \?
this method exists us to break up multiple expression when nodes when into individual whennodes primary reason this to ensure lazy evaluation of arguments when foo bar gar to prevent side effects in old code this done using nested when statements which awful interpreter and compilation notes this has semantic equivalence but will not be lexically equivalent compiler needs to detect same bodies to simplify bytecode generated
note all fields final rehash creates new entries when necessary as documented in java util concurrent concurrenthashmap java that will statistically affect only small percentage of entries given rehash
remove leading whitespace includes lax get sign if any
single precision native single precision native
if refcount at or below zero we 're no longer valid
modelled after ruby implementation java not same as ruby
correct position read write buffering we could invalidate but expensive
else body
line
determine if parameter might be passed as bit int parameter this just applies to bufferpointer types
this constructor used by fdopen so we do n't increment descriptor ref count
inner class use to delimit
copy constructor
backwards compatibility but threadsafe now
build first node only and return true
unicode can be only bits long int enough
may return nil in many circumstances nan
skip anything not related to jruby
block argument assignment if there 's block arg
yylhs
check length every iteration since block can modify this string
string matches last paren
unlike weakhashmap our entry does not subclass weakreference but rather makes it final field theory that doing so should force happens before relationship wrt weakreference constructor guaranteeing that key will be visibile to other threads unless it 's been gc'ed see jls final fields and happens before order to confirm or refute my reasoning here
args should be at end
todo it 's not clear to me why in floatingdecimal slop calculation performed above positive exponents n't used negative exponents as well will find out
should alter global state
eval value and save it
start new populator
we need to ensure that variable names generated here cannot conflict with ruby variable names hence tthat appended to beginning
jrubymethod name new meta true visibility visibility private
ruby code frequently uses platform check to choose nul on windows but since that check does n't work well on jruby we help it out
do nothing allow loop to retry
args should be before block
if solution has changed add dsts to work list no duplicates please which why we have bbset
option to str
construct top level execution frame and scope main thread
helper methods
this instruction live or dead \? during optimization passes if this instruction causes no side effects and result of instruction not needed by anyone else we can remove this instruction altogether without affecting program correctness
check values obtained via different means
not true eval value and assign
case rescuenode return buildrescue node deferred case retrynode return buildretry node deferred done
rb enc reg error desc
explicit zero in mri returns immediately
rb reg initialize
we do have another slash omit both and jruby
hh hhh hhhh hhhhh hhhhhh
in case of two arguments mri will discard portion of first argument after decimal point floor however in case of single argument any portion after decimal point honored
first iterate over all required args
we recursing \?
assign values
all these types immediately considered defined
called before any write to make sure header always written before first bytes
newinstance here
no match append remainder of buffer and continue with next block
inner switch
utf lead byte
rb reg desc
raise will also wake thread from selection
cx
set up local ruby variable
negative values
encountered node we do n't recognize set everything to true to disable optz
if no release method defined then memory leaks will result
no seconds just yield
todo this where we would want to do precision checks to see if it 's non destructive to coerce given type into target integral primitive
irubyobject cacheentry threadcontext irubyobject irubyobject string irubyobject
line
must be called from synchronizedlocked block should only be called by variabletablestorevariabletablefaststore
uhhhh
we may need to subtract addition offset off of first
line
finally set javasupport isenabled to true
ca n't create custom classloaders
surrogates
if we fail to find as normal ruby script we try to find as extension checking builtin first
oo
line
set up local iruby variable
execute command with sh this does shell expansion of wildcards
if there 's no receiver evaluate and pass in superclass or pass self if it no superclass
build new module
line
in debug mode we append dbg to class name to force it to regenerate or use pre generated debug version
process any set of annotations no supported options
let width if any get processed in next loop so any leading gets treated correctly
ok got non zero have to own up to our horded zeroes
line
case ruby hybrid backtrace threadcontext createrubyhybridbacktrace getruntime backtraceframes javastacktrace getruntime getdebug istrue break
managementmonitoring
add to jitted methods set
adding post invoke cb result serves to both keep it alive until after function returns and allows us to clean up native trampoline early instead of letting them accumulate until gc run
assertsame script script
this test really means that this ruby defined subclass of java class
ignore leading zeroes
make class name look nice by splitting on and capitalize each segment then joining together without anything separating them and last put on service at end
line
fast lookup encoding entry org jruby rubyencoding
mbclen needmore
retryjump cacheentry threadcontext irubyobject irubyobject
other java proxy classes added under their superclass' java proxy
line
here hash internals this could be extracted to separate class but it 's not too large though
if next scope out has same binding scope as this scope it means we evaling within eval and in that case we should be sharing same binding scope
atomic integers symbol and method ids
irubyobject dynamicmethod rubyclass cacheentry threadcontext irubyobject irubyobject string
if we know what method being called strip everything before call this hides jruby and reflection internals
replacement new allocates and inits ruby object as before but also instantiates our proxified java object by calling jcreate
ca n't support rest with java
limit length of negatives if possible also faster
else catch oversize below
avoid double copying reads that larger than buffer size or destination direct buffer
string construction routines by not byte buffer and not making target string shared
mri also does pointer comparison here
atomic long generating dynamicmethod serial numbers
line
by default call instructions cannot be deleted even if their results n't used by anyone unless we know more about what call what it does etc similarly evals stores returns
mri behavior always check whether file writable or not even if we to write bytes
assuming user wants collection of interfaces that can be included together make it so
this covers primitives and unlikely lower case class names
raw file url just open directly
end of parseable data go to calc
args
not expression only compile elements
build new class and add it to current scope could be script module class
define second version that does n't take block so we have unique code paths both cases
value of tz property of bit different format which confuses java 's timezone gettimezone id method and so we need to convert it
fill in all vars with nil so compiler happy about future accesses
check file size special files in proc have zero size and need to be handled by generic read path
multimethod new logic
select appropriate call site dup receiver load self
we only add live threads
promise to implement three
because we implement java interfaces now we need new that 's aware of those additional virtual supertypes
double max exponent since java
currently dead code but useful when we figure out how to actually perform translit private static boolean istranslit string encoding return encoding tolowercase indexof translit \? true false
af inet
have n't found class continue on as though it package
insert all nodes in sequence hash them in final instruction key
ruby arrays default to holding elements so we create arraylist of same size if we 're not told otherwise
cx
marsaling dumps usec not msec
promise to implement three to with block
low level constant interface fetchstorelist constants this module
base
since we do n't have any other error reporting mechanism we add error message as always failing test to test suite
note nemes gamma can return double positive infinity or double negative infinity when value integer less than we treat as special case to avoid domain error
this while loop restarting block call in case 'redo' fires
ooo
converters handle not only primitive types but also their boxed versions so we should check if we have converter before checking isprimitive
line
bindings scopes must always be manyvars scopes since evals can grow them
cruby uses sprintf buf float dig this pattern adjusts output of string pattern to mimic version
register any new blocking io requests
irubyobject protocol args
set value in rubyhash
temp locals must start after last real local
next immediate scope variable and constant scoping rules make use of this variable in different ways
sign
if we setting post arguments we can assume there no pre or others
carriage return
clear runtime so it does n't get stuck in memory jruby
add script run impl used running this script with specified threadcontext and self root method of script always in file method
handle everything after as arguments to jruby process
arg cannot be negative
ruby 's omg capture all source in hash feature add each line to buffer when encountering newline or eof first time
line
must be at least one digit strict
discarding token does not change stack
one word type name that starts lower case it may be primitive type
save sourceline error reporting to display line where error occurred
first non underscore char must be digit
if we 're already aborting we can receive no further mail
mask off once flag
\? boolean true if file block device
synchronize on rubythread threadgroup updates
enebo can these be fast \?
line
jrubyservice
make mantissa same sign so we only have one code path
internal usage complexrational
line
long hand
string construction routines by not byte buffer and making target string shared
rw buffer we reading or writing \?
rubydigest
case sclassnode return buildsclass node deferred done done done done done done done done case undefnode return buildundef node deferred done case valiasnode return buildvalias node deferred done done
first char must be digit
decrease value to hit upper range
entry first element of this bucket
keyword keyword keyword getkeyword tempval tempval length
compile first node as non expr and then second node
each simple method name implement complex methods calling simple version
caching constructors as they 're accessed each new instance
\? boolean true if file exists and has zero length
mri behavior
define annotation method
basic block id cfg that this basic block belongs to all basic blocks have starting label list of non label instructions
there supplied proc argument or do we assume block supplied
otherwise one key has been selected ours so we get channel and hand it off
lax str to allows underscores between ee and sign
file not given
provider not available
we set all java methods to optional since manymost have overloads
implement called to force this class to create stubs all methods in given interface so they 'll show up in list of methods and be invocable without passing through method missing
first iterate over all pre args
do n't override numeric div
block
instant at which we will ask dtz what difference between dst and standard time
finally handling abnormal exit
line
java doubles bit long
string after last match
dir used relative path loads from given file as in require foobar'
fall back to system jca providers
if there good library before we go back to that
gotcha long min value value value
block argument to method closure present class present method table mutations def defs undef alias likely call to eval makes calls that aware of frame makes calls that aware of frame 's self makes calls that aware of frame 's visibility makes calls that aware of frame 's block makes calls that aware of frame 's name makes calls that set or get backref makes calls that set or get lastline makes calls that aware of frame 's class optional arguments to method rest arg to method makes calls that aware of scope makes zero argument super call accesses or sets constants accesses or sets class variables makes normal super call contains retry
all uninitialized specific arities we defer to method which should raise appropriate error in all cases
line
case ir instructions dummy instructions all whenthen clauses have been converted into if then else blocks
look mangling markers bound framed methods in class name
build closure body and return result of closure
mri behavior we do n't print errno actual errno errors
numeric equal
copy and splat arguments out of scope to use zsuper call
leave it null and fall back on our normal invocation logic
set of utility methods java based proxy objects
reset loadtestvar
all errors to sysread should be systemcallerrors but on closed stream ruby returns ioerror java throws same exception all errors so we resort to this hack
we woken up without being selected poll thread events and go back to sleep
deal with case when other not string
stripped sign char
need to initialize
uber threadkill catcher since it should always just mean be dead
single quote fast path
this now needed since module java n't in by default
how many occurrences of 'type' we want
make sure all arguments modules before calling callbacks
\? boolean true if file exists and has group ownership equal to caller 's group
fall through
create list of interface names to proxy and make sure they really interfaces also build hashcode from all classes to use retrieving previously created impl
we depart here from strict adherence to mri code as mri uses sprintf in part to format numeric output while we 'll use java 's numeric formatting code and our own
write volatile
just push nil pragmas
receiver
indices temp values
char hexvalue scanhex
default allocator
bench fixnum boxed fib
load method used loading as top level script and prepares appropriate scoping around code
create constructorinstaller if there no constructors it will disable construction
line
irubyobject rubyclass cacheentry threadcontext irubyobject irubyobject string args
non signature signature with just irubyobject
enebo arg but we need to break apart support
first build assignments specific named arguments
instance variable ruby methods
public object invoke object receiver object arg object arg object arg object arg throw fail public object invoke object receiver object arg object arg object arg object arg object arg throw fail
counting of slashes that follows simply way to adhere to ruby 's unc or something compatibility when ruby 's expand path called with foobar it will return foobar jruby uses java io file and hence returns foobar in order to retain java io file in lower layers and provide full ruby compatibility number of extra slashes must be counted and prepended to result
will have trailing
if we have more than one argument then make sure array not objectspaced
octal constant
end of hash internals
sqrt
standard constructor that accepts ruby rubyclass
strip off dot rb rb files
fff ffff
block yield depends on null to represent empty and nil to represent nil nil vs assert argsnode null argsnode not null
we have optimized switch cases build lookupswitch
double max exponent since java
if we 've found last char of separator and we 've found at least as many characters as separator length and last characters of our buffer match separator we 're done
it does n't handle special cases
truncate buffer string to zero if provided
save blocking state
java method does n't care what class it but we need to know what to convert it to so we use object 's own class if that does n't help we use string to force call to object 's to method
note we change current frames visibility here because methods which call this method all fast they do not created their own frame
force static scope to claim restarg at so it only implements version of file
on platforms without library accessable through jna getpid will return hashcode as used to using to kill processes could take down many runtimes but by basing on getpid where available we have same semantics as mri
save ungot
promise to implement zero to
inside loop jump to body
ignore we wo n't use invokedynamic
we take first method found as our method since any non specific arity they 'll all error same if actual method created we use that
fill up rest with zeroes
we know variables cannot be null since localstaticscope will create length one
line
invoke static file
line
equivalent of data
at end
unsigned int native unsigned long native
bang true no match no substitution
we only need to pass in current scope if we evaluating as block which only done evals we need to pass this in so that we can appropriately scope down to captured scopes when we parsing
note mri has very non trivial way of calculating precision so we use very simple approximation here
we do this bc make tmpname might be overridden
mri ignores seek errors presumably unseekable files like serial ports jruby so we shall too
advance to first entry
remove us from old superclass 's child classes
self method name
java 's select does n't do anything about this so we leave it be
store argument count information into scope
no match it dot file not extension
ignore job cancelled fixme this ok \?
not using new scope use saved one flat closure
undefinedmethod should be immutable
do n't bother
return result
intlen
methods with required or higher should bind and be callable using reflection jruby
fall back on empty env when security disallows environment var access like in applet
out of byte range there will be no match sure
self
last expression should not be void
variable args no block load null block
set constants now that they 're initialized
load should work several times in row
convert into longs returning unsigned bit values as signed longs num long raises rangeerror on values long max value
construct new cache with thread 's classloader and no limit
get current context
do not load class if not used
public class hello public static string getmessage return
proc class
otherwise we try unbuffered read to get whatever 's available
we check length 'load' which does not use load path
could be pulled down to rubyclass in future rb class boot
we always open this rw since we can only open it or rw
jruby fail early when attempting to subclass final java class solved here by adding exception throwing inherited
otherwise fall back on system temp location
this point only reached if there exception handler installed
shift decimal point just to right of digit to be rounded to divide by abs scale 's digit 's digit etc
line
add us to new superclass 's child classes
force to quit just in case if it 's stuck note on some platforms even interrupt might not have effect if thread io blocked
handle flow exceptions just propagating them
mri behavior contrary to what seems to be logical when '' given mri calculates distance to end in order to go backwards
block given
constructor internal usage mainly array array array and array uniq it does n't initialize ifnone field
register new descriptor
this really needs to be inlined here
unfortunately number of digits in exponent not clearly defined in ruby documentation this platformversion dependent behavior on linuxmaccygwinnix two digits used on windows digits used it desirable jruby to have consistent behavior and two digits behavior selected this also in sync with java native sprintf behavior java util formatter or
libc flushes writes on any read from actual file so we flush here
only in ruby methods
rb check to integer
just save count of zeroes now if no digit ends up following them they 'll be applied to exponent rather than significand and our max length optimistic calc
methods and closures
line
requested precision
boot module and class classes
used tiny smidgen of grammar in lexer see setparsersupport
initial precision that of double numbers even number of number bits precision seems to digits
support io modes that this object opened with
no classcastexception
mri behavior with tz equal to gmt or utc time now not considered as proper gmtutc time env 'tz' gmt time now gmt \? false env 'tz' utc time now utc \? false hence we need to adjust that
suboptimal large hashes entries not very likely to happen
packagedprotected fields and methods below
declare field
note fix has only no arg form but truncate allows optional parameter
create class
normal exit perform finally and return
check arity
only supports simple parallel assignment of up to values to same number of assignees
this field used during argument processing to avoid putting rubyarray instances that purely utility purposes into objectspace
no hex value after 'x'
install direct java methods with mangled name so 'send' can call them directly
intlen prec
called only by initializing thread no synchronization required
get new label using generic prefix
invoke pre method stuff
always need at least
methods of object class rb obj
processes seem to have some peculiar locking sequences so we need to ensure nobody trying to closedestroy while we
profile
equivalent of data wrap struct
file given use it and force it into binding
from encoding special casing ascii to ascii
class allocate object not allocatable before it initialized
ensure object associated with wrapper we found it in so that if it comes back we do n't re wrap it
irubyobject cacheentry threadcontext irubyobject irubyobject string args
return sqrt squard with precision of rootmc
rubystring aka rb string value
initial use double root multiply by halfback to unshift set new scale
retrieve call site from sites array
ok float range inverted float range \? nan infinity infinity
if 'r' not constant it could actually be compound value look in our value map to see if we have simplified value receiver
arg
we can assign if we already have variable of that name here or we only scope in chain which local scopes always
boot object class
special case handling accmode since constantine will generate invalid value if it not defined by platform
coerce arguments
get new label using provided label prefix
initial size state stack value stack current input tokens to shift
set this class 's method names in var java ovrd methods if this new class otherwise get method names from there if this proxy superclass
no binding given use both
we create one extra dynamicscope on binding so that when we 'eval binding' 'b' will get put into this new dynamic scope original scope does not see new 'b' and successive evals with this binding will take it having ability to have succesive binding evals be able to share same scope makes sense from programmers perspective one crappy outcome of this design it requires dynamic and static scopes to be mutable this one case
expected
variables live at entry of this node variables live at exit of node temporary set of live variables size of in and out bit sets
ignore backslashed spaces in
must have been loaded from our known classloader hierarchy
invert sign since tz format and java format use opposite signs sigh also java api requires sign to be always present be it or
irubyobject dynamicmethod threadcontext irubyobject rubyclass string irubyobject
tainting here if we ever want it secure
thread pool to use executing this runtime 's ruby threads
append directory strip off text before ruby line and perhaps cd to directory
note that this object equality check intentional to ensure string and its interned version same object
rb match busy
assert internedsymbol internedsymbol intern internedsymbol not interned
allow proxy to be read without synchronization if proxy under construction only building thread can see it
does this instruction have side effects as result of its operation this information used in optimization phases to impact dead code elimination and other optimization passes
construct local variables based on parameter names passed in
if any exceptions raised we fail
if we 're running from within ide we may not have rb files in our classpath try to find them in filesystem instead
error string
extra args rest
line
label start of method label end of method
use array as it 's literal array
let be exact digits precision in earlier loop
bench straight up integer fib
bench integer fib
reset state
save package module as ivar in parent and add method to parent so we do n't have to come back here
obtain
line token constants
comparisons checks checks if operand non null and non false eqq call used only its conditional results as in casewhen beginrescue
fixme jruby
store call information so method missing impl can use it
use parent 's marshal
actual required greater than raise error we do n't support actual required
tries to load at compile time constant referred to by 'constref' this might be possible if constant defined and not forward reference to value that will be defined later in class
mri behavior week values monotonous so weeks that effectively belong to previous year will get value of not or as in java
build scope names string
arg grouping use slower arg walking logic
nodes do not have their own scope so we pass null to indicate this 'for 's implemented as blocks in evaluation but they have no scope so we just deal with this lack of scope throughout its lifespan we should probably change way this works to get rid of multiple null checks
always use gmt since that 's required by java api
explicitly use utf here history addtohistory using line asutf
remaining arguments script itself
assertequals foo bar eval each val val assertequals foo bar eval each val
line
if io exception occurs something odd but possible directory may return null
all done with lookup attempts release monitor
notify calling thread that we 're about to go to sleep first time
tags addr eos
line
use numbered access method
keep reference to temporary memory in cache so it does not get freed by gc until struct freed
obtain
classid name of classmodule sans where it located if it null then it anonymous class
here we create anonymous exception type used unrolling stack mri creates new one every call to timeout which can be costly we opt to use single exception type all cases to avoid this overhead
finally
start off with neutral parent
static private final string translit translit
double precision native
value of last token which had value associated with it
obtain
rename successful
not enough bytes
specialized value
must let original string know we 're modifying so shared buffers n't damaged
treat start and end as start end end start end end
return warnmultireturnnil ruby
line
specific arity
push if you look at original macro stack stack no change
todo rb enc symname
if adding module under constant name set that module 's basename to constant name
common variable methods
not that loaded loop around to resolve it next pass
line
there supplied proc argument or do we assume block supplied
if more than locals get locals array too
limit each iteration to max of bulk read size to avoid over size allocations
actualpath new file rubyfile expanduserpath runtime getcurrentcontext reportedpath
not so backwards compatible here but no one should have been calling this anyway
open up 'to java' and 'as' coercion methods on ruby objects via kernel
update superclass reference
load always uses irubyobject so simple closure offset calculation here
only this case affects backrefs
methods of nil class nil
declare those components as beans in bsf then it will be possible to access those components in ruby as global variables frame menubar
represents dynamic portion of scoping information variablevalues values of assigned local or block variables staticscope identifies which sort of scope this block or local properties of dynamic scopes static and dynamic scopes have same number of names to values size of variables and thus names determined during parsing so those structured do not need to change fixme when creating dynamic scopes we sometimes accidentally pass in extra parents this harmless other than wasting memory but we should not do that we can fix this in two ways fix all callers check parent that passed in and make if new instance local then its parent not local
bind eval
if then just pass along windows if then pass along mac
this pretty inefficient building array so just raise error if someone 's using it lot of elements
utility methods
try to load specified name only if that fails try to define class
if it 's singleton class and real class proc we 're doing closure conversion so just use proc 's hashcode
check thread events in case we 've been woken up to die
we do both writable and writable real through same method because in our java process effective and real userid will always be same
module methods
remove executor task now to avoid cancelled tasks accumulating until executor thread can schedule and remove them
promise to implement two to with block
but there 's superclass passed in use it
\? boolean true if file exists and writable by effective uidgid
fall through
do nothing fall back on default compiler below
call throwexception via jruby
assume ninit prec
add aliases in type nativetype and ffi type
we set scope aware to true to force heap based locals
normal file descriptor try to work with it
rubygems too specific on host cpu so until we have real need lets default to universal setconfig confighash arch system getproperty os arch java system getproperty java specification version
invalid ranges result in empty string
close process output see jruby hooking up to parent process stdin caused problems irb etc using stdin
this needed to unpack stuff
refresh call adapter since it matters if this iter based or not
add property name aliases
rehash table if threshold exceeded
ordering of array traversal not important just intuitive
we already confirmed above that length
if there exactly one callback argument to function then block can be given and automatically subsituted callback parameter
seems to be minimum at which stat seek faster than reallocation
ruby interpreter compatibilty usage ruby switches programfile arguments
define system getproperties in env java
this point only reached if there exception handler installed
jrubymethod name exact \?
terminate and advance buffer when we find our char
if there 's no second argument simply use working directory of runtime
wow only time we can use java protocol
internal variable methods
makes sure key not already in hashtable
check special shell characters at beginning and end of each command word and do n't run in process if we find them
there something valid in sun path component
try lookup again under lock
system err println figureoutbase base base
symbol class methods
nested class whose instances act as thunks reacting to to str method called from exception to str exception message mri equivalent rb cnameerrormesg class name message construction method to str implementation name err mesg to str todo this class should not be lookupable
no block from nil proc
setting loader needs to reset class cache
make sure main stream set to null
until we get little more solid on support we will only run interpreted mode
this method intended only defining new classes in ruby code so it uses allocator of specified superclass or default to object allocator it should not be used to define classes that require native allocator
yysindex
yygindex
backspace
load target invocations
void methods should work
verify it if it 's there
difficult case send to doublefloatingdecimal
init
asserttrue rubyobject kind of ruby getclasses getstringclass isfalse
from commandlineparser
adjust buffered data
gv sqrt
switch while
package private
getsimplifiedoperand returns value of this operand fully simplified getsimplifiedoperand returns operand in form that can be materialized into bytecode if it cannot be completely optimized away value used during optimizations and propagated through ir but it thrown away after that but operand form used constructing compound objects represented by operand example getvalue getsimplifiedoperand getvalue getsimplifiedoperand note that all objects and has reference to objects and and has reference to so if contents of or modified simplified value of and also change this difference captured by these two methods
int
ev sqrt
jruby associate future early so it shows up in thread list right away in case it does n't run immediately
increase precision next iteration supplies exact digits
datastruct place where custom information can be contained core implementations that does n't necessarily want to go to trouble of creating subclass of rubyobject openssl implementation uses this heavily to save holder objects containing java cryptography objects java integration uses this to store java object ref protected transient object datastruct
initial reciprocal
estimate square root with foremost bits of squard bi and scale tandem
mri issuses warning here on rbignum len sizeof bdigits yy
function not used but it gets rid of unused warnings in eclipse we do call those methods from ruby so they not really unused
collect iteration precisions beforehand
skip this one probably no 'ls' windows
just in case add bit of extra precision
general number and precision checking
run ten separate calls into ruby with delay and explicit gc
if killee thread same as killer thread just die
wait until thread has initialized
name of this source filename foo rb
do nothing
note mri 's sqrt precision limited by but we allow values more than
mri behavior raise argumenterror 'unknown command' before checking number of args
this should only be called by this and rubyfile it allows this object to be created without iohandler
calculation negatives when specified values integer min value mri uses equivalent of long neg long integer max value val smaller values biginteger math required to conform to mri 's result
line
sync flush
unread back
line
look in classpath next we do not use file as test since unc names will match note jar resources must never begin with '' previous code said always begin with
note that addmethod now does its own put so any change made to functionality here should be made there as well
ok
line
add forward reference from tgt currbb
beneath rewritten coercions that reflect mri logic aboves used only by rubybigdecimal
empirically it appears that to ary coersions always return array or nil so this should always be array by now
line
rethrow to outer flow catcher
todo make it now \? must be power of
this legal when removing undef
line
channeldescriptors opened by sysopen cached to avoid collection
yyrindex
ensure we have new interpreter each test previous we using same interpreter which caused problems as soon as one test failed
we do n't want package name beginning with dots so we remove them
make sure pipe stream set to null
getfoo foo getfoo int foo int
callbacks to fill in method body
returns nil if backtrace not array
if it 's inner class and it 's not public we ca n't access it skip population of declared elements
if this not closure break equivalent to jumping to loop end label
do not open as 'rw' by default since file with read only permissions will fail on 'rw'
bench long fib
in current logic if we get here we know that module not includedmodulewrapper so there 's no need to fish out delegate but just in case logic should change later let 's do it anyway
leave as normal array
switch on object 's native type this allows use defined classes that have extended core native types to piggyback on their marshalling logic
note we ca n't use file exists to check whether symlink exists or not because that method returns false existing but broken symlink so we try without existence check but in try catch block mri behavior symlink \? on broken symlink should return true
case signature sig object class object class object class object class object class break case signature sig object class object class object class object class object class object class break
create lightweight thunk
contains list of all blocks as procs that should be called when runtime environment exits
all positive powers of that can be represented exactly in doublefloat from sun misc floatingdecimal java
there might be more test classes in single file so we iterate over them
this needed when enclosing class or module singleton in that case we generated name such as null foo which broke marshalling among others correct thing to do in this situation to insert generate name of form if it 's singleton moduleclass which this code accomplishes
no digits error
this only case it might be null here in metaclass construction
do n't set permissions
error position
if we get here class and field exist construct our unsafe impl that calls it directly
generate real method signature method with tofrom coercions
wait go signal
if already inspecting there no need to registerunregister again
note intentionally returning actual array returned from java rather than wrapping it in rubyarray wave of future when java class will return actual class rather than javaclass wrapper
line
add alias to meta
snapshot of contents of directory current position in directory
if channel already closed we 're no longer valid
exclusive locks in java require channel to be writable otherwise exception thrown terminating jruby execution but flock behavior of mri that it allows exclusive locks even on non writable file so we convert exclusive lock to shared lock if channel not writable to better match mri behavior
zero args no block do nothing
we do n't support so but some stdlib require so directly replace it with jar to look extension type we do support
store previous exception restoration if we rescue something
label start of closure used to implement redo label end of closure used to implement retry
specific version requested use as search
then deliver mail to target
set self to class
confirm minimum args provided
public fields methods
predefine few other methods we invoke directly elsewhere
line token constants
force heap scope behavior since it uses parent 's scope
if we do n't have body check required or opt args if opt args they could have side effects if required args need to raise errors if too few args passed otherwise method does nothing make it nop
creates new entry
and we given specific exception
finally with no exception
compute meet over all sources and compute destination basic blocks that should then be processed sources targets depends on direction of data flow problem
accessor methods
declare locals java debugging purposes
silent \?
no check ''
not class
assert internedname internedname intern internedname not interned
no digits go calc will return lax
loop until context available to clean up softrefs that might have been collected
pop extra failed value from first cycle and we 're done
version information
could not get canonical path just use given path
line
system err println adding char char cx with number cx
io available only returns after eof encountered so we need to differentiate between empty string and eof
assumption here that 'in' stream provides proper available support if available always returns we 'll hang
if it 's less than do median of
store local vars in local variable preparing class using previous scope
constant api methods
class script defaultmethod runtime getobject getmethods get foo getjitcompilerscript getclass class script defaultmethod runtime getobject getmethods get foo getjitcompilerscript getclass
low level class variable interface fetchstorelist class variables this module
no read requested hook up read to parents output
prepare loadservice and load path
and subtract as neeeded
digits arr shifted update all
yygindex
sss fixme can this ever be null \?
mri behavior just plain '' or considered illegal on windows
num int also implemented
what we passed to constructor method 'path'
check visibility dup method
ruby instance methods
constant table methods pass to delegate
exec needs to behave differently in process because it 's technically supposed to replace calling process so if we 're supposed to run in process we allow it to use default streams and not use pumpers at all see jruby and jruby
this relies on ruby rounding enumerations java ones which they currently all
it 's either as converted as we can make it via above logic or it 's not one of types we convert so just pass it out as without wrapping
gotcha
now we provide default impls of number of signatures each arity we first generate non block version of method which just adds null block and re calls allowing compiled code which always can potentially take block to only generate block receiving signature and still avoid arg boxing we then provide default implementations of each block accepting method that in turn call irubyobject block version of call this then finally falls back on minimum implementation requirement dynamic method handles
we get canonical path to try and flatten path out dir 'subdir should return as '' cnutter do we want to flatten path out \?
base
used 'redo' command
by default no flush
line
push false
false zero
make sure any read after close fail
no passed in block lets check next outer frame one 'proc new'
line
this looks wrong but it 's way mri does it
future compatibility as constructors move toward not accepting metaclass \?
note indicies here match exactly signal values do not reorder
rb exc new
visit label to start scoping local vars in this method
mri behavior in finished mode we work as pass through
zstream actually n't allocatable
mri behavior enforced by tests
registerthreaddumpsignalhandler runtime
dump usec not msec
handle ruby exceptions raiseexception
io finish
biginteger required sign byte in incoming array
modified to match how hash calculated in
retry handling in rescue block
we only want io objects with valid streams better to error now
float number of seconds
if we define class in ruby but later want to allow it to be defined in java allocator needs to be updated
we can just use dt since it immutable
jdk we can use cal gettimeinmillis
set up with min values and then add to allow rolling over
pad with
mri accepts additional wday argument which appears to be ignored
if we might be moving this time from dst dst offset assumed to be same as it just before we last moved from dst dst
no bignorm here needed
ignores usec if args compatibility with parsedate or if not supplied
time class methods
if value will fit in fixnum return one of those
attempt to decriticalize all if we 're critical thread
depends on io filetest
\? \? \?
len margin
volatile to ensure that initial nil fill visible to other threads
elements and trailing nils
plain internal array assignment
dir tmpdir
value
rb ary new just allocates internal array
newobj and objsetup equivalent fastest one shared arrays optional objectspace
pid
array constructors taking metaclass to fulfil mri array subclass behaviour
create global constants and variables
satisfy java util list interface java integration
windows does not support these functions so we wo n't even try this also matches ruby behavior jruby
see ruby core
possibly should not in object space
seems to just do inspect to now
rb ary new
\? \? \? boolean
gmt etcgmt see mri behavior comment below
pre set sake of terminating recursive calls
extras flag
nothing
see
zlib no flush
utility method
object ready create top self
not to be confused with rubyobject 's flags
yylhs
include \?
method intentionally not public since it typically should not be used outside of core
flags bytes of modified time
rubyclasspathvariable
it wo n't hurt fixnums
mri does it
wo n't hurt fixnums
second argument allowed but ignored mri
recheck condition
initialize kernel and include into object
terminate trycompile will have printed out error and we 're done
initialize root of class hierarchy completely
construct key services
initialize dummy class used as marker
get main threadcontext gets constructed us
initialize all core classes
event name filename line numbers should be based
default do n't retain
we try to get classloader that loaded jruby falling back on system
bootstrap top of hierarchy
regular expressions with flag
determine spacing
this method finalizers registered via objectspace
jsr support see
use this jruby internal finalizers
mutex that controls modifications of user defined finalizers
record separator var to speed up io ops that use it
former java lang system concepts now internalized mvm
default objects
initial spaces spaces before at
ca n't read non standard properties
java support
compilation
parser stats
mutex that controls modifications of internal finalizers
global object lock class hierarchy mutations
line
compensate missing slash after drive letter on windows
kernel only module that does n't need implementor
iso jp
enc coderange asciionly
quoted printable
note this field and following static initializer must be located be in this order
shift jis
utf
euc jp
string does n't have it 's own bytelist values
string does n't share any resources
rb enc str asciionly
use impl
must not reallocate
rb enc str coderange
if len then shared empty
rb str subseq
rb str cmp
rb str buf append
encoding does n't have to be copied
copy pre match substr
todo keep cr todo rb str splice
string given
substring longer than string
illegal combination
hash given
this represents left most digit in set of incremented values \? therefore leftmost numeric must be and not not whereas chars should be zzz aaaa and non alnum byte values should be
create constants class
rb str substr
rb str splice
nothing
decode from from and encode to to
line
to encoding same special casing
retrieve last replacer
long size bits in byte
qtrue
we need this loop in order to be able to unblock join call without actually calling interrupt
file to be loaded by autoload has already been or being loaded
interned ok fast methods
no catch active this throw
no binding given use eval
catch active throw catch to handle
rb cstr to dbl case
we break if we know this sleep explicitly woken upinterrupted
zero sleeps forever
exec process create io with process
bomb out it 's not binding or proc
adjusts paths started with '' or on windows
\? boolean true if file has cf setgid bit
string to eval
binding given use binding 's file
mri behavior now check arg count
modified
mri behavior use first byte of string value if len
ignore if it 's not global var
\? time last change time file
\? time last access time file
\? boolean true if file character device
\? boolean true if file exists
\? boolean true if file exists and regular file
\? boolean true if file exists and has sticky bit set
\? boolean true if file exists and owned by caller 's effective uid
\? time last modification time file
\? boolean true if file readable by effective uidgid of caller
without full tracing many events will not fire
\? boolean true if file exists and fifo
if target thread sleeping or stopped wake it
wrapped to search next valid char
we limit to int because bytebuffer can only allocate int sizes
ne nonzero true
no need to assign encoding same bytelist shared
\? boolean true if file exists and executable by real uidgid
\? boolean true if file exists and executable by effective uidgid
\? boolean true if modification times of file and file equal
deprecated string construction routines
\? boolean true if modification time of file after that of file
\? boolean true if modification time of file prior to that of file
error info per thread
new interrupt to hopefully wake it out of any blocking io
init errorinfo to nil
if this thread sleeping or stopped wake it
jruby associate thread early so it shows up in thread list right away in case it does n't run immediately
thread start which does not call subclass 's initialize
line
file class methods
count number of extra slashes in beginning of string
strip off prefix so they become file rdonly and so on
not valid dead state
ca n't select just have to do blocking call
null channel always succeeds all locking operations
make sure any existing lock released before we try and close file
file constants module included in io
we use file versus io to match file in mri
try both
should we do anything \?
line
we 're not actually real file so we ca n't flock
round to that digit
method invokeinterface irubyobject class getinstancevariable sig irubyobject class params string class
return false here
strip away from relative pathed name
mri compatible basename handling windows drive letter paths
trim trailing slashes
handle user paths
dot not at beginning and not at end of filename
find out which string to check
fnfexception can be thrown in both cases when file not found or when permission denied
java and mri definitions of divmod different
include additional path separator so that dirname of file txt not
handle user paths
no directory delimeter rest of string username
generation count clears
returned unchanged
rubycontinuation
special constructor that accepts stream not channel
as path to expand
we do n't have another slash after this so replace with
user as path to expand
if there slashes then we want
no canonical path yet or length zero and we have followed by dot
do nothing we should not delete drive letter
rb check modifiable
rb readable
rename via java api call n't successful let 's try some tricks similar to mri
can we produce ioerror which bypasses close \?
fast path since jna stat about slower than this
mri ignores trailing junk
try to rename one more time
we need to recompute hash in case key object modified
delete implementation
get implementation
put implementation
instance methods
other hash does not contain key
update hash value
single as whole path to expand
nio based
first try as directory
next as regular file
do nothing fd cloexec has no meaning in jvm since we cannot really exec and why hell does webrick pass this in as first argument
dup new fd into self to preserve fileno and references to it
todo read check from mri
not exposed by filetest but so similiar in nature that it stored here
confirm we 're not reopening self 's channel
default options
re register descriptor
redundant done above as well
use original modes
io class methods
potentially previously close io being 'reopened'
this range check near as can tell
rb class boot
mri behavior swallow standarderorrs
isretainedtrue
if not sync we switch to write buffered mode
throw bad file descriptor we can not read on supplied descriptor
claims conversion done via 'to s' in docs
return len
everything written
of course this n't particularly useful
todo read into buffer using all fread logic int read openfile getmainstream fread buffer
cleanup raising errors if any
bytelist buffer null
length to read
do nothing fd cloexec has no meaning in jvm since we cannot really exec
believe ruby bails out with bug if closing fails
select until read ready
no receiver singleton class
stringbuffer to read it into
cryptic uninitiated
rb writable
buffer str getbytelist
read check from mri io
we 're cloning ourselves so we know result should be rubyobject
class methods io
make all sockets blocking as configured again close unregisters all channels so we can safely reset blocking modes
not using remove object here to avoid equals call
call chmod after we created randomaccesfile because otherwise file could be read only
fixme process options
write
nio based pipe
enebo annotation processing forced me to do pangea method here
line
objectclass defineannotatedmethods basicobjectmethods class
may need to handle enc coderange broken
zeroed by jvm
class of this object
todo rb usascii str new
jruby callers should not call settaint on immediate objects
we can safely reference methods here instead of doing getmethods since if we adding we not using includedmodulewrapper
include its parent and in turn that module 's parents
note includes part of fix jruby
define access methods
static constants
binding purposes on newly created struct types
interface impls
these call assume threadcontext receiver getruntime getcurrentcontext
obj infect
superclass may be null
param nv number of times to cycle or to cycle indefinitely
we need full traces use default slow populator
atomic \?
skip any commandline args if usrbinenv in play
containing class parent of object null object should always be last in chain
mri checks all types first
make sure module we include does not already exist
classproviders return java classmodule in defineorgetclassunder and defineorgetmoduleunder when classmodule opened using colon syntax
line
constant ruby methods
execute iteratemethod again
normal block passed to define method changes to do arity checking make it lambda
we grab serial number first worst that will happen we cache later update with earlier serial number which would just flush anyway
modulesingleton methods all defined public
just using required broken but no more broken than before zsuper refactoring
update all hierarchies into which this module has been included
this method intended only defining new modules in ruby code
need to skip includedmodulewrappers
reopen java module
fixme warning
reopen java class
zsupers in define method blech we tell proc scope to act as argument scope
fixme warning
class and module bodies default to public so make block 's visibility public jruby
ignore error
if insertion point class update subclass lists
eh \?
build list of all modules to consider inclusion
scan class hierarchy module
mri error message says class even though module ok
module class methods
next in hierarchy included version of module we 're attempting so we skip including it
if we have n't encountered real superclass use found module as new inclusion point
line
tmpposition required because getposition 's side effects if warning generated getposition on line this line will create wrong position if inclusive flag not set
java and mri definitions of remainder same
class variable api methods
ca n't set tc classloader
returns stored value without processing undefs autoloads
line
mri has extra pointer which makes our code look little bit more strange in comparison
tempory buffer to build up potential token consumer takes responsibility to reset this before use
jruby java bigdecimal does not allow negative scale so we have to simulate it
line
removes and returns stored value without processing undefs autoloads
fix jruby search hierarchy constant
what in \? case v' 'v' break
symbol
line
consider thread aspects of this
line
interrupt or timeout may have caused us to miss notify that we consumed so do another notify in case someone else available to pick it up
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
we got valid errno value
one optional and no required args
line
print out as nice ruby backtrace
line
line
line
try to get errno value out of class
line
line
line
line
actions end
internal module variable api methods
no script to run return success below
java and mri definitions of modulo different
line
line
todo why this setresult
jrubyclient
skip usrbinenv if it 's first
force args
line
skip any assignments if usrbinenv in play
line
line
ignore no debugger present
line
fixme temporarily disabling because this fires way too much running rails tests jruby
line
line
line
line
line
line
line
line
line
line
increase value to hit lower range
line
mantissa exponent where mantissa in range of
line
line
line
uncomment puts lines if you want to see more detail
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
if it file channel then we can pre allocate output buffer to total size of buffered remaining bytes in file
line
line
line
line
line
iteration variables square root and reciprocal initial sqrt initial
line
line
line
line
line
line
line
line
line
line
cannot discern total read length allocate at least enough buffered data
line
line
line
line
allow it to bubble up
tc under method self under method name args
integer division
line
line
line
line
line
peel onion make subpatterns out of outer layer of glob and recall with each subpattern example foo bar fooa bar foobbar
end suffix iteration
check builtin first
line
this method handles '' patterns and delegates to fnmatch helper main work
line
double precision native double precision native
line
calculate based on and
bit number native as bignum
next indicates to decode using native encoding format
line
empirically derived rule precision applies to significand length irrespective of exponent
snip off ruby or jruby command from list of arguments leave alone if command name of script
this test may be too lax but it same as in mri
line
line
line
official rule clarified if exponent after adjusting exponent form after adjusting exponent form greater than precision use exponent form
line
line
line
mri behavior validate only unnumbered arguments
calculation simple and typical case adapted from sun misc floatingdecimal
value equality result eval key arr arr key 'one' arr store 'two' puts arr key assertequals two result
line
already have some bytes buffered just return those
note that we can't say following because of on fly conversion of fixnum to long asserttrue value valueviavaluesiterator
reset buffer
there something built into jruby to do this \?
change thread context to include class
do median of if array over elements
line
line
line
line
odd
line
consume file name
we need to guarantee that any existing reads of old map can proceed so we cannot yet null out each bin
where shifts scale
root ready
loop of square root by coupled newton iteration
need half scale more
mri behavior and two different things
default classcache using jitmax as soft upper bound
we require home directory to be absolute
rubybigdecimal
mri allows underscores anywhere
this property boolean to allow three values so it can match mri 's nil false and true
line
line
try loading from classloader resources
try normal property first
try cwd first
line
specify something that ca n't separate
symbol string must be interned
must be power of
line
clone all remaining nodes
single node on list
jrubyserver
has readwrite been closed or it still open business
str frozen
this non standard method have we decided to start extending ruby \? classclass definefastmethod subclasses callbackfactory getfastoptmethod subclasses
undo check
static initializing method
line
fields to hold ruby and rubyclass references
update all subclasses
do nothing leave empty
rest in ivar count followed by namevalue pairs
write out ivar count followed by namevalue pairs
piece of mri rb to id
ensure we 're not running on gcj since it 's not supported and leads to weird errors
single method use normal logic
no unixsockets on windows
line
mbclen invalid
no annotated methods found skip
hiragana
line
rb enc reg raise
rb reg raise
rb reg expr str
jruby delay setting backref until matchdata completely initialized
write out static initializer frame names so it only fires once
read volatile
rubymodule singletonclass module getsingletonclass
fallback on non pregenerated logic
array created rescue args does n't need to be in objectspace
colon
line
while
wrong parameter \?
we ca n't rename file while it 's open in windows
this should never happen past parse but just bulletproof this just in case
never visited should be ok
assert thenbody null thenbody not null assert elsebody null elsebody not null
line
we do not want to capture cached methods
we could probably also detect if lhs value came out of cache and avoid some of this
one optional one required args
no takers bubble up
in order to make pragma 's noops we set location to special value
admittedly inefficient
jruby while case
index of variable this arg
do n't attempt to coerce to array just wrap and return
only marker interface
method does n't need scope or static scope frame only
proc new needs caller 's block to instantiate proc
check proc new especially magic method
pragmas
otherwise it 's literal array
long slow way causes disabling defined
unwrap newline nodes to get their actual type
splatted when ca n't do it yet
one arg but it 's array treat it as proper array
otherwise use normal args compiler
these all simple cases that do n't require heavier defined logic
rubyclass
context swapvalues context consumecurrentvalue
rubyclass rubyclass rubyclass rubyclass
no args do not pass args processor
invoke run with threadcontext and topself
class variable ruby methods
string string string string string rubyclass string rubyclass rubyclass string rubyclass
math depends on all numeric types
normal
optimizations if we know ahead of time it will always be true or false
eval new value call operator on old value and assign
normal items at front or back of masgn
normal items at head of masgn
compile first node as non expr and compile second node
put under object array already present
if arity just compile one element to save us array cost
it 's multiple statement body iterate over all elements in turn and chain if it get too long
single statement body just compile it
successfully got back jitted method
if we have n't already decided on do nothing call
time compilation
receiver first so we know which call site to use
method done declare all variables
value already on stack save it later
arg
if rest args excluding post args
get call site and thread context
invoke
pop extra attr value
no point in updating number if last number same value
check if it 's true ending if not
call site
adapter tc
receiver args result value
with args with block
no args with block
no args no block
with args no block
build descriptor string
generate call sites initialization code
generate regexps initialization code
generate block bodies initialization code
generate method cache initialization code
check condition
brute force construction inline
call istrue on result
clear body or next result after each successful loop
and remaining jump exceptions should restore
expected
push true
static scope
just confirm args length required
superclazz null
next iterate over all optional args until no more arguments
script object
unwrap scopes to appropriate depth
store local vars in local variable
chain to next segment of this giant method
class bodies prepare their own dynamic scope so let it do that
fix filenamecompletor to work mid line
normal closure
we only need full on redo exception handling if there 's logic that might produce it
jump back to top of main body of this closure
struct bodies should be public by default so set block visibility to public jruby
if we storing name as well index one too high values
map keep track of next available variable index particular prefix
lexicalnestinglevel lexicalparent null \? ir scopeimpl lexicalparent lexicalnestinglevel
insert nesting level to ensure variable names do n't conflict across nested scopes definition of in closure should n't override use of from parent scope return new variable prefix lexicalnestinglevel idx
inline script
line
line
line
line
line
struct methods
line
line
line
line
instance variable api methods
line
line
line
line
line
line
line
line
line
line
line
line
line
line
now emit bodies
this method called to build arguments block
line
line
line
line
line
line
line
ca n't use and stdin
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
lists to aggregate variables and bodies whens
line
line
line
line
mirko check
zero length array
reg
line
case instruction
line
line
line
line
line
line
line
get incoming case value
build first node only and return false
line
line
line
field separator
line
line
line
line
line
line
line
line
line
line
line
do we have dynamic container \?
line
add array construction methods
record loop we beginning to process
line
line
line
line
line
line
line
if true returns rest of array starting at index
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
load module first lhs of node then load constant from module
line
instance method
line
build ir body
line
multiple conditions when
done done done done
build else if it exists
jump to 'l' if this arg not null if null fall through and build default value
line
value of last expression in block
now rest
both fixed arity and variable arity methods
private interface
assign closure to block variable in parent scope and return it
line
while processing loops this returns loop that we processing
line
build args
create new closure context
get container this new module
by default container this class 's'
line
line
build module body
if closure next simply return from closure if regular loop next simply jump to end of iteration
set attr
call operator
get attr
we wo n't enter loop just build condition node
build first node as non expr and build second node
use irubyobject
if defined and true we done
build cfg this scope supported only by methods closures
closures redo jump to beginning of closure non closures redo jump to beginning of loop
what handles warnings
top level script
build dummy static method class scope in which all definitions and class code executes equivalent to java clinit
root method of class scope in which all definitions and class code executes equivalent to java clinit
line
dummy top level method class
define operations below
def instructions
create new temporary variable
eval instructions
value copy and type conversion operations
line
closure instructions
alu operations
loads
exception instructions
optimization guards
casewhen branch
stores
jump and branch operations
others
returns containing parent scope can be dynamic value hence operand
scripts
scripts and modules
line
run pass on passed in scope
by default return instructions cannot be deleted
default implementation methods below
run passed in compiler pass on this scope
indicate that we done processing loop
abstract methods without default implementation
check if we can optimize this call based on receiving method and receiver type use simplified receiver
optimize some core class method calls constant values
if cfg of method around print cfg
public fields and methods below
if we got simplified value mark call dead and insert copy in its place
readline
dataflow problem with which this node associated cfg node which this node contains info
if call has been optimized away in previous step it no longer hard boundary opts
protected fieldsmethods below
public abstract methods
line
in same
compute meet over all paths solution this dataflow problem on input cfg this implements standard worklist algorithm
in changed
public methods with default implementation
individual analyses should override this
line
line
line
we want unique ids dataflow variables
defined it no longer live before 'i'
private fields and methods below
protected fields and methods below
unique id assigned to this variable
line
switch to allocator based on default constructor
start out with default rubyobject allocator
traverse instructions in this basic block in reverse order
out union in succs
class or module
public interface
protected package fields methods
abstract please override methods
if 'v' not live at instruction site and it has no side effects mark it dead
do not mark this instruction 's operands live if instruction itself dead
line
line
private fields methods
used during optimization passes to propagate type and other information
line
line
line
yydefred
arg
line
line
list of all variables used by all operands of this instruction
line
array of all operands this instruction
line
line
by default no simplifications
line
can this call lead to ruby code getting modified \? if we do n't know what method we calling we assume it can pessimistic but safe if we do know target method we ask method itself whether it modifies ruby code
line
line
line
if divisor zero do n't simplify
load handle
nothing to do by default
netprotocolbufferedio
you can only value replace atomic values
map of label basic blocks with that label
neither
operand that this attribute targets deferred attributevalue val attribute value
get target class of this operand if we know it
arrays ranges etc compound values variables fixnums floats etc atomic values
simplification get target value even if compound
rubysocket
line
yysindex
line
map of label basic blocks which waiting bb with that label
object args
line
init before building basic blocks below
foo
currbb cannot be null
add forward ref edges
case case
jump instruction bbs dont add edge to succeeding bb by default
load arguments
root level logic
load receiver
noex private toplevel
root level classes
line
receiver
invoke specific arity version
args array
no candidates \? fail
object arg
no silly ticks
useful code completion inside irb
line
if task scheduled wait it to finish before polling exception it would have thrown
explicit reference to these vars as symbols
line
'`
constants webrick crashes without
something like cvar cbase from eval factored out benefit of all classvar related node evaluations
ignore
line
restore position
this ensured by callers
binding provided scope use it
line
no binding just eval in current frame caller 's frame
line
line
i'th argument
used by compiler to simplify arg processing
line
otherwise rethrow
line
jruby ignore escape key it causes irb to quit if we pass it out through readline
no editing before startpos
jruby if wrapping nativeexception use actual java exception 's trace as our java trace
mri does similar thing on macos with 'editline wrapper'
not overridden let 's go
if it 's exception we 're expecting
line
complete using proc object
clear basename so it 's anonymous when raising
line
toplevel defines
timeout module methods
these not really used by timeout but exposed compatibility
line
ensure room terminating zero byte
array and struct only used internally
line
line
when length given read string acts like get bytes
last token read via yylex
older jdk on linux map 'c' to 'libc so' which does n't work
this variant of newstruct called from structlayoutbuilder
value of socket ai passive
replace memory object with one that throws exception on any access
windows llp
add pointer null as constant
blah
more constants needed by specs
line
line
get convention from options hash
case float
assemble name offset array
create ordered list of field names from map
line
no auto cleanup needed
keep reference to avoid memory being freed
line
line
line
line
rubyunixserver
af inet
rubyipsocket
def self getaddrinfo host port family nil socktype nil protocol nil flags nil
when socket ai passive and host nil return 'any' address
line
line
set up potentially fast int operations
hook up memorypointer class if its not already there
sockaddr un has different structure on different platforms see jruby more details
line
this bit convoluted because socketchannel bind only in jdk and socket getchannel seems to return null in some cases
rubyudpsocket
host nil or empty string bind to inaddr any
host and port given
make sure descriptor registered
rubybasicsocket
by default we always reverse lookup unless do not reverse lookup set
recv returns nil on eof
continue with normal initialization
we do n't have to define any that we do n't support see socket
mandatory constants we have n't implemented
line
line
line
line
line
line
line
all threads in ruby thread group plus main thread
do nothing just exit
printstacktrace
first check if sender has unreceived mail
line
line
numeric host use it port
line
line
line
no connection immediately accepted let them try again
line
line
line
line
line
line
line
line
line
line
nativethread setpriority priority
restore context classloader in case we 're using thread pool
line
line
line
line
line
line
someone called exit so we need to kill main thread
call thread 's code
line
line
set thread context jruby classloader here ruby owned thread
line
future done or cancelled skip it
line
line
line
line
line
line
line
line
line
line
line
line
line
thread not alive skip it
shift to yyn
line
line
get runtime create jump error and throw it
we need to close out since some processes would just wait stream to be closed before they process its content and produce output cat
just confirm minimum args provided
probably primitive
be dead
two args no block load null block
clear redo
return jump handling
redo jump handling
return result if we 're still good
actual required less than so we use specific arity
throw redo error if we 're still good
no required specified check actual number of required args
call post method stuff exception raised
simple path no multimethod
zero one two three arities javamethod javamethod call irubyobject args will check
normal all rest method
dumpinginvocationmethodfactory
self name
tc
raise error if arity does not match requirements
variable args with block
two args with block
close it out
one arg no block load null block
zero args no block load null block
one arg with block
load block if it accepts block
three args with block
all other arg cases without block
all other arg cases with block
three args no block do nothing
two args no block do nothing
one arg no block do nothing
static invocation
void return type so we need to load nil returning below
load receiver as original type virtual invocation
normal finally and exit
virtual invocation
promise to implement one to
promise to implement three with block
method itself threadcontext invoked name
singleton classes do n't get their own visibility domain
this method called to build assignments multiple assignment instruction
line
never reached
simpleinvocationmethod
visibility we need real meta class and not anonymous one from class self
no args
string null
promise to implement with block
promise to implement zero to with block
promise to implement two to three with block
promise to implement zero to three with block
variable never read variable never live
promise to implement one to with block
build class body
method ifnonnull truelabel
promise to implement one to three with block
interfaces handled as modules
construct class implementing all supertypes
load arguments into irubyobject dispatch
normally we could leave these to fall back on superclass but since it dispatches through version below which may dispatch through block version we can save it couple hops by overriding these here
confirm maximum not greater than optional
wrap self and store wrapper
promise to implement two to three
list of modules classes and methods defined in this scope
promise to implement two to
create constructor
returns containing parent scope
promise to implement one to three
fields needed dispatch and such
all other arities use dispatch path
load up object and add few useful methods
load self class and name
end constructor
all methods dispatch to simple version by default which method missing normally
set ruby
set rubyclass
try specific name first falling back on simple name
proxy wrapper type hierarchy
promise to implement three to
handle redos by restarting block
promise to implement zero to three
map of constants defined in this scope not valid methods
scripts classes and modules
proxy complete return it
store wrapper
store it
now create method added that can replace dynamicmethod fields as they 're redefined
convert to irubyobject
create static init monitor object
if we expect return value unwrap it
end setup method
control flow graph this scope
end class
prepare temp locals
field null lock class and try to populate
finally block to release monitor
line
end of try block
tryfinally block to ensure unlock
method still not available call method missing
setup class
exception handling monitor release
re get re check method if not null now go to dispatch
return
up two slots long 's two halves
set full name
construct new interface impl and set it into object
setup constants public inner classes
line
signalfacade
line
include all interfaces
add all public constructors note getconstructors only returns public ones
add all instance and static methods
ruby name
too much array creation
note five match methods arity split to avoid cost of boxing arguments when there 's already cached match do not condense them into single method
only include static methods if specified
only public static fields that valid constants
add few type specific special methods
add all static variables
initialize cache of parameter types to method
long first because it 's what fixnum claims to be
if we hold java object we need java class accessor
double first because it 's what float claims to be
end of scoping closure 's vars
dummy bodies default impls
walk all superclasses aggregating interfaces
look through all mappings to find match entry this field
hit non java proxy class included modules can be cause of this skip
we could not find all of them print out first one we could print them all \?
next we define few private methods that we 'll use to manipulate java object contained within this ruby object
initialize this if it has n't been
initialize these if they have n't been
construct mirror class and parent classes
setup new etc unless this concretejavaproxy subclass
not allowed original non generated java classes note not allowing any previously created class right now this restriction might be loosened later generated classes
exact arg list file
list of interfaces we implement
we capture original new and make it private
construct new array proxy arrayjavaproxy
boxed arg list file
get map of all fields we want to define
we 've already done above priming logic just add another interface to list of intentions unless we 're past point of no return or already intend to implement given interface
jcreate instantiates proxy object which implements all interfaces and which wrapped and implemented by this object
implement all forces implementation of all interfaces we intend this class to implement
now we add implement and implement all methods to class
not allowed existing java interface modules
weakly reserved names
array creation should use this variant
jruby make file dynamically determined at load time but we provide reasonable default here
parent setconstant name proxyclass where name should come from \?
keep this variant kind of \? testing
already set up append features just add interface if we have n't already
array of interface type creationidentity
\? boolean true if file exists and symbolic link
this trycatch to allow failing over to commands logic when running from within jruby complete jar file which has jruby home jar file url that does not resolve correctly with jrubyfile create
including interface module so old style interface subclasses will respond correctly to kind of \? etc
add reference to interface module
figure end char special to indicate beginend and that no nesting \?
construct static scope list of names
same as argument types but matches name in java lang reflect constructormethod
proxy module interfaces
proxy class concrete classes also used concrete interfaces which why we have two fields
if there 's no constructor we must prevent construction
something \?
modified only by addmethod no synchronization required
now add all aliases static methods fields as appropriate
line
do nothing it 's non impl method
line
something \? contains thing \?
additionally add \? postfixed aliases to any boolean methods and properties
add main impl used detached or command line execution of this script with new runtime root method of script always in stub method
support encodings
many cases ok to convert to float if not one of these error
getfoobar foobar \? foo bar \?
break jump
now iterate over all installers and make sure they also have appropriate aliases
line
ignore bad constant named inner classes pending jruby
skip catch block
main body
double check cache now that we 're synchronized
ca n't be converted any more return it
java getproxyclass deals with sync issues so we wo n't duplicate logic here
old quasi deprecated interface class
datagram set accordingly again af inet
we all all superclasses but avoid adding superclass methods with same name signature as subclass methods see jruby
restrictive security policy no matter we only want public classes anyway
see note above re return type
very restrictive policy disallows member public we 'd never actually get this far in that case
irubyobject family args
one dimensional array
if it 's array of arrays recurse with component type
dimensional array
use specific arity as much as possible
if not property but boolean add \? postfixed aliases
must be back on first line on rewind
invoke file with threadcontext self args null and block null
object default to natural wrapper type
rubymodule rubymodule string
hmmmm
rubyobject already of required jruby class or subclass
thread context
we 've found java type to which we 've coerced ruby value wrap it
it 's not one of types we convert so just pass it out as without wrapping
create dir if necessary
create class with appropriate class name and source file
line number
line
specific index cases clean up non expression values
include interface modules into proxy class
java lang object added at root of java proxy classes
this also handles unsigned int negative signed int conversion
include any interfaces we extend
now attach java related extras to core classes
template interface modules
no variable initialization because we 're reusing parent 's scope flat
generate variable readers initialization code
should n't happen but if superclass specified it 's not ours
add all name to class mappings
add some base java classes everyone will need
we 'll only map conventional class names to modules
do void return
size
jruby proxy class might already exist
add java method unbound use
generate bytelists initialization code
upper case name so most likely class
generate symbols initialization code
interfacejavaproxy createinterfacejavaproxy context
this where we 'll get connected when classes opened using package module syntax
if that succeeds others should as well
seek cur need to adjust buffered data
retrieve scope from scopes array
default starting tempvariableindex ok
output record separator
make getter proxy class
store new local vars in local variable
loop until we see nth separator char
if we hit eof or reached limit then we 're done
re register
fill local vars with nil to avoid checking every access
in mode this will be rubyarray containing arguments in mode this will be irubyobject
catch logic flow control next break
not primitive or lc class
root level methods
if more than locals get and populate locals array too
create list of interfaces to proxy and make sure they really interfaces
line
hashcode combination of interfaces and ruby class we 're using to implement them
add name to call site list
generate fixnums initialization code
normal new class implementing interfaces
initialize some components
zero args case we can stop searching
line
java reflection does not allow retrieving constructors like methods
module on top of stack
verify class
store local vars in local variable if there any
no matching ctor found
utility methods
start class
initialize simple frame
this test really means that this ruby defined subclass of java class
no matching method found
prepare faster handle if handles enabled and method and class public
search through all declared methods to find closest match
must be public method
must be public class
now we create new bsfmanager
first we need to register jruby engine
expand variables indentation of final marker
our purposes accessibles also members and vice versa so we 'll include member methods here
printstacktrace
package scope
trigger class initialization class
populate values parameter names
execute ruby script add menubar to frame
execute ruby statements
evaluates ruby expression and display result
need names ordered key generation later
ruby level methods
we only collect methods and interfaces user defined proxy classes
finish class initializer
get any included interfaces
statically initialized below
lock in overridden methods new class and any as yet uninstantiated ancestor class
load static empty array
we generate all constructors and let some fail during invocation later
match data
construct super proxy method
replace string of newlines with single one
where we get new positions from
box arguments
this simple rethrow handler
current block already associated with proc no need to create new one
if not already proc then we should try and make it one
use same logic as in evaluationstate
opt and rest must be at least required
no opt no rest exact match
create static private method field
only rest must be at least required
opt but no rest must be at least required and no more than required opt
find power of two sizes best matching arguments
nul
must be power of must be power of
protected void finalize throws throwable system err println objectproxycache id finalized at new java util date
entry exists proxy has been gc'ed replace entry
wait io on any channel
system err println objectproxycache id started at new java util date
make getter handler
entryrefs include hash with key to facilitate lookup by segment expunge after ref removed from referencequeue
should not happen
put back lastline any elements past start of heredoc marker
indirect read write volatile
references to java object and its proxy will either both be weak or both be soft since proxy contains strong reference to object so it would n't make sense reference types to differ
must be called under lock
ctor used by removerehash
temp method to verify tablesize value must be called under lock
how many strings nested in current string term
hex constant
'list' and only populated if list not null
start of string
how many bytes into source we \?
it 's comment
number of newlines read from reader
\? boolean true if file and file identical
end of string
last full line read
create constants open flags
get rest of line linebuffer filled as side effect
argv
octal constant
just ignore
regexp engine 'java'
goto in original ruby lexer
white spaces
found end marker this heredoc
set
lexpop
push
marker delimiting heredoc boundary
stream based
rb yield values equivalent
remain where we
satisfy java util set interface java integration
give name to value enebo this should be used more
end of script
stream of data that yylex examines
count of nested parentheses only
we lexing ruby or syntax
when heredoc identifier specifies eof that indents before ident ok
v'
only
debugging help
short hand versus
return in class body raises error
no mb ismbchar term
last match
last read line string
methods 'foo and 'foo \? possible but if followed by '' it relop
line
eof enebo after default \?
line
just plain bang
in case last next newline
our readbackpushback buffer
documentation nodes
already loaded files
output field separator
last read line number
ignorecase
reading filename
string before last match
see if it reserved word
block expr
arg and receiver already present on stack
backslash
where we get our newest char 's
block primary
enum lex state
we do n't append since java number parser gets confused
hash
fixme peek 'u' utf stuff
hexadecimal
octal
decimal
binary
form feed
fixme old mac format strings \?
horizontal tab
where we started this marker match
space
vertical tab
hex constant
alarm bell
we use offset here to keep track of extra newlines windows
escape
line
do nothing return dummy version below
keep value of twoago around so we can restore after we unread
pop
character read before previous read
index of last character in pushback buffer
newline
bigdecimallibrary
todo fd cloexec mysterious and we not sure how constantine should include this we did it here now
netprotocolbufferediolibrary
line
that 's what jdk produces on windows vista
our shell scripts pass in non canonicalized paths but even if we did n't anyone who did would become unhappy because ruby apps expect no relative operators in pathname rubygems example
digestlibrary
this set only darwin
single node in list
all errors just info do not prevent unloading ikvm does not support jmx and throws error
all errors just info do not prevent loading ikvm does not support jmx and throws error
line
else default reduce yyn
line
reduce yyn
leave stack alone
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
not expression do n't want result pop it
line
should positions added extra ide friendly information and leave in all newline nodes
null \? nilimplicitnode nil
line
line
line
line
line
popen caller wants to be able to write provide subprocess out directly
try to mine out ruby frame using our list of interpreter entry point markers
line
null \? nilimplicitnode nil
jruby inherit threadgroup or use default
xxx
we parse evals more often in source so assume eval parse
we only close out if it 's slave stream to avoid closing directly mapped stream from parent process
line defaultrubyparser
line
setposfrom
strnode some text
finally post args
dstrnode some text some expression
line
sequential
xxx
this inline source aka source
yyparse lexer new jay yydebug yyanim jruby
line
local scopes argument scopes by default
\? boolean true if file has setuid bit set
what linenumber will source think it starts from \?
odd but it odd in ruby too
include pipes on multiple arg type
enebo has curr nodes localblock variables we do n't believe we follow proper logic
case classnode case colon node handleuselesswarn node return
parser states
end marker offset means none present
will parser parse duby grammar extensions
should we display extra debug information while parsing \?
assumption tail never list node
parser currently within method definition
instance variable
constant
reduces overhead in interp by not set position every single line we encounter
mri block append
node
case constnode handleuselesswarn node constant return
do not add empty string node
localvar
mri range op
fixme dstr evstr str warning string literal in condition
case selfnode handleuselesswarn node self return
tail must be evstrnode at this point
\? boolean true if file exists and directory
now logic each optional value
then optional args
boolean
line
line
otherwise no items left available use code default
line
line
arities
spurious wakeup loop
line
line
line
line
line
line
line
line
line
if there 's args left and we want them assign to rest arg
line
line
line
line
eval value assignment
line
line
line
line
assign remaining elements as array rest args or empty array
line
line
evaluate and save receiver and args
line
line
line
prepare labels opt logic
line
line
line
line
line
line
line
do nothing
line
do nothing arity check done before call
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
expression based tests bodies
normal case create new label
line
line
line
checkcast value if match fast path otherwise proceed to slow logic
line
line
todo assuming case fixnum
args
line
line
line
we have input case prepare branching logic
line
line
line
line
line
line
line
line
rb str hash cmp
line
line
line
line
line
line
line
line
line
line
line
line
line
line
line
build ir args
otherwise there 's receiver so we pass that in directly sclass logic
line
build each when
line
line
line
line
line
line
line
line
line
string fragment we optimistically take one off in
original exception on stack
parsersupport literal concat check token length
here starts logic class definition
finally with exception
class body
returns slot of variable
line ruby parser
unframed invokers have no ruby frames so pull from class name but use current frame as file and line
enebo arg surrounded by in defined setunset
list of active dynamic scopes each of these may have captured other dynamic scopes to implement closures
enebo removed compile eval which probably to reduce warnings
null
raiseexception on stack get rubyexception out
line
index of variable that represents rest arg
next cref down lexical structure
number of variables in this scope representing optional arguments
live reference to module
no bit math to store level since we know level zero this case
our name holder offsets assigned as variables added
number of variables in this scope representing required arguments
note only used by compiler until it can use getconstant again or use some other refactoring
require in all libraries specified on command line
private unsynchronizedstack framestack
source extensions
we override that logic which uses this
try and unload autoload specified from internedname
long name option
assert internedname internedname intern internedname not interned
private unsynchronizedstack parentstack
initialize builtin libraries
if we have multiple asgn with just args need special type that
new instance to invoke run against
line
this thread currently with in function trace \?
this thread currently doing defined \? defined should set things like
line
line
line
framed invokers will have ruby frames associated with them
if it 's not rescue or ensure there 's frame associated so decrement
toplevel self and few others want top level scope we create this one right away and then pass it into top level parse so it ends up being top level
file where current executing unit being evaluated
line where current executing unit being evaluated
catch management
look mangling markers compiled ruby in method name
if root of method rescue build as light rescue
frame management
assert level
line
look file method name compiled roots
look mangling markers bound unframed methods in class name
line
all entries following removed node can stay in list but all preceding ones need to be cloned
required and optional only
line
line
line
popen callers wants to be able to read provide subprocess in directly
frame matches one of our markers interpreted calls
line
args getmaxargumentscount
try to load from classpath without prefix ab rb will not load as ab rb in jar file
line
just push same empty scope since we wo n't use one
frame extraneous runtime information skip it unless debug
no argument blocks
new scope this invocation of block based on parent scope
assert false can this happen \?
binary typed calls
highest reserved id
this should only be called by subclasses this to handle unusedblock
not sure if this actually possible but better safe than sorry
line
with block literal iter
id must always be even
no block
with block pass
try count specific args to determine required
static scoping information this scope
fast and safe respond to \? call site logic
ensure zero devoted to no method name
no binding scope so we should create one
captured dynamic scopes
lastline
helper function to give good view of current dynamic scope with captured scopes
silently ignore
initialize static settings to determine which factory to use
updating position same line skip
used by compiler
line
backref etc
note in ruby all of this logic can go away since they will require explicit bindings evals
some helper functions
we only define one special dynamic scope per 'logical' binding so all bindings same scope should share same dynamic scope this allows multiple evals with different different bindings in same scope to see same stuff
line
line
prefill \?
nil pad since we provided less values than block parms
line
conversion
this proper behavior all non expanded assigners
line
this proper behavior all non expanded assigners which have pre rest override this
if undefined branch to method missing
caller
call ok punch it
fastinvocationcallback
retrieve method module name
invoke callmethodmissing
method object already present push various args tc self klazz name
if it 's method missing just invoke it
enebo perhaps slow but simple now
load arity check
calltype block
invocationcallbackfactory
if no exception raised jump to end to leave result on stack return
load arity error
irubyobject cacheentry threadcontext irubyobject irubyobject string
from dup setup
dumpinginvocationcallbackfactory
invocationcallback
only fill if there actually will remain trailing storage
arity ok continue
fast lookup org joni encoding encoding org jruby rubyencoding
irubyobject rubyclass cacheentry threadcontext irubyobject irubyobject string
load encoding
line
throw
irubyobject dynamicmethod rubyclass cacheentry threadcontext irubyobject irubyobject string irubyobject
irubyobject rubyclass cacheentry threadcontext irubyobject irubyobject string irubyobject
line
line
line
line
line
line
line
return meta object corresponding to class
make java class files in jar reachable from ruby
breakjump cacheentry threadcontext irubyobject irubyobject
if we 're running in compat mode add ruby libs to path before libs
threadcontext
breakjump threadcontext
add all startup load paths to list first
line
empty paths do not need to be added
signed short big endian
add rubylib paths
add libs
wrap in trycatch security exceptions in applet
if it 's compiled jruby script instantiate and run it
if source extension specified try all source extensions
line
create package name by splitting on and joining all but last elements with and downcasing them
if extension specified try more targetted searches
no library or extension found try to load directly as class
library has already been loaded in some form bail out
if there jar file with required name we add this to class path
quietly try to load class
this code exploits fact that all jar files will be found jarredscript feature this where basic extension mechanism gets fixed
line
it 's really expensive to check that class actually exists in jar so we do n't do that now
try all extensions
unknown extension fall back to search with extensions
extension extensions
try only literal search
if jar or file url return load service resource directly without further searching
unknown extension fall back to exact search
should invoke seek on realio
remove any relative prefix foobar becomes foobar
hmm
allow mainexitexception to propagate out exec and friends
otherwise load library we 've found
if given path absolute just try it as with extensions and no load path
if it 's basename use cwd logic
if name starts with we 're done classloader resources wo n't load with initial
check if it 's true ending if so
if entry empty string skip it
it 's absolute path use it as
write `i' instance var signet if class not direct subclass of object
handle security sensitive case
prepend if not already there since we 're loading based on cwd
line
line
otherwise try to load from classpath note jar resources always uses ''
line
make sure this not directory or unavailable in some way
signed short native
write 's'
end loop
flush afer whole dump complete
object has instance vars and n't class get snapshot to be marshalled and output ivar header here
directories and unavailable resources not able to open stream
line
object custom class that extended one of native types other than object
only accept open brace if there close
call proc but not symbols
unique
all marshalled objects descend from core classes which all rubyobject
any ivars since we do n't have attached ivar now
major minor
line
sic
xxx xffff on be \?
unsigned short native
line
int native long native
rubysignal
cld also
process 's example dir glob jruby jython readme
all braces pushed
look slash starting from 'start' position until 'end'
fields should really be immutable map as it never modified after construction
traverse instructions in this basic block in reverse order mark as dead all instructions whose results not used
sunsignalfacade
load self object as irubyobject recv param
line
modify block with new backreflastline grabbing scope
iot also
line
hashdef object hash with default
skip inner braces
failed try next recursion
helper methods
line
try to use posix this first
no or mismatched braces move along nothing to see here
retuns null when not found to avoid unnecessary getruntime getnil call
line
otherwise fall back on old way
we at ''
lefttoken made us start as nest
single precision little endian
not reached here
index of left most brace index of right most brace
this not expression that computes anything
ignore we 're on way out
constructor
pickaxe says must be followed by name character but mri does not require this
line
xtable decoding base
simplesampler
ruby class methods
pickaxe says must be followed by name character but mri does not require this
complete according to posix
get index of last read byte
long little endian
double precision big endian
obtain
double precision little endian
prepare to call def utility method to handle def logic
single precision native
single precision big endian
unsigned char
signed char
signed short little endian
bit number native as fixnum
possible checksum byte
unsigned int native
int native
see if we have converter job
\? last status
pid
otherwise unpack should be here
normal exit this should be faster than test at each iterations string with more than about char
break out if we 've dug as deep as we can
ignore and try windows version
encode limit
skip embedded comments in pack format string
\?
root fiber
we encountered when reading buffer above increment number of read bytes
determine how many of type needed default
if low bit set set high bit of result
'z' adds extra null pad versus 'a'
line
if index not multiple of we not on byte boundary shift byte
do some padding do n't understand padding strategy
if index not multiple of we not on byte boundary
we filled up current byte append it and create next one
we do n't deal with negatives
default pidgetter
populate commandline with ng provided stuff
ignore and use hashcode
just unix
direct invocation of command
single string command pass to sh to expand wildcards
just windows
todo this bug in code at moment if table test n't qualified then this test passes so we need to beef up qualified tablename handling
cast to int required as dimension setsize double double does n't appear to do anything in jdk
this wo n't work on derby where non varchar columns cannot be altered among other restrictions tablecolumninfo nullintvc getvarcharcolumn nullint true defval varchar comment string altercoltypesql dialect getcolumntypealtersql firstcol nullintvc runsql session altercoltypesql
following query produces result that should be editable but it currently n't
we know this fails bug
installcolorsandfont needs to be run twice background and foreground colors only work if run after super call but font only works if run before super call may be bug in jdk
todo remove this when frontbase bug gets fixed some reason frontbase renames unique indexes to generated value since we do n't know what that new name index skip dropping it now
fails on db linux however windows fixpak driver works without exception also linux server with driver works fine as well
bug ms sql inconsistent with regard to setting current catalog if you have database with periods or spaces then in some cases you must surround catalog with quotes example if you have catalog named 'db with spaces' you must execute following sql use db with spaces however same not always true jdbc api method connection setcatalog some old versions of microsoft drivers you must quote catalog as well but newer versions of driver you must not quote catalog so here we attempt to use unquoted version first then if that fails we will try quoting it
this here because addcompletionsatlistbegin wo n't work when schema info still loading
this works only on jdk with jdk fonts will be bold all swingset themes see also swingset demos in jdk and jdk
these do n't appear to work rowheadertablecol setresizable true rowheadertablecol setresizable true cornertablecol setresizable true cornertablecol setresizable true
if we connecting to database then this fine however when using mockobjects this problematic since there many unimplemented methods in mockobjects implementation that required by this
issue after importing data we could tell user that it has been successfully imported this would give good positive feedback however it would mean that they need to click on yet another button to dismiss that message on other hand since operation synchronous user cannot proceed to do anything until it done if we assume that import usually works correctly unless they shown error message then we do not need to display anything here
todo this wo n't work when column has values with quotes in them use preparedstatements instead
todo when earliest version supported include following line here scrollpane setwheelscrollingenabled true scroll wheel function important ease of use but setwheelscrollingenabled function not available in java
in case this called by awt thread log message this most likey bug
bug it very important to get uri from url and not simply do new file url getfile in case where path contains spaces they get encoded as in string returned from url getfile java io file does n't know how to deal with them replace them with spaces and resulting file rendered non existent
if we do n't always show scrollbars whole datatypepreferencespanel flickering like hell
bug always use false unless user specifies otherwise this breaks date editing in derby possibly db as well
some lafs do n't work under java or later
todo setup title correctly settitle gettitle session getsessionsheet gettitle
todo these should be handled with iterator
todo verify this correct
\? \? \? now use same renderer as everyone else \? \? \? \? in future change this to use new instance of renderer \? \? this data type
todo this should be handled with iterator
sqlfilteraction java created on march am adapted from sessionpropertiesaction java by colin bell todo change name to contentstabfilteraction
todo do we need this one
jason do we need these \?
\? \? \? now use same renderer as everyone else \? \? \? \? in future change this to use new instance of renederer \? \? this data type
bad converting url to file this way problematic when file path contains spaces
jason remove \? \? session getsessionsheet getsqlpanel executesql sql
todo this nasty quick hack needs api to do this
todo delete this class copyright colin bell colbell users sourceforge net this library free software you can redistribute it andor modify it under terms of gnu lesser general public license as published by free software foundation either version of license or at your option any later version this library distributed in hope that it will be useful but without any warranty without even implied warranty of merchantability or fitness particular purpose see gnu lesser general public license more details you should have received copy of gnu lesser general public license along with this library if not write to free software foundation inc temple place suite boston ma usa
not used
todo hard coded jdbcodbc bridge jdk brings back nvarchar columns in ms sql server tables
hear no evil see no evil
when tried using length longvarbinary that max length of source records get following exception exception condition data exception string data right truncation tried bit varying with data that had max length of so it 's back to maximum length hard coded now registercolumntype types longvarbinary bit varying
todo this right \? \? \?
todo this should not be public check all usages of it and put appropriate methods in api object
jason do we need these \?
jason do we need this \? getsqlpanel selected
todo rename to iobjecttreenodeexpander
todo hard coded jdbcodbc bridge jdk brings back nvarchar columns in ms sql server tables rowid in oracle
set property values note this may have already been done by another instance of this datatype created to handle different column
always add plugins there not good way to compare plugin zips and their extracted contents at moment todo determine best way to derive filesize and checksum of plugin zip that last extracted should we keep it around \? how about using current release xml file \? come to think of it perhaps we should n't be computing checksum of any existing files why do n't we just get it from current release xml file \?
todo verify this
multiple rows not good
\? \? extract this out into class like cascadeinternalframepositioner
\? \? there any way to check invalid input \? valid input includes \? \? at least any printable character but could it also include unprintable \? \? characters \?
cast not so nice but framework does n't meet new requirements
end kludge
total hack type other can be other types as well \?
jason should be part of status bar \?
\? \? getridofthis
do n't call super packing this frame causes problems
todo delete me
note some dbmss such as oracle do not allow select rowid from table you cannot have any column name in columns clause if you have in there aliasing table name seems to be best way to get around problem
we displaying new dataset so if there cell editor in operation tell it to cancel \? \? \? \? how does this impact popup display \?
kludge we want some info about columns to be available validating user input during cell editing operations ideally we would get that info inside resultsetdataset class during creation of columndefinition objects by using various functions in resultsetmetadata such as isnullable idx unfortunately in at least some dbmss postgres hsdb results of those calls not same and less accurate than sqlmetadata getcolumns call used in columnstab to get column info even more unfortunate fact that set of attributes reported on by two calls not same with resultsetmetadata listing things not provided by getcolumns most of data provided by resultsetmetadata calls correct however nullablenot nullable property not set correctly in at least two dbmss while it correct those dbmss in getcolumns info therefore we collect collumn nullability information from getcolumns and pass that info to resultset to override what it got from resultsetmetadata
utility class that reads and writes release info fromto release xml file todo spring inject when this class spring bean
todo this wo n't work when column has values with quotes in them use preparedstatements instead hmmm instead of insert statements could we not just create sequence and generate select statement that uses sequence pkid selects distinct values that would be more efficient approach that would also eliminate this quoting problem
following only works if swingutilities getroot table returns and instanceof basemdiparentframe if swingtuilities getroot table returns and instance of dialog or frame then other code must be used
need to somehow call sqlresultexecuterpanel rerunselectedresulttab true something like sqlresultexecuterpanel panel getpanel panel rerunselectedresulttab true however that does n't apply when user exporting from table contents table there needs to be more generic way to do this all tables containing data that to be exported where some of fields contain placeholders now we just inform user and let them either continue or abort and change configuration manually re run query reload table data and re export
\? \? split these functions off into subclass of basefavouriteaction
todo rename this to gettabletype
todo bizarre that could n't find valid sql to drop index
todo \? dialog handling on cancelled \?
this refactoring depends on following api methods getcreatetablesql
should probably create my own table model but am being bit slack
todo probably want to allow user to set these sequence properties \? \? sequence settings
we set expected and checksum to here since we do n't have that information release xml file todo can httpclient be used to get byte size of release xml so we can perform this check \?
here do n't completely understand how these types to be used in all databases and have n't yet had time to implement support in dialects them so this exclude list will keep these less commonly used types from failing test also since not all of these types appear in java and we currently support compiling code base with it use integer values new types that introduces in java rather than type constant name
todo delete this class unused
todo find out why kludge some reason am not able to get sheet to size correctly it always displays with size that causes sub panels to have their scrollbars showing add bit of increase in size of panel so scrollbars not displayed
copied from java doc matcher replaceall note that backslashes and dollar signs in replacement string may cause results to be different than if it being treated as literal replacement string dollar signs may be treated as references to captured subsequences as described above and backslashes used to escape literal characters in replacement string
todo clean this mess up load plugins load all plugin jars into class loader
todo subclass these hibernate dialects to provide canpasteto api method in hibernatedialect interface private static final db dialect db dialect new db dialect
this weird if do n't set this column header does n't line up with column contents
required otherwise it gets too wide
\? \? \? now use same renderer as everyone else \? \? \? \? in future change this to use new instance of renderer \? \? this data type
todo delete me
this refactoring depends on following dialect api methods getupdatesql
pointbase if type maps to pointbase blob and size n't valid pb requires size blobs then set it to something reasonably large like mb default size if no size specified that 's practically useless
should data be first cloned so that sorting does n't take place on array that used in getvalue todo this must if sorting done in thread \? \?
todo when earliest version supported add following line setsurrendersfocusonkeystroke true this should help handle some problems with navigation using tab return to move through cells
drop fk constraints before dropping any tables otherwise we may drop child table prior to dropping it 's fks which would be error todo this should be done in dialect 's gettabledropsql method database specific handling or ignoring of this problem
silently ignore what could we do anyway \?
this bit hard coded but if we use scale here some number displays go crazy
todo figure out why selection of root node in object tree undone if we do n't delay it seems like some other thread racing to set selected node to none when this happens detail pane root node disappears when session first opened or when objecttree frame created this really crappy and unreliable way to fix this problem but it hides problem now better understanding of architecture of session creation required before proper solution can be attempted rmm
todo temporary until we sort out better way to do guido 's fix assertequals second stmt sep qt getsqlstatementseparator
todo maybe we should have checkbox to allow user to toggle default value onoff some dbs like db treat empty string as different default value than null
check error stream problem this bit questionable since it possible processes to output something on stderr but continue processing but without this some problems not seen bad argument type messages from process
ok this hack currently when precision scale have no way to determine if this valid actual data problem comes when source db 's precisionscale greater or reported to be greater than precisionscale of destination db in this case it maximimizes both destination causing definition that allows digits to left of decimal trouble without looking at actual data there no way to tell if this valid in some cases it will be ok in others it will not be ok so now make scale be approx one half of precision to accomodate most digits to left and right of decimal and hopefully that covers majority of cases
\? \? \? \? \? if desired get fancy and use icons in buttons instead of text \? \? \? \? \? \? \? \? \?
todo when jdk earliest jdk supported by squirrel then remove hardcoding of boolean data type
todo this should be handled with iterator
work around some utc and daylight saving offsets
\? \? there any way to check invalid input \? valid input includes \? \? at least any printable character but could it also include unprintable \? \? characters \?
todo these should be handled with iterator
this logically not sufficent try to cope with problem that there following contradictory rules in jdbc api doc statement getresultset this method should be called only once per result statement getupdatecount this method should be called only once per result statement getmoreresults there no more results when following true getmoreresults getupdatecount if getmoreresults returns false we do n't know if we have more results we only know that it n't result set since we called getupdatecount before getmoreresults because we would like to know update count of first result we might not be allowed to call getupdatecount again intersystems cache driver example always returns same updatecount on simple insert update delete statements not matter if getmoreresults called so updatecount never gets and this will loop forever when discussed issue with intersystems people they just told me not to call getupdatecount twice that simple my hope that this will cure problems with dbs that just do n't care multiple result sets
call here result of desperate fight to find place where components in split had not height if someone knows better way please tell me 'll apreciate any advice gerdwagner users sourceforge net
todo spring inject when this class spring bean
todo what really want to do here get sql script and replace create procedure with alter procedure then put that in sql pane and not execute it
todo should be adding quotes if user wants identifiers quoted \? \?
following ugly conversion from text to byte necessary because byte class inconsistant when asked to output as hex it does so as unsigned byte but when asked to read back same thing using hex radix it insists that input must be signed to get around this we up size conversion to integer then truncate that to byte and finally convert byte to byte yech
this should just bring back one table hope
todo temporary until we sort out better way to do guido 's fix iquerytokenizer qt sessionundertest getquerytokenizer
hack to deal with firebird 's rdb meta tables
hack to deal with axion axion tables
handle mouse events double click creation of popup dialog this happens only in jtextfield not jtextarea so we can make this inner class within this method rather than separate inner class as done with keytexthandler class
do n't use tinyint now even though mckoi supports it it 's notion of tinyint bit not bit so it not compatible with other dbs and leads to overflow resulting in negative values which corruption of actual value insertedupdated this not great work around filed bug report on mailing list hopefully it will get fixed soon
todo need to define better approach to getting dialects that we do n't really want to ever prompt user in this case it 's always oracle yet we may have new oracledialect at some point
no appropriate datatype this column so do best we can with what we know this may not be best behavior here
evil hack to split vacuum output little
this icommand displays dialog box that allows user to enter 'where' clause or 'order by' clause used when getting data via 'contents' tab author maury hammel todo change name to contentstabfiltercommand
todo col add method to databasemetadata that returns array of objects getbestrowidentifier postgresql put this kludge in new function this way all kludges kept in one place kludge some dbs postgresql there actually pseudo column providing rowid but getbestrowidentifier function not implemented this kludge hardcodes knowledge that specific dbs use specific pseudo column additionally as of pg you must create table using with oid appended to create statement otherwise oid column not available by default
this work around what looks like bug to me it syntax error to qualify with schema new table name but not old as in alter table public tablerenametest rename to public tablewasrenamed second public apparently not currently valid thing to do
skip formatting stored procedures they can have comments embedded in them and i'm presently not sure how formatter handles this
\? \? need to tell object to display itself in panel
all of following have been converted to use datatype objects so why not just have case types null and default \? \? \? this seems pointless rmm
\? \? need to associate panel with object type somehow
implement idatasetupdateablemodel interface and idatasetupdateabletablemodel interface todo this code copied from contentstab it should probably be put into common location and shared by both this class and contentstab
todo how to let user customize this \? \?
cse moved this code down here to fix repaint problems on first display bounds should be set before install uninstall old popup from root pane and install new one even in case they same objects it 's necessary to cover workspace switches etc
todo rename to datasetviewerpropertydestination
discovered that loginame field can be null in that case how to know we have correct view \?
todo this should n't be public its only been done jcomplete plugin at some stage this method will be returned to package visibility
some dbs like mckoi make default scale apply same hack as above
todo move to ioutilities see net sourceforge squirrel sql client update updateutil createzipfile filewrapper filewrapper
todo work out why kludge some reason am not able to get sheet to size correctly it always displays with size that causes sub panels to have their scrollbars showing add bit of increase in size of panel so scrollbars not displayed
if sql executing produced warnings then write them out to session message handler todo this pain postgresql sends raise notice messages to connection not to statment so they will be mixed up with warnings from other statements
\? \? best guess read object \? \? \? this probably wrong thing to do here but \? \? do n't know what else to try
hack to deal with ingres iie meta tables
this bit hard coded but if we use scale here some number displays go crazy numberformat setmaximumfractiondigits scale
todo spatial and fulltext indexes require myisam engine table there way to tell what engine being used table \? it may not be necessary since following doens't hurt if already myisam engine alter table my table engine myisam still this not kind of thing we would want to do automatically since myisam engine non transactional we will probably need to tell user somehow that they need this otherwise create index statement will fail maybe comment in script and if they happen to read it they could uncomment conversion of engine \? maybe custom dialog \?
todo delete me copyright johan compagner jcompagner com nl this library free software you can redistribute it andor modify it under terms of gnu lesser general public license as published by free software foundation either version of license or at your option any later version this library distributed in hope that it will be useful but without any warranty without even implied warranty of merchantability or fitness particular purpose see gnu lesser general public license more details you should have received copy of gnu lesser general public license along with this library if not write to free software foundation inc temple place suite boston ma usa
jason make menu smarter when second window same session added create hierarchical menu all windows session
some reason when oracle plugin adds details tabs triggers tabpnl 's first tab ends up being trigger details tab and not generic database object info tab this causes tabs length to be tab greater than tabs that actually in tabpnl this throws off selection such that tab selected in tab panel does n't get rendered until tab to right of selected tab selected this work around this problem until can determine why databaseobjectinfotab never makes it into tabpnl in first place
following work around problem on mac os where apple laf delegates to swing popup factory but then tries to set alpha on underlying cocoa window which will always be null if you 're using jgoodies see comment this has no effect on linuxwindows
coldefs not in same order as db so search matching coldef entry note linear search here will normally be not too bad because most tables do not have huge numbers of columns
todo what about these viewport font colorchooser font internalframe font optionpane font panel font scrollpane font desktopicon font
do n't use real type axion sets column size to by default yet it can handle more precision so data being copied from real column can potentially be larger than what column claims to support this will be problem other databases that pay attention to column size todo perhaps re introduce real type but use new getprecisiondigits to max out precision
this info merely placeholder in tree that we can use to get index name and parent name more easily we probably should create indexcolumninfo that has this extra info in it
todo should constraint name simply be column name or something more like constraint name \?
some tables have pseudo column primary keys and others do not jdbc on some dbmss does not handle pseudo columns 'correctly' also gettables returns 'views' as well as tables so thing we looking at might not be table jdbc does not give simple way to determine what we looking at since type of object described in dbms specific encoding these reasons rather than testing all these conditions we just try using pseudo column info to get table data and if that fails we try to get table data without using pseudo column todo should we change mode from editable to non editable \?
todo maybe instead of throwing exception we could ask user if they would like us to adjust their preference them
hack some dbs like frontbase do n't support boolean types 've tried tinyint bit and boolean as column type and setboolean fails all three it 's mystery at this point what column getbooleansetboolean methods actually work on iin frontbase
work around this driver which must have dbo schema jconnect family of drivers appears to not be affected and can accept null schema which necessary to find tables in other schemas within same catalog similarly jtds does n't require this yet it does n't return non dbo schema tables unfortunately
dialect delegate progress database todo progress specification says that sum of all column lengths of table row may not exceed need to add interface method to hibernatedialect interface that takes array of lengths and and checks sum of columns row this maximum number may be different across databases so this check method needs to be implemented by each dialect author manningr
todo decide whether this should be bound property or not getpropertychangereporter firepropertychange isqldriver ipropertynames name name name
end kludge
hack to deal with sybase 's sys tables
todo move all code other than window creation up to aliaswindowmanager factory to handle creation of maintenance sheets sql alias objects author colin bell
todo why should n't we call registersqldriver here \? rmm
todo should have session listeners instead of these calls
todo just noticed that mysql supports multi bit bit column by using getobjectsetobject methods with byte so it would be valuable at some point to make this code bit more dbms specific
todo move all code other than window creation up to aliaswindowmanager factory to handle creation of maintenance sheets sql driver objects author colin bell
on win xp mnemonics normally hidden to make them visible you press alt key under windows pressing alt may not work this code workaround see bug report more information
todo once we 're happy that jfcutilities no longer required
work around bug which means we must use dbo schema
unfortunately we need to remove exising tree table component and create new one due to limitations with replacing models in existing sun implementation why on earth they couldnt formalise tree table example on jfc which we use bit more anyones guess
todo figure out why bind variables n't working
todo make properties file application properties so we can use class name to generate properties file name
hack hopefully fk name will always be last token
todo need to have generic hibernate dialect extend this to provide types
this could perhaps more elegantly be done by recursion
todo get rid of this class this combobox contains all columns in sql table author colin bell
todo make parameter implement sqlitem interface which has getstring method which can also be implemented by sqlstring or sqlfragment or some such we can then eliminate use of instanceof below and clean up code bit by making itemsinsql look like arraylist itemsinsql new arraylist
uses java classes that implement trigger interface to operate on database tables rows when action triggers them therefore there currently no way to access source trigger hopefully this will change at some point in future treeapi adddetailtab databaseobjecttype trigger new triggersourcetab source of trigger
arrays of strings special case in xmlbeanwriter method processproperty array of strings turned into list of stringwrapper objects in xml presumably so that when reading them back we have class that we can call setters on thus when reading back array of strings we actually read array of stringwrappers which gives type mis match in following arraycopy therefore we need to convert data that currently in stringwrapper objects into actual strings
todo move this to ioutilities extracts specified zip file to specified output directory param zipfile param outputdirectory throws ioexception
set password this alias param password new password throws validationexception todo what conditions \?
tell caller that underlying data not updated \? \? this always true or could data be updated with warning \?
empty string '' seems to be represented as null in some drivers not sure if this best thing to do here but it fixes issue where sql returns set default to '' when it already null
todo pass in message handler so user gets error msgs
facade methods imessagehandler we do n't want to allow code to directly access internal imessagehandler now that imessagehandler interface requires exceptionformatter to be injected methods that accept exceptions
jason mow that multiple object trees exist storing edit where by objectinfo within session wo n't work it needs to be objectinfo within something else private final map editwherecolssheets new hashmap
todo put in all property accessors
db delete worked correctly so now delete from table important user and creator both work through sortabletablemodel not actual model thus row indexes to delete given in sortabletablemodel row numbers so we must work through that model model to actually do delete
todo figure out more reliable way to handle other type which indicates database specific type
todo giving fk constraint name universally supported and done same way on every database \?
todo javadoc author colin bell
this class manages windows application todo correct these notes when session closes window manager will ensure that all of windows that sesion closed similarily when window closed windows manager will ensure that references to window removed session jason prior to this patch there some code movement from this class to sessionmanager idea being that sessionmanager controller do we still want to do this \? remember in future there will probably be sdi as well as mdi version of windows author colin bell author jason height
todo sort list
\? \? remember which column rowid if any so we can \? \? prevent editing on it
todo plugin supports only main session window
called when app shutdown todo put throws clause back in
todo
todo tooltips
todo fillfactor on primary etc
todo allow user to specify ignore case or preserve case
todo when message can have some text in red error and some normal then put out errors in red
todo tell user that selected destination schema same as source schema monitor showmessagedialog
todo on primary
todo maybe prompt user to ask to append records ignoring errors constraint violations \?
todo refresh
todo maybe someday we could inform user that imported key ca n't be created because list of tables they 've selected does n't include table that this foreign key depends upon now just log warning and skip it
todo
todo hookup with interbase spec and adjust these as necessary
todo figure out how to get then name of table that trigger on and tables name \?
todo should also make sure that each of columns made not null
not implemented
sorts specified destinfos array based on order of sourceinfos array not very efficient algorthim but it gets job done todo rewrite this using collections sorting capability param sourceinfos param destinfos param sourcetablename param desttablename return re ordered version of specified destinfos array throws mappingexception if arrays differ in length or column names
todo perhaps we can tell user when they click copy table if source session axion and they want primary keys that it 's not possible
todo use destination database type to derive format that acceptable
todo if use checks export entire table and does n't select all then selected indices not set and this check does n't properly detect missing data if export entire table selected we need to set selected indexes below correctly
todo create child index st
we just copied last table now it safe to copy constraints well that if all fk dependencies met in group of tables being copied todo new feature could be to examine table list fk 's in tables not in list then prompt user to add those missing tables to list
dialect delegate axion database todo this dialect not yet complete need to provide implementations wherever not yet implemented appears
todo allow user to specify sequence name dialects that do n't natively support auto increment columns without using sequencetrigger combo
todo finish
todo need to enhance index dialog to allow specifying storage option now just accept default index access method valuesmap put indextype using btree
todo put throws clause back in empty method
todo \? \? columndisplaydefinition should also have type string date double integer boolean
todo need to add storageoptions to add index dialog valuesmap put st storage option key
move any files that located in core downloads dir to downloads dir spring application context will not load properly some unknown reason when there jars in classpath so as work around we simply ensure that they where they should be anyway previously we not as careful about this so it possible that jars copied into core downloads directory
todo implement this better
todo need to implement or change message
todo need to allow user to specify this
dialect delegate timesten database todo this dialect not yet complete need to provide implementations wherever not yet implemented appears
dialect delegate sun microsystems hadb high availability database todo this dialect not yet complete need to provide implementations wherever not yet implemented appears author manningr
not yet ready dataimportglobalpreferencestab tab new dataimportglobalpreferencestab return new iglobalpreferencespanel tab
todo set total progress bar
todo use destination database type to derive format that acceptable
\? \? future may want to create tablepopupmenu to allow cutcopypaste operations
todo ask user if they want to undo changes that paste made alternatively show them specific problem and let them fix it then allow them to retry operation starting from point at which previous operation failed
need better test windows
flag whether we have already loaded properties or not
history file not found user first time user ran pgm
default point so define font relative to that
getting java sql driver to run shutdown command
to change body of implemented methods use file settings file templates
colorpropertiescontroller hintset session colors this alias
remove trailing
nothing to do
\? \?
version this optional if you do n't want to give out this info please enter na
expanders trigger and index expanders added inside table expander treeapi addexpander databaseobjecttype schema new schemaexpander
code bellow only embedded derby driver
register custom datatypecomponent factory derby clob type
handle null which shown as special string
lazily create event
datasetupdateabletablemodelimpl error retrievingdefaultvalueserror retrieving default column values
treeapi adddetailtab databaseobjecttype sequence new databaseobjectinfotab treeapi adddetailtab databaseobjecttype sequence new sequencedetailstab
no default in db if nullable use null
there error in conversion
about to delete last thing in field so replace with null
exportconfig filewillbecreated not found will be created
to make shortcut visible in popup
exportconfig fileexistsreplace nalready exists do you want to replace it \?
ibm db specific code to read procedure definitions
it handy to have cannonical path name to show user in error messages since getting that name might involve ioexception we need to put it inside try statement however since file does exist there no good reason getting ioexception at this point but if we get one there something seriously wrong and we want to abort therefore it make sense to get that name here and save it later use
load plugin preferences
currently as of milestone axion does n't support schemas like other databases so set schema to emtpy string if we detect axion session
dataobject returns string to put into popup which can later be converted to appropriate object type
have datatype object fill in appropriate kind of value into appropriate variable position in prepared stmt
bad export do not proceed with command exportdata method has already put up message to user saying export failed
datatypes may limit initial data read from db to minimize time needed initial load of table to edit contents of cell we require that entire contents of data element be present in cell before editing therefore we ask datatype if we need to re read data contents without limiting it and do that read if needed if there problem during read we cannot identify exactly one row in db matching current row in table then cell not editable reverse not true if we succeed in reading data there may still be other reasons why we cannot edit it so we need to check it being editable after read
oracle displaysessionstatisticsdisplay database session statistics
parse did not find xml or it mal formed
test make many paths
it 's error to have and in octal number
table does n't exist in source db
in case it already exists
gwg xml format check code
indexes in ascending order but we want to delete in descending order see previous comment so run through list backwards
exportconfig databasedriversdatabase drivers
favs namemustnotbeblankname cannot be blank
private string getfilename file dir string name return getfilename new file dir name
users
private final static ilogger log loggercontroller createlogger altertabledialog class
no end bracket params might follow
these files contain images etc we try to filter out these props
re registering driver necessary embedded derby
datasetupdateabletablemodelimpl error unknownerrorupdateunknown problem during update nno count of inserted rows returned ndatabase may be corrupted
typename
non javadoc see net sourceforge squirrel sql client plugin iplugin gethelpfilename
method tests
resultset rs con getmetadata gettables dbcopysrc null bigint type table new string table
this might be because table alias used maybe with as before it
empty method
ignore any sqlexceptions this would only if we could not get column info from sql database meta data
open file output stream
set ps to read from file we just created
see if there problem during parsing
increases component width by pixels
increases component width by pixels
allow user to set fetch size to indicate that this should not be called jdbc odbc bridge driver fails to execute sql once you have set fetch size to any value
impossible
not too many old files
first time through skip double spacing
mysql alterdlgalteralter
pastetableaction error destdbobjthe destination database does n't support copying tables into objects please select schema to paste into
if no columns defined return generic class to avoid anything throwing exception
sort indexes into ascending order because that only function easilly available from arrays class
read entire row since some drivers complain if columns read out of sequence
second time that catalogs asked return two
wrotefixedfilewrote file
ss now selectreorder columns
done before actually reading data from resultset if done after reading data from resultset oracle throws nullpointerexception when processing resultsetmetadata methods resultset returned databasemetadata getexportedkeys
as jcc driver code obfuscated we do not check full class name but resort to checking prefix and suffix instead in my version full class name com ibm db jcc sqlexception
prefix jcc sqlexception class name
class name jcc sqlexception class
setup applications look and feel
set return type
adding milliseconds from orgtime of file
cannot pass byte array to class forname
supports session main window only
here max line length original line size so it does n't get trimmed of white space
oracle nosqlno sql selected execution
settings gap sizes
qname qn new qname sessiondata
expected
empty body
firebird showtriggershow trigger source
filling columns
user has cancelled query execution
appending labels with optional components
adding titles
if user chooses neither fixed value nor auto increment then clear fixed value field if it has value
firebird showproceduresourceshow procedure source
removed duplicate line
no developers should write english props
jtextcomponent that being used editing
first time that schemas asked return just one
connection technology used could be odbc jdbc ado this optional if you do n't want to give out this info please enter na
sqlresultexecuterpanel outputstatusbuilding output
check to be sure we get only one schema
use session key you got from opensession call here
firebird seqdetailsdisplay sequence details
set target server and name space
nosourcedirplease choose source directory
execute sql command in sql tab and then display sql tab
save pointer needed to enable editing of data on demand
if doesnt exist prompt to create it
check to see if we hit end of file without processing current record
copy header data from column array to header string array
logger this class
since letter n't special letter this will be first letter of our current column
only check once per session
setting color
need to return clone and ca n't use clone because values length might be greater than columnscount
this will be text qualified column so we need to set startedwithqualifier to make it enter seperate branch to handle text qualified columns
jtable used displaying all db resultset info
test make long path
since user now using popup stop editing using in cell editor if any
rob removed replacement via regexp because it needed several regexp escapes in val
there problem with read it would be nice to report this to user but if we try we get in trouble in some cases where data continually re read after dialog goes away because cell being re painted cell not editable
these all more or less global loop variables to keep from needing to pass them all into various methods during parsing
first we have methods in cell and text table operations
delete row from table
convenience cast value object to its type
we have whole contents of clob
if suffix tmp then send it to array
xmlreformatter xmlwarning xml warning
following pointer needed to allow make editable button to tell application to set up editable display panel
not uri assume it string filename
mapdataset valuevalue
these objects do not depend on catalogs or schemas it enough if we load them once
explainplanexecuter createplantablemsgthe oracle plan table doesnt exist in current schema do you want to create it \?
have seen reference to outer class being null when this method called have seen it only with runtime jars and on linux could not reproduce in my ide
codecompletion usesyntaxplugincode completion will work better if you use syntax plugin get it from squirrelsql org it 's free
cut table image and draw on page
column not in model
result of checking jaybird driver with major version
delete old file
dataholder res conn runclassmethod library cmutilities getexecutionplan argv database ret object
mssql allobjectsall objects
data string so we need to convert to real object
firebird trigdetailsdetails
noi
private int lastsessionidx
make sure there instance
line should look like this line with embedded key in it
double headerwidth tableheader getwidth scale
might also be catalog or schema name
tab button
ignore user input
just in case table editable call creator to set up cell editors
some actions dont have accelerators
taskthreadpool errorduringtaskexecmsgerror ocured during task execution
field binary and not in format expected by datatype default to hex
creating filter that catches tst files
process listeners last to first notifying those that interested in this event
inserts not properly separated we give up
call underlying model to get whole data if possible
better safe than sorry
tables that have at least one child table and have least one parent table
add controls file handling but only if datatype can do file operations
we want to delete rows from end of table towards beginning of table if we delete from front to back that throws off indexes of rows after each delete and we would have to compensate that example if we want to delete rows and and do it in that order then after deleteing row row that used to be row now actually row so we would have to subtract from index to get row to delete on other hand if we delete row first then indexes of all rows prior to that one have not been affected so we can then delete row without any complications
private void appendprivelegetobuffer stringbuffer pbuffer string psprivilege
get default values from db table columns
translatorstranslators
make button looks same all laf 's
childs
in case connection wo n't be able to tell its auto commit state this best default we have
get values from not use list
check informix it has very special qualified names
shift image pressed buttons
list of rows may be empty in which case we just return
end of mouse listener
missingtarnslationmissing translations
making nice rollover effect we use same listener all buttons
add panel containing binary data editing options if needed
mysql alterdlgcloseclose
do conversion into object in safe manner
create new object to hold different value but use same internal clob pointer as original
convenience cast existing object
deactivate indexes during restore restore without creating shadows do not reserve space record versions restores one table at time do not restore database validity conditions replace database from backup file override old page size new page size restore
line comment as per rfc
unknown types treated as strings internally in squirrel
events
malformed uri
getroot does n't appear to return deepest window but first one if you have dialog owned by window you get dialog not window
uri not valid 'file uri
no existing clob to re use
tests
now check to be sure we get both catalogs
if original object not null then it contains clob object that we need to re use since that dbs reference to clob data area otherwise we set original clob to null and write method needs to know to set field to null
subclass of foo with same values as original
different only by type same name
create empty set not use list
failure tests
internal class handling key events during editing of both jtextfield and jtextarea
now functions popup related operations
expectations that specific to this test
private tablecolumnsdataset iut null
check reference equality to be sure that it n't exact same object
following can cause and exception if text not formatted correctly
handle special case of delete with contents
add buttons to button panel
this acceptable
common mock objects
test constants
target dbms could be mimer sql engine oracle this optional if you do n't want to give out this info please enter na
nothing to do
labels
expect getfile updated files that downloaded
expected fileoperationinfos files that will be installed
check to see if new data same as old data in which case we do not update underlying data this not optimization though it does speed things up we need to do this to avoid error when we check rows being changed in db if new value and old value same when we look to see if any rows already exist with new value it will find existing row and claim that update will make one row identical to changed row that there will be two identical rows in db which not true so we avoid problem by not updating db if data has not been changed this can happen if user changes cell contents then changes them back before exiting cell
artifactxmlbean
visible gui
row
save various information which needed to do update cancel
call function in app code that saves data in persistant storage database success or failure of that function as indicated by absance or presence of result errporwarning message determines result of this call since table supposed to be editable we should have idatasetupdateabletablemodel object set in our super class
user checks
create empty set use list
non delete when null clear field and add text
if there problem with converting then just fall through and continue as if there no default given in db otherwise use converted object
try to use db default value
mm mysql driver doesnt support null column name
user enters something when field null
parsingfinishparsing finished
get values from use list
now create array large enough to hold original and new
just send text to output file
get values from not use list and convert to sorted set
infoinfo
check that text valid representation
helper methods
field not nullable so create reasonable default value
developersdevelopers
setup dest mock file
handle null
cannot think of any reason doing anything at all here
downloads directory
check user deletes last thing in field
use factory to get appropriate editor
inject mocks
if data not binary then there no need conversion if data hex with ascii not shown as chars then no conversion needed
return expected format this data
case session bean grant and revoke return firebirdmanagergrantpreferencebean class getclassloader
setup source mock file
if we reach here we could not calculate place to add new table frame now it will automatically be added at
tell user that they wo n't be able to show explain plan
public int getpixelwidth int pixelbycm int toolkit getdefaulttoolkit getscreenresolution cm by inch return int format getwidth pixelbycm public int getpixelheight int pixelbycm int toolkit getdefaulttoolkit getscreenresolution cm by inch return int format getheight pixelbycm
cannot mock urls they final and so they cannot be subclassed
popupeditableiopanel reformatxmlreformat xml
convert number conversion issue into io issue consistancy
double zoom desktopcontroller getzoomer getzoom
filloval int zoomfp rad int zoomfp rad rad rad
clob cannot be used in where clause
old view preserved to eventually preserve folding points
no need conversion
database related functions
pktable name pkcolumn name fkcolumn name fk name
delete when null original value
convenience cast object to clobdescriptor
test that string valid by converting it into object of this data type
file io related functions
default to hex if unknown base passed in
setting starting position ugly just picked point
tell user that there problem
no problems so indicate successful update of underlying data in case we editing sql result that contains edited colum more than once we need to tell caller to update all columns otherwise generation of where clauses further editing will fail
regression harmony
sourcedirsource directory
downloadsplugin directory
nonativetoasciioutdircannot convert files without native ascii output dir
overriding superclass behavior
mysql disallows quoted column identifiers when adding primary key
cleanup resources used
if either of values null and other not then data has changed and we fall through to change process otherwise check object contents
downloadscore directory
adding rows
there many of these tables that postgresql throws sqlexceptions whenever table like operation attempted
if we reach this point value has been changed so fall through to next section
fail not yet implemented
no update done to underlying data
tableexportcsvdlg formatxlsexport ms excel xls file
show all tooltips ten seconds before hiding
tell underlying data model to make itself editable which includes telling gui to rebuild itself
mmsql sqlscriptssql scripts
postgresql at least returns false supportsstoredprocedures even though it does support them
columndetailsdialog columncommentlabel does not support column comments
non empty set of rows to delete make sure user wants to delete
end of combined export and execute operations
translationsgenerationcountgenerated templates to
this originaly done every time and count of instantiated objects amazing
we look forward
postgresplugin showproceduresourceshow procedure source
tableexportcsvcontroller replacefilethe export file already exisits would you like to replace it \?
menues that also shown in main window session menu might be in this popup if we do n't remove them session wo n't be garbage collected
look illegal chars
tableexportcsvcontroller nofileyou must provide export file name
if our separator regular expression special char then quote it before formatting
first attempt to add data to underlying table model
tableexportcsvcommand writefilesuccessexport to file complete
procedurecolumnstab titlecolumns
pick tableinfo to remove and replace
mysql disallows quoted constraint names
noworkdirspecifiedno working directory specified
return text from file since it does represent valid data value
editextras datedate
mock objects
if this n't instanceof org hibernate type collectiontype nosuchmethodexception will be thrown
hand file input stream to datatype object import also handle file io errors here so that datatype objects do not have to
command returned non standard value ask user before proceeding
iobjecttreeapi api session getobjecttreeapi plugin
tell creator to delete from db
setup expectations
editwherecolspanel usecolumnsuse columns
bookmarksaccessor bookmarkspluginneededrunning bookmarks only available with bookmarks plugin nget plugin from www squirrelsql org it 's free
and already handled
select viewtext from informix systables as informix sysviews as where tabname 'a view' and tabid tabid
we do n't yet have need to discriminate by version
tablepopupmenu exportexport csv ms excel
check possibly bad return from child
deletes last
procedurecolumnstab hintshow columns selected procedure
create imput stream so that datatype objects do n't have to
code completion has been done within code completion now just replace what all candidates have in common
see actionlistener actionperformed actionevent
mocksqlconnection
hibernateconfigcontroller noprovidermsgmissing sessionfactoryimplprovider nchanges cannot be applied
mockthreadpool
nofilesopenedno file found nsee message panel details
hibernateattribuitedataset identifieridentifier
we need this buffer because this method may be called asynchronously to event dispatch thread what could happen that currentaliasinfos ist changed
unfortunately we cannot simply call getcolumntypealtersql since serial type which same as java sql types integer so we would get back integer column not serial column so we piece it together ourselves alter table dbcopydest informix serialtest modify myid integer
make few calls
example this code completion should from kv inner join fetch positionen as posses where posses artnr 'sdfsdf'
ca n't work with isessionaction because if result window on top session in isessionaction null
should at least bind tablename to bind var in sql
db does n't support cascade set default or set null fk constraint update action
db does n't support set default fk constraint delete action
mockconnection
select seqschema seqname definer definertype owner ownertype seqid seqtype increment start maxvalue minvalue nextcachefirstvalue cycle cache order datatypeid sourcetypeid create time alter time precision origin remarks from syscat sequences where seqname \? and seqschema
private static final string perf key obj tab div loc squirrel hibernateplugin objtabdivlocasint
oraclepluginpreferencespanel sessiontimezonettset session timezone to view 'with local timezone' data types
mocksqldriver
cancel any current cell editing operations
light blue colors
jason messages height should be stored with this
openioneditoropen in editor
mappingroot userjdbc user hibernate
replace with types nclob when java minimum supported version
now check length of strings in splitpieces again
this should override default tokenizer
import data back from same file
replace with types nchar when java minimum supported version
simulate user switching statement separator session
db spec says max but driver throws exception
to change body of overridden methods use file settings file templates
wait command to complete
oracle rowsrows
some cols not to be used
problem with this data longvarbinary and there no mckoi sql functions to convert it to character string which executing sql produced by this method supposed to return return select data from sys info susrview where name viewname
workdirisnotadirectoryworking directory not directory
drop index on
we do n't stub return because we want to verify that object filter actually used
table of which we part needed creating popup dialog
if all cols in to use side delete from editwherecols
create all of gui objects now
determine position to place new internal frame ensure that right end of internal frame does n't exend past right end parent frame use fudge factor as dim width does n't appear to get final width of internal frame where pt dim width parentbounds width new internal frame still extends past right end of parent frame
registrations below made in support new types introduced in java
do not try to be fancy and insert data where user looking just stuff it into actual model and re paint table when 'table changed' event fired
imainframe comp addinternalframe rdif false rdif setlayer jlayeredpane popup layer
generalsessionpropertiespanel tablecontentstable contents
oracle buffergetsbuffer gets
user ok with overwriting file we do not need to do anything special to overwrite as opposed to appending since outputstring starts at beginning of file by default
mock objects
allbluesboldmetaltheme nameall blues bold
mysql and below mysql and above
export object to osx file execute program on it import it back
mockapplication
export data to file
parsesuccessadded new and replaced properties to
ensure that proper type of object selected in object tree
application error loadsqlhistoryunable to load sql history from persistant storage
cannot execute null command
can be done as follows in ms sqlserver insert into mytable id name select 'pizza' union select 'donuts' union select 'milk'
only oracle supports materialized views directly
since above did not throw exception we now have good new data object so change text area to reflect that new object
export object to osx file
we see that replacement already done before so we can count this as replaced
if user did anything other than default then save their options
add data to existing tables
errorstream multipleerrors errors detected
informixplugin showproceduresourceshow procedure source
application error savesqlhistoryunable to write sql queries to persistant storage
treetablenode interface
alter table test alter column nullvc varchar
load resources
expanders trigger and index expanders added inside table expander
some people put new line characters in their sql to have nice debug output remove these new line characters too
since we depend upon informix specific ifmxconnection class we need to keep reference to isession we associated with however this session could be closed at which time we want to give up our reference so that it can be garbage collected
qname qn new qname validatorresult
pleasewaitdialog queryexecutingquery executing
new converttostringbuffercommand session getsqlpanelapi plugin execute
we could tell user here that export canceled but do n't think its necessary and that avoids forcing user to do yet another annoying mouse click
execute command
new inquotescommand session getsqlpanelapi plugin execute
non null return tells caller there problem
by default null types we return only cached types
keys that can be embedded in templates replacement later
tried max length of varchar and ingres gives exception cannot assign value of type long varchar to varchar field so limit this field to now ingres product documentation indicated that acceptable 've tested and it seems to work fine
create view viewname as selectstatement with checkoptiontype checkoption
first time user has run pgm
axion does n't allow column alterations of nullable attribute fortunately it does n't require this to add primary key
next top level ket counterpart to bra
mock objects
schemapropertiescontroller tableheader tablestables
leftdata add row rightdata add row
whether nulls allowed or not
adding labels and separators
columns
rows
drop index indexname
needed to resize completion panle appropriately see initializationof curcompletionpanelsize
application splash showmainwindowshowing main window
create unique storageoption index indexname on tablename columnname separator
setters and getters each field
create view viewname as selectstatement withcheckoption
schema dependent data changed only in this class
no flaten we would turn statement parts to comment
without this completion panel 's size will be weird
hibernateattribuitedataset attrnameattribute name
null schemaloadinfos schemaname case when there no schemas specified schemaloadinfos length will then be
this what spec says create sequence schema name sequence name increment by value start with value maxvalue value nomaxvalue minvalue value nominvalue cylce nocylce
explainplanexecuter chooseplantabletitleavailable plan tables
folder to contain extra lafs supplied by user
special handling of operations while editing this data type
initial load of prefs
abort export
add default value alter table tablename alter columnname set default defaultvalue
sql statement to be validated against standard
setup preferences to make jgoodies laf look better uimanager put options use system fonts app key boolean true uimanager put options use narrow buttons key boolean true
add combo box command to execute
alter table tablename alter column columnname set nullable
laf staticfonteanbledenabled
initialize all laf controllers
directory containing standard laf jar files
load info about standard lafs that come with this plugin
prefs plugin getlafpreferences
set object tree color panel
popupeditableiopanel exportedtofiledata successfully exported to file
add each of panels created by datatype objects editing their own properties
explainplanexecuter chooseplantablemsgchoose plan table to store result in
cannot use sequence default value of column however we could always reference ssequence in trigger
in oracle no action implied when on delete clause omitted
laf jarsl jars
force laf to be set even if tonic current one this allows changes to take affect
folder to store user settings
this should be default tokenizer which uses as statement sep
alter table tablename alter column columnname set default nextval 'tablename columnname seq' alter sequence tablename columnname seq owned by tablename columnname
select last value max value min value cache value increment by cycled from sequencename
folder that stores themepacks this laf
test to ensure that we allow sessions that ending to be gc 'd
sql append dialectutils shapequalifiableidentifier newtablename qualifier prefs this
colorpropertiespanel synccomponentbackgroundcolorchklabeluse toolbar background color all components
mocksessionproperties
put all available look and feel objects into collections keyed by laf name and by class name
alter table oldtablename rename to newtablename
postgresql reports length as sometimes why \? \?
mockfontinfo
get each table 's info
column list
whereclausepanel whereclauselabelwhere clause
this datatype does not limit data read during initial load of table so there no need to re read complete data later
pw if user name anonymous this can be anything but it has to be supplied anyway
popupeditableiopanel cannotopenfilecannot open file nerror
first we have methods in cell and text table operations
mysql disallows quoted column identifiers when dropping column
mysql disallows quoted column identifiers
file exists normal and writable so see if user wants to overwrite contents of file
schemapropertiespanel printcachefilelocationprint cache file path to message panel
handle mouse events double click creation of popup dialog this happens only in jtextfield not jtextarea so we can make this inner class within this method rather than separate inner class as done with keytexthandler class
in oracle matchfull modifier not supported
remove all instances of offending char
following used in both cell and popup operations
return jtextarea usable in cellpopupdialog and fill in value
editwherecolspanel cannotremoveallcolsyou cannot remove all of fields from 'use columns' list
now functions popup related operations
user wants field to be true
dist
property panels squirrel
user wants field to be false
if we 've already seen parameter do n't create another instance as this will force user to enter same value twice add previous instance to itemsinsql though so that parameters value gets propagated to right spot in sql statement
let user enter or true and or false
user has not entered anything or has reset to defaults so make sure there no entry this column in saved info
mappingroot tostringmapping
create trigger sql column that to be auto incremented
sqlexecutertask task new sqlexecutertask session sql new defaultsqlexecuterhandler session jmh to run async session getapplication getthreadpool addtask task jmhtask run set \? to statement identifier
registercolumntype types clob varchar
see if file exists
rename view has that same syntax as that of tables
in postgresql we need to add sequence to support auto increment name tablename colname seq
create force view if not exists newviewname columnname as select create view viewname as selectstatement with checkoptiontype checkoption
select view definition from information schema views where table schema \? and table name \?
prepare to have lot of documentevent eventtype change
display result set
constructor above sets this from resources but we 'll override it with name of index
why null \? \?
ident annotation noi
expand all of rows in tree if root non null
create add sequence sql
we must iterate through this in descending order to avoid removing say item making item into item inadvertently removing item
throw new unsupportedoperationexception oracle does n't support using sequences column defaults
update table set
oracle wo n't allow in place conversion between clob and varchar
mssql generatedependendgenerate scripts all dependent objects
resulttab executedlabelexecuted
drop
postgresplugin showindexsourceshow index source
now check to be sure we get both schemas
sybase adaptive server enterprise
createtablescriptcommand error getprimarykeyunable to get primary key info table
serveral dbs automatically create index primary key fields and return this index in getindexinfo we remove this index from script because it would break script with index already exists error
oracle does n't allow unique bitmap indexes
view tab
tabs and newlines get put into text before this check so remove them this only applies to popup editing since these chars not passed to this level by in cell editor
when field not null delete means set to null so do it
final resources rsrc session getapplication getresources
new id seq name nextval
mssql scriptfulltextscript full text indexes
append nothing standard says this equivalent to no action and some dbs oracle do n't accept no action
convert file text into string special case some systems tack newline at end of text read assume that if last char newline that we want everything else in line
table scripting panel
this works because all idatabaseobjectinfo objects come from same source so their references equal
setrenderer new cellrenderer
field not nullable or input not delete we have already handled all legal input so just tell user this being ignored
chop off check on column
note there two rows note mssqlconstraint holds columns in table participating in key note foreignkeyconstraint holds columns in referenced table in same order
database related functions
file io related functions
resulttab elapsedtimelabelelapsed time seconds
since dialect does n't support altering sequences drop then re create
now tableandcolumns contains table name and tableandcolumns contains bracketed list of columns
if it 's primary just write it without filegroup prefix
drop sequence sequencename cascade
mainframe savesizesave size
alter table tablename add constraint constraintname unique column column
dialectutils columndropunsupported doesn''t support dropping column
owner object grantee grantor protecttype action column dbo billing bak public dbo grant delete dbo billing bak public dbo grant insert dbo billing bak public dbo grant select all new dbo billing bak public dbo grant update all new dbo billing bak usbilling dbo deny insert
add parameter names and types use session id you got from opensession call here
mainframe restoresizerestore saved size
name owner type created datetime billing dbo user table
drop sequence sequencename cascade
user must have supplied file name
create sequence sequencename startwith increment minimum maximum cache cycle
create sequence increment by start with maxvalue nomaxvalue minvalue nominvalue cycle nocycle cache nocache order noorder
file name verification operations same both export and execute so do that work here both if file name null or empty do not proceed
there reason that we do n't want to use databaseobjecttype session here session nodes that this expander creating should not be confused with squirrel session these session nodes oracle sessions that administrator has privileges to see so we must not use databaseobjecttype session or else these nodes get expanded with database defaultdatabasexpander
now check to see if original contents and we have actually added input char to end of it
subtracting milliseconds from orgtime of file
user wants us to create temp file
driverpropertiescontroller loadingdriverfailedloading jdbc driver failed ncan not load driver properties tab
show users in object tee
schemapropertiespanel schematableupdateapplyapply
tabs to add to catalog nodes
create file to open
sqlhistorycomboboxmodel has static member that prevents garbage collection therefore we need to remove model
convert each string into classname prop value and fill it into data
always add spaces at end consistancy
firebird gendetailsdetails
private sqldriverpropertycollection props new sqldriverpropertycollection
guaranteed to return non null array
cancelstatementthread cancelfailedfailed to cancel statement perhaps driverrddbms does not support cancelling statements see logs further details
private final static ilogger log loggercontroller createlogger copytablecommand class
we assume that classes and attributes wo n't be in same completion list classes will be completed fully qualified when user works with fully qualified class names
loaddriverproperties
data converted ok so update table
if file name default and cmd null or empty make sure this entry not being held in cellimportexportinfosaver
get real name use later
cancelstatementthread cancelsucceededthe database has been asked to cancel statment
if this panel called before any instances of class have been created we need to load properties from dtproperties
get values from controls and set them in static properties
used by editing operations to set textfield value without changing original text saved in class
field not nullable so create reasonable default value cannot create default value unknown data type
datatypeunknown readcontentsonloadread contents when table first loaded and display as string
add mouse listener displaying popup menu
replace null with just char
sessions
more space below
alter table tablename rename column oldcolumnname to newcolumnname
hibernateprefstab titlehibernate
mappedobjectpanel qualifiednamesshow qualified names
cellrenderer used this data type
database related functions
check that we did not just add char to
backup directories
end of constructor inner class
class that displays various formats available dates
use default settings conversion
driverpropertiescontroller gettingdriverpropetiesfailedloading properties from jdbc driver failed ncan not load driver properties tab
put description of field in following rows
datatypepreferencespanel propspanel hintset options specific data types
figure out which column user clicked on so we can pass in right column description
file does not already exist so try to create it
add begin
editwherecolspanel limitcolsincellhintlimit columns used in where clause when editing table
some drivers will give null
use standard sql type code to get right handler this data type
string catalog string schema string simplename string tabletype string remarks
this list of names of classes that support standard sql type codes and thus do not need to be registered provide getcontrolpanel method to allow manipulation of properties these classes should all be named net sourceforge squirrel sql fw datasetviewer cellcomponent datatypexxxx because they part of standard delivery of product and thus should be local to this directory
sql results page puts text into table cells rather than objects of appropriate type so we need to convert befor proceeding
oracle diskreadsperrowdisk reads per row
we have appropriate data type object
internal class handling key events during editing of both jtextfield and jtextarea
private map alltabs new hashmap
there no data type object so this data type unknown to squirrel and thus cannot be edited
app getdatacache addaliaseslistener new myaliaseslistener this
use cyan background to indicate that cell editable in popup
currently openedge only supports pub schema sequences
datatypepreferencespanel propspanel titledata type controls
listeners remove isqlexecutionlistener class lis
convert char into its numeric value
registercolumntype types boolean bit
if more columns left part page
private boolean showheadings
reset width to normal
user has entered some non default info so save it
add note to user about including file name in command
guaranteed to be non null
first convert internal data into string array
get name of file which must exist
if you add this method to one of standard datatypes in fwdatasetviewercellcomponent directory you must also add name of that datatype class to list in cellcomponentfactory method getcontrolpanels variable named initialclassnamelist if class being registered with factory using registerdatatype then you should not include class name in list it will be found automatically but if datatype part of case statement in factory method getdatatypeobject then it does need to be explicitly listed in getcontrolpanels method also
misc functions based on oracle dialect
instances
columnlistdialog dropprimarykeytitledrop primary key
we need to table column model to be able to add celleditors to individual columns
abort first
set focus to password control if default user name has been setup
fall through to normal processing of this key stroke
test attempting to call listfiles on non existent directory
add all panels to tabbed pane
if we limiting all columns then we need to re read because we do not know if we have all data or not
this method makes web service call if you want to you can create web service proxy from wsdl file times out of that 's what you really want to do
no default in db if nullable use null
editwhercolssheet outputoutput
getters and setters
restore contents to original value
both have actual data so compare strings note that if one has read all of data and other has read only part of data that we will say that they not equal
handle ascii chars irrespective of radix second byte will always be space when data displayed as single ascii character
handle cases of null processing different when nulls allowed and when they not
datasetviewereditabletablepanel warningwarning
while
replace with types sqlxml when java minimum supported version
save data passed in to us
fall through to default
value simple string representation of data same one used in text and in cell operations
sticky turned off just remove sticky and return
remove old sticky tab
field not nullable
check whitespace
convert file text into string special case some systems tack newline at end of text read assume that if last char newline that we want everything else in line
about to delete last thing in field so replace with null
return text converted from file
truncate string
private final jmenu editmenu
convert bytes to bytes
numberformat object to use all locale dependent formatting
hibernateconfigpanel toobtainsessionfactto obtain hibernate sessionfactoryimpl instance squirrel should
get text to be converted
hibernateconfigpanel removeconfigremove
replace with types longnvarchar when java minimum supported version
call datatype object this column and have it check current value
create panel and add gui items to it
file object doing io
copyonwritearraylist has snapshot iterators that do n't support iterator remove
add button panel to main panel
no entry selected
convert signed to unsigned
some formats hex octal extend negative number to multiple places fc becomes fffc so chop off extra stuff in front
checking to make sure correct files listed in array
standard sql functions
get hashmap this type or create it if this new property
get each datatype 's info
put property into hashmap
conversion constants
generalpropertiespanel rowsrows
new line
convert each byte and put into string buffer
oddly enough progress will let you add pks to existing tables but not drop them
if user wants to see ascii chars as characters see if this one that should be displayed that way
handle cross connection between fields
alter table childtablename add constraint constraintname foreign key childcolumn separator references parenttablename parentcolumn separator
underlaying data cannot be changed
create buttons input done and cancel
alter table add constraint unique
drop index index if exists
menu right mouse click when in cell editors
not allowed must have existing file import
guard against something really stupid
time functions mapped to ansi extract
do not do import
import and external processing can only be done if panel editable
front pad with zeros and add to output
load filename and command with previously entered info if not default
alter table tablename add constraint constraintname unique columnname separator
how to use timestamp in where clauses default to sql standard
value simple string representation of data same one used in text and in cell operations
close it
squirrelaction descriptions already contain accelerator
pre requisites that column needs to be primary key and it must be integer type alter table identitytest alter column myid identity
super setvisible value
as in java sql types
alter table add constraint primary key
internal class handling key events during editing of both jtextfield and jtextarea
alter sequence restart with
we always get clob even when we not reading contents since clob just pointer to clob data rather than data itself this operation should not take much time as opposed to getting all of data in clob
tblresult setautocreaterowsorter true
reset each time we start new print
bundlebundle
position window to where it when last closed if this not on screen move it back on to screen
following used in both cell and popup operations
ignore unused
table containing user 's input
cannot insert row into read only table
add some space
cannot delete rows in read only table
now functions popup related operations
return string renderer renderobject value
first we have methods in cell and text table operations
since we cannot do exact matches on floating point numbers we cannot use this field in where clause
popupeditableiopanel withcommandwith command
number of decimal digits allowed in number
several number formats use as decimal separator others use
handle cases of null only legal input in this case delete
user asked to see binary data in different format default to hex
return expected format this data default to hex
caller does not need to know that nothing happened
list of rows may be empty in which case we tell user they should select something first
there problem inserting into db
tell user it editable
whereclausepanel columnlabelcolumns
begin code related to printing
data object assume already validated
generally key typed this means add typed char to end of text but there some things control chars that ignored so let normal processing do its thing
we want to allow editing of read only tables on demand but it would be confusing to include make editable option when we already in edit mode so only allow that option when background model updateable and we not already editing
we know that it 's not interesting to show any code above where we get involved in event dispatch so we stop printing stack trace when we get as far back as our code
binary data viewing option which radix to use this object only non null when data binary data
hibernateprefstab hinthibernate configurations
matt dahlman this causes problems with jdbc driver delivered with teradata
if file temp file delete it now we assume that export only operations want to leave file in place but execute operations just want temp space to work with and do not want it lying around afterwards
this may be called either when table editable or when it read only when it read only there no command to be saved but when it editable there may be command
white space
add external processing command field and button
actions get executesqlaction class setenabled false
send tree expansion event to object tree
provide actual integer value as well as it 's meaning
since data editable we need to add control panel to manage user requests db update file io etc
scroll pane that holds text area
used as value of startedlasteventdispatchat when we 're not in middle of event dispatch
ejbql tokens
private final static ilogger log loggercontroller createlogger opentablestab class
props forcetablecontentsoutputclassnamechange
columnlistdialog modifytitleselect column to modify
regression test harmony
it same as local copy which placed either by installer or last update \?
this tool window
will be called asynchronously to event dispatch thread
explainplanexecuter modemode
needed to prevent infinite loop
whether number signed or unsigned
name of file to do exportimportprocess on
fix case according to what database tells us
hibernatetabpanel configurationconfiguration
unfortunately conversion to uppercase does not work properly georgian alphabet which has strange rules about case conversion so we need to make one last check before exiting
mysql variablesmysql variables
db stores all names in upper case postgresql stores table names in lower case that 's why we may not find table as it written in create statement so we try out upper and lower case names too
private static final string perf key hql tab divider location squirrel hibernateplugin hqltabdivloc
ignore
chooser setdialogtitle select \? \? \?
expected
warning
create hashmap of names to use and put it in editwherecols
private final static ilogger log loggercontroller createlogger showmasterlogstab class
checking to make sure correct files listed in array
non javadoc see net sourceforge squirrel sql client plugin iplugin getinternalname
non javadoc see net sourceforge squirrel sql client plugin iplugin getversion
return sqltokencontext incomplete string literal
second row contains multi line description so make that row high enough to display it
groups
exportconfig applicationsettingsapplication settings
exportconfig databasealiasesdatabase aliases
exportconfig errorreslovingfilenameerror resolving file name
non javadoc see net sourceforge squirrel sql client plugin iplugin getauthor
private final int table col datatype not used
selects values from existing table
if directory exists add one to directory number making it new directory name
mysql allows statement separators in procedure blocks process of tokenizing above renders these procedure blocks as separate statements which not valid to be executed separately here we re assemble any create procedurefunctiontrigger statements that we find using beginning procedure block pattern and procedure separator
application info setjdbcdebuglogattempting to set jdbc debug log to output stream
to get tableinfo selected object in tree
blobs different from normal data types in that what actually read from db descriptor pointing to data rather than data itself during initial load of table values read from descriptor may have been limited but descriptor itself has been completely read therefore we do not need to re read datum from database because we know that we have entire descriptor if contents of blob have been limited during initial table load that will be discovered when we check if cell editable and full data will be read at that time using this descriptor
get all data types available
file io related functions
text field how many bytes of blob to read
\? \? what to do with this error \? \? \? error message could not read complete data error ex getmessage
convert bytes to bytes
user said not to read any of data from blob
mainsplitpane add getdesktoppane jsplitpane right
stray sep or we failed to find pattern
each element in not use set if selected then add to use otherwise add to new not use set
save input use later
delimiter sets separator that tells us when procedure this mysql specific
test to make sure that only files that created listed
move over leading whitespaces
check max size reached only works when db provides non zero scale info
generalpropertiespanel bottombottom
save original value re use by clobblob types in conversion
dateformat object to use all locale dependent formatting this reset each time user changes previous settings
sequence tabs
more than one selection allowed check to see if we should change selection
plugin supports session main window only
table
oraclealiasprefspanel allallow all schemas
can use empty clob editing
get nullability information and pass it into resultset unfortunately not all dbmss provide column number in object as stated in sql documentation so we have to guess that result set in column order
make sure entire clob data read in return true if it has been read successfully and false if not
if this not hibernate error we write log entry
primarykeytab hintshow primary key selected table
analyze checkbox
errorstream unexpectedsymbolthis symbol not expected in
old version return session getobjecttreeapi sqlscriptplugin
add context menu items to object tree 's session node as popup menu
just add tab
uifactory getinstance createtabbedpane
create new object to hold different value but use same internal clob pointer as original
oracleplugin titleoracle
throws exception claiming that n't valid type go figure pstmt setnull position coldef getsqltype
expanders
this fixes issue where tree getting constructed prior to oracle plugin expanders being registered users sessions instances nodes have no children until tree refreshed even though this hack it does n't seem to negatively impact performance even when loading all schemas
get osx file export external processing
not all oracle 's just and above
value simple string representation of data but not same one used in text and in cell operations in cell version may replace newline chars with while this version does not in other respects it same as in cell version because both use renderer object to do rendering
register custom datatypecomponent factory oracles xmltype
non javadoc see net sourceforge squirrel sql client util ioptionpanel gettitle
merge columns in new column
hibernate hqltosqllonghql to sql
non javadoc see net sourceforge squirrel sql client util ioptionpanel applychanges
transparent
oracle displayoptionsdisplay database options
questions
gui components need to be here because they need to be accessible from event handlers to alter each other 's state
sheet types
schema
reload complete schemainfo
check box whether to read contents during table load or not datatypebigdecimal readcontentsonfirstloadread contents when table first loaded
check box whether to show newlines as in cell display
oracle refreshsecons seconds
oracle infotitleoracle session info
driverslist new driverslist app
oracle sgatitleoracle sga trace
needs to be done in both cases because if window goes back to default layer it goes back behind all other windows too
oracle optionsoptions
nil out timer so that it can be gc 'd
create spinner update period
only resize once
jmh remove current sql text create tabbed pane session details including sql text
if we do n't invokelater here no short cut key sent to internal frame seen under java version and linux
oracle displaysessiondetailsdisplay session details
oracle allows statement separators in plsql blocks process of tokenizing above renders these procedure blocks as separate statements which invalid oracle since way in sql plus to denote end of procedure or function we re assemble any create procedurefunctiontrigger statements that we find this should be done before expanding file includes otherwise any create sql found in files will already be joined causing this to find create sql without matching process of expanding 'file includes' already joins sql fragments that it finds
at moment no default value
jmh additional performance we could utilise fixed table sequence column from session to investigate which rows need to be updated on refresh see session doco more info
this seems to work both oracle and
since it likely to have on it 's own line and it key to letting us know that proceeding statements form multi statement procedure or function it deserves it 's own place in queries arraylist if it followed by other procedure or function creation blocks we may fail to detect that so this just goes through list and breaks apart statements on newline so that this cannot happen
line separator easy using
oracle we could say something like where xmlserialize content coldef getlabel like '' this does n't appear to work on oracle at moment so we will avoid using this column in any where clause if value non null which what superclass implementation does todo find way to do this both versions or split this behavior so that it works on and disabled on
variables non visible logger this class
below equivalent to following stringvalueresult xmltype getstringval
now bind string
both of these throw exception claiming that it got clob and expected number inconsistent data types pstmt setclob position null pstmt setnull position java sql types clob
need to adjust param which based jdbc to based number array access
trigger tabs
plugin supports only main session window
index tab
object tree expanders schema expanders sequence
extractors
super sqlexecutionwarning warn
table expanders trigger and index expander
detail tabs procedure tab
lock tab
popup menus
log info not all selected objects where tables
catalog
merge columns in existing column
this causes locks own by other pids to be excluded from result pgl pid pg stat get backend pid svrid and
we do n't know if this type can be used in where clauses so always exclude it
options full checkbox
controlling
do conversion into object in safe manner special case input exactly output
stored procedures can have comments embedded in them so do n't line wrap them
view type dbo does n't exist yet
view
sequence type dbo
sequence
it important to process name change first so that we can use new name instead of old in subsequent alterations
index
here we use index inside of column names so that we do n't have to alias columns in dialect different dialects call these sequence information columns by different names just make sure to preserve order in dialect last value max value min value cache value increment by cycled
table type dbo
create new columns in table
skip comments
update set destcolumn select desc from where myid myid
implemented in all originally supported dialects
deletes
selects values from merge table
selects values where part
maybe with inner join better performance
add column if neeeded
getcolumnaddsql
do n't show indexes dialog if only one index exists to be modified
execute sql synchronously
show user dialog with list of columns and ask them to select one or more columns to drop
arraylist result new arraylist
if table has only one column it cannot be dropped
set default primary key name based on name of table
adds foreign key constraint to source table
only gives sql without cascaderestrict constraint
show user dialog with list of columns and ask them to select
if there only one column in table
copys distinct values from source column into lookup table
creates lookup table with it 's columns depenting on mode
getaddforeignkeyconstraintsql
getinsertintosql
getcolumnnamealtersql
getupdatesql
getcolumnnullablealtersql
getcolumndropsql
add column name to list
no point to ordering less than tables
create analysis dialog using edt and wait it to finish
column
map quick lookup later we want to pass tablecolumninfos to dialect not merely column names
new name of table
there more dependancies then just fks like views etc therefore cascadeconstraints used as parameter tabledropsql
local constraint
now get drop order same as delete and update dialog status while doing so
do n't show foreignkeys dialog if only one index exists to be modified
if check gets till here we have all need information
mode
drop conflicts
fki default startname
add to button group
adding all colums together
pre selection
add to jpanel pane
add to panel update
columntab new mergecolumndialog columnstab
private columnstab columntab
increment
name
maximum
last value
start
minimum
use default sequential layout
foreign key
view list
break
table name
do nothing
column row
labels should stay put while user input fields allowed to grow as user desires
some databases cannot order by longlob columns
table list
cascade constraints checkbox
adding all colums together
some data
all rules passed so activate button
if check gets till here we have all needed information
all tables except merge into table
all local and columns other tables
column list
sqlbookmark nodeleteselectionplease select bookmark to delete
errors
sessionscript startupscriptsstartup scripts
folder within plugins folder that belongs to this plugin
this should never happen as we check above duplicate
iapplication application getapplication application addtomenu imenuids plugins menu getsmarttoolsmenu getapplication null false
just plain data
thread searching
catalog
table list
table classes
sqlparam inputparametervaluesplease input parameter values
old version before multible sesssion windows return session getsqlpanelapi plugin
private static final string prefs file name sqlparamprefs xml
types char types varchar types longvarchar types binary types varbinary types longvarbinary types null types java object types distinct types array types blob types clob types ref types datalink
postgresql uses literal values truefalse instead of
format of result this must be text or html hopefully some type of xml format will be available as well
supply user name if you use anonymous you will be logged in and pw will be ignored
and version of calling program this optional if you do n't want to give out this info please enter na
version of target dbms this optional if you do n't want to give out this info please enter na
set this to if your application interactive where user enters queries and then runs them set it to if it non interactive such as instance jdbc bridge driver that intercepts sql
add context menu items to object tree 's view and procedure nodes
otapi adddetailtab databaseobjecttype index new indexdetailstab
trigger source select text from dbo sysobjects inner join syscomments on syscomments id sysobjects id where loginame \? and name \? and type 'tr'
refresh currently selected tab
final textareadefaults dfts textareadefaults getdefaults columnstyle dfts styles token column commentstyle dfts styles token comment keyword style dfts styles token keyword keyword style dfts styles token data type keyword style dfts styles token function labelstyle dfts styles token label literalstyle dfts styles token literal operatorstyle dfts styles token operator otherstyle dfts styles token null tablestyle dfts styles token table
below equivalent to following xmltype xmltype createxml
string line number color linenumbercolor string selection color selectioncolor string show line nbrs showlinenumbers
private int caretrgb color red getrgb private int selectionrgb xccccff private int linehighlightrgb color lightgray getrgb private int eolmarkerrgb private int brackethighlightrgb color black getrgb private int linenumberrgb color black getrgb
string eol markers eolmarkers string eol marker color eolmarkercolor
one may ask why we do n't register key strokes permanently when we did so with two internal frames open key stroke event sometimes went to wrong frame this does n't happen if we procede like we do question why \?
we do n't support switching entry control during session because serveral things that attached to entry control from outside this plugin would need to reinitialze too example code completion and edit extras synchronized session isqlentrypanelfactory factory plugin getsqlentryareafactory isqlentrypanel pnl factory createsqlentrypanel session session getsqlpanelapi plugin installsqlentrypanel pnl
new multikeybinding keystroke getkeystroke keyevent vk open bracket menu mask extkit matchbraceaction new multikeybinding keystroke getkeystroke keyevent vk open bracket menu mask inputevent shift mask extkit selectionmatchbraceaction new multikeybinding keystroke getkeystroke keyevent vk inputevent shift mask extkit showpopupmenuaction
second time that schemas asked return two
ctrl enter short cut in netbeans editor set in org netbeans editor ext basekit to org netbeans editor ext basekit splitlineaction since ctrl enter shorcut basic squirrel short cut and defined via main menu action we must remove this binding here
sqlsettingsinitializer added above holds reference to syntaxpreferences of current session which itself holds reference to session we remove sqlsettingsinitializer to give session chance to get garbage collected
internal states inside white space inside line comment inside block comment inside string constant inside string constant after backslash inside char constant inside char constant after backslash inside identifier slash char after '' after after after after after after after after '' after '' after after after after after after integer number octal number double number double number hex number after
rowcounttab titlerow count
add buttons to it
this did n't work final int pos getcaretposition final document doc textarea getstyleddocument final element docelem doc getdefaultrootelement final element lineelem docelem getelement getcaretlinenumber return lineelem getelementindex pos
tooltips and questions
operator numeric ids \?
start thread that does coloring
put initial text into text pane and set it 's initial coloring style
if we just finish we ca n't go to sleep until we ensure there nothing else us to do use try again to keep track of this
stringfunctionstab hintshow all string functions available in dbms
get history into array
set up list of column names and data rows
sequencedetailstab titledetails
global misc
sqlbookmark squirrelmarksinpopupshow squirrel bookmarks in ctrl popup
as coding convenience create reference to text component that typecast to jtextcomponent this not essential as we could typecast every reference but this makes code cleaner
to change body of created methods use file settings file templates
scriptenvironment env new scriptenvironment session getsqlpanelapi plugin ownerframe
add panels core squirrel functionality
set column heading set data in first row
some reason frontbase does n't find tables that have been previously created
string path releasesnapshot
db cannot alter column 's null attribute directly only through constraints not only that but it 's apparently not valid thing to do to create primary key using column that has been made not null via check constraint therefore only columns that qualify to be made pks those that declared not null at time of table creation
sqlresultexecuterpanel closeallclose all
test whether or not dialect correctly converts nullable columns to not null before applying primary key if necessary
misc
viewdefsql sql that can be used to query data dictionary body of view this should exclude create view as prefix and just return query
replace any instance of flag in command with file name
utility methods
threadsearching
needed to make panel set divider location from preferences
todo
system err println attempt to use dialect sql from referencedialect getdisplayname failed getmessage
short scale
gui components need to be here because they need to be accessible from event handlers to alter each other 's state
warning this depends on entries in buttongroup being in same order as values whereclauseusage
max size reached
if you add this method to one of standard datatypes in fwdatasetviewercellcomponent directory you must also add name of that datatype class to list in cellcomponentfactory method getcontrolpanels variable named initialclassnamelist if class being registered with factory using registerdatatype then you should not include class name in list it will be found automatically but if datatype part of case statement in factory method getdatatypeobject then it does need to be explicitly listed in getcontrolpanels method also
non javadoc see net sourceforge squirrel sql client plugin iplugin getwebsite
non javadoc see net sourceforge squirrel sql client plugin iplugin getnewsessionpropertiespanels
favs newfoldernew folder \? \?
rowcounttab hintnumber of rows in selected table
non javadoc see net sourceforge squirrel sql client plugin iplugin getpluginusersettingsfolder
non javadoc see net sourceforge squirrel sql client plugin iplugin load net sourceforge squirrel sql client iapplication
only single selection can be made at time
contentstab titlecontent
non javadoc see net sourceforge squirrel sql fw sql idatabaseobjectinfo getcatalogname
we only show row counts tables and views other objects wo n't be affected by changing row counts
create updatecancel controls using default layout
checkbox java defaultnon default format
select one just added
non javadoc see net sourceforge squirrel sql fw sql idatabaseobjectinfo getschemaname
imainframe comp addinternalframe taif false taif setlayer jlayeredpane popup layer
sqlbookmark noaddno text to be added
empty
check malformed xml or text that happens to contain
add listener to listen items addedremoved from list
application error closefileviewersunable to close all file viewers
required on linux
add actions to popup menu
fudge larger inset windows
go thru all loaded plugins asking panels
tooltips
infos
create new bookmark manager
return sqltokencontext incomplete char literal
mocksquirrelresources
register tabs to display in details panel udt nodes
this gets called before initialize
querytokenizer tests
check to ensure that tokenizer received not default one that should have been overridden
createdriveraction error loaddefaultdrivers
test to see that table matches table it should since only row count different
test to see if we can fool matchkeyprefix into assuming that there will be on end of path since row count enabled yet we 'll send in string that does n't have this characteristic
size to set child windows to
serialization test in superclass cannot use mockhelper because replay needs to be done here
expect getfile updated files that will be removed
not necessarily case i'm just curious if we have any components that need to be re read
mock objects
do n't forget to set this to number of statements in result
setup one column in multiple rows
try to create file in directory that does not exist
sybase fully supports quotation marks identifiers and reports as identifier quote string yeah they got it right
helper methods
regression test harmony
canread only returns if file exists so cannot be fully tested
test creating file that already exists
test to see if correct suffix used to create tempfile
test to make sure that tempfile saved in correct location and with correct prefixsuffix
parse hy test vmargs if given
if short file name does n't exist then assume that file name compatibility disabled
finding non existent directory tests and this necessary because getcanonicalpath case sensitive and could cause failure in test if directory exists but with different case letters temp and temp
rebuild bookmark menu
test to make sure that listfiles can read hidden files
old test left behind garbage files so this time it creates directory that guaranteed not to already exist and deletes it afterward
usedriverpropschk setselected sqlalias getusedriverproperties
test to see if directory saved with correct name
subtracting milliseconds from orgtime of file
trying to set time to large exact number
similarly trying to delete read only directory should succeed
regression test harmony
assert flawed because canwrite does not work asserttrue file set to readonly canwrite
tests to see if correct number of files returned
assert flawed because canwrite does not work asserttrue file set to readonly canwrite
testbooleancoltype sourcename destname testcharcoltype sourcename destname
this brute force detection of columns whose column size
verify that changing clone did n't affect original
we cannot mock dtproperties because it designed to be accessed statically simulate missing property
we still have to bind value or else ps will throw exception
application error loadcellselectionsunable to load cell importexport selections from persistant storage
final map map getalleditwherecolssheets tree return editwherecolssheet map get objectinfo getqualifiedname
we in closing event of session main window we do n't want to send this event again therefore we pass withevents false
ok button at bottom of dialog jpanel btnspnl new jpanel jbutton okbtn new jbutton ok
get list of all plugin developers names allow multiple developers plugin in form john smith james brown
easymock class extension helpers since classextension and interface easymock methods cannot be used on same mocks this provides convenience to not have to specify package name classextension mocks
sql reference guide says but get specified row size exceeded maximum allowable row width sql state error code when go above
private static final class cellrenderer extends basiccomboboxrenderer public component getlistcellrenderercomponent jlist list object value int index boolean isselected boolean cellhasfocus settext tablecolumninfo value getcolumnname return this
jinternalframe frames guiutils getopennontoolwindows getdesktoppane getallframes app getactioncollection internalframeopenedorclosed frames length
done in dispose itself because listeners must be fired even in do nothing on close mode tabhandle fireclosed
under jdk first item in jcombobox no longer automatically selected
this seems to be necessary to get background colours correct without it labels added to content pane have dark background while those added to jpanel in content pane have light background under java look and feel similar effects occur other look and feels
done this late so that plugins have time to register expanders with object tree prior to it being built getsession getobjecttreeapi app getdummyappplugin refreshtree
we need this method to satisfy one of interfaces we implement but since we have moved all operations to datatype sub panels which initialize their own data during creation there nothing us to do here
we need this in order to allow user to see this plugin which n't loaded in plugin summary dialog so that they can enable it
no tokenizer has been set by any installed plugin go ahead and give default tokenizer it important to not cache this object so that session property changes to current session reflected in this default tokenizer
checks if former message should be highlighted in 'history' color
if user selected editable table in session properties then display will be editable table otherwise display read only
it possible table to contain only columns of types that we cannot process or do selects on so check that since this check on structure of table rather than contents we only need to do it once ie it not needed in getwarningonprojectedupdate
public sqlfilterclauses getsqlfilterclauses return sqlfilterclauses
get where clause says to ignore last arg and use contents of values array column that we care about however since data in that column has been limited when getwhereclause calls that datatype with that value datatype will see that data has been limited and therefore cannnot be used in where clause in some cases it may be possible datatype to use partial data such as matches but that may not be standard accross all databases and thus may be risky
template bodies
if rows do not match to db ask user if they really want to do delete
each row in table count how many rows match where clause if not exactly one generate message describing situation
add list of column names we will be inserting into be sure to skip rowid column and any auto increment columns
this can happen if impl of isqlexecutionlistener returns null from statementexecuting api method to indicate that sql should n't be executed
implementataion of idatasetupdateabletablemodel delegation to datasetupdateabletablemodel
there no good way using jdbc metadata to tell if table materialized view so we need to query data dictionary to find that out get all table names whose comment indicates that they materialized view
check option not supported
if driver says it supports schemascatalogs but does n't provide schemacatalog nodes try to get other nodes
create data structure containing contents of rows to be deleted we cannot use getrow method because that uses myjtable whereas indexes that we have indexes in sortabletablemodel
go through each child of parent and see if it previously expanded if it recursively call this method in order to expand child
to allow fw to save and reload user options related to specific columns we construct unique name table so column can be associcated with only that table some drivers do not provide catalog or schema info so those parts of name will end up as null that 's ok since this string never viewed by user and just used to distinguish this table from other tables in db we also include url used to connect to db so that same tabledb on different machines treated differently
sqlparam valueforvalue
reload all matching procedure types
db stores all names in upper case postgresql stores all names in lower case that 's why we may not find proc as it written in create statement so we try out upper and lower case names too
int progress loadschemas load tables with catalog null
if release version does n't change we wo n't be pulling down core artifacts so we just need to make sure that all core files have been copied from their installed locations into corresponding directory in download which in classpath of updater this covers case where update being run first time after install and no new version available but user wants to installremove plugins andor translations
drop existing default value alter table tablename alter columnname drop default
notify table that rows have changed deleted rows may not be contiguous in actual data model because gui may be showing version of data sorted in some other order so we cannot use firerowsdeleted
detect whether or not object tree needs refreshing by comparing old value to new and see if they changed
override functions that need to be changed to tell table mechanisms how to do editing
columndisplaydefinition coldefs createcolumndefinitions md columnindices computewidths datasetdefinition new datasetdefinition coldefs
we should never get here because areequal function only called when we trying to update database so we know that we have datatype object this column or we would have been stopped from editing by iseditablexxx methods but we need return here to keep compiler happy
as coding convenience create reference to text component that typecast to jtextcomponent this not essential as we could typecast every reference but this makes code cleaner
if text cannot be edited in cell but can be edited in popup show that by changing text colors
list of specific column names in comma separated format with comma in front of first entry as well empty map of old values
when changing backgroud color it helps to set inner component 's border to zero otherwise border can obscure text and make it hard to see this especially seen when using kunstoff
alter table add constraint null field check not null
default behavior if no appropriate data type found to create simple jtextarea with no special handling in theory this cannot happen because if there no data type object this column 's data type then iseditableinpopup returns false so we should not get here if there data type object and iseditableinpopup returns true then we would have executed return statement above assume that value can be represented as string
alter table localtablename add constraint constraintname foreign key localcolumn localcolumn references referencedtablename referencedcolumn referencedcolumn match full on update restrict on delete no action deferrable initially deferred
alter table tablename drop constraint constraintname
alter table add constraint foreign key references on delete update cascade set default set null
convert all columns in key to not null this does n't hurt if they already null
tried following values under but get encountered unexpected exception line you cannot assign value of type 'long byte' to column of type 'byte varying' explicitly convert value to required type registercolumntype types varbinary byte varying
myid myid stringtemplate st new stringtemplate templatestr
create unique fulltext spatial index index name index type on tbl name index col name index col name col name length asc desc index type using btree hash note indextype unused at moment because index dialog does n't accept this see below
int featureid dialectutils column type alter type string msg dialectutils getunsupportedmessage this featureid throw new unsupportedoperationexception msg
instantdb at least version only returns tables gettabletypes if you try to use this in call to databasemetadata gettables no tables will be found moment hard code types instantdb
table cat table schem table name column name data type type name column size decimal digits num prec radix nullable remarks column def char octet length ordinal position nullable
compute available height above cursor
sqlresultexecuterpanel rowsupdated row inserted
removed comment
updatecontrollerimpl changesrecordedmsgrequested changes will be made when squirrel restarted
save options selected datatype specific properties
just helper to make fromresultset \? below look nicer
this gets called before initialize
sessionstartuptimehintdlg dontshowagaindo n't show this message again
data editable in popup
double pagebottom pagetop clipheight headerheight
options
page number message in smaller type
get release xml file as channelxmlbean from server or filesystem
load local release xml file as channelxmlbean
at least more row left
variables used in printing
stay in line comment state
load resources such as menu items etc
object that called us and that we want to return data to when done
private columndisplaydefinition hdgs new columndisplaydefinition
dumpapplicationaction titlesuccessdump successful
nothing to do if object tree opened
sqlresultexecuterpanel execstatusexecuting sql
track time in aggregate script
log info sql executed sql
sqlresultexecuterpanel togglestickytoggle sticky
private sqldriverpropertycollection sqldriverprops
set layout
draw header on every page
tricky alias and chaining completion examples au to auftr in from kv auftr where au au to auftr in from kv positionen kv auftr where au positionen to fields of kv aggregate positionen in from kv auftr where auftr positionen positionen to fields of kv aggregate positionen in from kv where positionen
since we depend upon connection class associated with isession we need to keep reference to isession we associated with however this session could be closed at which time we want to give up our reference so that it can be garbage collected
public columnscombobox sqlconnection conn itableinfo ti throws sqlexception super conn getsqlmetadata getcolumninfo ti setrenderer new cellrenderer this renderer uses unqualified column name as text to display in combo private static final class cellrenderer extends basiccomboboxrenderer cellrenderer super setopaque true public component getlistcellrenderercomponent jlist list object value int index boolean isselected boolean cellhasfocus settext tablecolumninfo value getcolumnname return this
private final static ilogger log loggercontroller createlogger createmysqltablescriptcommand class
flag indicates changing in textarea
only first row containing data editable
entries past first one use default renderer
name of calling client program this optional if you do n't want to give out this info please enter na
dec est overflow on fat file systems and call fails
there lot of goodies in extsettingsinitializer that might be interesting in th future unfortunately some conflicts with some of squirrels shortcuts in extsettingsinitializer settings removeinitializer extsettingsinitializer name settings addinitializer new extsettingsinitializer settings core level
end of code related to printing
log info sql starting to execute sql
do simple check to see if string might contain xml or not
keylistener to indicate changing of text
inner class data display pane
here we do replacement
deletealiasaction error selectingwindowerror selecting window
determine size of grid to tile into cells
insert worked so make this input form go away
stay in block comment state
fixes classcastexception see below
test to see if correct number of directories returned
create column model
now ignore popup request rowdatajtable this displaypopupmenu evt
set up cell editors on first row
display result set metadata
do not recognize this button request
create jtable input and put in top of window
try to convert text in popup into valid instance of type of data object being held in table cell
add row headers to help user understand what second row
return mainframe
string current line highlighting currentlinehighlighting string current line highlight color currentlinehighlightcolor
check to see if to directory and convert tofile to be name of file in that directory
this frame should really go away when done
do n't change case of identifier if database allows mixed case
persists change list to update directory
\? \?
data type column of result set int data rs getint idx
add mouse listener popup
this binary field so allow multiple viewing options
sessionstartuptimehintdlg showaliaspropsopen alias schema properties
description needed to handle conversion of data tofrom object
define filter to select only names using filebase
layout
following only useable root type of internalframe if root type dialog or frame then other code must be used
when we started dispatching current event in milliseconds
sqlresultexecuterpanel cancelbuttonlabelcancel
user said to insert so collect all data from jtable and send it to datasetviewer insertion into db and on screen tables
test to see if correct number of files returned
display frame
number of chars used to represent byte base radix
delete last
alter table oldobjectname rename to newobjectname
temporary events need to be included in case modla dialog opens
private static ilogger log loggercontroller createlogger databaseexpander class
searchable column of result set
replace with types nvarchar when java minimum supported version
noi
more space above
under jdk empty jcombobox has almost zero width
not in scroll pane
put data and header names into model
frontbase describes it 's tables as base table
do one or two passes
indexestab titleindexes
ca n't fit hide
convert to layered pane 's coordinates
update bounds of popup
sessionobjecttreepropetiespanel filtersfilters
creating filter that catches directories
not successful
yes it can so add controls
light yellow
databasemetadata searchabletypepredbasicsupports all except 'where like'
firebird detailsdetails
pw if user name anonymous this can be anything but it has to be supplied anyway
editextras reformatfailedreformat failed normalized strings differ
stored if checksum operation failed this will ensure that comparison with any other file 's checksum will be different even if they happen to be same file
since this thread not ui thread it ok to run task synchronously
cannot use when unsigned
ss modified to auto compute column widths if true
we do not expect lot of files in this directory so just do things linearly
testing on local machine url url new url
hold state
data objects
load info into text fields
objecttreesearch error objectnotfoundcould not locate database object '' '' in object tree
testing on live server url url new url
connecttoaliascommand error closeconnectionerror occured closing connection
common expectations
sort list
repaint page printing
sqlresultexecuterpanel rowsdeleted row deleted
execute validator and return results
close existing session
get parameters previously set by user or set default values set to use java default
synchronize on outer class because that 's where all state lives
import object from osx file
finding non existent directory to create
jason what its valid values \?
allow user to enter just hour or just hour and minute and assume un entered values
return jtextarea usable in cellpopupdialog and fill in value
application error writecellselectionsunable to write cell importexport options to persistant storage
sort it and store in new copyonwritearraylist
handle table source
filefilter
alter sequence sequencename startwith increment minimum maximum cache cycle
deletedriveraction error selectingwindowerror selecting window
dumpapplicationcommand title statusapplication status bean
property change control panel
create self and
prompt user to add website url this driver
sqlentryfactoryproxy new ostersqlentryareafactory this originalfactory
add new formatter sybase errorswarnings
spring injected
maximum time we wo n't warn about
updatepreferencespanel pathpath
sybasease specific code to read procedure definitions
context instance declaration
public api
springinjected dependencies
plugin supports session main window only
put 'and' or 'or' in front of clause if there already values in text area
cell importexport file not found user first time user ran pgm
incomplete and error token ids
btnsetpermissions setenabled false
at this stage there 's no more text in scanned buffer but this buffer not last so scan will continue on another buffer scanner tries to minimize amount of characters that will be prescanned in next buffer by returning token where possible
sqlbookmark prefokok
jradiobuttonroles setselected true
sql server does n't support cascade clause
need to remove existing jar in plugins directory and all of files beneath plugin named directory
if user wants to select right mouse clicks then change selection before popup appears
set default colors
total number of decimal digits allowed in number
internal class handling key events during editing of both jtextfield and jtextarea since neither cell nor popup allowed to edit just ignore anything seen here
we have core or translation file that not already installed add it
strange that release xml file n't found but not problem at this point just log it
private boolean brackethighlighting true
make this same size as filenamefield
sqltab titlesql
gui widgets
\? \? there does not seem to be any standard way to represent \? \? binary data in where clause tell caller we cannot use this in where clause
skip files that not installed new files
false
not textcontrol itself changed but some other of syntax preferences example color so we tell current control to update preferences
install factory creating sql entry text controls
some dbs give negative number when they do not have value scale assume that if scale or positive that db really means that to be scale but if it negative then we do not check
check total number of digits in number since string version of number therepresentation of digits in that number and including possibly plus or minus and decimal start by counting number of digits in string
create actual panel that will be displayed in dialog
dumpapplicationcommand title driversdrivers
nothing needed here \? \?
artifact name plugins zip
get grant target
assume that all start tags or include space after tag name as in and all end tags remove syntactic markers then remove any spaces and convert to upper case comparison
procedures
db cols in same order as coldefs
translations most likely to be found in core lib dir
dumpapplicationcommand error dumpingdriverserror dumping drivers
download directories
with admin option
dump aliases
setting value
public static final string duplicatelineaction duplicate line action
once and again netbeans editor calls createsyntax after sessionending called then sess null and code below would break
install directories
root
session preferences
backup
dumpapplicationcommand title sessiondumpsession dump
make sure no duplicates kept in history
node tree getlastselectedpathcomponent
dialogsupport setdialogfactory new nbdialogsupport
list of additional colorings
update java colorings
suppress warnings issues that present in this old release of netbeans editor libraries we using
extcaret highlighting colorings
standard expanders
register tabs to display in details panel database nodes
navy
new multikeybinding keystroke getkeystroke keyevent vk inputevent ctrl mask sqlkit duplicatelineaction
whole column definition
formatting settings
nullable column of result set
removed sqlbookmark plugin
dumpapplicationcommand error sessiondumperror dumping sessions
operators
dump sessions
errors
redirect esc key to cancel button
start with illegal number of rows matching query
reasons this code mailed to rob by gerd on problem methods like basesqlentrypanel getboundsofsqltobeexecuted basesqlentrypanel movecarettoprevioussqlbegin they rely on line break being single char also suppose some of our code generation scripting functions do same at least i'm pretty sure if would be preserved they could produce mixture of and
thought this prevented gc it does n't but if two sessions open and one closed one left open looses key bindings example arrow navigation keys getkeymap removebindings
info
dumpapplicationcommand error combiningtempfileserror combining temp files into dump file
find entry in coldefs matching this column
example alter table kvpos add constraint kv kvpos foreign key kvid kv kvid references expected kv will not be marked with condition above because errinf endpos absoluteposition len never true
gui components need to be here because they need to be accessible from event handlers to alter each other 's state
preferences from last session
register tabs to display in details panel table nodes
load properties and fill missing entries with global preferences
global preferences
with hanging sessionlistener session nvere gets garbage collected
non javadoc see net sourceforge squirrel sql fw sql idatabaseobjectinfo getqualifiedname
protected action createactions action javaactions new action new netbeansduplicatelineaction return textaction augmentlist super createactions javaactions
stringfunctionstab titlestring functions
end else
ialiaseslist al getaliaseslistinternalframe getaliaseslist
backup file
add null as clob
mockdatabasemetadata
regression harmony
regression harmony
token ids
get lines at time
messages
regression harmony
determine number of lines to draw in foreground
strings blank field allowed so only switch to null when there nothing left in field and user does delete
properties settable by user
nothing found
gridlayout makes equal cells
isessionlistener interface methods
note temporary events need to be included in case modla dialog opens
data type keyword numeric ids
graph invalidwidthinvalid width
combo box read allread part of blob
regression harmony
artifactname type installed \? installupdateremove
only thing that would prevent us from editing string in popup if that string has been truncated when read from db thus being able to edit string same as not needing to re read data
paint background
register default button if available
update sizes when number of digits in line number changes
keywordstab titlekeywords
sessionstartuptimehintdlg closeclose
listen on windowclosing and redirect it to cancel button
note tabs and newlines allowed in string fields even though they unusual
this column limited so truncate data
other keywords numeric ids
names of columns
token category ids
we cannot use this data in where clause if it has been truncated since being truncated same as needing to re read only use this in where clause if we do not need to re read
register cancel button helpers if available
sqlbookmark scriptscript
rest of keywords
void type keyword numeric id
see sqlsettingsinitializer to find out how fonts handled in netbeans editor textarea setfont font
get type of artifact
incomplete tokens
ask datatype object if two values same
void type
numeric ids token ids
sqlpreferencespanel largescriptstmtcountlarge script statement count
read map with users
oracle sequencedetailsdetails
expected
token categories
jdk vararg 's
private final isession session
checkbox limitno limit on data read during initial table load
at this point user input has been validated and both new and old values objects of appropriate data type either or both of newvalue and oldvalue may be null
if there no updateable model then we cannot update anything should never happen just being safe here
datatypestring typecharchar varchar longvarchar sql types
cannot edit rowid column if present
case sqltokencontext annotation id jdk annotations return new coloring null new color null
session session
iobjecttreeapi api session getobjecttreeapi this
oracle sql
find next name in text
first look to see if they identical objects both null
non javadoc see net sourceforge squirrel sql client util ioptionpanel gettitle
preferencespanel procedureseparatorlabelprocedurefunction separator
hashtable autocorrects plugin getautocorrectproviderimpl getautocorrects javaabbrevmap putall autocorrects
this stops text control from line wrapping
display mode
printing set
non javadoc see net sourceforge squirrel sql client session isqlentrypanel setundomanager javax swing undo undomanager
global references
create dialog with given content
create file
see isqlentrypanel getcaretlinenumber
data types
print fore color will be gray
we do abrevs ourselfs in documentlistener in netbeanssqlentrypanel we do n't use netbeans implementation mainly because it case sensitive if we come across performance problem one day we can still try to use this
current jtable that we working with this used only to see when user moves to different jtable so we know when to clear hashmap of datatypeobjects
convenience cast object to blobdescriptor
imainpaneltab getmaintabbedpanepanels isession session
dialog shown only when it written to
variables this linenumber component
label panel containing versions update at top of dialog
map of existing datatype objects each column key columndisplaydefinition object and value datatypeobject that column 's data type
linenumber height abends when use max value
helpviewerwindow error loadchangelogfileerror retrieving change log file url
following used in both cell and popup operations
blob cannot be used in where clause
options global popup menu
session getsqlpanelapi plugin
init user list
table data objects
options column increased
this actual command that colors stuff color stuff with description of style matched to hash table that has been set up ahead of time
handle of connected server
usermanager of jaybird
forever
after lexer has been set up scroll reader so that it in correct spot as well
only if text did really changed null re change intervals must be adjusted if text did not change there nothing to adjust
color maroon
windowmanager errorselectingwindowerror selecting window
logger this class private final static ilogger log loggercontroller createlogger preferencespanel class
since previous entry might have changed color we need to reset color back to default value table cells taking into account whether cell selected or not
interval involved even if pos lied one point before or after interval this way example we get select out of comment coloring when first removed
record colorstartpos of last bit of text that we colored
we will highlight tokens until we reach good stopping place first obvious stopping place end of document lexer will return null at end of document and wee need to stop there
synchronized doclock
iobjecttreeapi api session getobjecttreeapi plugin
create new document
since we did something we should check that there nothing else to do before going back to sleep
though in api doc they say setcharacterattributes thread save we received observed java lang errors from swing as well as dead locks that 's why we do changes synchron now
todo columns tables
internationalized strings this class
targettype target type sql
string catalog string schema string simplename
remove core items since they most recent and user not allowed to remove them
todo setfont style createstyledfont getfont
not something we can read
removed reformatting
setting model initializes columns we want to initialize columns ourselves below
can use empty blob editing
no rows selected
folder to store user settings in
label containing location of plugins at top of dialog
table of loaded plugins in centre of dialog
column internal name
private jlabel lbltitle new jlabel
column loaded status
other types treated as strings internally in squirrel
total number of threads
start threads
join with threads
this expected
first parse sql string
this expected
bean global preferences
now sequences should go
plugin
we try to cascade
printing
utilundertest null
now that we have run view definition query and retrieved sql that body of view that it 's query part minus create view as prefix we can drop view
updateutil util new updateutilimpl
tablename
this column on which constraint to be dropped defined
printing
printbtnprefsize width
mocks generic dialect test
no paper edges we print graph as it to single image
db requires primary keys to also be declared not null
graph dina din
need directory that exists
btncopytoclipprefsize width
mysql spatial index requires not null column
non javadoc see net sourceforge squirrel sql client plugin iplugin initialize
alterations fail some reason unless you do this
todo move to new standard location and rewrite test to be less static
we need to add second column to have unique constraint so that we can drop that one progress does n't allow very first index to ever be dropped
this what we expect
gui
we always get blob even when we not reading contents since blob just pointer to blob data rather than data itself this operation should not take much time as opposed to getting all of data in blob
needs to be done at this moment that 's why we ca n't call updatefrompreferences here
see if plugin has any jars in lib dir
convert nullint into varchar
new removequotescommand session getsqlpanelapi plugin execute
postgres has some special indexes that only work on certain columns skip tests those
selects distinct values from source column
getselectedcontroller null means create new graph
this what we expect
since it likely to have procedure separator on it 's own line and it key to letting us know that proceeding statements form multi statement procedure or function it deserves it 's own place in queries arraylist if it followed by other procedure or function creation blocks we may fail to detect that so this just goes through list and breaks apart statements on newline so that this cannot happen
remove menu item from windows menu that relates to this internal frame
drop table so that we can test our create statement
action performed combo box private void cbfieldnameactionperformed java awt event actionevent evt selectedindex cbfieldname getselectedindex defaultcomboboxmodel combomodel defaultcomboboxmodel cbfieldname getmodel fielddetails fd fielddetails combomodel getelementat selectedindex cbfieldname setselecteditem fd getfieldname cbfieldtype setselecteditem fd getfieldtype tffieldlength settext fd getfieldlength tffielddefault settext fd getdefault chautoincrement setselected fd isautoincrement chnotnull setselected fd isnotnull
build sql statement to create table
we try to find completely free space new table frame
register so that we can display different tooltips depending which entry in list mouse over
quiet
create table with default value to use as model
defines size of arrow
do n't need tooltips any more
no need to this in background when schemainfo not reloaded
if node has n't already been expanded
graph inchinch
make it grow when added
enabledisable actions that require open session frames
public folder getsubfolder int idx throws indexoutofboundsexception return folder folders get idx
create it
create unique index on myuniquechar
empty body purely to shorten interface name convienience
progress throws exception if you try to drop first index that created
skip this table try next
renames source column
orderbyclausepanel hintorder by clause selected table
create non unique index on mychar
serialized attributes
axion cannot handle ts escape sequence so skip this test now
private static final db dialect db dialect new db dialect
generalpreferencespanel squirrelhomepathhome directory home
now drop second
check to see if column index within bounds of our header array
unused methods this not real dialog just fake
grab current letter as char
center text vertically
databaseobjecttype udf type dboudf type
graph btncreatenewgraphcreate new graph
column in both table and
save pointer needed insert and delete operations
create test view that we will get view def then drop and re create
private class dbcopypluginresources extends pluginresources dbcopypluginresources string rsrcbundlebasename iplugin plugin super rsrcbundlebasename plugin
verify insert worked only if dialect supports sub second timestamp values
see if all selected nodes of same type
blob exists so try to read data from it based on user 's directions
no exceptions during logging
variables non visible logger this class
sqlfiltersheet error columnlistunable to get list of columns
shutdown embedded derby db
update tablename set setcolumn setvalue setcolumn setvalue from fromtable fromtable where wherecolumn wherevalue and wherecolumn wherevalue
find local release xml file
these must not be internationalized since sql tokens must be in english no no
channel that provides snapshot release updates more frequent and less stable
table deleted from db
alter sequence sequencename restartwith startvalue incrementby incrementvalue
if we 've loop through one time each character in string then something must be wrong get out
when all updates retrieved tell user that updates will be installed upon next startup
graph orderynameorder by name
transferable
features
rename view to table name
graph savesave
check once day check once week check every time app launches
constraintgraph movelasthitfoldingpointto point
create unique index on asc desc asc desc
alter table fktestchildtable add constraint foo const unique myid
channel that provides stable release updates
hit on folding point
public static final int no action public static final int cascade delete public static final int set default public static final int set null
downloadstatuseventhandler downloadingupdatesmsgdownloading files
boolean isuptodate throws exception
some databases store time component in date columns oracle user can set preference dates that allows them to be read as timestamp columns instead this does n't appear to have ill effects databases that standards compliant such as mysql or postgresql if user prefers it use timestamp data type instead of date
info
test create statement
build ui
we should never not have object here because we only get here when datatype object has claimed that column editable if there no datatype column then default in iseditablexxx methods in this class to say that column not editable and therefore we should never have this method called in that case
if update dir actually file log error
since user only wants to be notified of updates at startup return here thereby freeing up thread
first argument jtable which only used by instances of jtextfield to convert coordinates on double click since that cannot happen with jtextarea do not bother passing table
convert to string special case some systems tack newline at end of text read assume that if last char newline that we want everything else in line
user does n't wish us to try to auto detect dest db
ms sqlserver yields conversion failed when converting datetime from character string ts
kick off thread to go and fetch files one by one and register callback class downloadstatuseventhandler
catalog schema tablename columnname datatype typename columnsize decimaldigits radix isnullallowed remarks defaultvalue octet length ordinal position isnullable
build data
driver throws exception varchar with length
determine channel that user wants stable or snapshot
tablename columns pkcolumns prefs qualifier
when user clicks ok then display update dialog again
wait user to click okclose
symbol used by user in command field to indicate put file name here when command executed
helper methods
based on defaults from db get default object instance each column
current schema says do n't load
syntax enableautocorrenable auto correct abreviation
first time through this method in program so go cleanup old log files
helpers
lazily create event
non javadoc see net sourceforge squirrel sql client util ioptionpanel gethint
always wrap on word boundaries
find local release xml file bail with exception if we cannot find it
if downloads dir does n't already exist just create it
needes to be done via event queque because method not called from event disptach thread
actions get sqlfilteraction class setenabled false
note if we here cacheschemaindependentmetadata must be false
clear
root setdefaultbutton okbtn
this funny functionality anyway and leads to problems with docktabstyle when sessionproperties closed first tab gets selected
graph refreshalltablesrefresh all tables
editwhercolssheet closeclose
dualprogressbardialog error getdialoggetdialog unable to invokeandwait dialog
generalsessionpropertiespanel objecttabsobject tabs
restore
updatepreferencespanel serverserver
dbcopyglobalpreferencestab titledb copy
get release xml file as channelxmlbean from server or filesystem
tableexportcsvcontroller filechooserbuttonchoose
codecompletion prefs table spwithparamssp with params
tableexportcsvdlg usedefaultformatinguse default formating
datatypetime mediummedium
mssql addadd
oracle diplayscriptdetailsdisplay script details
schemainfo loadingdatatypesloading data types
oracle diskreadsperexecdisk reads per exec
updatemanagerdialog checkbuttonlabelcheck
datatypebigdecimal scaleeceededscale exceeded number of digits to right of decimal place nis greater than allowed in column
tabletypestab hintshow all table types available in dbms
record now as last time we checked updates
since this timer must be started when squirrel launched wait couple of minutes squirrel to get done initializing ui
xmlreformatter nono
server determine channel that user has stable or snapshot
hsqldb throws error
mssql alldefaultsall defaults
do n't prevent user from overriding laf they choose to use swing 's default laf prop
oracle jdbc driver does n't properly identify this column in resultsetmetadata as read only now just use isautoincrement flag to simulate this setting
indexestab hintshow indexes selected table
syntax italicitalic
graph savegraphsave graph
mysql hintgrants mysql grants
mssql scriptdatabasescript database
gettersetter
tableexportcsvdlg okok
resulttab elapsedtimetotal sql query building output
sequencedetailstab hintdisplay sequence details
helpviewerwindow error loadlicencefileerror retrieving licence file url
exportconfig errorwritingprefserror occured writing to preferences file
firebird triggerdetailsdisplay trigger details
preferencespanel truncatetabletruncate table before inserting data
userscript selscripttodelplease select script to delete
syntax abrevcloseclose
non javadoc see net sourceforge squirrel sql client session isqlpanelapi fileappend
non javadoc see net sourceforge squirrel sql client plugin iplugin getlicencefilename
flag whether to use default java format true or locale dependent format false
non javadoc see net sourceforge squirrel sql client plugin iplugin getglobalpreferencepanels
hibernatesqlpanel executeexecute sql
copytablescommand loadingprefixanalyzing table
javabeandataset nameproperty name
popupeditableiopanel errorgettingpatherror getting full path name selected file
graph namename
sqlval versionversion
throws pluginexception
graph zoomprintzoomprint
add table types to list
if value contains it probably has date component
add udt parent node
oracle columnscolumns
no existing blob to re use
non javadoc see net sourceforge squirrel sql client plugin iplugin getpluginappsettingsfolder
catalogstab titlecatalogs
sqlscriptpreferencespanel deleterefactiontooltipappend on delete
mssql alludfsall user defined functions
codecompletion spwithoutparamsstored procedure without parameter info call mysp
mssql genereatecreategenerate create command each object
non javadoc see net sourceforge squirrel sql client session isqlpanelapi filesaveas
datetypetimestamp stringversionuse string version of timestamp
non javadoc see net sourceforge squirrel sql client session isqlpanelapi fileclose
non javadoc see net sourceforge squirrel sql client session isqlpanelapi fileopen
updatesummarytable nono
excelsettingspanel xlssettingsexcel import settings
updatemanagerdialog closelabelclose
colorpropertiespanel statusbarbackgroundcolorbtnlabelchoose status bar color
empty bbody
splashscreen info loadingfileloading file
tableexportcsvdlg exporttitlenewcsv ms excel export
copyprogressmonitor analyzingtablemessageanalyzing table
updatepreferencespanel weeklylabelweekly
updatecontrollerimpl exceptionmsgexception
non javadoc see net sourceforge squirrel sql client plugin iplugin unload
csvfileimporter invaliddateformatinvalid date format given
mysql tabstatusmysql table status
set to default
databaseobjectinfotab titleinfo
non javadoc see net sourceforge squirrel sql client session isession getschemainfo
databaseobjectinfotab hintbasic information
alter table drop column
popupeditableiopanel cannotcreatetempfilecannot create temp file nerror
checkbox whether to interpret input leniently or not datatypedate allowinexactallow inexact format on input
non javadoc see com mockobjects sql mockdatabasemetadata nullsaresortedhigh
basesourcetab titlesource
whether or not to read date type columns with rs gettimestamp datatypedate readdateastimestampinterpret date columns as timestamp
create panel and add gui items to it
readddateastimestamp checkbox
adds new column type integer
lenient set next
graph scriptddscript ddl
regression test harmony
non javadoc see net sourceforge squirrel sql fw sql idatabaseobjectinfo getdatabaseobjecttype
registercolumntype types longvarchar varchar
frontbase requires cascade or restrict keywords
anticipate same issue blobs as binary and longvarbinary registercolumntype types blob bit varying
convert each column that will be member key to non null this does n't hurt if they already null
check box whether to read contents during table load or not
derby real close to db only difference 've found so far instead of float length llimit
copy app module jar to core downloads directory
throws pluginexception
user does not want to overwrite file
select viewdefinition from sys sysviews sys systables sys sysschemas where tableid tableid and schemaid schemaid and upper tablename 'viewname' and upper schemaname 'schemaname'
it installed \?
'' outside comment
number of files to keep arbitrarilly set here
datatypestab titledata types
event dispatch thread purpose of getting stack traces
additional index creation
everything ok
sqlval nosqlno sql specified
editextras yearyear
set to default
text area displaying object contents
aboutboxdialog error creditsfileerror reading credits file
dont enable session drop down if it empty
create unique index indexname on tablename using btree column column tablespace where constraints
graph btnokok
alter table add constraint unique constraint
updatepreferencespanel channelchannel
save application level sql history
save options selected edit where columns
save options selected cell import export operations
editextras monthmonth
aliasmaintsheetfactory initialize this drivermaintsheetfactory initialize this
datatypeother sqlothertypesql other sql type
faster printing turn off double buffering
sqlhistorydlg filtercbostartswithstarts with
datacache msg driverregisteredsucessfullydriver class sucessfully registered driver definition
createtablescriptcommand jdbcodbcmessagejdbc odbc bridge does n't provide all of necessary metadata script may be incomplete
no special treatment
graph newnew
popupeditableiopanel errorreadingfilethere error while reading file nthe error
columnlistdialog tablenamelabeltable name
updatesummarydialog closeclose
non javadoc see net sourceforge squirrel sql client session isqlpanelapi filenew
userscript dlgtabscriptsexecuteexecute
downloadstatuseventhandler updatedownloadfailedtitleupdate download failed
db plugin showviewsourceshow view source
laf warningnote changes may not take effect until application restarted
abstractrefactoringdialog executebuttonlabelexecute
datasetviewereditabletablepanel error error
abstractrefactoringdialog tablenamelabeltable name
mssql windowswindows text ansi
popupeditableiopanel exporterror export error
graph scriptplugneededscripting only available with sql scripts plugin nget plugin from www squirrelsql org it 's free
oracle parsecallaparse calls
derbydialect typemessagederby does n't allow column type to be altered
droptabledialog cataloglabelcatalog
exportconfig xmlerrorwritingtoxml error writing to
popupeditableiopanel exporterror export error
sqlscript configyourmultitablescriptconstrinclude constraints to tables not in selection
sqlval logonsql validation logon
pastetableaction error multischemapastethe paste operation may only be applied to one schema at time
oracle triggerdetailsdetails
application splash loaddatatypepropsloading data type properties
mssql cancelcancel
graph showzoompapershowzoom paper edges
updatesummarytable alltranslationslabelall translations
determine whether we read all there in blob or not
graph showddlshow ddl
hibernatetabcontroller noconfigselectedplease select hibernate configuration to connect to nhibernate configurations can be defined in global preferences window nwould you like to open window now \?
private isession session
datatypedate mediummedium
popupeditableiopanel selectimportdatafileyou must select existing file to import data from
createtableofcurrentsqlcommand noqueryno query found to create script from
sqlhistorydlg filtercboendswithends with
updatesummarytable allpluginslabelall plugins
sqlscript dropifexistsdrop table if exists
graph cmcm
we successfully read whole thing
valid bounds
create checkbox enabling auto refresh oracle auotrefresh enable auto refresh
aboutboxdialog creditspanelcreatetimecreditspanel created in
userscript dlgtabscriptseditedit
syntax colscolumns
sqltab hintexecute sql statements
downloadstatuseventhandler changesrecordedtitlechanges recorded
importdataintotableexecutor ioexceptionan error occured while reading input file
non javadoc see net sourceforge squirrel sql client session isession getmetadata
updatepreferencespanel connectionfailuredialogmsgunable to download release xml from specified location
mysql enterdbnameenter database name
graph printgraphprint graph
sqlresultexecuterpanel closeallbutthisclose all but this
baselistinternalframe error execdoubleclickerror occured executing doubleclick event
xmlreformatter xmlwarning xml warning
popupeditableiopanel importerror import error
sqlval dbmsversiondbms version
helpviewerwindow error loadfaqfileerror retrieving faq from url
colorpropertiespanel statusbarbackgroundcolorchooserdialogtitleselect background color status bar
aboutboxdialog aboutpanelcreatetimeaboutpanel created in
csvsettingspanel usetabtab seperated
graph delgraphdo you really wish to delete this graph \?
csvsettingspanel inputfileencodinginput file encoding
columnlistdialog columnnamelabelcolumn
refactoringpreferencespanel quotetooltipidentifiers appear in quotes
dualprogressbardialog cancelbuttonlabelcancel
preferencespanel removemultilinecommentlabeltiptext
data not fully read in before so try to do that now
session drivercompliancetitlejrejdbc version mismatch
colorpropertiespanel toolbarbackgroundcolorchooserdialogtitleselect background color toolbar
tableexportcsvcontroller nocommandyou must provide command string or uncheck execute command
sqlscript successcreatesuccessfully created table
graph dina din
popupeditableiopanel importwarningimport warning
graph removegraphremove graph
columndetailsdialog commentlabelcomment
columndetailsdialog addcolumntitleadd column
sqlfiltersheet okbuttonlabelok
columndetailsdialog showbuttonlabelshow sql
triggerdetailstab hintdisplay trigger details
syntaxplugin duplicatelineduplicateline
userscript executingexecuting script
dbutil error firebirdcommitfirebird requires commit table create before inserting records please adjust your preferences
driverslistwindow nowvisible false
helpviewerwindow faqfaq
userscript selclasspathtodelplease select classpath entry to delete
binary data viewing option view ascii as char rather than as numeric value
alter sequence sequencename increment by increment minvalue minimum maxvalue maxvalue restart with restart cache cache cycle
codecompletion prefstabtitlecode completion
preferencespanel linecommentlabelstart of line comment
graph selgraphtoaddselect graph to add selected tables to
dataimportglobalpreferencestab hintpreferences data import
graph widthwidth
schemapropertiescontroller cachefilepathcache file path alias
ignore
memorypanel rungcrun garbage collection
graph dborderdb order
datatypetimestamp mediummedium
dualprogressbardialog copyingtableslabelcopying table
tableexportcsvcommand missingclobdatamsgfound clob placeholder amongst data to be exported continue exporting cell data \?
sqlhistorydlg closeclose
mssql fileoptionsfile options
graph invalidheightinvalid height
aboutboxdialog error creditsfileurlcould n't retrieve credits file url
insert into tablename column column query
chars
abstractrefactoringdialog tablenamelabeltable name
editextras dayday
updatepreferencespanel autocheckfrequencyhow often to check updates
application splash loadcellselectionsloading cell importexport selections
string templatestr null
mssql okok
droptabledialog tablelabeltable
schemainfo loadingcatalogsloading catalogs
application info jdbcwriterattempting to set jdbc debug log to writer
helpviewerwindow error loadpluginhelperror generating help entry plugin
copydriveraction error selectingwindowerror selecting window
label type combo used to enabledisable text associated with combo datatypebigdecimal read read
viewsourcetab displayshow view source
codecompletion function mustendwithfunction must end with
hashtabledataset keykey
postgresqlxmltypedatatypecomponent cellerrormsg
mysql copycancelcancel
driverslistwindow nowvisible true
syntax autocorrapplyapply
syntax tablestables
graph newnameplease enter new name
actioncollection createactionerrorerror occured creating action
datatypetime fullfull
datasetviewertablepanel conversionerrorconversion error
sqlval clientlogonclient
htmlviewerpanel error displayurlerror displaying url
failedtoparsefailed to parse
codecompletion function needstwoargsfunction needs at least two arguments
syntax literalsliterals
logpanel loginfolabellogs errors warnings infos
here we 've hit second line of multi line stanza just skip it we 're not that sophisticated
and query info
this file zip it needs to be extracted into install directory all zips packaged in such way that extraction beneath install directory all that required
updatesummarytable installoptionslabelinstall options
graph mnudeletedelete
resulttab metadatatabtitlemetadata
columndetailsdialog defaultvaluelabeldefault value
factoryproviderdialog cancelcancel
supportedrefactoringstab hintshow refactorings that supported by plugin
get conentpane into variable convenience
columndetailsdialog editbuttonlabeledit sql
non javadoc see net sourceforge squirrel sql client plugin iplugin getdescriptivename
userscript codetemplatescript code template
whole blob has been previously read in
oraclepluginpreferencespanel readclobsfullycheckboxttread all clob data when contents tab displayed
mysqlplugin showproceduresourceshow procedure source
updatesummarydialog currentversionprefixcurrent version
notgeneratedinworkdirfile has not been generated cannot continue
oracle executionexecutions
hibernateconfigcontroller reallyremoveconfigare you sure you want to delete configuration
hibernatesqlpanel alwaysformatalways format
read succeeded so reset blobdescriptor to match
validatorglobalpreferencestab hintpreferences sql validation
oraclepluginpreferencespanel sessiontimezonelabelinitialize session timezone
abstractrefactoringdialog showbuttonlabelshow sql
mappingroot drivernamejdbc driver name hibernate
generalsessionpropertiespanel sqlresultssql results
derbyplugin prefstitlederby
artifactstatus corelabelcore
updatemanagerdialog settingslabelsettings
internal class handling key events during editing of both jtextfield and jtextarea
sqlfilteraction singleobjectmessageyou must have single table or view selected to activate sql filter
userscript dlgtabscriptsscripts
mysql droppingdbsdropping database
lockdetailstab hintdisplay locks
sqlhistoryitemwrapper sqlsql
exportconfig errorresolvingfileerror resolving file name
indexdetailstab hintdisplay index details
other tests
sqlhistoryitemwrapper lastusedlast used
copy files to downloads directory
sqlresultexecuterpanel titleresults
exportconfig errorcreatingfileerror occured reading from preferences file
sybaseaseplugin triggerhintshow trigger source
one synchron call first completion
hibernateconfigpanel toobtainsessionfactpersunitpersitence unit name
must not qualify column name
dialectutils error getprimarykeyunable to get primary key info table
tableexportcsvdlg cancelcancel
timedatefunctionstab titletimedate functions
sqlscriptpreferencespanel deleterefactioncheckboxlabeladd delete referential action to fk definition
tableexportcsvcontroller filechoosertitelchoose export file
memorypanel sessioninfo tostring session id alias created at closed at finalized at
end of inner class
updatesummarytable yesyes
supportedrefactoringstab titlesupported refactorings
oracle displaydetailsdisplay index details
schemapropertiescontroller tableheader schemaschema
now functions popup related operations
hibernateconfigpanel editfactoryprovideredit
desc
oraclealiasprefspanel applynowapply now
refactoringpreferencespanel bordertitlerefactoring preferences
tableexportcsvcommand failedtoexecutecommandfailed to execute nerror message nsee last log entry details
non javadoc see net sourceforge squirrel sql client plugin iplugin getversion
rename to
artifactstatus pluginlabelplugin
sqlval logoncloseclose
importdataintotableexecutor importingdataintoimporting data into
tableexportcsvdlg columnseparatorcolumn separator
graph savegraphimagestofilecopy graph to clipboard
mysql fieldpropsfield properties
colorpropertiespanel objecttreebackgroundcolorchooserdialogtitleselect background color object tree
sqlresultexecuterpanel cancelerequestedquery execution cancel requested by user
sqlbookmark descdescription
copy core files minus any jars to core downloads directory
mapdataset unsupported
graph showqualifiedtablenamesshow qualified table names
csvsettingspanel usecharseperated by character
syntax prefuseplainuse plain editor
application error loadcolsinfounable to load edit 'where' columns selections
sqlfiltersheet closebuttonlabelclose
create new object to hold different value but use same internal blob pointer as original
userscript scriptclassscript class
tell user that there problem basedatasetviewerdestination errorerror
graph refreshtablerefresh table
oracle displaysnstancedetailsdisplay instance details
actioncollection actionnotfoundaction not found in actioncollection
sqlval useruser
mmsql textfilestext files
if original object not null then it contains blob object that we need to re use since that dbs reference to blob data area otherwise we set original blob to null and write method needs to know to set field to null
specialcolumnmapping fixed valuefixed value
executingcommandexecuting command
userscript confirmremovedo you want to remove script from list \?
application error savedatatypepropsunable to write datatype properties to persistant storage
editextras errorprocessingformaterror processing format sql command
mssql monitormonitor
indexdetailstab titledetails
modifydriveraction error selectingwindowerror selecting window
helpviewerwindow error displaydocumenterror displaying document
we need trycatch just to keep compiler happy
hashtabledataset valuevalue
mysql copytablecopy table
default no reference
updatemanagerdialog channellabelchannel
popupeditableiopanel fileerrorfile name error
this another way to do this modifying column type to serial much easier thanks to doug lawry setting me straight
db requires that columns be not null before applying unique constraint
resulttab infotabtitleinfo
cancelstatementthread cancelsucceededlatecanceling statement succeeded now but took longer than one second
generalsessionpropertiespanel generalgeneral
sqlresultexecuterpanel nonstickypanelcannot make cancel panel sticky
dumpapplicationcommand headersquirrel sql client application dump
hibernateconfigcontroller noconfigtoremoveno configuration selected to remove
syntax errabreverror abreviation
databasemetadata nullabletypenullableunknownunknown
noeditorcommandcan not open files withou editor command
sqlhistorydlg filtercboregexregular exp
popupeditableiopanel exporterror export error
syntax prefsyntaxsyntax
datetypetimestamp defaultformatuse default format
refactoringpreferencestab titlerefactoring
null tests
mysql btremoveremove
strip quotes from column name
dualprogressbardialog copyingrecordslabelcopying records
dbutil error maptypecould n't map type table' column'
objecttreetab titleobjects
alter table tablename alter column columnname identity
system err println mockapplication getmainframe stub not yet implemented
non javadoc see net sourceforge squirrel sql client plugin iplugin getinternalname
sessionpanel new sessionpanel this
syntaxplugin tolowercasetolowercase
treeapi adddetailtab databaseobjecttype procedure new proceduresourcetab show procedure source
memorypanel sessioninfo tostring session id alias created at
mockconnection mockcon getmockconnection
add package node to contain standalone procedures
createdriveraction error selectingwindowerror selecting window
global errors
factoryproviderdialog titlename of sessionfactorimpl provider
sqlhistorydlg applyfilterapply
executingcommandfailedexecution failed with error
rowdatainputframe datadata
oracle sortssorts
graph noselno selection
helpviewerwindow pageloadedpage loaded
schemapropertiescontroller cachefilepathnotexistscache file alias does not exist if it existed path would be
tableexportcsvdlg withheadersinclude column headers
progresscallbackdialog initialloadingprefixloading
mssql currentactivitycurrent activity
tableexportcsvcontroller commandchoosertitelchoose command executable
popupeditableiopanel exporterrorexport error
alter table tablename add constraint constraintname unique index indexname indextype indexcolumnname
actioncollection createactioninfoattempting to load action class
xmlrefomatter xmlwarningxml warning
schemainfo loadingkeywordsloading keywords
mssql generalgeneral
columndetailsdialog nullablelabelnullable
mocksession
build table types returned by postgresql
clone test bean and change every bean property
syntax removerowsremove selected rows
get list of files using that base name
mssql objectsonobjects on
codecompletion prefs table spwithoutparamssp without params
squirrel installed lib dir
datasetviewereditabletablepanel deleterosquestiondo you wish to delete rows from this table \?
trying to set time to exact number
add button to execute external command popupeditableiopanel execute execute
we need to convert to different format default to hex
updatesummarydialog titleupdate summary
hibernate hibernatetabpanel openconfigsopen hibernate configurations
data
dataimportglobalpreferencestab titledata import
syntaxplugin replacereplace
graphtofile imagefilespecjpg image format
oracle sessiondetailsdetails
property change control panel
some dialects support adding columns but logic has not been added yet to dialect if that case message not yet implemented fail all other messages
syntax reswordsreserved words
editwherecolsaction singleobjectmessageyou must have single table selected to limit colums used in edit where clause
syntax selcolorselect color
sqlval logonokok
popupeditableiopanel filedoesnotexistfile does not exist nor not readable normal file nplease enter valid file name or use browse to select file
metadatatab hintshow database metadata
print comment
sqlscript enternameoftableenter name of table
hibernateconfigcontroller classpathentrydescjars zips or directories
syntax prefusenetbeansuse netbeans editor recommended
hqlentrypanelmanager quotehqlsbquote hql as stingbuffer
userscript showinstandardmenuesshow in standard menues
sourcedirisnotadirectorysource directory not directory
can be done as follows in postgres insert into mytable id name select 'pizza' union select 'donuts' union select 'milk'
mappingroot urljdbc url hibernate
updatemanagerdialog titleupdate manager
syntax datatypesdata types
session drivercompliancethe driver being used alias '' '' not jdbc compliant nyou should consider getting more recent version of this driver
all currently installed artifacts will be marked with install action
celldatapopup valueofcolumnvalue of column
entries
csvsettingspanel dateformatdate format
drop index indexname cascade
informixexceptionformatter positionlabelposition
updatepreferencespanel urllabelurl
sqlbookmark editbookmarkedit bookmark
sqlbookmark btntexteditedit
oracle bufferperexecbuffer gets per exec
do n't know of any api getting event dispatch thread but we can assume that it 's current thread if we 're in middle of dispatching awt event
mysql copytonewtablecopy to new table
check null argument handled
mssql allviewsall views
schematableupdatewhatitem proceduresprocedures
db plugin showtriggersourceshow trigger source
sqlscriptpreferencestab titlesql scripts
columndetailsdialog modifybuttonlabelmodify column
syntax functionsfunctions
pleasewaitdialog cancelcancel
updatepreferencespanel localpathlabellocal path
making sure that directory does not exist
oraclepluginpreferencespanel showerroroffsetlabelshow syntax error offset in sql editor
column name sqltype
construct mock objects
userscript propsdlgcancelcancel
file handling controls popupeditableiopanel usefileuse file
updatemanagerdialog repositorytablabelrepository
execute test
graph showconstrshow constraint names
dumpsessionaction errorerror occured dumping session
oracle diskreadsdisk reads
see comparator compare object object
non javadoc see java awt datatransfer transferable isdataflavorsupported java awt datatransfer dataflavor
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getdatabaseproductname
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getcascadeclause
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportsschemasintabledefinitions
non javadoc see com mockobjects sql mockdatabasemetadata supportsmixedcaseidentifiers
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportsresultsettype int
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getschematerm
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportscatalogs
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportscatalogsinprocedurecalls
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata gettypeinfo deprecated replaced by getdatatypes
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getprocedures java lang string java lang string java lang string net sourceforge squirrel sql fw sql progresscallback
mssql optionsoptions
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getimportedkeysinfo net sourceforge squirrel sql fw sql itableinfo
add classpath string
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getprimarykeys net sourceforge squirrel sql fw sql itableinfo deprecated use getprimarykey instead
objecttreetab hintshow database objects
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getprocedurecolumns net sourceforge squirrel sql fw sql iprocedureinfo deprecated use getprocedurecolumnsdataset instead
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getprimarykey net sourceforge squirrel sql fw sql itableinfo
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getcolumninfo net sourceforge squirrel sql fw sql itableinfo
non javadoc see net sourceforge squirrel sql fw sql metadatadataset next net sourceforge squirrel sql fw util imessagehandler
non javadoc see net sourceforge squirrel sql client preferences iglobalpreferencespanel uninitialize net sourceforge squirrel sql client iapplication
non javadoc see javax swing table abstracttablemodel getcolumnname int
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter close
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter getpreview int
columndiffdialog sessionlabelprefixsession
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter getint int
non javadoc see javax swing table tablemodel getrowcount
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter getrows
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter getconfigurationpanel
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener statementexecuted net sourceforge squirrel sql plugins dbcopy event statementevent
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener recordcopied net sourceforge squirrel sql plugins dbcopy event recordevent
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener handleerror net sourceforge squirrel sql plugins dbcopy event errorevent
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener analyzingtable net sourceforge squirrel sql plugins dbcopy event tableevent
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener tablecopystarted net sourceforge squirrel sql plugins dbcopy event tableevent
non javadoc see net sourceforge squirrel sql client util ioptionpanel getpanelcomponent
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider getdestselecteddatabaseobject
non javadoc see net sourceforge squirrel sql client plugin iplugin getinternalname
non javadoc see net sourceforge squirrel sql client plugin iplugin getversion
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getversioncolumns net sourceforge squirrel sql fw sql itableinfo deprecated use getversioncolumnsdataset instead
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider setcopysourcesession net sourceforge squirrel sql client session isession
non javadoc see javax swing table defaulttablemodel getcolumncount
non javadoc see javax swing table defaulttablemodel iscelleditable int int
udfdetailstab titledetails
non javadoc see net sourceforge squirrel sql client plugin iplugin getauthor
idatatypecomponent interface methods see net sourceforge squirrel sql fw datasetviewer cellcomponent idatatypecomponent candofileio
non javadoc see net sourceforge squirrel sql plugins smarttools gui ismarttoolframe setfocustofirstemptyinputfield
non javadoc see net sourceforge squirrel sql client session event isqlexecutionlistener statementexecuted java lang string
generalpropertiespanel leftleft
non javadoc see net sourceforge squirrel sql fw sql sqldatabasemetadata getimportedkeysinfo net sourceforge squirrel sql fw sql itableinfo
non javadoc see net sourceforge squirrel sql fw sql itableinfo setimportedkeys net sourceforge squirrel sql fw sql foreignkeyinfo
non javadoc see com mockobjects sql mockdatabasemetadata getdatabaseproductname
non javadoc see com mockobjects sql mockdatabasemetadata deletesaredetected int
non javadoc see com mockobjects sql mockdatabasemetadata isreadonly
non javadoc see com mockobjects sql mockdatabasemetadata nullsaresortedatstart
non javadoc see com mockobjects sql mockdatabasemetadata othersinsertsarevisible int
non javadoc see com mockobjects sql mockdatabasemetadata owndeletesarevisible int
non javadoc see com mockobjects sql mockdatabasemetadata ownupdatesarevisible int
non javadoc see com mockobjects sql mockdatabasemetadata storeslowercasequotedidentifiers
non javadoc see com mockobjects sql mockdatabasemetadata storesuppercasequotedidentifiers
non javadoc see com mockobjects sql mockdatabasemetadata supportsansi fullsql
non javadoc see com mockobjects sql mockdatabasemetadata supportscatalogsinindexdefinitions
non javadoc see com mockobjects sql mockdatabasemetadata supportscolumnaliasing
non javadoc see com mockobjects sql mockdatabasemetadata supportscorrelatedsubqueries
non javadoc see com mockobjects sql mockdatabasemetadata supportsdifferenttablecorrelationnames
non javadoc see com mockobjects sql mockdatabasemetadata supportsgetgeneratedkeys
non javadoc see com mockobjects sql mockdatabasemetadata supportsgroupby
non javadoc see com mockobjects sql mockdatabasemetadata supportsintegrityenhancementfacility
non javadoc see com mockobjects sql mockdatabasemetadata supportsmultipletransactions
non javadoc see com mockobjects sql mockdatabasemetadata supportsopencursorsacrosscommit
non javadoc see com mockobjects sql mockdatabasemetadata supportsorderbyunrelated
non javadoc see com mockobjects sql mockdatabasemetadata supportsresultsetconcurrency int int
non javadoc see com mockobjects sql mockdatabasemetadata supportsschemasinindexdefinitions
non javadoc see com mockobjects sql mockdatabasemetadata supportsschemasintabledefinitions
non javadoc see com mockobjects sql mockdatabasemetadata supportsselectforupdate
non javadoc see com mockobjects sql mockdatabasemetadata supportsstoredprocedures
non javadoc see com mockobjects sql mockdatabasemetadata supportssubqueriesinins
non javadoc see com mockobjects sql mockdatabasemetadata supportstransactions
non javadoc see com mockobjects sql mockdatabasemetadata useslocalfilepertable
non javadoc see net sourceforge squirrel sql client session mainpanel basemainpaneltab refreshcomponent
memorypanel sessioninfo tostring session id alias created at closed at
hibernateconfigpanel toobtainsessionfactconfigurationcall new org hibernate cfg configuration configure buildsessionfactory
graph addchildtablesadd child tables
explainplanexecuter plantableunavailabletitle plan table not found
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider getdestselecteddatabaseobject
userscript dlgtabscriptsremoveremove
refactoringpreferencespanel prefstooltiptable names appear in scripts as schema table
sqlbookmark prefnamename
scope
triggerdetailstab titledetails
sqlscript dlgcreattableofsqlcreate table of sql
schemainfo loadingtablesloading tables
dialectutils columndefaultunsupported doesn''t support altering column' 's default value
userscript classnotfoundinclass found in
sqlhistoryitemwrapper indexindex
threadcheckingrepaintmanager workinwrongthreadgui work done in wrong thread
preferencespanel statementseparatorlabelstatement separator
importfiledialog tablecolumntable column
sqlval dbmsdbms
helpviewerwindow error loadpluginsettingserror retrieving app settings folder plugin
syntax findnetbeansonlyfind only available when netbeans editor used nsee menu file new session properties tab syntax
htmlviewerpanel error processhyperlinkerror processing hyperlink
oracle displaytriggercolumnsdisplay trigger column information
xmlreformatter seeothererrs ndo you wish to see other errors \?
hibernateconfigpanel newfactoryclasspathborderadditional classpath entries to create sessionfactoryimpl
hibernateconfigcontroller nocfgnamemsgnot valid configuration name nchanges cannot be applied
popupeditableiopanel executeerror execute error
schematableupdatewhatitem viewsviews
droptabledialog titledrop table
graph addparenttablesadd parent tables
sqlval descriptivenamesql validator plugin
sqlval anonymousanonymous
schemapropertiespanel specifyschemasspecify schema loading and caching
graph graphsavedgraph saved to
javabeandataset valuevalue
derbyplugin showproceduresourceshow procedure source
resultsetmentadataset propnameproperty name
columnlistdialog executebuttonlabelexecute
mysql shoevariables mysql show variables
userscript codetemplatesavesave
mappingroot connectionerrerror getting sql connection data from hibernate
updatepreferencespanel atstartuplabelat startup
updatemanagerdialog hostlabelhost
userscript selscripttoexecplease select script to execute
hibernateconfigpanel classpathaddadd classpath entry
abstractrefactoringdialog cancelbuttonlabelcancel
editextras timetime
sqlval technologytechnology
mssql performaceperformance counters
mapdataset keykey
mssql scriptprimaryscript primary keys foreign keys defaults and check constraints
laf lfl
mssql delay delay
pleasewaitdialog pleasewaitplease wait while query executed
numericfunctionstab hintshow all numeric functions available in dbms
userscript applicabletoscripts applicable to objects of type
syntax whitespacewhite space
popupeditableiopanel exporterror export error
syntax textlimitlinevisibleshow text limit line
graph chkislandscapelandscape
trying to set time to negative number
oraclealiasprefspanel accessiblebutsysallow accessible schemas excluding sys
nonativetoasciioutdirnodirnative ascii output dir not directory native ascii will not be executed
hibernateattribuitedataset dbtablenamedatabase table name
sqlscript configmultitablescriptconfiguration of multi table scripts
sqlfiltersheet clearbuttonlabelclear
progressbardialog cancelbuttonlabelcancel
catalogstab hintshow all catalogs
sqlval infoborderinfo
formattersourcetab nosourceavailableno object source code available
sessionpropertiespanel loadschemascatalogsload schemascatalogs into object tree
driverpropertiespanel usedriverpropertiesuse driver properties
updatecontrollerimpl releasefiledownloadfailedmsgrelease file could n't be downloaded please check your settings
sqlval disconnecteddisconnected from sql validation web service
oracle displaysnapshotdetailsdisplay materialized view details
editwherecolssheet unabletoeditunable to get list of columns
oraclealiasprefspanel accessibleandsysallow accessible schemas and sys
columnlistdialog showsqlbuttonlabelshow sql
sqlresultexecuterpanel nosqlselectedno sql selected execution
oracleplugin hintpreferences oracle
aboutboxdialog info endmemtimerending memory timer aboutbox
dbutil error nocolumnstable in schema has no columns to copy
non javadoc see net sourceforge squirrel sql client session isqlpanelapi fileprint
nonativetoasciicommandcannot convert files without native ascii command
editwhercolssheet resetreset
sqlbookmark prefcloseclose
exportconfig errorsavingalialserror saving aliases
sqlhistorydlg sqlprefsql
sqlscript tablescriptcancelcancel
add button brows popupeditableiopanel browsebrowse
oracleprefspanelcontroller hintoracle plugin preferences
sqlscript scriptonlygenerate script only
generalsessionpropertiespanel appearanceappearance
oraclealiasprefspanel headerconfigure oracle schema loading properties
syntax errorserrors
graph addtablerefbyadd table referenced by
dumpapplicationcommand error dumpingstatuserror dumping application status bean
sqlbookmark entersqlplease enter bookmark sql
hibernateconfigpanel factoryprovidersessionfactoryimpl provider
editextras hourhour
droptabledialog schemalabelschema
editextras minuteminute
codecompletion prefsexplainwhen completing functions squirrel does n't know if function stored procedure or user defined function to make code completion of these two kinds of functions convenient squirrel offers to configure which way completion should work
editwherecolssheet limitsizeofwhereclauselimit size of where clause used behind scenes when editing cell contents
updatepreferencespanel autoborderlabelautomatic updates
updatesummarydialog installedversionprefixinstalled version
syntax identifiersidentifiers
xmlreformatter yesyes
errorstream expectedexpected
popupeditableiopanel cannotaccessfilecannot access file name naborting export
some kind of problem tell user datasetupdateabletablemodelimpl error deletefailedone of delete operations failed with exception ndatabase in unknown state and may be corrupted
tablepriviligestab titleprivileges
application error savecolsinfounable to write edit where cols options to persistant storage
datasetviewertablepanel makeeditablemake editable
exportconfig fileexistsbutreadonly nexists and you cannot write to it nplease use different name
columnstab hintshow columns selected table
preferencespanel transferoptionsborderlabeltransfer options
datatypestab hintshow all data types available in dbms
graph renamegraphrename graph
postgresplugin showviewsourceshow view source
datasetviewereditabletablepanel errorerror
tableexportcsvdlg charsetcharset
sqlfiltersheet contentsmsgyou must have contents tab selected to activate sql filter
helpviewerwindow error loadpluginlicenceerror generating licence entry plugin
resulttab limitmessagelimited to rows
sybaseaseplugin titlesybasease
generalpreferencespanel pathssquirrel paths
oracle detailsdetails
laf broderlaflook and feel
mssql monitorasofmonitor as of date full
graph landscapelandscape
syntax commentscomments
syntax configautocorrconfigure auto correct abreviation
columnpriviligestab titlecolumn privileges
syntax prefsyntaxhintsyntax highlighting
hibernatesqlpanel appendsqlappend
syntax switchingnotsupportedswitching editor of runninig session not supported nyou may switch entry area in new session properties dialog
laf otmfilesotm files
graph btncancelcancel
prelaunchhelperimpl backupfailedmessagebackup of existing files failed installation cannot proceed
graph orderpksconstrorder pksconstraints on top
resultframe stayontopstay on top
databasemetadata searchabletypesearchablesupports all where
codecompletion prefs table udfwithparamsudf with params
sqlval anonymous anonymous
mysql defaultvaluedefault value
systemfunctionstab titlesystem functions
mssql scriptusersscript database users and database roles
schematableupdatewhatitem allobjectsall objects
mappingroot cfgnameconfiguration
deletetablescommand progressdialogtitleanalyzing tables to delete
tableexportcsvdlg exportcompletetableexport complete table
viewlogssheet error clearlogcontentserror clearing log contents
popupeditableiopanel notwriteablefile not writeable nchange file permissions or select differnt file export
schemapropertiescontroller cachedeletefailedcould not delete
mocks
userscript propsdlgokok
userscript enterscriptclassplease enter script class
sqlscriptpreferencespanel prefstooltiptable names appear in scripts as schema table
tableexportcsvdlg lineseparatorlabelline separator
hibernateconfigpanel newconfignew
graph viewtableinobjecttreeview table in object tree
sqlresultexecuterpanel querystatisticsquery of elapsed time seconds total sql query building output
generalpropertiespanel toptop
popupeditableiopanel export export
graph selgraphselect graph
syntaxplugin uncommentuncomment
helpviewerwindow licenceslicences
mssql includeheadersinclude descriptive headers in script files
mappingroot classpathclasspath
dbcopyglobalpreferencestab hintpreferences db copy
mssql filestogeneratefiles to generate
refactoringpreferencespanel quotecheckboxlabelquote identifiers in scripts
sqlval dbmsnamedbms name
popupeditableiopanel fileoverwritefile already exists ndo you wish to overwrite this file \?
hibernatetabcontroller titlehibernate
columnstab titlecolumns
add stored proc parent node
laf menufonteanbledenabled
updatepreferencespanel dailylabeldaily
popupeditableiopanel fileopenerrorthere error opening file nthe error
userscript propsdlgcheckcheck
proceduresourcetab clanguageprocmsgthis language routine source code unavailable
errorstream oneerror error detected
schemapropertiescontroller cachedeleteddeleted
graph removefoldingpointremove folding point
userscript dlgtabscriptsadd add
editwherecolssheet editwherecolumnsedit 'where' columns
connectionstatustab hintconnection status
datatypestring limitreadonlylimit read only on columns with these names
popupeditableiopanel replacefile in command string replaced by file name when executed
datatypedate usedefaultformatuse default format
mysql selectsingletablemust select single table
sqlbookmark qureyparamsquery parameters
userscript tablecolnamename
aliaseslistinternalframe error ctrlf keyprobably closed by ctrl key see basicdesktoppaneui closeaction
oracle sortsperexecsorts per row
firebird domaindetailsdisplay domain details
abstractrefactoringdialog executebuttonlabelexecute
sqlresultexecuterpanel execexecuting sql
tableexportcsvcontroller invalidseparatoryou must provide single separator character or check use tab to use tab character
rownumbertablecolumn rownumberrow number
syntaxplugin findfind
tableexportcsvdlg sepeartortabuse tab character
defaultdatabaseexpander error retrieveschemaprivsunable to retrieve schema privileges
popupeditableiopanel showasciishow ascii as chars
label date format combo used to enabledisable text datatypetime usedefaultformat or locale dependent format
hibernatesqlpanel sqlsql
resulttab rowcountlabelrow count
keywordstab hintshow all non standard keywords available in dbms
columndiffdialog missinglabelmissing
datatypeother readcontentswhenloadedread contents when table first loaded and display as string
updatesummarydialog applylabelapply changes
add button applying file cmd info without doing anything else popupeditableiopanel applyfileapply file cmd
schemapropertiespanel schematableupdatelable set
specialcolumnmapping nullnull
syntaxplugin autocorrautocorr
hashtabledataset unsupported
datatypetime usedefaultformatuse default format
updatecontrollerimpl changesrecordedtitlechanges recorded
progresscallbackdialog defaultloadingprefixloading
hibernateconfigpanel toobtainsessionfactfactoryproviderinvoke user defined provider method below
oracle triggercolumnscolumns
excelsettingspanel sheetnamesheet name
mssql extpropsinclude extended properties
session drivercompliance driver being used alias '' '' not jdbc compliant nyou should consider getting more recent version of this driver
popupeditableiopanel noexportfileno file name given export nplease enter file name or use browse before clicking export
driverslist tooltiptextlist of database drivers that can be used to configure alias
columndetailsdialog precisionlabelprecision
schematablecboitem schemaid dontloaddo n't load
logpanel viewlastlogpress to view last log entry
updatemanagerdialog portlabelport
userscript classnotfoundclass not found
mssql onefilecreate one file
syntax operatorsoperators
sqlpanel copylastbutton hintcopy current sql history to entry area
userscript dlgtabscriptsaddadd
mysql structurestructure
sessionpropertiespanel schemaprefixlimit schema objects using these comma delimited prefixes
tableexportcsvcommand failedtowritefilefailed to write file nerror message nsee last log entry details
pluginsummarydialog unloadunload
graph unitunit
editwherecolssheet shouldincludepksthe 'use' window should include at least primary keys table
sqlval connectedconnected to sql validation web service
columndetailsdialog cancelbuttonlabelcancel
sqlscriptpreferencespanel bordertitlesql script preferences
codecompletion udfwithoutparamsuser defined function without parameter info myfunct
editextras escapedateescape date
abstractrefactoringdialog editbuttonlabeledit sql
tableexportcsvdlg formatcsvexport csv file
set up cancel button celldatapopup cancelcancel
sqlscriptpreferencespanel updaterefactioncheckboxlabeladd update referential action to fk definition
generalpropertiespanel rightright
sqlpanel opensqlhistory hintopen sql history
schemapropertiescontroller titleschemas
helpviewerwindow welcomewelcome
sqlbookmark enternameplease enter bookmark name with no blanks
updatecontrollerimpl updatecheckfailedtitleupdate check failed
graph invalidnumberformatinvalid number format can not calculate new unit
oracle sessionstatisticssession statistics
systemfunctionstab hintshow all system functions available in dbms
xmlrefomatter noxmlthe data does not contain any xml tags no reformatting done
sqlresultexecuterpanel rowsselected row selected
replace with types rowid when java minimum supported version
helpviewerwindow error congenerror generating contents file
prelaunchhelperimpl installupdatesmessageupdates ready to be installed install them now \?
application info setjdbcdebuglogsuccessjdbc debug log set to output stream successfully
sqlbookmark nodeusermarksuser bookmarks
sqlhistorydlg filteredfiltered
graph scripttablescript table
graph formatsformats
oracle firstloadtimefirst load time
editextras convertstringbuferrerror executing convert to stringbuffer command
showdriverwebsitecommand comfirmno website url specified driver would you like to add one \?
graph graphremovedremoved graph file
columnlistdialog cancelbuttonlabelcancel
application error showhelpwindowerror showing help window
userscript scriptcompletedscript completed
mysql grantsmysql grants
mssql activitydisplays current activity on sql server
graph hidescrollbarshide scrollbars
connectionstatustab titlestatus
graph rightclicktableright click table in object tree to add to graph
string null resultsetmentadataset valvalue
defaultvalue octetlength ordinalposition isnullable
logpanel openlogspress to open logs
oracle rowsperexecrows per exec
sqlbookmark nodesquirrelmarkssquirrel bookmarks
mssql scriptpermissionscript object level permissions
columndetailsdialog lengthlabellength
columndetailsdialog dialectlabeldialect
timedatefunctionstab hintshow all timedate functions available in dbms
driverslistinternalframe error ctrlf keyprobably closed by ctrl key see basicdesktoppaneui closeaction
sqlbookmark btntextviewview
mssql msdosms dos text oem
derbyplugin prefshintset preferences derby plugin
graphtofile filechoosertitlesave image file
logpanel titleerrorlast log entry entry type error
exportconfig ioerrorwritingtoio error writing to
sqlscriptpreferencespanel deleteactionlabelaction to take on delete
hibernateconfigpanel configconfiguration
dumpapplicationcommand error dumpingsystempropserror dumping metadata
dbutil info bindclobmembindclobvarinmemory binding bytes
datatypedate fullfull
oraclepluginpreferencespanel hiderecyclebincheckboxtooltiprecycle bin tables flashback database option in oracle
columnlistdialog primarykeytitlechoose column primary key
importtabledatacommand cancelcancel
databasemetadata nullabletypenonullsfalse
oraclepluginpreferencespanel hiderecyclebincheckboxlabelremove recycle bin tables from object tree
factoryproviderdialog okok
graph addtablerefbynohitadd table referenced by no hit on fk
abstractrefactoringdialog cancelbuttonlabelcancel
oracle parseschemaparse schema
application error setlaferror setting laf
sqlparam quotevaluesquote values
updatepreferencespanel statuslablesuccessmsgconnected successfully
sqlbookmark enterdescriptionplease enter bookmark description
tableexportcsvdlg useglobalprefsformatingexceluse formating as configured in global prefs recommended ms excel
updatepreferencespanel enableautoupdateenable automatic updates
userscript scriptpropsnamename
derbypluginpreferencespanel readclobsfullycheckboxlabelenable extended derby clob support
mysql tablenamelbltable name
remove table with name table
rowdatainputframe insertinsert
schemapropertiespanel loadallandcachenoneload all schemas cache none
favs savedqueriessaved queries
sqlval pwdprefpassword
mssql remove remove
firebird showviewshow view source
generalsessionpropertiespanel texttext
oraclexmltypedatatypecomponent cellerrormsg
syntax selcolor select color
codecompletionpreferencespanel numberoftablesnumber of tables
sqlval settingsanonanonymous
popupeditableiopanel nofileno file selected
put built by manningr argmap get built by key
codecompletion udfwithparamsuser defined function with parameter info myfunct
columnlistdialog primarykeynamelabelprimary key name
factoryprovidercontroller filecreatedfile has been successfully created
graph dina din
tabletypestab titletable types
specialcolumnmapping skipskip
create classloader all laf jars install all look and feels into uimanager
xmlrefomatter unexpectedproblemunexpected problem during formatting
get look and feel class object
dbutil error tablenotfoundcould n't locate table in schema
downloadstatuseventhandler changesrecordedmsgrequested changes will be made when squirrel restarted
updatepreferencespanel sitetypelabelsite type
laf menusmenus
mssql unicodeinternational text unicode
graph invalidnameinvalid name
whereclausepanel operatorslabeloperators
syntax addrowadd row
from mysql manual
mysql hinttabstatus mysql table status
informixexceptionformatter notavailablemsgnot available
graph heightheight
explainplanexecuter createplantabletitlecreate plan table
explainplanexecuter plantableunavailableexplain plans will be unavailable this session
userscript dlgtabecpextra class path
editwherecolspanel nopkthe table '' '' does n't have primary key
mysql processesmysql processes
get where clause selected row says to just use contents of values without any substitutions
xmlrefomatter malformedxmlpossible mal formed xml starting tag nending tag ncontinuing with reformatting xml
oracle displayssequencedetailsdisplay sequence details
syntax corextcorrection extension
mssql refreshnowrefresh now
memorypanel statusdialogtitlesession garbage collection status
read db metadata info and fill in value if any note that resultset info and coldefs should be in same order but we cannot guarantee that
mssql allspsall stored procedures
sqlhistorydlg titlesql history
schemastab titleschemas
now that we have file do import note sequence of operations divided into two sections at this point preceeding code ensures that we have readable file and code in following method call does import reason splitting at this point that execute operation needs to do import and it will already have file to do import from which same as file it exported into
command to use when processing data with external program
graphtoclipboard closebuttonclose
set on update action to no action as oracle does n't currently support this no action causes update clause to be omitted
final jscrollpane sp new jscrollpane sp setborder borderfactory createemptyborder sp setviewportview tree sp setpreferredsize new dimension
option to select default catalog only applies to sessions that support catalogs
if user wants to select right mouse clicks then change selection before popup appears
sqlbookmark deleteconfirmdo you really wish to delete selected bookmark \?
if this session does n't share sql history with other sessions then disable controls that relate to sql history
contentstab hintview contents of selected table
some dbms 's eg think sql throw exception on call to getbestrowidentifier
add together standard expanders this node type and any individual expanders that there node and process them
user cannot be allowed to drop all columns from table
any errors here result in un editable table which should be no problem
if driver says it supports schemas but does n't provide schema nodes try to get other nodes
mysql opentablesmysql open tables
no need to be focusable
hadb reports column size of blobclob gb
example case invalid character break perhaps insert application specific error messages here
pseudocolumn query failed so reset it otherwise we 'll mistake last column pseudocolumn and make it uneditable
dont need to close resultset as databasetypesdataset will do so when its finished with it
data random accessible current token current input character original current input character token last input character position of current character line number of current character start position of current line
we through with parsing now we store outcome in lastrun and tell listeners
special case input exactly output
helpviewerwindow titlesquirrel sql client help
it causes lot of pain in serveral places to cope with nulls or emptys here
use just columns listed in table and set not used cols to ones that not mentioned in table
each element in use set if selected then add to not use otherwise add to new use set
call function in app code that checks unexpected conditions in db as it will be after doing update
int progress loadcatalogs load tables with schema null
create hashmap containing column names by convention value and key same each column name
reload all matching table types
if called here it called far to often and restoring selection in object tree does n't work fireschemainfoupdate
belong together
if characters do n't match but case may be ignored try converting both characters to uppercase if results match then comparison scan should continue
sybaseaseplugin hintpreferences sybasease
create view name view col view col as with check option
following strings sql tokens and should therefore not be internationalized no no no no no no
schemapropertiespanel schematabletitleschema table
editwherecolspanel notusecolumnsnot use columns
columndetailsdialog typelabeltype
hibernatesqlpanel resultsql result
application info jdbcwritersuccessjdbc debug log set to writer successfully
sqlval loonaslog on as
use lenient input or force user to enter exact format set to allow less stringent input
get which locale dependent format to use set to use java default
updatecontrollerimpl prompttodownloadavailableupdatesmsgthere updates available do you want to download them now \?
explainplanexecuter enumeration
error here may mean that file cannot be reached or has moved or some such in any case file cannot be used export
errorstream noerrorsno errors detected
this method called from super class 's constructor therfore titlelbl null that call
needs to be done later because when reinitlist called text componetes model not yet up to date last character missing
select 'create view fooview as viewtext from sysprogress sysviews where viewname 'fooview' and owner 'manningr'
builder addgridded new jbutton alter builder addrelatedgap
since base name file exists we need to skip it and bump up endindex
mysqltriggerdetailstab titledetails
laf themepacloctheme pack directory
if operator 'in' and there no parenthesis around value put them there
tell scrollpane to use table size with height adjusted to leave room scrollbar at bottom if needed
text put in file name field to indicate that we should create temp file export
errorstream error semanticsemantic error
should not happen since file that selected just being shown in chooser dialog but just to be safe
explainplanexecuter operationoperation
at this point we have actual file that we can output to so create output stream so that data type objects do not have to
create unique index on desc desc
laf tabtitlefonts
if table column already has data object in map then remove it
tableexportcsvdlg executecommandexecute command file will be replaced by export file name
syntaxplugin touppercasetouppercase
hibernatesqlpanel formatformat
sqlresultexecuterpanel sqllabelsql
sqlval clientborderclient
add names of all laf objects to control by doing thru map these will be sorted
validatorglobalpreferencestab titlesql validator
orderbyclausepanel orderbyclauselabelorder by clause
retrieve urls of all look and feel jars and store in lafurls
database related functions
if this done when header clicked it prevents ms excel like adopition of column sizes by double click see class buttontableheader
laf tabfontsfonts
orderbyclausepanel addlabeladd
if original object not null then it contains clob object that we need to re use since that dbs reference to clob data area otherwise we set original clob to null and write method needs to know to set field to null
this method called from thread in case listeners update swing controls we invoke later here
create view as select from where expression order by orderexpression limit offset
explainplanexecuter costcost
userscript execonexecute script on
popupeditableiopanel overwritewarningfile overwrite warning
xmlreformatter malformedxmlatmalformed xml no ending tag seen text starting at
save user options we know that it not default because we do not allow importing from temp file
split first two matching toplevel brakets here
check box whether to use java default or locale dependent format
popupeditableiopanel fileopenerrorheaderfile open error
if all of data has been read then blob can be edited in popup otherwise it cannot
create table tablename column int column varchar not null default 'hello world' constraint tablename pkey primary key column column
place to save reference to datatype object needed calling appropriate renderer on object value
where clause usage group
datetypetimestamp generatewhereclausefor internally generated where clauses
if all of data has been read then clob can be edited in popup otherwise it cannot
set up controls
laf otherother
important put buttons into array in same order as their associated values defined whereclauseusage
orderbyclausepanel orderdirectionlabelorder direction
dumpapplicationcommand title systempropssystem properties
lenient checkbox
errorstream notexpectednot expected
laf statusfonteanbledenabled
objects needed to handle radio buttons
updatepreferencespanel testlabeltest connection
laf statusbarsstatus bars
add label radio button group
errorstream invalidinvalid
errorstream error syntaxsyntax error
we have read data so that not same state odd ball case assume if neither has read data that they equal
aboutboxdialog info startmemtimestarting memory timer aboutbox
columnpriviligestab hintshow access rights columns in selected table
we have not already created datatype object this column so do that now and save it
mssql onefileperobjectcreate one file per object
jason sqlfilterclauses getsqlfilterclauses
if this column being limited then truncate data if needed start with quick check data being shorter than limit in which case we do n't need to worry about it
loop while we either have resultset to process or rows have been updatedinserteddeleted
graphtoclipboard titlecopy graph image pages to clipboard
menus
create sequence as integer bigint start with increment by
metadatatab titlemetadata
popupeditableiopanel exporterror export error
memorypanel gcstatustooltip sessions waiting garbage collection
hibernatetabpanel mappedobjectsmapped objects
sqlscript configyourmultitablescriptixatendconstraints and indexes at end of script
deletes last deletes last
popupeditableiopanel numberbasenumber base
mysql structureanddatastructure and data
helpviewerwindow error loadchangelogerror generating change log entry plugin
generalsessionpropertiespanel maintabsmain tabs
foreign key columnname references reftablename refcolumnname on delete cascade restrict no action set default set null on update cascade set default set null
create view viewname as definition
create sequence sequencename start with startvalue increment by incrementvalue cache cachevalue
see if its one table statement
create unique hash index if not exists newindexname primary key hash on columnname
ingres requires that columns that to become not null must have default value
select current value 'none' 'none' cache increment from information schema sequences where sequence schema \? and sequence name \?
alter table ti getsimplename add foreign key fktablecol references pktablename pktablecol
get parameters previously set by user or set default values set to default
hibernatetabcontroller hintsupport hibernate
alter table add constraint foreign key references on delete set null
sqlval technologyversiontechnology version
mssql add menmonic
create sequence sequencename startwith increment minimum maximum cache cycle
graph scriptalltablesscript all tables
sqlscript configyourmultitablescriptconfigure your multi table script
float produces exception invalid column format 'float' on column 'float column' sql state error code
updatepreferencestab titleupdate
laf settingslook and feel settings
datatypetimestamp fullfull
syntax stylessyntax styles
check if this completion request outside original definition point
hibernate hqltosqlshortconvert hql to sql ctrl enter
alter table tablename alter columnname set data type datatype
popupeditableiopanel wraplineswrap lines onoff
rowidtab hintshow columns that uniquely identify row
oracleprefspanelcontroller titleoracle
dump alias information
aliaspropertiesinternalframe titleproperties alias
userscript enterscriptnameplease enter script name
make sure that session menu enabled
postgresql follows standard sql bit it 's string of bits so bit string of bits jdbc treats sql bit as if it only single bit it specifies that bit equivalent to boolean it claims that preparedstatement set method that should be used with bit setboolean and getboolean this not compliant with standard so sql bit type support broken in java there nothing we can do about that best thing to do now try to convert bit type to boolean like jdbc spec says and hope best hope that source database n't using bit column as sequence of multiple bits
hibernateattribuitedataset attrclassnameattribute class name
tableexportcsvdlg exportcsvfileexport to file
all data from clob has been read make sure there no newlines in it
sqlscript configyourmultitablescriptokok
sqlresultexecuterpanel cancelmsgpress cancel to stop
popup does not fit with orig placement
exportconfig errorsavingaliaseserror saving aliases
resulttab resultstabtitleresults
mysqlplugin showtriggersourceshow trigger source
mysql withallfieldswith all fields
importfiledialog suggestcolumnsignorecaseignore case
helpviewerwindow error loadwelcomefileerror retrieving welcome file url
syntax separatorsseparators
double and float have no scale that decimal digits null assume that because it 's variable floating point
alter table test alter mychar set default 'foo' alter table test alter mychar drop default
codecompletion prefixconfigconfigure function completion function name prefixes
create sequence sequencename increment startwith minimum maximum cache cycle
create sequence sequencename increment minimum maximum startwith cache cycle
genericdialect must be last since it will claim that it supports any productversion that also why there no isgenericdialect it would always return true if there one making it useless
graph addfoldingpointadd folding point
codecompletion unknowntableunknown table
schematableupdatewhatitem tablestables
fine do n't add any data files throw new wrappedsqlexception ex
sort rows by property name collections sort data new datasorter
firebird does n't natively support altering columns nullable property will have to simulate in future release
create generator empno gen commit set term create trigger create empno employees before insert position as begin new empno gen id empno gen end
hibernatetabpanel hqlhql
dimension dim getpreferredsize dim width preferred width setpreferredsize dim setrows
do n't bother user with details about where result fetch failed if they cancelled query
fapplication addapplicationlistener applicationadapter fapplication addpreferencesmenuitem fapplication setenabledpreferencesmenu true
fine do n't show any indexes throw new wrappedsqlexception ex
datasetviewereditabletablepanel norowsdeleted nno rows deleted from database
there 's dbname specified so make sure it matches current catalog
if none place holder in list in first position remove it it not possible to select none place holder upon startup because it already selected in list if it present
select text segment from iiviews where table name and table owner
drop view viewname
databasemetadata searchabletypepredcharonly supports 'where like'
mode decode routine may or may not be there we do n't care if it not there but log info if we failed to drop it some other reason
oracle showtriggersourceshow trigger source
some drivers both ms sql and sybase do n't return guest as schema name
select 'create view viewname as viewdefinition from pointbase sysviews pointbase sysschemata where schemaid schemaid and viewname 'testview' and schemaname 'dbcopy'
graph addreltablesadd all related tables
this udf not stored procedure
schemainfocacheserializer endstorefinished writing schema cache alias file
we use vectors because messagehandler might be called from different threads
datetypetimestamp typetimestamptimestamp sql type
number of errors detected
prelaunchhelperimpl restorefrombackuptitleconfirm restore from backup
exportconfig filesavedto saved to
set up update button celldatapopup updatedataupdate data
table name column name column size column size
since execute returned true first result resultset
columndetailsdialog executebuttonlabelexecute
refactoringpreferencespanel qualifycheckboxlabelqualify table names in scripts with schema
clear session info from all actions
misc
other obj null so see if this non null obj contains null value which equivilent assume that if we have read some of data and we still have data null then value in db actually null
if different laf to current one has been requested then change to requested laf
colums of last completed tableview that match tablenamepat will be returned on top of collection
uh oh we should n't have more than one plugin registering custom exception handler given session first one wins and all others get error message
columndetailsdialog modifycolumntitlemodify column
do n't log error message here it possible that user interrupted query because it taking too long just throw exception and let caller decide whether or not exception should be logged
oracle instancedetailsdetails
if value null we do not need to do anything else with this column also assume that value of equivilent to null
if source column type other try to use column type name to find type that n't
only close statement if sqlexception otherwise it has to remain open until resultset read through by caller
lockdetailstab titlelocks
refactoringpreferencestab hintsettings refactoring plugin
new line to begining so that sb append will be removed new line to end so that semi colon at end will be removed
char or date types this maximum number of characters numeric or decimal types this precision
oracle sortsperexecsorts per exec
do n't bother changing delay but stop it if it 's running
view name schema name
span across two columns ipadx
handle cases of null processing different when nulls allowed and when they not
this does n't appear to work progress rdbms result dbutil gettablecount con ti getsimplename
mssql toscriptobjects to script
get names of all selected tables in comma separated list
note procedure may also be udf
todo tell user that selected destination schema same as source schema monitor showmessagedialog
column in table but not table how else would we get here \? \?
add help licence and change log nodes to tree helpviewerwindow helphelp
popupeditableiopanel exporterror export error
mssql alluserdefall user defined data types
since we do not have all of data from clob we cannot allow editing
resulttab statementlabelsql
sqlbookmark norunselectionplease select bookmark to run
server port database file backup file
if there parameters in sql string then we need to prompt some answers
reasons that cannot exmplain this out by two probably due to border or insets around cell \? \?
change delay and start it if it stopped
create timer but do not start it
mssql foemattingformatting
mssql remove mnemonicr
sqlresultexecuterpanel scriptstmtcountsrow update counts inserts selects updates deletes
columndetailsdialog scalelabelscale
string used as error indicator and description of problems seen when checking or mulitple matches in db
mssql objectstobescriptedobjects to be scripted
double space since this new version of stored procedure overloading name with different parameters
while attributes used in qualified expressions will not be completed qualified that means pack foo completion popup will be placed behind last dot
dumpapplicationcommand title aliasesaliases
graph graphrenamedrenamed to
graph closeclose
popupeditableiopanel exporterror export error
force laf to be set even if skin current one this allows change in theme to take affect
lafregister updateallframes
empty block
treeapi addtopopup databaseobjecttype session coll get createtableaction class treeapi addtopopup databaseobjecttype catalog coll get createtableaction class
in effort to avoid non jdbc standard out parameter types ie oracle specific ones dbms output get line used rather than dbms output getlines disadvantage there more trips to server to return multiple lines
userscript selscripttoeditplease select script to edit
allocate current session to actions
updatepreferencespanel portport
dump system properties
dbutil info executequeryexecutequery running sql
pane addtab mergecolumndialog tabbedpane columns label columntab
there used to be frame pack here but it resized frame to be very wide if text output used
action performed update button private void buttonupdateactionperformed java awt event actionevent evt string query getquery dbutils execute query dlog setvisible false dlog dispose joptionpane showmessagedialog null field updated
private iapplication app
syntax prefuseosteruse ostermiller editor
private static final ilogger log loggercontroller createlogger userparentexpander class
column that being changed use value passed in by caller which may be either current value or new replacement value
treemodel interface
sets constraints like not null new column depending on constraints old column
do n't increment if you 're removing something otherwise you 'd skip next item
jdk ident annotation keyword gets returned as two tokens and keyword
parserthread undefinedtableundefined table
when we get to last statement if script large show user total execution time
add tables
no tags so cannot be xml
add procedures
mssql generatedropgenerate drop command each object
add views
firebird gives weird exception unsuccessful metadata update object fktestparenttable in use squelch it and continue
autoinc gen
we do n't add listener to button twice because finddialogsupport class will call this method with same button instances whenever replace dialog opened if we add listener again and again replace will be done as often as dialog opened this especially nasty if text to replace part of replacement text
mysql requires myisam storage engine spatial and fulltext indexes do n't test them now see todo in mysqldialect getcreateindexsql
these should be different since we providing two different statement separators in sessionproperties
create unique asc ending desc ending index index on table col col
set generator name to int
iprocedureinfo procs metadata getprocedures catalog null null
updatepreferencespanel updatesiteborderlabelupdate site
db plugin showproceduresourceshow procedure source
this test disabled now until we figure out better way to do concurrent modifications to schemainfocache test
add udts
mssql scripttemplatescript template
these tell dialect test runner where tables that creates can be found
private resultset mockresultset null private static int columnindices new int
catalog schema tablename columnname datatype char typename columnsize decimaldigits radix isnullallowed defaultvalue isnullable
user has restricted set of columns to use if this name not in list then skip it otherwise we fall through and use column in where clause
if directory exists add one to directory number making it new directory name
has to be done directly on main frame because of racing condition at start up
find internal frame in list of internal frames and remove it
have datatype object fill in appropriate kind of value into first and only variable position in prepared stmt
span across two columns
test connection button panel both button and status label
site type
update server name
separator
update server port
path to release xml
local update directory
channnel combo box
url text field
do nothing
couldnotcreateworkdircould not create working directory
instance creation
executenativetoasciiexecute nativetoascii
viewer removeinternalframelistener lis
all rules passed so enable buttons
primary key name
empty block
includetimestampinclude timestamp in modified properties file
see also loadschemanames
it would be nice to tell user what happened but if we try to put up dialog box at this point we run into trouble in some cases where field continually tries to re read after dialog closes because it being re painted
do not let user remove everything from list
failedtoopenzipfailed to open zipjar
tranlationsgenerationmessage missing translation generated by plugin on
workdirdoesnotexistquestioncreateworking directory does not exist ndo you want to create it \?
if cell editable we really must have valid datatype object so 'else' clause should never be used it just there as defensive programming
workingdirworking directory
propscopymsgcopied existing translations from to
whether to force user to enter dates in exact format or use heuristics to guess it
which locale dependent format to use short medium long or full
startparts contains our string key followed by
bundlesbundles
tell ui that this workingbuffer through
select last number max value min value cache size increment by cycle flag from user sequences where sequence name \?
we do n't care if these throw sqlexception just squelch them and report to user what outcome of previous statements
nativetoasciioutdirnative ascii output dir
noworkdirworking directory does n't exist ndo you want to create it \?
loadbundlesload bundles
workdirisnodirthe working directory not directory nno bundles will be loaded from
changeapplicationdefaultlocalenoteexample vm parameters to change locale used by squirrel duser languageen duser countryus
localeslocales
noworkdirplease choose work dir to store your translations
because column starts with put pos with
dump table types
basemdiparentframe
no problems found so do not return warning message nothing user to worry about
ignored
use java default date to string
use date formatter
driverpropertiescontroller nodriverselectedno driver available in this alias ncan not load driver properties tab
on errors we restart parser behind error
user just entered hour so append min sec
either at teh beginning
use dateformat to parse
tree addtreeselectionlistener new objecttreeselectionlistener objtreesellis new objecttreeselectionlistener tree addtreeselectionlistener objtreesellis
error attention do not use background colors here color blind people cannot read black writing on red background
user entered hour min see if they also entered secs
user did not enter seconds
if this happens then this programming error as we said in above call to ingore these errors
needed to guarantee other components focus lost and to allow to enter tabs components via tab key in well defined way user can see where focus
void sessioninternalframeopened sessioninternalframe sessioninternalframe isession sess
metrics of component used in constructor
break when first braket found
since implements interfaces that became available in jdbc let 's warn user if driver does n't support databasemetadata methods that added in jdbc and jdbc specifications
string edit edit
activate another session since current active session has closed
public sqlexecutioninfo this
we only want index sql which second statement in array informix requires constraint stuck onto end of statement
there should not be more than one row in db that matches table and if there we cannot determine which one to read so check that there no more
we need to keep track of bind var index separately since number of column defs may not be number of bind vars example auto increment columns excluded
means load all schemas from database
thread safe support every call to this method
private simpleattributeset saseterrorhistory
get array since we dont want trouble with sessionslist when we remove sessions from it
if we could not identify which table to edit tell user
sort rows by property name
each row in table do delete and add to number of rows deleted from db
mouse listener used to display popup menu
give resultsetreader some time to realize that user requested cancel and stop fetching results this allows us to stop query processing gracefully
if file using base name with no extention exists it first other files in order from oldest to newest set of files to delete slightly different depending on whether base name file exists or not
there should be one row in data so try to move to it
driverinternalframe error illegalvalueillegal value of passed maintenance type
return whole contents of this column in db
app app
we have at least one row so try to retrieve object do not limit read of this data
go on to next item
create sequence testautoincrementtable myid seq increment by minvalue nomaxvalue start with nocycle create function nextautoval returning integer return testautoincrementtable myid seq nextval end function finally did get trigger to work but had to use function create trigger myid trigger insert on testautoincrementtable each row execute function nextautoval into myid
title label at top
aliasinternalframe illegalvalueillegal value of passed maintenance type
no support undo
if old preference file exists and newer than newuserpreference file then use it reading preferences
select 'create view as substr text locate 'as' text length text from syscat views where viewschema '' and viewname ''
get largest width and height
if blocked that means that it does n't help anymore or error dialog shown or connection made and sessionframe being constructedshown
look places to break string
if user checked auto logon but gave wrong usernamepassword in alias definition he will be asked to enter usernamepassword again in extra dialog here convenience we transfer these data back into alias note do n't do this when auto logon false
touppercase replaces german by ss this will kill reformating later since upperin just building pieces it ok to place here
message
nextch already done
each call to stmt getmoreresults places to next output as long as it resultset we process it
object obj action getvalue baseaction ibaseactionpropertynames rollover icon
private jlabel executionlogfilenamelbl new outputlabel must have at least blank otherwise width gets set to zero private jlabel logconfigfilenamelbl new outputlabel must have at least blank otherwise width gets set to zero
private aliaseslistinternalframe aliaseslistwindow private driverslistinternalframe driverslistwindow
mockpreferences
done this late so that plugins have time to register expanders with object tree prior to it being built
separated by line
reset background to colour that current look and feel uses internal frames
data
mocksqlmetadata
needes to be done via event queque because adding session to drop down happens via event queue too
javaclasspathlist addlistselectionlistener new javaclasspathlistboxlistener
laf statictextstatic text
cut and paste need to be worked on so now do not include them also copy operations do not seem to work right we may need special versions celleditor menu add cut add copy add copyhtml add paste addseparator
add menu items to menu
no more automatic restarts because key events will restart parser from now on
listeners add isqlexecutionlistener class lis
private integeridentifierfactory idfactory new integeridentifierfactory
datatypetime typetimetime sql type
assume dbms does n't support catalogs
get node to be expanded
sql contains columns from multiple tables so we cannot use all of columns in where clause and it becomes difficult to know which table or tables edited column belongs to therefore limit output to be read only
register tabs to display in details panel procedure nodes
back off bit after hundred updates to allow ui to update
sticky tab closed
register tabs to display in details panel catalog nodes
must not be done in gui thread
tell datasetviewer to delete rows note rows indexes in sortable model not actual model
since we reading meta data about db we should never see clob however if we do we assume that it printable text and that user wants to see it so read in entire thing
security panel
gettable dolayout
parentrect new rectangle toolkit getdefaulttoolkit getscreensize
lbl title used tables
mssql only compatibleonly script compatible features
private string sqloutputmetadataclassname idatasetdestinations read only table
mssql scriptloginsscript sql server logins windows and sql server logins
note caseinsensitivestring can be mutable string in fact it mutable string here because this usually called from within syntax coloring which uses mutable string
make sure we starting clean
load all table types with catalog doi getcatalog and schema doi getschema
private transient string availabletypesindatabase
save current ui defaults
invokelater to make call synchronto event queue
do not do new hashmap here
columns have not yet been loaded
filemanager error cannotwritefilefile ncannot be written to
scrollbars shown always to stop sheet resizing when they shownhidden
alter table test drop constraint test
this can take long time big jars so it not done on edt
editable text
removed uncomment
following used by both in cell and popup operations
mssql scriptindexsesscript indexes
static text
number of decimal digits allowed to right of decimal point in number
return jtextarea usable in cellpopupdialog
filemanager savedfilesaved to
now define popup related operations
first we have cell related and text table operations
int modelcol gettable convertcolumnindextomodel col
return string obj equals obj
select 'unknown' as last value max val as max value min val as min value cache as cache size inc val as increment by case cycle as cycled from informix syssequences as informix systables as where tabid tabid and owner '' and tabname ''
create panel and add gui items to it
driverwindowfactory error copyingdrivererror occured copying driver
special handling of operations while editing strings
windowmanager registersessionsheetregistering in windowmanager
checkbox readnot read on table load
ss update dynamic column widths
property change control panel
file io related functions
next buttons
mssql fileformatfile format
this not column that mouse has been pressed in
store ptr to newly open window in list of windows per session
added by patch applemac
if this column that table currently currently sorted by then display sort icon
rendering column that mouse has been pressed in
ensure that this plastic theme
set of characters to be ignored by scanner
error messages
default to do nothing derived classes must override this to accomplish anything
save possible future use
importfiledialog fileimportimport file
register tabs to display in details panel schema nodes
forever
some drivers oracle give precision as in some cases when precision we cannot check length so do not try
now remove non digit chars if any
return method getparametertypes length method getparametertypes int class method getreturntype void type
user entered or at bad place
update font used status bars
database related functions
double tablewidth table getcolumnmodel gettotalcolumnwidth scale
listen gui components being created
dimension dim sp getpreferredsize dim width preferred width sp setpreferredsize new dimension sp getpreferredsize width
sql float requires support digits of mantissa
get binary stream from rs
any other components on right
message area on right of statusbar and takes up all available space
ss display complete column header as tooltip if column n't wide enough to display it
messagepanel clearlabelclear
return text from file since it does represent valid value of this data type
return boolean class do n't show checkbox output only field
use valueof when min supported jdk return boolean valueof props row required
inwidgetsetvisible introduced to allow movetofront to be called from within setvisible see editwherecolssheet or sqlfiltersheet
light yellow
mocksessionmanager
test data
get new look and feel object
do nothing
mockschemainfo
keep scanning until we 're either eol or find different filegroup
columns in referenced table
index of first file in next filegroup
if we 're still in this function just add it at end
not so simple we want to keep filegroups together
simulate user changing session properties
rowidtab titlerow ids
alias setusedriverproperties usedriverpropschk isselected alias setdriverproperties sqldriverprops
if no columns selected and we 're not dropping pk then there nothing to do
property file not found user first time user ran pgm
chop off default on column
only concerned about order when more than one table
parent addinternalframe viewer true null guiutils centerwithindesktop viewer
if auto logon true in connecttoaliascommand user namepassword of alias definiton may have changed here we transfere this information back into controls
add message handler to session
userscript dlgtabscriptsremove remove
splashscreen error updatingprogressbarerror occured updating progress bar
buf size
done after set of selected item above so that we control when initial build done we want to make sure that under all versions of jdk that window shown before possibly lengthy refresh starts
copys gathered values into lookup table
driverpropertiescontroller invalidurlaccording to driver url invalid
void reload
set cell width to width of header
constraintkeys looks like this `references pubs dbo foo fooid quuxid chop off references
we can have more than one file in string so tokenize on whitespace let user know if we find multiple tokens that they cannot place drop than one file at time
create checkbox enabling auto refresh oracle dboutputenableautoreferenable auto refresh
datatypebigdecimal precisioneceededprecision exceeded number of digits in number nis greater than allowed in column
editextras secondsecond
db plugin showudfsourceshow udf source
application splash loadsqlhistoryloading sql history
datasetupdateabletablemodelimpl error unknownerrorunknown error during check on db update probably not safe ndo you wish to proceed \?
datatypeunknown unknowntypesunknown datatypes non standard sql type codes
schemapropertiespanel hinthere you may pecify which schemas to be loaded and displayed in session 's object tree code completion and syntax highlighting will work only loaded schemas if schemas take long time to load you may cache them on your hard disk then loading will take long only when you open session first time you can always refesh cache either by using session 's 'refresh all' toolbar button or by using 'refresh item' right mouse menu on object tree node
point pt jfcutilities computepopuplocation evt evt getcomponent this
sqlscript tablescriptokok
datatypebigdecimal newlinesasbackslashnshow newlines as within cells
checkbox whether to interpret input leniently or not datetypetimestamp allowinexactallow inexact format on input
udfdetailstab hintdisplay udf details
some kind of problem tell user datasetupdateabletablemodelimpl error preparingdeletewhile preparing delete saw exception
generalsessionpropertiespanel metadatameta data
datetypetimestamp jdbcescapeuse jdbc standard escape format
syntax backgroundselect background color
datasetupdateabletablemodelimpl error staleupdaterowthis row in database has been changed since you refreshed data nno rows will be updated by this operation ndo you wish to proceed \?
downloadstatuseventhandler filelabelfile
editextrasaccessor editextraspluginneededquoting only available with edit extras plugin nget plugin from www squirrelsql org it 's free
editwherecolspanel usepklabeluse pk
hibernateconfigpanel classpathremoveremove selected entries
generalsessionpropertiespanel showtoolbarshow toolbar
datasetupdateabletablemodelimpl error exceptionduringcheckexception seen during check on db exception nupdate probably not safe to do ndo you wish to proceed \?
factoryproviderdialog descplease enter fully qualified class name of sessionfactorimpl provider class compiled class file must be in one of your additional classpath entries
sqlscriptpreferencespanel updateactionlabelaction to take on update
sqlscriptpreferencespanel updaterefactiontooltipappend on update
derbydialect varcharmessagederby only allows varchar columns to be altered
resulttab cannoteditthis sql can not be edited
add import control popupeditableiopanel import import
codecompletion prefstabtitlehintconfigure code completion
label date format combo used to enabledisable text datatypedate orlocaleindependent or locale dependent format
tableexportcsvcontroller commandchooserbuttonchoose
laf lafperformancewarningalso note some look and feels may cause performance problems if you think your selected look and feel slows down squirrel switch to metal or plastic look and feel
rowdatainputframe coldescription ncolumn ndescription
graph formatformat
syntax boldbold
userscript scriptpropsscript properties
dbutil error bindclobfailurebindblobvar failed to bind blob using filesystem attempting to bind blob using memory
dumpsessionaction warningwarning plaintext passwordsmay be savedin this file
syntaxplugin commentcomment
datasetupdateabletablemodelimpl error multimatchingrowsmuliple rows in db match current row in table cannot re read data
databasemetadata searchabletypeprednoneno support
splashscreen error updatingprogressbarerror occured updating progress bar
userscript execontargetsexecute script on selected targets
downloadstatuseventhandler updatedownloadfailedmsgplease consult log details
csvsettingspanel seperatorchartooltipspecify character that used to seperate columns in this file or
sqlscript scriptwrittenscript written to sql editor of main session window
userscript execoutputscript execution output
syntax osterwarningyou using oster editor please consider using netbeans editor see menu file new session properties syntax
datasetupdateabletablemodelimpl info norowsupdatedno rows updated
userscript showinstandardmenues show in standard menues
sqlscriptpreferencespanel qualifycheckboxlabelqualify table names in scripts with schema
generalsessionpropertiespanel sqlexectabssql execution tabs
aboutboxdialog error systempropserror occured displaying system properties
artifactstatus translationlabeltranslation
defaultdatabaseexpander error retrieveuserrolesunable to retrieve user roles
preferencespanel removemultilinecommentlabelremove multi line comments from sql before executing
sessionstartuptimehintdlg titlesession startup time hint
label type combo used to enabledisable text associated with combo datatypeblob readread
preferencespanel procedureseparatortooltipmultiple statements within procedure or function can be terminated with this
userscript scriptadminerrerr msg
dialectutils dropprimarykeyunsupported doesn''t support dropping primary keys
copytablescommand progressdialogtitleanalyzing fks in tables to copy
updatecontrollerimpl updatechecktitleupdate check
codecompletion prefs table col prefixprefix
datasetupdateabletablemodelimpl info updateidenticalrowsthis operation will update identical rows ndo you wish to proceed \?
hqlentrypanelmanager unquotehqlunquote hql
syntax replacenetbeansonlyreplace only available when netbeans editor used nsee menu file new session properties tab syntax
sqlscript configyourmultitablescriptixaftereachconstraints and indexes after each table
schematablecboitem schemaid loadbutdontcacheload but do n't cache
schemapropertiescontroller tableheader proceduresprocedures
userscript scriptcompletederrscript completed with errors
dialectutils addprimarykeyunsupported doesn''t support adding primary keys
rowdatainputframe cancelcancel
syntax osterexplainnote preferable editor netbeans editor netbeans editor less memory consuming its highlightning more exact can handle many lines well oster editor still there because it can handle very long lines better than netbeans editor this due to known bug in netbeans editor issue as soon as this bug fixed oster editor will be removed
exportconfig errorsavingdriverserror saving drivers
sqlhistorycontroller mnuappendselectiontoeditorappend selected statements to sql editor
schemainfo loadingstoredproceduresloading stored procedures
popupeditableiopanel cannotfindfilecannot find file ncheck file name and re try export
factoryproviderdialog examplesave example code sessionfactorimpl provider class to
codecompletion listtruncatedcompletion list truncated narrow by typing to get missing entries
hibernatesqlpanel codesql code
preferencespanel linecommenttooltipsequence of characters at beginning of line to indicate that whole line comment
datasetupdateabletablemodelimpl error rereadingdbthere problem reported while re reading db db message
scriptwriter error nouserhomethe system property null cannot determine where to write dbcopy sql scripts disabling writing sql scripts dbcopy operations
columnlistdialog editsqlbuttonlabeledit sql
hibernateconfigcontroller nopersistenceunitnamemissing persitence unit name nchanges cannot be applied
popupeditableiopanel createfileerrorfailed to create file nchange file name or select differnt file export
derbyplugin showviewsourceshow view source
hibernateconfigpanel toobtainsessionfactjpacall javax persistence persistence createentitymanagerfactory
mysqlplugin hintpreferences mysql
prelaunchhelperimpl installfailedmessageunexpected error while attempting to install updates
datatypejavaobject readcontentswhenloadedread contents when table first loaded and display as string
generalsessionpropertiespanel sqlresulttabssql results tabs
oracle dboutputstayontopstay on top
colorpropertiespanel objecttreebackgroundcolorbuttonlabelchoose object tree color
installdefaultdriversaction error selectingwindowerror selecting window
removecolumncommand singlecolumnmessagethe table 's only column cannot be removed table must have least one column
popupeditableiopanel exporterror export error
editextras errorremovequoteserror processing remove quotes sql command
columnlistdialog droperrormessageca n't drop all columns table must have at least one column
sqlscriptpreferencestab hintsettings sql script plugin
datacache msg driverclassnotfoundcould not find class in neither java class path nor extra class path of driver definition
colorpropertiespanel instructionsthese settings control background colors
dialectutils columnnullunsupported doesn''t support altering column 's nullable attribute
sqlscript storesqlintablefailedan error occured during storing sql result in table see messages details ni will create copy script you may correct errors and run it again
prelaunchhelperimpl installupdatestitleupdates available
application splash loadeditselectionsloading edit 'where' columns selections
whereclausepanel addlabeladd
copyexecutor tablecolmismatchcolumn count table in source database but column count table in destination database
datasetupdateabletablemodelimpl confirmupdateallrowsthe table has no columns that can be selected on nall rows will be updated ndo you wish to proceed \?
prelaunchhelperimpl restorefrombackupmessagerestore squirrel to previous version before last update \?
celldatapopup conversionerrorconversion error
popupeditableiopanel notanormalfilefile not normal file cannot do export to directory or system file
codecompletion prefs table col configconfiguration
syntax fontselect font color
favs deletelfolderare you sure to want to delete folder and all of its contents \?
toolspopupcontroller toolspopupmsgplease try out tools popup by hitting ctrl in sql editor do it three times to stop this message
importdataintotableexecutor success choice no records one record records successfully inserted
abstractrefactoringdialog showbuttonlabelshow sql
mssql scriptingoptionsdlgscripting options allow you to specify how object will be scripted
checkbox whether to interpret input leniently or not datatypetime inexactallow inexact format on input
schemapropertiespanel refreshschemasconnect database to refresh schema table
editextras errorremovenewlineserror processing remove newlines sql command
fileeditordroptargetlistener internalerrormessageinternal error occurred see log details
databasemetadata nullabletypenullabletrue
sqlscript configyourmultitablescriptcancelcancel
tableexportcsvdlg exportselectionexport selection
preferencespanel statementseparatortooltipwhen multiple statements selected use this to separate them into single statements
hibernateconfigpanel confignameconfiguration name
laf lafwarningnote controls may not be drawn correctly after changes in this panel until application restarted
set up dialog to ask user if it ok to proceed important this dialog synchronous ie we do not proceed until user gives response this critical since this function provides return value to its caller that depends on user input basedatasetviewerdestination warningwarning
mysql logsmysql logs
sessionsqlpropertiespanel removemultilinecommentremove multi line comment from sql before sending to database
datetypetimestamp timestampinwheredo not use timestamp in where clause
memorypanel gcstatus sessions waiting garbage collection sessions open sessions garbage collected
droptabledialog cascadelabelcascade constraints
codecompletionpreferencespanel maxlastselectedcompletionnamesif you call code completion without being in scope of table which number of tables parser last found would you like to see colums on top of completion list \?
updatecontrollerimpl softwareversioncurrentmsgthis software 's version most recent
popupeditableiopanel errwhileexecutinerror while executing command nthe command nthe error
oracle displaycolumnsdisplay index column information
sqlbookmark nosqlpanelto run bookmark you must open this window nusing edit bookmarks toolbar button of session window nthe bookmars sql code will then be written to session 's sql editor
datasetviewereditabletablepanel selectionneededyou must select something in table to delete
generalsessionpropertiespanel generalsettingsgeneral settings current session
oraclepluginpreferencespanel showerroroffsetttcreates and uses user defined function that used to determine syntax error token
hibernateconfigpanel applyconfigchangesapply changes to this configuration
cancelstatementthread canceltimedoutfailed to cancel statement within one second perhaps your driverdatabase does not support cancelling statements if cancelling succeeds later you 'll get further messages
hibernateconfigpanel configuirationdefconfiguration definition
datasetupdateabletablemodelimpl info identicalrowsthis operation will result in identical rows ndo you wish to proceed \?
derbydialect columnlengthmessagederby only allows varchar column length to be increased
reconnectaction confirmreconnectclose current connection to database and open new one \?
label date format combo used to enabledisable text datetypetimestamp orlocaledependend or locale dependent format
factoryprovidercontroller filecreatefailedfile could not be created
createdatascriptofcurrentsqlcommand noqueryno query found to create script from
oracle buffer getsperrowbuffer gets per row
laf tabhintfonts
schemainfocacheserializer beginstorestarting to write schema cache alias file
oracle displaytriggerdetailsdisplay trigger details
graph newgraphnew table graph
sqlhistorydlg filtercbocontainscontains
datatypeblob readonfirstloadread contents when table first loaded
mysql displayprocesses mysql display database processes
generalsessionpropertiespanel tabletable
oracleprefspanel description interactions with schema alias properties see 'schemas' tab 'load all schemas cache none' oracle alias properties will take effect immediately 'load and cache all schemas' oracle alias properties will take effect on next 'refresh all' inside session 'specify schema loading and caching' oracle alias properties will take effect when schemas table on 'schemas' tab refreshed note if schema alias properties set to load all cache none and oracle alias properties set to 'allow all schemas' this may result in very long session startup time
preferencespanel usecustomqttooltipgives enhanced capabilities over default query tokenizer handling scripts
graphtoclipboard copybuttoncopy image from selected tab
popupeditableiopanel commandreturnnot convention command returns that means success but this command returned ndo you wish to import file contents anyway \?
datatypejavaobject sqljavaobjecttypesql javaobject sql type
dbutil info bindbloblengthbindblobvarinfile writing bytes
sessionstartuptimehintdlg textthis session seems to take considerable time to load you may configure alias schema properties to improve startup performance
schemapropertiespanel schematableupdatelable in all schemas to
syntax hasbeenautocorr has been auto corrected extended to to configure auto correct abreviations see menu session syntax configure auto correct abreviation
dialectutils columncommentunsupported doesn''t support column comments
generalpreferencespanel squirreluserpathuser directory userdir
myurlclassloader noassigncheckfailed to load in to check if it assignable to reason
importtabledatacommand sqlerroroccuredan error occured while reading database data importtabledatacommand errorerror
popupeditableiopanel executeerrorexecute error
importdataintotableexecutor sqlexceptiona database error occured while inserting data importdataintotableexecutor errorerror
datasetviewertablepanel textcantbeconvertedthe given text cannot be converted into internal object nthe database has not been changed nthe conversion error
cancelstatementthread closefailedfailed to close statement propably driverrddbms does not support canceling statements see logs further details
dialectutils columntypeunsupported doesn''t support altering column 's type attribute
rowdatainputframe propnameinput new row data
columndetailsdialog columntypetoottip does not support altering column type
datasetupdateabletablemodelimpl error unknownupdateerrorunknown problem during update nno count of updated rows returned ndatabase may be corrupted
preferencespanel coltypemappingborderlabelcolumn type mapping
hqlentrypanelmanager quotehqlquote hql
columnlistdialog droptitleselect column to drop
generalsessionpropertiespanel datatype properties individual data types may be set in
mssql generatesqlscriptgenerate sql script
sqlresultexecuterpanel scriptquerystatisticsexecuted queries elapsed time seconds total sql query building output
rowinputdataframe conversiontointernerrthe given text cannot be converted into internal object nthe database has not been changed nthe conversion error
userscript dlgtabscriptsgentemplgenerate script template
updatemanagerdialog pathlabelpath
datasetupdateabletablemodelimpl error duringinsertexception seen during check on db exception ninsert probably not completed correctly db may be corrupted
editextras timestamptime stamp
hibernate hibernatetabpanel connectconnectdisconnect configuration selected configuration
no first row so we cannot retrieve data datasetupdateabletablemodelimpl error nomatchingrowcould not find any row in db matching current row in table
popupeditableiopanel cannotexeccannot execute null command nplease enter command in command field before clicking on execute
columndetailsdialog columnnulllabel does not support altering column nullability
mysql showlogs mysql show logs
numericfunctionstab titlenumeric functions
dialectutils columnnameunsupported doesn''t support altering column' 's name
aboutboxdialog systempanelcreatetimesystempanel created in
updatecontrollerimpl prompttodownloadavailableupdatestitleupdates available
popupeditableiopanel wrapwordwrap on word onoff
sybaseaseplugin showviewsourceshow view source
columndetailsdialog newcolumnvaluenewcolumn
columnlistdialog droperrortitletoo many columns selected
popupeditableiopanel filechoosererrorfile chooser error
userscript applicabletotargetscripts applicable to selected targets
oracleplugin timestampwarningthe setting to use string literals timestamps may result in inability to edit tables containing these columns if this problem occurs open global preferences data type controls and set timestamps to use jdbc standard escape format
mappingroot driverversionjdbc driver version hibernate
set up dialog to ask user if it ok to proceed important this dialog synchronous ie we do not proceed until user gives response this critical since this function provides return value to its caller that depends on user input basedatasetviewerdestination warning warning
userscript scriptclassscript class
syntax findexplainpress to go to next result press ctrl shift to toggle highlight search
datasetupdateabletablemodelimpl error exceptionduringcheckexception seen during check on db exception nupdate probably not safe to do ndo you wish to proceed \?
hibernateattribuitedataset tablecolstable columns
updatepreferencespanel statuslablefailuremsgconnection failed see log error
celldatapopup cannnotbgeconvertedthe given text cannot be converted into internal object please change data or cancel editing conversion error
dbutil error missingtablegetforeignkeysql table has column that references table column however that table not being copied skipping this foreign key
csvsettingspanel csvsettingscsv settings
syntax textlimitlinewidthtext limit line width
required with first beta of jdk to stop this scrollpane from being too tall
nativetoasciipath to native to unicode converter jdk 's native ascii
appendi nstringspropscreateappend nstring properties files
generatetemplatecommentsgenerate template comments missing translations
add more space between label and button
we do n't destroy timer when there 's nothing happening because it would mean lot more work on every single awt event that gets dispatched
if object representing actual data this object can be edited by user then fw objects need to have reference to it updateable objects must implement interface derived from idatasetupdateablecomponent in net sourceforge squirrel sql fw datasetviewer package if component does not implement that interface then we just keep going but if it does implement it then we need to tell datasetscrollingpanel that object that fw needs to call this one
there some fields that cannot be used in where clause either because there cannot be exact match real float or because we may not have actual data in hand blobclob or because data cannot be expressed in string form binary update to one of those fields will look like we replacing one row with identical row because we can only see fields that we know how to do wheres on therefore when we updating them there should be exactly one row that matches all of our other fields and when we not updating one of these special types of fields there should be no rows that exactly match our criteria we hope we determine whether this field one that cannot be used in where clause by checking value returned that field to use in where clause any field that can be used there will return something of form and field that cannot be used will return null or zero length string
add more space to top of component
if user has cancelled query do n't bother logging error message it likely that cancel request interfered with attempt to fetch results from resultset which to be expected when statement closed so let 's not bug user with obvious error messages that we can do nothing about
jason removed as part of patch void removesessionlistener isessionlistener lis
there no need to close result sets if we call stmt getmoreresults because it implicitly closes any current resultset on db version it even harmful to close resultset explicitly stmt getmoreresults will never return true anymore if you do
tranlationstranslations
iapplication app getapplication cursorchanger cursorchg new cursorchanger app getmainframe cursorchg show try new shownativesqlcommand session execute finally cursorchg restore
do not change values of this constants these constants where introduced to make parser code more readable care taken still it can not be guaranteed that changing value will not be harmful
copyonwritearraylist unfortunately not sort able as list so this will throw unsupportedoperationexception collections sort itableinfos new tableinfosimplenamecomparator following best approach according to concurrency master doug lea in this post here we copy existing internal array into new array that large enough to hold original and new elements then sort it and finally create new copyonwritearraylist with sorted array
use all of columns
when user leaves cell after editing it contents of that cell need to be converted from string into object of appropriate type before updating table however when call comes from popup window data has already been converted and validated we assume that string being passed in here value from text field that needs to be converted to object and non string object has already been validated and converted
save various info about column use in user input validation when editing table contents note that columndisplaysize included two times where first entry may be adjusted actual display while second entry size expected by db isnullable method returns three values that we convert into two by saying that if it not known whether or not column allows nulls we will allow user to enter nulls and any problems will be caught when they try to save data to db
implement idatasettablecontrols interface functions needed to support table operations these functions called from within myjtable and mytable to tell those classes how to operate code in these functions will be different depending on whether table read only or editable definitions below read only operation editable table panel overrides these functions with versions that tell tables how to set up editing operations
if use not looking ascii chars or if this one one that not printable then convert it into numeric form
if both objs null then they matched in previous test so at this point we know that at least one of them or both not null however one of them may still be null and we cannot call equals on null object so make sure that one we call it on not null equals method handles other one being null if it
clobs different from normal data types in that what actually read from db descriptor pointing to data rather than data itself during initial load of table values read from descriptor may have been limited but descriptor itself has been completely read therefore we do not need to re read datum from database because we know that we have entire descriptor if contents of clob have been limited during initial table load that will be discovered when we check if cell editable and full data will be read at that time using this descriptor
rowinputdataframe conversionerrconversion error
if you add this method to one of standard datatypes in fwdatasetviewercellcomponent directory you must also add name of that datatype class to list in cellcomponentfactory method getcontrolpanels variable named initialclassnamelist if class being registered with factory using registerdatatype then you should not include class name in list it will be found automatically but if datatype part of case statement in factory method getdatatypeobject then it does need to be explicitly listed in getcontrolpanels method also
basic infrastructure
save pointer to object needed to render value use in inner class delegate
we want to detect two empty text values in row before we decide to restore original value since 'text' contains new value we want to allow first empty 'text' so that user can clear field and on second one we will set it to original value
tables that netiher children nor parents utility tables
if you add this method to one of standard datatypes in fwdatasetviewercellcomponent directory you must also add name of that datatype class to list in cellcomponentfactory method getcontrolpanels variable named initialclassnamelist if class being registered with factory using registerdatatype then you should not include class name in list it will be found automatically but if datatype part of case statement in factory method getdatatypeobject then it does need to be explicitly listed in getcontrolpanels method also
when table initiates editing and sets this field remember value as original value of field
now popup related methods these not quite symmetric with in cell calls because conversion of object into text to display in popup handled internally to datatype object inside getjtextarea so we do not need renderobjectinpopup function visible to rest of world
alter table add foreign key references
create sequence sequencename increment by increment minvalue minimum maxvalue maxvalue restart with restart cache cache cycle
since we can use correlated sub query to update all rows in one statement we do n't care about set values unless fromtables null in which case we go with normal update using set values would require update statement each row in merged table each column that merged in which incredibly inefficient however api intended to support database dialects that ca n't handle correlated sub queries
from postgresql documentation create unique index concurrently name on table using method column expression opclass with storage parameter value tablespace tablespace where predicate
index needed in case this method called with schema null catalog null and two tables with same name in different schemascatalogs without index same ordinal position could only occur once
tables might have triggers that depend on sequences so drop tables next
timesten reference claims this supported operation but it yields exception me alter table test modify nodefaultvarcharcol default 'default value' exception in thread main java sql sqlexception timesten timesten odbc driver timesten tt syntax error in sql statement before or at nodefaultvarcharcol character position file ptsqly lineno procedure sbptparsesql string alterclause dialectutils modify clause string defaultclause dialectutils default clause return dialectutils getcolumndefaultaltersql this info alterclause false defaultclause so now just throw exception
styleconstants setbackground saseterror color red
styleconstants setbackground saseterrorhistory color pink
metadatadecoratordataset nojarfilesno files specified in 'extra classpath' tab driver
if source column distinct and session postgresql try to get underlying type
treeapi adddetailtab databaseobjecttype index new databaseobjectinfotab treeapi adddetailtab databaseobjecttype index new indexdetailstab
datetime types never declare length just return something larger than so we bypass other checks above
db pkcol used to create pk when using db db does n't allow you to add pk to table after it has been constructed unless column that comprise pk originally there when created and created not null
oracle declares column size to be regardless of maximum length of clob field so if oracle blobclob column contains values that exceed chars and we use colinfo getcolumnsize we might create destination column that too small data that will be copied from oracle we specify default value of in case table has no records or if blobclob column contains only null values
reads value from specified resultset at column index index and based on type calls appropriate setxxx method on ps with value obtained param ps param sourcecoltype param destcoltype param index param rs return string representation of value that bound throws sqlexception
it always thrown as said in embedded derby api so it not error it info
we limiting some things if string we have less than limit then we ok and do not need to re read because we already have whole thing
this theme presented to squirrel by karsten lentzsch of jgoodies com it squirrel 's default theme if laf plugin not used here we make allbluesboldmetaltheme also available within laf plugin thanks lot karsten
helper methods
grant all privileges permission column on table view on table view column on stored procedure extended procedure on user defined function to security account with grant option as group role revoke grant option all privileges permission column on table view on table view column on stored procedure extended procedure on user defined function to from security account cascade as group role
if logging has changed
convert data into ascii representation using standard convention
this one does not so they not equal
other obj has not read data yet
other object has real data
close any previous logging
set contents of component without resetting original value
see if there plugin registered datatypecomponent that can handle this column
we have whole contents of blob tell user data truncated
create empty required files in user settings directory
getters and setters
oracle 's 'timestamp with time zone' oracle 's 'timestamp with local time zone'
primarykeytab titleprimary key
if we have seen property this datatype before then hashmap already exists otherwise we need to create it now
properties settable by user
comparable comparable data return compareto data iascending
do not return null when trying to use list filename filter on file rather than directory all other list methods return null this test case
this set here as sessionpanel dispose will attempt to close session
testlongvarbinarycoltype sourcename destname testnumericcoltype sourcename destname testrealcoltype sourcename destname testsmallintcoltype sourcename destname testtimestampcoltype sourcename destname testtimecoltype sourcename destname testtinyintcoltype sourcename destname
isession mocksession mockhelper createmock isession class iapplication mockapplication mockhelper createmock iapplication class expect mocksession getapplication andstubreturn mockapplication taskthreadpool mockthreadpool mockhelper createmock taskthreadpool class mockthreadpool addtask easymock isa runnable class expectlastcall anytimes expect mockapplication getthreadpool andstubreturn mockthreadpool string tabletypes new string table isqlconnection mocksqlconnection mockhelper createmock isqlconnection class expect mocksession getsqlconnection andstubreturn mocksqlconnection sqldatabasemetadata mocksqldatabasemetadata mockhelper createmock sqldatabasemetadata class expect mocksqlconnection getsqlmetadata andstubreturn mocksqldatabasemetadata expect mocksqldatabasemetadata gettabletypes andstubreturn tabletypes mockhelper replayall classundertest new defaultdatabaseexpander mocksession mockhelper verifyall mockhelper resetall
this reasonable default and makes initialization code run well
add it back
tell user data truncated
pane to add window content to
put toolbar at top of window
first convert string representation into binary bytes it describing
main list window
list in centre of window
probably just no results return it empty
sqlbookmark noeditselectionplease select bookmark to edit
versioncolumnstab hintshow columns that automatically updated when row updated
create look and feel register
at this point we know that we have or higher java runtime
call function in app code that checks unexpected conditions in current db
coldefs getsqltypename coldefs isnullable \? nullable not nullable precision coldefs getprecision scale coldefs getscale
private mainframe mainframe
display error message and do not update table
metadatadecoratordataset classpathlabeljdbc driver classpath
display global preferences
oracle throws this ex on blob data types
return empty list if source string empty
else
final string columnclassname rsmd getcolumnclassname idx
metadatadecoratordataset classnamelabeljdbc driver classname
first we have cell related and text table operations
if we not limiting anything return false
if value null then it read ok
prevent editing if text contains newlines
no indexes guess
init progressbar
binary types
guiutils setjbuttonsizesthesame new jbutton okbtn closebtn new jbutton cancel
add end
private final static ilogger log loggercontroller createlogger resultsetcolumnreader class
if active window n't currently selected session then select main window session
add okbtn add closebtn
number of characters allowed in this field
now define popup related operations
column limited and length limit so need to re read column not limited so we have whole thing
progress claims to support catalogs in data manip but it actually does n't honor that claim
check case where we limiting some columns but not limiting this particular column
if data longer than limit then we have previously re read contents and we do not need to re read it again
return jtextarea usable in cellpopupdialog
set flag whether or not to limit only on specific fields
first do special check to see if we should use longvarchar in where clause oracle does not allow this
what follows comes from squirrel firebird dialect extension
databaseobjecttype sequence type dbosequence type
mysql createtablebtncreate table
databaseobjecttype proc type dbostored procedure type
databaseobjecttype index type dboindex type
databaseobjecttype database type dbodatabase type
databaseobjecttype table type dbotable type
no permissions guess
non javadoc see net sourceforge squirrel sql client session isession confirmclosewithunsavededits
mainframe new mainframe this
databaseobjecttype trigger type dbotrigger type
databaseobjecttype udt type dboudt type
add begin
removed cut sql
oracle 's 'timestamp with time zone' oracle 's 'timestamp with local time zone'
if value contains it probably has time component
internal class handling key events during editing of both jtextfield and jtextarea since unknown data type not editable either in cell or in popup we should never get here but we have provided appropriate code just in case
tables that have at least one parent table
depends on
close resultset 's statement if it non null this frees open cursors
avoid hit next time
close resultset
leave blank line just to make it look bit nicer
build up datastructure final cache
depends on
tables that have at least one child table
value truncated so do not use in where clause
data longer than limit so we need to do more checking
in sybase default keyword must appear prior to nullnot null
datasetupdateabletablemodelimpl error tablenotfoundcannot edit table because table cannot be found nor table name not unique in db
no triggers guess
thread new thread new memorytimer thread start
typename columnsize decimaldigits radix isnullallowable
finally try to set catalog which appears to be no op in informix driver
from mysql reference alter table tbl name add constraint symbol foreign key id index col name references tbl name index col name on delete restrict cascade set null no action on update restrict cascade set null no action
from mysql reference manual alter ignore table tbl name alter specification alter specification alter specification add constraint symbol unique index key index name index type index col name
in oracle on update actions not supported
just eat exception
classes add cacheentry it next objclass
during assignable checks many classes ca n't be loaded but do n't cause problems either so we just issue info
string just send text to output file
do not use axion 's bigint data type get following exception in my test org axiondb axionexception invalid value column bigint type table bigint column expected numeric data exception numeric value out of range can someone please tell me why axion expects big integers to be limited to precision and scale \? integers should have scale right \? so axion bigint limited to just digits to left of decimal point todo consider filing bug report against axion build maximum precision axion 's numeric type
db needs to reorg table after changing nullabolity
update set select from where string templatestr update desttablename set columnname select columnname from sourcetablename where sourcetablename wherecolumnname desttablename wherecolumnvalue stringtemplate st new stringtemplate templatestr
data must fit into column 's max size
return get getproperty mrj version null
we look backwards
private static final stringmanager stringmgr stringmanagerfactory getstringmanager tablecopycommand class
this will skip blank lines
right
at least one version of postgresql through jdbcodbc bridge returns empty result set list of table types another version of postgresql returns entries of system table which we have already filtered back to one
pointbase does n't follow spec with regard to column of getcolumns should return type constant but instead returns boolean
catalog schema tablename columnname keysequence pkname
path operations
datatypestring limitsizelimit size of strings read during initial table load to max of
deadlock chain circular and does not have defined beginning pid in order to make string representation of deadlock chain unique we put smallest pid at beginning of chain
re calculate fulltablename next time it 's requested
datatypestring allowlongvarcharallow longvarchar type to be used in where clause
session getproperties forcetablecontentsoutputclassnamechange
forced edit mode ended because user changed session properties
row
add session ended listener needs embedded derby db
constructors
collation
encountered comment character at beginning of line so just ignore rest of line
datatypestring newlinesshow newlines as within cells
length
check box whether to do any limiting of data read during initial table load
there can be only one default in truth but model allows more than one
this slash stuff
there can be only one pk in truth but model allows more than one
check box whether to use longvarchar in where clause oracle does not allow that type in where clause
register as listener mouse events
all sheets and cells added now write out workbook
should there me max number of threads \?
attribute accessors
save off selections so that selectionfocus can be restored later
path component accessors
idatatypecomponent interface methods
file operations
filesystem interface
copytablelistener interface methods
how much usable data has been read into stream which will not always be as long as buffer length
this flag used as loop exit condition during parsing
only restoring from xml etc
no
dbnamedialectmap put db db dialect dbnamedialectmap put db db dialect
tell underlying data model to stop forcing edit mode and return to mode specified in session parameters which includes telling gui to rebuild itself
tablemodel tm new defaulttablemodel new string table column private static final long serialversionuid public boolean iscelleditable int rowindex int columnindex return false
yes
string sql a'''' sss go go' string sql nb string sql go go
tabs to add to database node
this column cannot be used in where clause
mssql scriptingoptionstable scripting options
view
defines opening angle of arrow not rad or so but something fancy
msgsplit setdividerlocation msgsplit setresizeweight
mysqlplugin titlemysql
mysqlplugin showviewsourceshow view source
must not quote column names
stored procedures and functions have that dangling version thing
add users to role
removed copy sql
do nothing
trim column name in case of hadb
public boolean iscelleditable int rowindex int columnindex return columnindex
coll add new createtableaction app resources this
final iobjecttreeapi api compat getiobjecttreeapi session this
tab to add to view nodes
columndetailsdialog columnnamelabelcolumn name
restore paths
now drop first
trim table name in case of hadb
tabs to add to user nodes
ibm db specific code to read view definitions
options in popup menu
public sqlexecutioninfo int idx this idx
string check table checktable
generic sql
tabs to add to table nodes
show triggers tables
visible gui main
resources addtomenu coll get createtableaction class mysqlmenu
create panel and add gui items to it
handling of comments
fill in list of column names to check against
this responsible that comments not in curquery
fill in current limit length
checkbox displaying newlines as in cell
empty
skip ahead so cursor now immediately after begin comment string
checkbox using long in where clause
see isqlentrypanel hasownundoablemanager
do believe getsimplename will end in if it 's procedure and if it 's udf
add custom args given as parameter
if directory exists add one to directory number making it new directory name
these arrays parallel
lbltitle setbackground new color lbltitle setname lbltitle lbltitle setopaque true lbltitle settext default values etchedborder etchedborder new etchedborder etchedborder raised null null lbltitle setborder etchedborder jpanel add lbltitle cc xywh
one or other should be absolute on windows or ce
should work unixwindows
visible gui misc
test long file names on windows
drops original column
add end
we assume here that if pseudocolumn used in query then it likely to have caused sqlexception if not length then retrying query wo n't help just throw exception
newindentdepth indentdepth
case session bean grant and revoke return new firebirdmanagergrantpreferencebean
these classes have no package see swingsetthemes jar
call sp help on stored procedure then look at second resultset parameter information
set up array to return public access to cmd line args
private boolean bstopexecution false
assume unix or linux
die braucht nur sql server sql server nicht mehr sagt san
bstopexecution false
tabs triggers
resources addtomenu coll get dropdatabaseaction class mysqlmenu
windows file being set hidden by attrib command
end ok
orderbyclausepanel columnslabelcolumns
mysql copyokok
isession getactivesessions
current alias schema properties dont want cache so we do n't cache
treating sequences as tables interferes with operation of postgresql plugin
some drivers db do n't return sysfun as schema name number of system stored procs kept in this schema
use set rather than list as some combinations of ms sql and jdbcodbc return multiple copies of each table type
treating indexes as tables interferes with operation of postgresql plugin
ctor wraps this exception around another param wrapee exception that this one wrapped around
inserts all keys into new column depending on content in old column
set dir to non existent directory inside temporary directory
test creating tempfile in directory that does not exist
if we blocked by member of deadlock chain but do not belong to deadlock chain ourselves this prevents forever loop
convert data from stringwrappers to strings
testing two files one with suffix tmp and one with null
top
this should throw exception should not allow multiple custom tokenizers to be installed single session
sqlcatalogscombobox nonelabelnone
see if this same statement
pointer to viewer this needed insert and delete operations
jdbc cache cachensw and shdtest
could n't locate table just try to fake it
add entries insert and delete rows only if table updateable and already editable ie allowediting false
read succeeded so reset clobdescriptor to match
plugin supports only session main window
user home squirrel sqlpluginsdbcopy
\? what this used \?
this did n't work final int pos getcaretposition final document doc textarea getstyleddocument final element docelem doc getdefaultrootelement final element lineelem docelem getelement getcaretlinenumber return lineelem getelementindex pos
error protection against using suffix without \?
do n't care if it 's not there
private int lastx
case isa slash state init return sqltokencontext minus
parser did n't get triggered on shift insert we do it here by hand
tests creating tempfile with filename shorter than characters
check identifier
formatting
good converting url to file this way fine when file path contains spaces
test trying to create file in directory that does not exist
this column created in create script abd unused unless testing db
first check aliases
coll add new scriptprocedureaction app resources this usersettingsfolder coll add new refreshrepositoryaction app resources this usersettingsfolder
completioninfos still loading
example postgres returns table names as datatypes in those cases this prevents to have table names twice
cascade constraint clauses
table requestfocus
expect backupfile getabsolutepath andreturn mockbackupframeworkjarfile
mockresultset mockhelper createmock resultset class
valid file uri
alter table tablename drop constraint constraintname
null tests
java types rowid nvarchar nchar longnvarchar nclob sqlxml
local expectations
makes sure that last name always in top of list
invalid file uris not hierarchical not file scheme not absolute non empty authority non empty query non empty fragment
regression test harmony
this function returns resulting process from exec
tests to see if correct prefix used to create tempfiles
remove old name list from map
private databasemetadata mockgenericdialectdbmetadata mockhelper createmock databasemetadata class
handle list of column names
code completion has been done within code completion and relaunch completion popup
cleanup and standardize name and add it to map
extract column names from text area
regression harmony
imessagehandler messagehandler geteasymockmessagehandler
ca n't happen
test create illegal file
only remove frame if entire session not closing
canwrite only returns if file exists so cannot be fully tested
add item to windows menu this window and store menu item back in internal frame
columndetailsdialog tablenamelabeltable name
adds foreign key constraint to source table new column
if we get here then everything worked correctly so tell user that data put into file this different from import strategy because user may not know name of file that used if they selected automatic temp file operation or they may not know what directory file actually put into so this tells them full file path
add new dropselectedtablesaction app
mysql createtablecommcreate table
clear public column values current line
remove function name
new testcompletionfunction
has to be done directly on main frame because of racing condition at start up aliaseslistwindow nowvisible true
needed example on postgresql
private jcheckbox chfields
set list disabled if allfields of table to be copied
helpviewerwindow squirrelsquirrel
two columns to represent primary key in pktest table
mysql suredroppingare you sure \?
views will depend on tables so drop them first
test when long directoryfile names in windows
set boolean value when user selects bw structure and data
defaultlistmodel listmodel defaultlistmodel listfields getmodel
chfields new jcheckbox colnames length
string path downloads
drop index indexname cascade on
just test
codecompletion prefixconfig deleteselrowsdelete selected rows
codecompletion prefs table udfwithoutparamsudf without params
see mousemotionlistener mousedragged mouseevent
codecompletion globalfunctcompltionif there no matching prefix configuration functions should complete like
these not used
column name
dialect list
codecompletion prefixconfig newrowadd new row
this will be our working buffer to hold data chunks read in from data file
this holds all values switches that user allowed to set
map of dbms specific registered data handlers key string of form and value factory that can create instances of dbms specific datatypecomponets
utilundertest
logging mechanism errors
by default it not running
int precision
delete all old temporary files
this should just produce error message
graph zoomzoom
columndetailsdialog columnnametoottip does not support altering column name
length
type list
read
scale
precision
loop over data stream until end of data found or end of record found
default value
check to see if we 've already found end of data
nullable
comment
appending internationalized labels with optional components
use headersholder length here in case headers null
informix when no database given in connect url then no table types returned catalog can be changed which will select database but by that time it too late
create mapping of names if we have supertable info since we need to find itableinfo again re ordering
keep track of last letter because we need it several key decisions
can only happen escape mode backslash
read qualified
return processed header data this column
test data used in few places below
mysql lengtsetlengthset
check to see if we have read header record yet
mysql createaddadd
following gives java sql sqlexception conversion to character stream failed
we encountered column with no data so just send end column
if there duplicate header names we will save last one
do nothing this will trim leading whitespace both text qualified columns and non
if no more data could be found set flag stating that end of data found
hasmoredata to ever be false all data would have had to have been copied to raw buffer
mysql msgtablecreatedtable created
must be called before setting startedcolumn false
holder array needs to grow to be able to hold another column
name of preferences files
create column list
default behavior if no datatype object to use defaultcolumnrenderer with no modification
private dbutils dbutils
default behavior tostring
operations text and in cell work
default if we do not know data type then we cannot re read it
see basedatasetviewerdestination allrowsadded
see idatasetviewer getrowcount
put data into db and on screen jtable if there failure do not make this form go away since user may be able to fix problem by changing data
appending separators
non javadoc see net sourceforge squirrel sql fw sql isqldriver setwebsiteurl java lang string
fa xxx
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getdrivername
we have done everything we can prior to this point to ensure that file accessible but it still possible that existing file removed at bad moment also compiler insists that we put this in try statement
these static instead of final so they can be changed in unit test n't visible outside this class and only accessed once during csvreader construction
asciiansi escape
setpreferredsize new dimension
having these as publicly accessible members will prevent overhead of method call that exists on properties
make sure to clear flag next run of loop
application error loaddatatypepropsunable to load datatype properties selections from persistant storage
importtabledatacommand settingsdialogtitleimport file settings
see basedatasetviewerdestination getrow row
create threads
see basedatasetviewerdestination addrow object
display field attributes when selected in list
has to be done directly on main frame because of racing condition at start up aliaseslistwindow nowvisible false
importdataintotableexecutor wrongformatimported column has not required format nline column
execute java process
show warning dialog and let user confirm it
try it as long in case database driver did n't correctly identify unsigned field
set attributes fields in class fielddetails
mysql btcancelcancel
operations popup work
remove fields added to list
reset checkbox selected index false when fieldname gains focus
importtabledatacommand ioerroroccuredan error occured while reading import file data
default operation
always use to column name since name changes happen first
wait errthread to start
no object so do not assume binary editing will work
first make sure that user 's last input has been included it too easy user to enter data and forget to click on another field to force it to be set
importfiledialog suggestcolumnssuggest columns find matching columns
logger this class private final static ilogger log loggercontroller createlogger altertablecommand class
add packages
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getdatabaseproductversion
make sure deselect followed by select when new selected tab exists
datatypeblob blobtypeblob sql type
set look and feel
preferencespanel borderlabel script settings
importfiledialog headersincludedheaders in first line
initcomponents
importfiledialog datapreviewdata preview
informix does n't allow quoting column names
if user picks auto increment auto fill fixed value column with start value if it currently empty
see mouselistener mousepressed mouseevent
non javadoc see net sourceforge squirrel sql plugins dbcopy dialects hibernatedialect supportsschemasintabledefinition
see mousemotionlistener mousemoved mouseevent
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getusername
non javadoc see net sourceforge squirrel sql plugins dbcopy dialects hibernatedialect getlengthfunction
non javadoc see net sourceforge squirrel sql plugins dbcopy dialects hibernatedialect getcolumnlength int int
non javadoc see net sourceforge squirrel sql plugins dbcopy dialects hibernatedialect getmaxprecision int
make sure entire blob data read in return true if it has been read successfully and false if not
non javadoc see net sourceforge squirrel sql plugins dbcopy dialects hibernatedialect getmaxscale int
there no data type object so this data type unknown to squirrel and thus cannot be edited
if no object this data type then cannot use value in where clause
let datatype object speak itself
if no datatype object then there nothing to handle file io so cannot do it
see mouselistener mousereleased mouseevent
laf otherfonteanbledenabled
see tablecellrenderer gettablecellrenderercomponent jtable object boolean boolean int int
non javadoc see net sourceforge squirrel sql fw sql iquerytokenizer getsqlstatementseparator
rename table to
see tablemodel getcolumnclass int
see tablemodel getcolumnname int
sessionpropertiespanel catalogprefixlimit catalog objects using these comma delimited prefixes
non javadoc see java awt datatransfer transferable gettransferdata java awt datatransfer dataflavor
non javadoc see java awt datatransfer transferable gettransferdataflavors
all windows other than first one opened session add number on end of title to differentiate them in menus etc
importfiledialog columncolumn
remove from toplevel
place popup according to caret position and placement
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getsystemfunctions
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportscatalogsintabledefinitions
not cached non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getcatalogs
make single list of all class names that we need to check start with names of known standard classes that provide control panels
popupeditableiopanel exportsuccessexport success
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportsschemasindatamanipulation
create or replace view as with check option
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportsschemas
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getjdbcversion
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportsstoredprocedures
if user has selected non cannonical binary format we need to convert text appropriately
get control panels to let user adjust properties on datatype classes
re order nodes if tables stored hierachically
colorpropertiescontroller titlecolor properties
now go through list in given order to get panels
importfiledialog fixedvaluefixed value
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getcatalogterm
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata geturl
store all plain table info we have
internal method used both cell and popup work
should never happen
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getcatalogseparator
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getprocedureterm
keep hash table of column objects so we can reuse them
new table clear hash map
see if we have custom data type registered
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata gettypesdataset
add node each object
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getjdbcmetadata
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportscatalogsindatamanipulation
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getnumericfunctions
create test bean to clone
importfiledialog importfilecolumnimport file column
progressbardialog insertingrecordslabelcopying records
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getmetadataset
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getudts java lang string java lang string java lang string int
set up string types
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getdatatypes
set up integers
remember this datatype object so we can reuse it
rowid in oracle it 's string but it 's auto assigned
no need to check column name validity when source and dest of same type of database
only do this if object tree and hence this contents tab visible
set up binary types
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata gettables java lang string java lang string java lang string java lang string net sourceforge squirrel sql fw sql progresscallback
set singleton instance of saver class to be instance just created by xmlbeanreader
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata gettabletypes
sqlresultexecuterpanel closeclose
non javadoc see net sourceforge squirrel sql fw sql isqldriver getwebsiteurl
get where clause using original value
only single dot
schemapropertiescontroller tableheader viewsviews
if all columns in table have empty strings as headings then row height of label row zero we dont want this
specialcolumnmapping auto incrementauto increment
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata gettableprivileges net sourceforge squirrel sql fw sql itableinfo deprecated use gettableprivilegesdataset instead
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata gettimedatefunctions
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getsqlkeywords
laf skinthemepackdirtheme pack directory
oracle dboutputtitleoracle db output
token kind token position in source text starting at token column starting at token line starting at exact string value token string value uppercase if ignorecase
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getprimarykey java lang string java lang string java lang string
non javadoc see net sourceforge squirrel sql client util ioptionpanel applychanges
data type unknown to us it may be unusual type like java object or array or it may be dbms specific type
bottom
helpers
sessionpropertiespanel objecttreeobject tree
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getcolumninfo java lang string java lang string java lang string
laf skinthempacktheme pack
logpanel titleinfolast log entry entry type info
helper code
interface
tablepriviligestab hintshow access rights selected table
no problem in conversion proceed with update datasetviewertablepanel myjtable table setconvertedvalueat newvalue row col
whether or not to read date type columns with rs gettimestamp
original object another object that has same values as original another object with different values
input scanner last recognized token lookahead token
mainframe setvisible true mainframe tofront required on linux
private final aliaswindowfactory aliaswinfactory
or white space must be in front of keyword
wait pending chars to be processed post new characters
logpanel titlewarnlast log entry entry type warning
non javadoc see net sourceforge squirrel sql fw sql metadatadataset get int
resolve largest and preferred placements if possible
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener copystarted net sourceforge squirrel sql plugins dbcopy event copyevent
logpanel logmsglogged by at
ignore that
non javadoc see net sourceforge squirrel sql client preferences iglobalpreferencespanel initialize net sourceforge squirrel sql client iapplication
non javadoc see net sourceforge squirrel sql fw sql itableinfo getimportedkeys
non javadoc see net sourceforge squirrel sql fw sql itableinfo getexportedkeys
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter next
construct name of executable file
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter reset
non javadoc see net sourceforge squirrel sql client util ioptionpanel gethint
non javadoc see javax swing table abstracttablemodel setvalueat java lang object int int
non javadoc see javax swing table tablemodel getcolumncount
non javadoc see net sourceforge squirrel sql client util ioptionpanel gettitle
non javadoc see net sourceforge squirrel sql client util ioptionpanel getpanelcomponent
non javadoc see javax swing table tablemodel getvalueat int int
non javadoc see javax swing table abstracttablemodel iscelleditable int int
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter open
laf jarzipjarzip files
fail \? \?
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener tableanalysisstarted net sourceforge squirrel sql plugins dbcopy event analysisevent
alter table modify mediumint not null auto increment primary key
non javadoc see net sourceforge squirrel sql plugins dataimport importer ifileimporter getdate int
edited column in resultset twice example select myname from mytable we wo n't add this col to where clause
class
check filename preserved correctly
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener copystarted
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener copyfinished int
schemapropertiescontroller cachetodelnotexistscache file alias does not exist no file deleted
schemapropertiescontroller hintschemas loading and caching
aliaspropertiesinternalframe okok
non javadoc see net sourceforge squirrel sql plugins dbcopy event copytablelistener tablecopyfinished net sourceforge squirrel sql plugins dbcopy event tableevent
non javadoc see net sourceforge squirrel sql plugins dbcopy copypreference deletetabledata java lang string
non javadoc see java awt event actionlistener actionperformed java awt event actionevent
register custom datatypecomponent factory db xml
non javadoc see net sourceforge squirrel sql client plugin iplugin getauthor
non javadoc see java util comparator compare java lang object java lang object
int sqlcode sqlca getsqlcode
schema should be identical to statement ignore
non javadoc see net sourceforge squirrel sql client util ioptionpanel gethint
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider setdestselecteddatabaseobject net sourceforge squirrel sql fw sql idatabaseobjectinfo
tableexpander settableindexextractor extractor
non javadoc see java lang runnable run
colorpropertiespanel backgroundcolorlabelbackground color
aliaspropertiesinternalframe closeclose
toolbar
non javadoc see net sourceforge squirrel sql client plugin iplugin getdescriptivename
object tree
status bar
since catalog schema and table all identifiers they all need to be quoted
convert user representation of null into actual null
do different things depending on data type
insert where at front if there anything in clause
get sql session
string msg sqlca getmessage
call class under test
non javadoc see net sourceforge squirrel sql client plugin iplugin getexternalservice
non javadoc see net sourceforge squirrel sql client plugin isessionplugin sessionstarted net sourceforge squirrel sql client session isession
db sqlca sqlca db diagnosable getsqlca
colorpropertiespanel toolbarbackgroundcolorbtnlabelchoose toolbar color
instructions
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider getcopydestsession
toolbar color checkbox
object tree color checkbox
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider getcopysourcesession
set object tree color button
non javadoc see net sourceforge squirrel sql client plugin defaultplugin getcontributors
set toolbar color button
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider getselecteddatabaseobjects
set toolbar color panel
schemapropertiespanel loadandcacheallload all and cache all schemas
common mocks
non javadoc see net sourceforge squirrel sql plugins dbcopy sessioninfoprovider setdestcopysession net sourceforge squirrel sql client session isession
count how many rows this where matches
do delete and add number of rows deleted to count
int sqlstate sqlca getsqlstate
treat it like time no date component
look up table in editwherecols list
names of various methods we need to invoke
treat it like timestamp
set rightleft margin
non javadoc see javax swing table defaulttablemodel getcolumnname int
either resulttabtoreplace or stickytab must be not null here
schemapropertiespanel cacheschemaindependentmetadatacache schema independent meta data catalogs keywords data types global functions
oracle stores time information in java sql types date columns this tells oracle that we only talking about date part
non javadoc see javax swing table defaulttablemodel getvalueat int int
schemapropertiespanel deletecachedelete cache file
set up hash table that contains styles
non javadoc see javax swing table defaulttablemodel getrowcount
we may have more than one statement in sql at this point
map of jar file urls containing lafs keyed by laf class name
private lafpreferences prefs
accessible query
datatypedate typedatedate sql type
load info about any extra lafs supplied by user
user said not to read any of data from clob
user said to read at least some of data from clob
clob exists so try to read data from it based on user 's directions
add name to comma separated string saving in properties
preferencespanel usecustomqtlabeluse custom query tokenizer
we have read in all properties
determine whether we read all there in clob or not
create panel and add gui items to it
see isqlentrypanel addcaretlistener caretlistener
skip blank lines
end while
expected
user said to read at least some of data from blob
laf lookandfeellook and feel
skybluer
used by editing operations to reset field to its original value
original value set in this cell by table
datasetupdateabletablemodelimpl error tabledbmismatchthere may be mismatch between table and db ndo you wish to proceed with deletes anyway \?
cell related methods come next
plugin knows only how to script views and stored procedures on db so if it 's not db session we tell squirrel plugin should not be used
setbounds new rectangle
non javadoc see com mockobjects sql mockdatabasemetadata supportspositionedupdate
oracle ownerowner
yes to all
non javadoc see com mockobjects sql mockdatabasemetadata supportsdatadefinitionanddatamanipulationtransactions
another object with different values
turn off auto refresh when we shutting down
logpanel titleunknownlast log entry entry type unknown
in case superclass modifies them
updatepreferencestab hintsoftware update settings
adding milliseconds to orgtime of file
mockdatabaseobjectinfo
install db jccexceptionformatter iff we 're using jcc driver
sga query
viewer addinternalframelistener lis
since we reading meta data about db we should never see blob if we do contents not interpretable by squirrel so just tell user that it blob and that it has data
non javadoc see net sourceforge squirrel sql client util ioptionpanel getpanelcomponent return panel that will contain prefernces ui return panel containing preferences
folder that stores look and feel jars
expect session getmessagehandler andreturn messagehandler anytimes
non javadoc see net sourceforge squirrel sql client session isqlentrypanel setundomanager javax swing undo undomanager
jscrollpane sp new jscrollpane createdatatypespanel sp setpreferredsize new dimension add sp gbc
sunny day
try to save selection do not dispose of this panel if there problem
try to delete
cache
non javadoc see net sourceforge squirrel sql client session event isqlexecutionlistener statementexecuting java lang string
cycled
do nothing
name of directory to store extra lafs in user
sybase does n't support quotation marks identifiers yet reports as identifier quote string go figure
generalsessionpropertiespanel editabletableeditable table
add right click menu to cell editor
generalsessionpropertiespanel datatype 'general preferences' window under 'data type controls' tab
we return something valid even if there db error
if we could not identify which table to edit just return
whole clob has been previously read in
table
init class under test
no underlying data so cannot be changed
causes npe in jdk contentstxt settext
versioncolumnstab titleversions
driverpropertiescontroller hintdriverproperties
create mocks to be injected
driverpropertiescontroller titledriverproperties
not real database but no driver should match this
creating filter that catches files
cannot edit something that we do not know anything about
non javadoc see net sourceforge squirrel sql fw sql progresscallback currentlyloading java lang string
non javadoc see com mockobjects sql mockdatabasemetadata owninsertsarevisible int
class under test
cancel
laf themepacktheme pack
handle error in conversion of text to object
item seticon null
viewlogssheet error setcareterror positioning caret in log text component
now match columns
hand current text to datatype object datatype object responsible validating that text makes sense this type of object and converting it to proper form output all errors handled as ioexceptions
hand file output stream to datatype object export also handle file io errors here so that datatype objects do not have to
popupeditableiopanel errorwritingfilethere error while writing file nthe error
count of available or free threads
datatypeclob typeclobclob sql type
schematablecboitem schemaid loadandcacheload and cache
do n't use bit boolean as frontbase then reports it as binary type instead of bit
anticipate same issue varbinary as binary and longvarbinary registercolumntype types varbinary bit varying
field size of text to read
add listener to buttons
instance under test
no need to return if completion identical
original object
short pseudocolumn
assuming that columns in table match coldefs bump index to point to next coldef entry
start string use in prepared statment
add variable position each of columns
test case skipping quoting escape in table dropping
replace last with
filemanager confirm filereplace nalready exists do you want to replace it \?
public string getdropindexsql string tablename string indexname boolean cascade databaseobjectqualifier qualifier sqlgenerationpreferences prefs return null
setup values length columns
another object that has same values as original
create panel and add gui items to it
try as alias
non javadoc see net sourceforge squirrel sql fw sql sqldatabasemetadata getexportedkeysinfo net sourceforge squirrel sql fw sql itableinfo
non javadoc see java lang comparable compareto java lang object
memorypanel memsize of mb
non javadoc see net sourceforge squirrel sql fw sql itableinfo setexportedkeys net sourceforge squirrel sql fw sql foreignkeyinfo
non javadoc see com mockobjects sql mockdatabasemetadata othersupdatesarevisible int
non javadoc see com mockobjects sql mockdatabasemetadata iscatalogatstart
non javadoc see com mockobjects sql mockdatabasemetadata supportscatalogsindatamanipulation
coldefs hdgs
non javadoc see net sourceforge squirrel sql fw util imessagehandler showwarningmessage java lang string
non javadoc see com mockobjects sql mockdatabasemetadata nullsaresortedlow
could also be table name
non javadoc see com mockobjects sql mockdatabasemetadata supportsschemasindatamanipulation
non javadoc see com mockobjects sql mockdatabasemetadata allproceduresarecallable
non javadoc see com mockobjects sql mockdatabasemetadata locatorsupdatecopy
non javadoc see com mockobjects sql mockdatabasemetadata gettabletypes
setup one row
non javadoc see com mockobjects sql mockdatabasemetadata insertsaredetected int
non javadoc see com mockobjects sql mockdatabasemetadata doesmaxrowsizeincludeblobs
constructor tests
non javadoc see com mockobjects sql mockdatabasemetadata alltablesareselectable
non javadoc see com mockobjects sql mockdatabasemetadata nullsaresortedatend
paintnumwaitinggc
non javadoc see com mockobjects sql mockdatabasemetadata nullplusnonnullisnull
mocks
non javadoc see com mockobjects sql mockdatabasemetadata othersdeletesarevisible int
non javadoc see com mockobjects sql mockdatabasemetadata supportscoresqlgrammar
non javadoc see com mockobjects sql mockdatabasemetadata storesuppercaseidentifiers
non javadoc see com mockobjects sql mockdatabasemetadata storeslowercaseidentifiers
non javadoc see com mockobjects sql mockdatabasemetadata supportsbatchupdates
es mach nichts wenn es die pid nicht be sie wird dann einfach oben nicht zugeordnet
non javadoc see com mockobjects sql mockdatabasemetadata setupdrivername java lang string
properties set able by user
ctor param msg message describing error
insert succeeded
non javadoc see com mockobjects sql mockdatabasemetadata storesmixedcaseidentifiers
non javadoc see com mockobjects sql mockdatabasemetadata storesmixedcasequotedidentifiers
derby requires that columns be not null before applying unique constraint
windowmanager error bringtofronterror bringing internal frame to front
non javadoc see com mockobjects sql mockdatabasemetadata supportsaltertablewithaddcolumn
core artifacts not displayed
allows editing false ret
non javadoc see com mockobjects sql mockdatabasemetadata supportsansi intermediatesql
non javadoc see com mockobjects sql mockdatabasemetadata supportsaltertablewithdropcolumn
non javadoc see com mockobjects sql mockdatabasemetadata supportsansi entrylevelsql
new querytree
non javadoc see com mockobjects sql mockdatabasemetadata supportscatalogsintabledefinitions
mssql alltablesall tables
non javadoc see com mockobjects sql mockdatabasemetadata supportsconvert int int
jason removed as part of patch void addsessionlistener isessionlistener lis
process each individual query
non javadoc see com mockobjects sql mockdatabasemetadata supportscatalogsinprocedurecalls
some driver do n't correctly support setmaxrows in these cases use setmaxrows only if this select
no decimal digits strongly suggests integer of some type since it 's not real easy to tell what kind of int int int int just make it int bigint
non javadoc see com mockobjects sql mockdatabasemetadata supportscatalogsinprivilegedefinitions
numbers and such
codecompletion spwithparamsstored procedure with parameter info call mysp
non javadoc see com mockobjects sql mockdatabasemetadata supportsconvert
start loading tablecolumn info about current database
driver returns long byte yet it can store gb of data
values how to use timestamps in where clauses
data not editable in popup
override jtable method so that whenever something asks celleditor we save reference to that cell editor our assumption that cell editor only requested when it about to be activated
non javadoc see com mockobjects sql mockdatabasemetadata supportsextendedsqlgrammar
non javadoc see com mockobjects sql mockdatabasemetadata supportsdatamanipulationtransactionsonly
display any warnings generated by sql execution
if there no sqlpanelapi object tree find editor we assume no parser necessary and thus provide dummy impl
non javadoc see com mockobjects sql mockdatabasemetadata supportspositioneddelete
non javadoc see com mockobjects sql mockdatabasemetadata supportslikeescapeclause
mssql allrulesall rules
oracle objectnameobject name
now we have reached output that not result we now have to aks this outputs update count
get values from use list and convert to sorted set
string st create index style two create unique storageoption index indexname on tablename columnname separator
removed close session
oracle objecttypeobject type
define whether or not to use timestamp in internally generated where clauses and if so what format to use
as last resort get length of longest value in specified column
yes yes to all
sessionpropertiespanel limitrowscontentscontents limit rows
loop through source records
use clone here to prevent outside code from setting values on array directly which would throw off index lookup based on header name
do n't fool around with manual commit later
isession activesessions plugin getapplication getsessionmanager getactivesessions
oracle invalidtitleoracle invalid objects
non javadoc see com mockobjects sql mockdatabasemetadata supportsexpressionsinorderby
init mocks
mysql driver gets unhappy when we use same preparedstatement to bind null and non null lob variables without clearing parameters first
oracleexceptionformatter positionlabelposition
sessionpropertiespanel showrowcountshow row count tables can slow application
icommand interface implementation
if source column type other try to use column type name to find type that n't
non javadoc see com mockobjects sql mockdatabasemetadata supportsgroupbyunrelated
check to see if our current holder array column chunks still big enough to handle another column chunk
position of cursor in buffer when current column started or last time data moved out to column buffer
alter column clauses
rename view oldobjectname to newobjectname
alter name clauses
alter default clauses
rename table oldobjectname to newobjectname
sourcedirdoesnotexistsource directory does not exist
not needed
unsigned int problem with import file functionality if we working with signed integer then it should be ok to store in java integer which always signed however if we working with unsigned integer type java does n't have this so use long instead
non javadoc see com mockobjects sql mockdatabasemetadata supportsgroupbybeyondselect
non javadoc see com mockobjects sql mockdatabasemetadata supportsfullouterjoins
nothing to do sql internal frame
paste action object tree types
ca n't paste from session that no longer around
md new memorydiagnostics
helpviewerwindow helphelp
copy action object tree types
row
creating filter that catches tmp files
helpviewerwindow changelogschange logs
filter list of all db objects looking things with given name
helpviewerwindow error loadwelcomefileerror retrieving help file url
clauses
add squirrel licence to licence node
alter type clauses
sequence clauses
strip local part of url
drop column clauses
renderer tree
drop index indexname cascade
add squirrel help to help node
first put welcome to squirrel node
setmodel model
when user pastes on table label which located under schemacatalog build schema databaseobjectinfo
ok that did n't work let 's see if table looks fully qualified if so we 'll split name from schemacatalog and try that
sessionpropertiessheet sessionproperties session properties
calculate average time item
non javadoc see com mockobjects sql mockdatabasemetadata supportsnamedparameters
addtreeexpansionlistener new myexpansionlistener
register so that we can display different tooltips depending which entry in tree mouse over
non javadoc see com mockobjects sql mockdatabasemetadata supportsmixedcasequotedidentifiers
filewrapper mockdownloadsdirectory mockhelper createmock mockdownloadsdirectory filewrapper class expect mockdownloadsdirectory isdirectory andstubreturn true expect mockfilewrapperfactory create mockupdatedirectory updateutil downloads dir name expectlastcall andreturn mockdownloadsdirectory
isession sourcesession sessioninfoprov getcopysourcesession isession destsession sessioninfoprov getcopydestsession
exportdriverschk addactionlistener mediator exportaliaseschk addactionlistener mediator exportprefsbtn addactionlistener new browsebuttonlistener exportprefstext exportdriversbtn addactionlistener new browsebuttonlistener exportdriverstext exportaliasesbtn addactionlistener new browsebuttonlistener exportaliasestext exportprefschk setselected prefs getexportpreferences exportdriverschk setselected prefs getexportdrivers exportaliaseschk setselected prefs getexportaliases includeusernameschk setselected prefs getincludeusernames includepasswordschk setselected prefs getincludepasswords exportprefstext settext prefs getpreferencesfilename exportdriverstext settext prefs getdriversfilename exportaliasestext settext prefs getaliasesfilename
we could make this expectation more restrictive currently however we might have impls that have wildly different queries in future we do n't want to sacrifice flexibility to use this test perceived benefit of mirroring current implementations
final formlayout layout new formlayout dlu dlu grow dlu center pref grow dlu bottom pref final defaultformbuilder builder new defaultformbuilder layout builder setdefaultdialogborder builder setleadingcolumnoffset builder append buildmainpanel session ti builder nextline builder appendseparator builder nextline builder append buildtoolbar return builder getpanel
boolean isselected exportprefschk isselected exportprefstext seteditable isselected exportprefsbtn setenabled isselected isselected exportdriverschk isselected exportdriverstext seteditable isselected exportdriversbtn setenabled isselected isselected exportaliaseschk isselected exportaliasestext seteditable isselected exportaliasesbtn setenabled isselected includeusernameschk setenabled isselected includepasswordschk setenabled isselected
server port database file
data
private javax swing jcombobox cbfieldtype private javax swing jcheckbox chautoincrement private javax swing jcheckbox chbinary private javax swing jcheckbox chnotnull private javax swing jcheckbox chunsigned private javax swing jlabel lbattributes private javax swing jlabel lbdefault private javax swing jlabel lbfieldlength private javax swing jlabel lbfieldname private javax swing jlabel lbfieldtype private javax swing jlabel lbfields private javax swing jtextfield tffielddefault private javax swing jtextfield tffieldlength private javax swing jcombobox cbfieldname private javax swing jbutton buttonupdate private javax swing jbutton buttoncancel private jdialog dlog private fielddetails fd private int selectedindex private dbutils dbutils protected string sqlcommandroot alter table protected string sqlcommand end of variables declaration
non javadoc see com mockobjects sql mockdatabasemetadata supportslimitedouterjoins
ignore bad checksums ignore transaction in limbo
backup metadata only inhibit garbage collection save old style metadata descriptions transportable format backup external files as tables start backup
drop view viewname cascade
setuptabbedpane objecttreetabbedpane it next
db does n't support adding auto increment column once table has already been created so this can simulate one using trigger on table to access sequence found this idea at wikibooks create sequence sequence name create table table name column name int create trigger insert trigger no cascade before insert on table name referencing new as each row set column name nextval sequence name
tell rest of world that table has changed 'fire' method used here very course it says that whole table has been changed when really only one row has been added however finer grained methods did not seem to cause right effect so i'm using this one untill someone reports problem with it also if either of these notifications actual model and sortable model eliminated it either throws exception or does not update gui go figure finally 'fire' on acutalmodel triggered from this method rather than from inside myjtable code because add method used to add row also used when loading table with lots of rows and in that case we do not want to generate events until all of rows have been added so 'fire' cannot happen there
if we get here then no data type object found this column should not get here because switch default returns null
tried to use length from source database postgresql which yielded this test so column def in fb binary column bit varying yet it gave me exception that indicated truncation string data right truncation \? \? \? so now go back to hard coded maximal length registercolumntype types binary bit varying
non javadoc see net sourceforge squirrel sql fw sql idatabaseobjectinfo getsimplename
non javadoc see com mockobjects sql mockdatabasemetadata supportsminimumsqlgrammar
ok maybe catalog really schema instead
editorcommandeditor command
must not qualify new table name
dumpapplicationcommand error deletetempfilecould n't delete temporary dumpsession file
codecompletion beingloadedcode competion infomation still being loaded ntry again later
has to be done here when close all sessions menu used
abstractrefactoringdialog editbuttonlabeledit sql
datasetupdateabletablemodelimpl error updateproblemthere problem reported during update db message nthis may or may not be serious depending on above message nthe data probably not changed in database nyou may need to refresh table to get accurate view of current data
sqlval infothis plugin uses version of sql validator web service developed by mimersql sql statement stored anonymously to be used by iso sql standards committee
postgres pg proc table does n't appear to have schema could n't locate another table to join with to get this info either
progressbardialog error getdialoggetdialog unable to invokeandwait dialog
todo check to be sure that source and destination schemas different abort if they same and inform user
alter view oldtablename rename to newtablename rename oldtablename to newtablename
how many items left
column row
removed tools popup
this brute force detection of blobclob lengths if necessary
private boolean showlinenumbers false
editextras errorquotesqlerror processing quote sql command
non javadoc see com mockobjects sql mockdatabasemetadata supportsmultipleresultsets
non javadoc see com mockobjects sql mockdatabasemetadata supportsmultipleopenresults
hqlpanelcontroller hqltosqlsuccessgenerated sql in milliseconds
add squirrel change log to licence node
this brute force detection of blobclob lengths if necessary
selectfetchsizelabel sethorizontalalignment jlabel left
view clauses
check digit
non javadoc see com mockobjects sql mockdatabasemetadata supportsnonnullablecolumns
non javadoc see com mockobjects sql mockdatabasemetadata supportsouterjoins
do n't try to find it if we have already created it
test npe in dbutil getforeignkeysql when tableinfo returns null getimportedkeys
case should n't be changed in this test because context source database
non javadoc see com mockobjects sql mockdatabasemetadata supportsopenstatementsacrossrollback
non javadoc see com mockobjects sql mockdatabasemetadata supportsopencursorsacrossrollback
generate contents file
add plugin help licence and change log documents to tree
licence document
size non tool child window
help document
faq
change log
final string doctitle string doctitles get
non javadoc see com mockobjects sql mockdatabasemetadata supportsopenstatementsacrosscommit
extcaret highlighting options
must be done in gui thread
probably shutting down
mysql shows databases as catalogs not schemas
no new here method called very often
spring injected dependencies
assert flawed because canwrite does not work asserttrue file not set to readonly canwrite
attempt to write to file that has previously been written to and now set to read only
assert flawed because canwrite does not work asserttrue file not set to readonly canwrite
regression test harmony current directory
convert each string into key hashmap and fill it into data
mqts only ever have one sql statement
timesten allows maximum fetch size of
dbutil info executeupdateexecuteupdate running sql
get ascii stream from rs
corresponding to columns
knowntables just cache to prevent creating new string each time
read rs input stream write to file output stream
non javadoc see javax swing event undoableeditlistener undoableedithappened javax swing event undoableeditevent
using thread this gets rid of most of white flash
sqlpanelapi untitledlabeluntitled
dump drivers
super iscelleditable row column
do nothing this can happen when table does n't exist
sessionpropertiessheet closeclose
dumpapplicationcommand error dumpingaliaseserror dumping aliases
mysql uses catalogs and not schemas
dump meta data
dump driver information
dump session properties
dump general connection info
dump data types
dump schemas
dump catalogs
testdecimalcoltype sourcename destname testdoublecoltype sourcename destname testfloatcoltype sourcename destname
add all panels to tabbed panel
if we failed to bind blob in file try memory
non javadoc see com mockobjects sql mockdatabasemetadata supportssubqueriesincomparisons
load views with catalog doi getcatalog and schema doi getschema
go thru all plugins attached to this session asking panels
sessionpropertiessheet okok
fallback to old method going directly to database instead of using schemainfo since schemainfo did n't have it
usedriverpropschk setselected alias getusedriverproperties driverpropsbtn setenabled usedriverpropschk isselected this mainly long urls that cannot be fully displayed in label
user home squirrel sqlpluginsdbcopyscripts
dbutil info bindclobfilebindclobvarinfile opening temp file
non javadoc see com mockobjects sql mockdatabasemetadata supportsresultsetholdability int
test tourl with file
no invalid columns in this tablemodel implementation
test tourl when file directory
implements actionlistener
make it transparent
see iclientsessionaction setsession isession
roles
tables and views
deletetablescommand loadingprefixanalyzing table
end gwg format check code
dbutil error bindblobfailurebindblobvar failed to bind blob using filesystem attempting to bind blob using memory
get all selected object names and place in comma separated list
non javadoc see com mockobjects sql mockdatabasemetadata supportsresultsettype int
remove trailing
stop refresh if it running
dbutil error unknowntypeunknown java sql column type
ca n't delete records in snapshots oracle materialized views
viewlogssheet error processinglogfileerror occured processing log file
viewlogssheet info nulllogfilenull log file name
position to start of last line in log
column name
dbutil info bindblobmembindblobvarinmemory binding bytes
non javadoc see com mockobjects sql mockdatabasemetadata supportsstatementpooling
dbutil info bindblobfilebindblobvarinfile opening temp file
non javadoc see com mockobjects sql mockdatabasemetadata supportsschemasinprivilegedefinitions
non javadoc see com mockobjects sql mockdatabasemetadata supportssavepoints
non javadoc see com mockobjects sql mockdatabasemetadata supportsschemasinprocedurecalls
close proper tab by clicking button addactionlistener this
we do n't want to update ui this button
paint cross
dbutil info bindcloblengthbindclobvarinfile writing bytes
group all columns by index
non javadoc see com mockobjects sql mockdatabasemetadata supportsunionall
put this into data array
non javadoc see com mockobjects sql mockdatabasemetadata supportssubqueriesinexists
non javadoc see com mockobjects sql mockdatabasemetadata supportsunion
sqlbookmark btnokok
non javadoc see com mockobjects sql mockdatabasemetadata supportstransactionisolationlevel int
non javadoc see com mockobjects sql mockdatabasemetadata supportssubqueriesinquantifieds
gwg format check code follows
non javadoc see com mockobjects sql mockdatabasemetadata supportstablecorrelationnames
if user wants primary key copied and source session n't axion axion throws sqlexception getprimarykeys
data
non javadoc see com mockobjects sql mockdatabasemetadata useslocalfiles
non javadoc see com mockobjects sql mockdatabasemetadata updatesaredetected int
non javadoc see net sourceforge squirrel sql client session mainpanel imainpaneltab gettitle
non javadoc see java lang comparable compareto java lang object
non javadoc see net sourceforge squirrel sql client session mainpanel imainpaneltab gethint
non javadoc see net sourceforge squirrel sql client session mainpanel imainpaneltab getcomponent
note sessioninternalframe and sqlinternalframe should never provide toolspopupaccessor their tools popup ist configured in syntaxplugin class with standard actions from actioncollection
without this split moves when window resized
ihasname
do nothing
user home squirrel sqlplugins
we at last one in list
private boolean currentlinehighlighting true
append new tables to new array starting at end of original
set dialog
handle squirrel sql jar and documentation archive carefully they live at top
treenode interface
explainplanexecuter cardinalitycardinality
explainplanexecuter bytesbytes
syntax abrevnewlinenoteuse in corrections line break note bookmarks more powerful than abreviations
logcontentstxt seteditable false
ignore
only reformat sqlwarning
schemainfo loadingschemasloading schemas
dumpsessionaction successsession successfuly dumped to
schemainfo loadingfunctionsloading functions
process listeners last to first notifying those that interested in this event
jscrollpane jscrollpane new jscrollpane
put map into tables db with table name as key
extra keywords that this dbms supports
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata getstringfunctions
types of columns
editwherecolspanel limitcolsincelllimit columns in cell edit
non javadoc see net sourceforge squirrel sql plugins dbcopy dialects hibernatedialect getmaxfunction
non javadoc see net sourceforge squirrel sql plugins dbcopy dialects hibernatedialect getprecisiondigits int int
replace next question mark with nextval
override common behavior to use drop column style two
explainplanexecuter objectnameobject name
math min caret at end of text
non javadoc see net sourceforge squirrel sql fw sql isqldatabasemetadata supportssavepoints
no go through parse sql and build final sql replacing parameters with values goes
non javadoc see net sourceforge squirrel sql fw datasetviewer idataset get int
result false
listener setshowsqlstatements true
private boolean blockcaretenabled false
sybase ase specific code to read view definitions
explainplanexecuter optionsoptions
tree
true true true true
oracle explainplanexplain plan
whereclausepanel valuelabelvalue
skip artifact if it identical to one that already installed
throws ioexception
oracle seconds seconds
open session
private boolean showendoflinemarkers false
time to wait between checks that event dispatch thread n't hung
if user has said to not use this column then skip it
prelaunchhelperimpl restorefailedmessagerestore from backup failed re installation may be required
\? \?
everything seems to have worked ok
module
sessionmanager global to squirrel if we do n't remove listeners session wo n't get garbeage collected
open connection to webservice
exec sql create view view name column name column name as select stmt with check option
interactive batch
test touri with file name with illegal chars
see isqlentrypanel removecaretlistener caretlistener
ensure that proper type of object selected in object tree before allowing sql filter to be activated
empty body
empty body
edit
select
load tables with catalog doi getcatalog and schema doi getschema
load procedures with catalog null
informixplugin showviewsourceshow view source
attempt to write to file that setreadonly
dbcopyglobalpreferencestab tab new dbcopyglobalpreferencestab return new iglobalpreferencespanel tab
non javadoc see net sourceforge squirrel sql client plugin iplugin getdescriptivename
left
private jtabbedpane tabbedresultspanel
private list availabletabs new arraylist
private arraylist usedtabs new arraylist
datasetupdateabletablemodelimpl error rowmatched row matched rows in db
datasetupdateabletablemodelimpl error rownotmatch row did not match any row in db
oracle sqltextsql text
operation column increased
diffsourcesession null setpastemenuenabled false preferencesmanager unload
uses menu dbdiff in dbdiff properties
interface sessioninfoprovider implementation
whereclausepanel hintwhere clause selected table
connect
do n't care to see tons of debug from coltypemapper
private boolean blinkcaret true
load procedures with schema null
sqlresultexecuterpanel statuslabelstatus
sqlresultexecuterpanel currentsqllabel of
supply user name if you use anonymous you will be logged in and pw will be ignored
aliasinternalframe error sessioncreationtest button has created session this programming error
jdbc firebirdsql host port
testbitcoltype sourcename destname
have we already dumped stack trace current event dispatch \?
column in table but not table
else
datasetupdateabletablemodelimpl info deletecancelleddelete canceled at user request
assume objs schemacatalog
diffexecutor nodiffsmessageno differences detected
public file getdebuglogfile return new file usersettingsdir file separator squirrel sql debug log
tree expandpath new treepath newfolder getpath
setcolumns error conditions
scale page so width fits
sessionscript savesave
helper methods
fileeditordroptargetlistener onefiledropmessageonly one file may be dropped onto editor at time
test touri when file directory
private final class myinternalframelistener extends internalframeadapter
this event does not always hit righr editor \? that 's why we ca n't use sqlentrypanelidentifier
removeviewer htmlviewersheet evt getinternalframe
tb add actions get showloadeddriversonlyaction class
super internalframeclosed evt
alter table add constraint
aliaswindowfactory error copyaliaserror occured copying alias
regression harmony
current version of validator webservice cannot handle anything greater than
create sequence if not exists newsequencename start with long increment by long cache long
write to file
if column text column and there n't single quotes around value put them there
table exists in source db but not dest
clear any previous plan
aliaswindowfactory schemapropscopiedwarningwarning your target alias contains database specific schema properties copied from source alias schema loading of target alias may be errorneous please check your target alias 's schema properties
alter table foo add constraint foocon unique myid
header scrollable part which presents column differences
tabbedresultspanel uifactory getinstance createtabbedpane
add menu
get size of document width in pixels height in pixels height of printer page width of printer page
shift graphic to line up with beginning of print imageable region
shift graphic to line up with beginning of next page to print
make sure not print empty pages
oracle userdetailsdetails
sqlpanel limitrowscheckbox hintlimit rows
these two columns will be only ones in pktest table they will start out being nullable and we will test that dialect correctly converts them to non null then applies pk constraint to them this test shall not be run against any database dialect that claims not to support changing nullability of column
set focus to sql entry panel
string blink caret blinkcaret string block caret enabled blockcaretenabled string bracket highlighting brackethighlighting string bracket highlight color brackethighlightcolor string caret color caretcolor
events
dbstatus `statusonline updateabilityread write useraccessmulti user recoverysimple version collationsql latin general cp ci as sqlsortorder istornpagedetectionenabled isautocreatestatistic'
do n't keep reporting same hang every ms
after this it ca n't be stopped anymore
throw new illegalstateexception wrong constructor
schemastab hintshow all schemas
jdbc spec says that bit refers to boolean column single binary digit with value either or also same spec encourages use of getbooleansetboolean however sql standard clearly states that bit type bit string with length so sql compliant databases like postgresql jdbc spec 's support bit at best broken and unusable still we do what jdbc spec suggests as that all that we can do
string sourceschema null mysql uses catalogs instead of schemas
oracle can only store decimal type numbers since regular non decimal numbers appear as decimal oracle 's decimal numbers can be rather large compared to other databases precision up to other databases can only handle this large precision in bigint fields not decimal so try to figure out if oracle really storing bigint and claiming it decimal if so convert type to bigint before going any further
rows dlu dlu dlu dlu dlu grow dlu dlu dlu dlu grow dlu pref
pid lock examples db shd data user ygwabvbposkorrd db shd data user ygwabvbposkorrd db shd data user ygwabvbposkorrd oder db shd data lov user wlagerartikeld db shd data lov user wlagerartikeld db shd data lov user wvorgangd oder fuer kein lock db shd data user ygwatestd db shd data user ygwatestd db shd data user ygwatestd db shd data user ygwatestd db shd data user ygwatestd db shd data user ygwatestd db shd data user ygwatestd
check to see if string file uri
common mocks
if truncate attempted and not supported then try delete if on other hand delete attempted just throw sqlexception that resulted from delete
final applicationfiles appfiles new applicationfiles exportprefstext settext getfilename here appfiles getuserpreferencesfile getname exportdriverstext settext getfilename here appfiles getdatabasedriversfile getname exportaliasestext settext getfilename here appfiles getdatabasealiasesfile getname
class to test
tables that have lot of columns user may have limited set of columns to use in where clause so see if there table of col names
on unix hidden files marked with at beginning of file name
editwhercolssheet okok
result setautoresizemode javax swing jtable auto resize off
oracle displayuserdetailsdisplay user details
date column seen as timestamp update in editable mode fails we should always return false this when user has n't specified
jscrollpane setcorner jscrollpane upper left corner corner
set url subsequent calls this to allow load balancing to server on other side of world
not required
create filename filter and attach to directory
corner createdefaultcolumnsfrommodel
jscrollpane setrowheaderview rowheader
tableheader adoptallcolwidths true tableheader initcolwidths
system err println extractor getclass getsimplename sql generated by referencedialect getdisplayname works
separators need preferred size in gridbaglayout
corner validate
we playing some games with lexer efficiency we could just create new lexer each time here but instead we will just reset it so that it thinks it starting at beginning of document but reporting funny start colorstartpos reseting lexer causes close method on reader to be called but because close method has no effect on documentreader we can do this
session getsqlpanelapi plugin addtosqlentryareamenu actsql
string sql session getsqlpanelapi plugin getsqlscripttobeexecuted
this constraint that dropped in drop constraint test
first time that catalogs asked return just one
ostermiller sqllexer crashes with arrayindexoutofboundsexception if char greater then so we prevent char from being greater this surely not proper unicode treatment but it does n't seem to do no harm and it keeps sqllexer working
we have to look modelindex because of row number column
this formula can be found in api doc methode relocate of class org netbeans editor syntax see description of last parameter 'stopposition' relocate always called before parsetocken method of this class
get directory
create checkbox enabling auto refresh oracle enableautorefreshenable auto refresh
oracle secons seconds
private static ilogger log loggercontroller createlogger sessionexpander class
private final static ilogger log loggercontroller createlogger altercolumnspanelbuilder class
selectedindex cbfieldname getselectedindex defaultcomboboxmodel combomodel defaultcomboboxmodel cbfieldname getmodel fielddetails fd fielddetails combomodel getelementat selectedindex cbfieldname setselecteditem fd getfieldname cbfieldtype setselecteditem fd getfieldtype tffielddefault settext fd getdefault chautoincrement setselected fd isautoincrement chnotnull setselected fd isnotnull
mysql displaystatus mysql display database status
mysql statusmysql status
mysql displayopentables mysql display open tables
private void closedialog java awt event windowevent evt dlog setvisible false dlog dispose
private final static ilogger log loggercontroller createlogger databasestatustab class
mysqltriggerdetailstab hintdisplay trigger details
private final static ilogger log loggercontroller createlogger processestab class
we got to end of script without finding proc separator just add it as if we had
if both objs null then they matched in previous test so at this point we know that at least one of them or both not null however one of them may still be null and we cannot call equals on null object so make sure that one we call it on not null equals method handles other one being null if it
action performed cancel button private void buttoncancelactionperformed java awt event actionevent evt dlog setvisible false dlog dispose
private object fields
`clustered unique primary key located on primary'
one column object name another column object 's owner
column name type computed length prec scale nullable trimtrailingblanks fixedlennullinsource collation location char no yes no yes latin general ci as totalbilledamnt money no yes na na null
private utility constructor
parameters call
component glue box createglue gridx gridy gridbag setconstraints glue panel add glue
sqlresultexecuterpanel rowsupdated row updated
mmsql catalogerrthe dbname of session 's url set to but session 's current catalog set to nsql server does n't support this in most cases this current issue
constructor above sets this from resources but we 'll override it with name of database file and its size
because of cross catalog problem let 's not invoke this if current catalog n't equal to catalog specified in url